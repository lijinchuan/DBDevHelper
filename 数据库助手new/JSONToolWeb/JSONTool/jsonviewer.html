<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <style type="text/css">
        .jsoneditor input, .jsoneditor input:not([type]), .jsoneditor input[type=search], .jsoneditor input[type=text], .jsoneditor-modal input, .jsoneditor-modal input:not([type]), .jsoneditor-modal input[type=search], .jsoneditor-modal input[type=text] {
            height: auto;
            border: inherit;
            box-shadow: none;
            font-size: inherit;
            box-sizing: inherit;
            padding: inherit;
            font-family: inherit;
            transition: none;
            line-height: inherit
        }

            .jsoneditor input:focus, .jsoneditor input:not([type]):focus, .jsoneditor input[type=search]:focus, .jsoneditor input[type=text]:focus, .jsoneditor-modal input:focus, .jsoneditor-modal input:not([type]):focus, .jsoneditor-modal input[type=search]:focus, .jsoneditor-modal input[type=text]:focus {
                border: inherit;
                box-shadow: inherit
            }

        .jsoneditor textarea, .jsoneditor-modal textarea {
            height: inherit
        }

        .jsoneditor select, .jsoneditor-modal select {
            display: inherit;
            height: inherit
        }

        .jsoneditor label, .jsoneditor-modal label {
            font-size: inherit;
            font-weight: inherit;
            color: inherit
        }

        .jsoneditor table, .jsoneditor-modal table {
            border-collapse: collapse;
            width: auto
        }

        .jsoneditor td, .jsoneditor th, .jsoneditor-modal td, .jsoneditor-modal th {
            padding: 0;
            display: table-cell;
            text-align: left;
            vertical-align: inherit;
            border-radius: inherit
        }

        .jsoneditor .autocomplete.dropdown {
            position: absolute;
            background: #fff;
            box-shadow: 2px 2px 12px rgba(128,128,128,.3);
            border: 1px solid #d3d3d3;
            overflow-x: hidden;
            overflow-y: auto;
            cursor: default;
            margin: 0;
            padding: 5px;
            text-align: left;
            outline: 0;
            font-family: "dejavu sans mono","droid sans mono",consolas,monaco,"lucida console","courier new",courier,monospace,sans-serif;
            font-size: 10pt
        }

            .jsoneditor .autocomplete.dropdown .item {
                color: #333
            }

                .jsoneditor .autocomplete.dropdown .item.hover {
                    background-color: #ddd
                }

        .jsoneditor .autocomplete.hint {
            color: #aaa;
            top: 4px;
            left: 4px
        }

        .jsoneditor-contextmenu-root {
            position: relative;
            width: 0;
            height: 0
        }

        .jsoneditor-contextmenu {
            position: absolute;
            box-sizing: content-box;
            z-index: 1
        }

            .jsoneditor-contextmenu .jsoneditor-menu {
                position: relative;
                left: 0;
                top: 0;
                width: 128px;
                height: auto;
                background: #fff;
                border: 1px solid #d3d3d3;
                box-shadow: 2px 2px 12px rgba(128,128,128,.3);
                list-style: none;
                margin: 0;
                padding: 0
            }

                .jsoneditor-contextmenu .jsoneditor-menu button {
                    position: relative;
                    padding: 0 4px 0 0;
                    margin: 0;
                    width: 128px;
                    height: auto;
                    border: none;
                    cursor: pointer;
                    color: #4d4d4d;
                    background: 0 0;
                    font-size: 10pt;
                    font-family: arial,sans-serif;
                    box-sizing: border-box;
                    text-align: left
                }

                    .jsoneditor-contextmenu .jsoneditor-menu button::-moz-focus-inner {
                        padding: 0;
                        border: 0
                    }

                    .jsoneditor-contextmenu .jsoneditor-menu button.jsoneditor-default {
                        width: 96px
                    }

                    .jsoneditor-contextmenu .jsoneditor-menu button.jsoneditor-expand {
                        float: right;
                        width: 32px;
                        height: 24px;
                        border-left: 1px solid #e5e5e5
                    }

                .jsoneditor-contextmenu .jsoneditor-menu li {
                    overflow: hidden
                }

                    .jsoneditor-contextmenu .jsoneditor-menu li ul {
                        display: none;
                        position: relative;
                        left: -10px;
                        top: 0;
                        border: none;
                        box-shadow: inset 0 0 10px rgba(128,128,128,.5);
                        padding: 0 10px;
                        -webkit-transition: all .3s ease-out;
                        -moz-transition: all .3s ease-out;
                        -o-transition: all .3s ease-out;
                        transition: all .3s ease-out
                    }

                        .jsoneditor-contextmenu .jsoneditor-menu li ul .jsoneditor-icon {
                            margin-left: 24px
                        }

                        .jsoneditor-contextmenu .jsoneditor-menu li ul li button {
                            padding-left: 24px;
                            animation: all ease-in-out 1s
                        }

                    .jsoneditor-contextmenu .jsoneditor-menu li button .jsoneditor-expand {
                        position: absolute;
                        top: 0;
                        right: 0;
                        width: 24px;
                        height: 24px;
                        padding: 0;
                        margin: 0 4px 0 0;
                        background: url(btn.svg) 0 -72px
                    }

            .jsoneditor-contextmenu .jsoneditor-icon {
                position: absolute;
                top: 0;
                left: 0;
                width: 24px;
                height: 24px;
                border: none;
                padding: 0;
                margin: 0;
                background-image: url(btn.svg)
            }

            .jsoneditor-contextmenu .jsoneditor-text {
                padding: 4px 0 4px 24px;
                word-wrap: break-word
            }

                .jsoneditor-contextmenu .jsoneditor-text.jsoneditor-right-margin {
                    padding-right: 24px
                }

            .jsoneditor-contextmenu .jsoneditor-separator {
                height: 0;
                border-top: 1px solid #e5e5e5;
                padding-top: 5px;
                margin-top: 5px
            }

            .jsoneditor-contextmenu button.jsoneditor-remove .jsoneditor-icon {
                background-position: -24px 0
            }

            .jsoneditor-contextmenu button.jsoneditor-append .jsoneditor-icon {
                background-position: 0 0
            }

            .jsoneditor-contextmenu button.jsoneditor-insert .jsoneditor-icon {
                background-position: 0 0
            }

            .jsoneditor-contextmenu button.jsoneditor-duplicate .jsoneditor-icon {
                background-position: -48px 0
            }

            .jsoneditor-contextmenu button.jsoneditor-sort-asc .jsoneditor-icon {
                background-position: -168px 0
            }

            .jsoneditor-contextmenu button.jsoneditor-sort-desc .jsoneditor-icon {
                background-position: -192px 0
            }

            .jsoneditor-contextmenu button.jsoneditor-transform .jsoneditor-icon {
                background-position: -216px 0
            }

            .jsoneditor-contextmenu button.jsoneditor-extract .jsoneditor-icon {
                background-position: 0 -24px
            }

            .jsoneditor-contextmenu button.jsoneditor-type-string .jsoneditor-icon {
                background-position: -144px 0
            }

            .jsoneditor-contextmenu button.jsoneditor-type-auto .jsoneditor-icon {
                background-position: -120px 0
            }

            .jsoneditor-contextmenu button.jsoneditor-type-object .jsoneditor-icon {
                background-position: -72px 0
            }

            .jsoneditor-contextmenu button.jsoneditor-type-array .jsoneditor-icon {
                background-position: -96px 0
            }

            .jsoneditor-contextmenu button.jsoneditor-type-modes .jsoneditor-icon {
                background-image: none;
                width: 6px
            }

            .jsoneditor-contextmenu li, .jsoneditor-contextmenu ul {
                box-sizing: content-box;
                position: relative
            }

            .jsoneditor-contextmenu .jsoneditor-menu button:focus, .jsoneditor-contextmenu .jsoneditor-menu button:hover {
                color: #1a1a1a;
                background-color: #f5f5f5;
                outline: 0
            }

            .jsoneditor-contextmenu .jsoneditor-menu li button.jsoneditor-selected, .jsoneditor-contextmenu .jsoneditor-menu li button.jsoneditor-selected:focus, .jsoneditor-contextmenu .jsoneditor-menu li button.jsoneditor-selected:hover {
                color: #fff;
                background-color: #ee422e
            }

            .jsoneditor-contextmenu .jsoneditor-menu li ul li button:focus, .jsoneditor-contextmenu .jsoneditor-menu li ul li button:hover {
                background-color: #f5f5f5
            }

        .jsoneditor-modal {
            max-width: 95%;
            border-radius: 2px !important;
            padding: 45px 15px 15px 15px !important;
            box-shadow: 2px 2px 12px rgba(128,128,128,.3);
            color: #4d4d4d;
            line-height: 1.3em
        }

            .jsoneditor-modal.jsoneditor-modal-transform {
                width: 600px !important
            }

            .jsoneditor-modal .pico-modal-header {
                position: absolute;
                box-sizing: border-box;
                top: 0;
                left: 0;
                width: 100%;
                padding: 0 10px;
                height: 30px;
                line-height: 30px;
                font-family: arial,sans-serif;
                font-size: 11pt;
                background: #3883fa;
                color: #fff
            }

            .jsoneditor-modal table {
                width: 100%
            }

                .jsoneditor-modal table td {
                    padding: 3px 0
                }

                    .jsoneditor-modal table td.jsoneditor-modal-input {
                        text-align: right;
                        padding-right: 0;
                        white-space: nowrap
                    }

                    .jsoneditor-modal table td.jsoneditor-modal-actions {
                        padding-top: 15px
                    }

                .jsoneditor-modal table th {
                    vertical-align: middle
                }

            .jsoneditor-modal p:first-child {
                margin-top: 0
            }

            .jsoneditor-modal a {
                color: #3883fa
            }

            .jsoneditor-modal .jsoneditor-jmespath-block {
                margin-bottom: 10px
            }

            .jsoneditor-modal .pico-close {
                background: 0 0 !important;
                font-size: 24px !important;
                top: 7px !important;
                right: 7px !important;
                color: #fff
            }

            .jsoneditor-modal input {
                padding: 4px
            }

                .jsoneditor-modal input[type=text] {
                    cursor: inherit
                }

                .jsoneditor-modal input[disabled] {
                    background: #d3d3d3;
                    color: grey
                }

            .jsoneditor-modal .jsoneditor-select-wrapper {
                position: relative;
                display: inline-block
            }

                .jsoneditor-modal .jsoneditor-select-wrapper:after {
                    content: "";
                    width: 0;
                    height: 0;
                    border-left: 5px solid transparent;
                    border-right: 5px solid transparent;
                    border-top: 6px solid #666;
                    position: absolute;
                    right: 8px;
                    top: 14px;
                    pointer-events: none
                }

            .jsoneditor-modal select {
                padding: 3px 24px 3px 10px;
                min-width: 180px;
                max-width: 350px;
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                text-indent: 0;
                text-overflow: "";
                font-size: 10pt;
                line-height: 1.5em
            }

                .jsoneditor-modal select::-ms-expand {
                    display: none
                }

            .jsoneditor-modal .jsoneditor-button-group input {
                padding: 4px 10px;
                margin: 0;
                border-radius: 0;
                border-left-style: none
            }

                .jsoneditor-modal .jsoneditor-button-group input.jsoneditor-button-first {
                    border-top-left-radius: 3px;
                    border-bottom-left-radius: 3px;
                    border-left-style: solid
                }

                .jsoneditor-modal .jsoneditor-button-group input.jsoneditor-button-last {
                    border-top-right-radius: 3px;
                    border-bottom-right-radius: 3px
                }

            .jsoneditor-modal .jsoneditor-transform-preview {
                background: #f5f5f5;
                height: 200px
            }

                .jsoneditor-modal .jsoneditor-transform-preview.jsoneditor-error {
                    color: #ee422e
                }

            .jsoneditor-modal .jsoneditor-jmespath-wizard {
                line-height: 1.2em;
                width: 100%;
                padding: 0;
                border-radius: 3px
            }

            .jsoneditor-modal .jsoneditor-jmespath-label {
                font-weight: 700;
                color: #1e90ff;
                margin-top: 20px;
                margin-bottom: 5px
            }

            .jsoneditor-modal .jsoneditor-jmespath-wizard-table {
                width: 100%;
                border-collapse: collapse
            }

            .jsoneditor-modal .jsoneditor-jmespath-wizard-label {
                font-style: italic;
                margin: 4px 0 2px 0
            }

            .jsoneditor-modal .jsoneditor-inline {
                position: relative;
                display: inline-block;
                width: 100%;
                padding-top: 2px;
                padding-bottom: 2px
            }

                .jsoneditor-modal .jsoneditor-inline:not(:last-child) {
                    padding-right: 2px
                }

            .jsoneditor-modal .jsoneditor-jmespath-filter {
                display: flex;
                flex-wrap: wrap
            }

            .jsoneditor-modal .jsoneditor-jmespath-filter-field {
                width: 180px
            }

            .jsoneditor-modal .jsoneditor-jmespath-filter-relation {
                width: 100px
            }

            .jsoneditor-modal .jsoneditor-jmespath-filter-value {
                min-width: 180px;
                flex: 1
            }

            .jsoneditor-modal .jsoneditor-jmespath-sort-field {
                width: 170px
            }

            .jsoneditor-modal .jsoneditor-jmespath-sort-order {
                width: 150px
            }

            .jsoneditor-modal .jsoneditor-jmespath-select-fields {
                width: 100%
            }

            .jsoneditor-modal .selectr-selected {
                border-color: #d3d3d3;
                padding: 4px 28px 4px 8px
            }

                .jsoneditor-modal .selectr-selected .selectr-tag {
                    background-color: #3883fa;
                    border-radius: 5px
                }

            .jsoneditor-modal table td, .jsoneditor-modal table th {
                text-align: left;
                vertical-align: middle;
                font-weight: 400;
                color: #4d4d4d;
                border-spacing: 0;
                border-collapse: collapse
            }

            .jsoneditor-modal #query, .jsoneditor-modal input, .jsoneditor-modal input[type=text], .jsoneditor-modal input[type=text]:focus, .jsoneditor-modal select, .jsoneditor-modal textarea {
                background: #fff;
                border: 1px solid #d3d3d3;
                color: #4d4d4d;
                border-radius: 3px;
                padding: 4px
            }

                .jsoneditor-modal, .jsoneditor-modal #query, .jsoneditor-modal input, .jsoneditor-modal input[type=text], .jsoneditor-modal option, .jsoneditor-modal select, .jsoneditor-modal table td, .jsoneditor-modal table th, .jsoneditor-modal textarea {
                    font-size: 10.5pt;
                    font-family: arial,sans-serif
                }

                    .jsoneditor-modal #query, .jsoneditor-modal .jsoneditor-transform-preview {
                        font-family: "dejavu sans mono","droid sans mono",consolas,monaco,"lucida console","courier new",courier,monospace,sans-serif;
                        font-size: 10pt;
                        width: 100%;
                        box-sizing: border-box
                    }

                    .jsoneditor-modal input[type=button], .jsoneditor-modal input[type=submit] {
                        background: #f5f5f5;
                        padding: 4px 20px
                    }

                    .jsoneditor-modal input, .jsoneditor-modal select {
                        cursor: pointer
                    }

                    .jsoneditor-modal .jsoneditor-button-group.jsoneditor-button-group-value-asc input.jsoneditor-button-asc, .jsoneditor-modal .jsoneditor-button-group.jsoneditor-button-group-value-desc input.jsoneditor-button-desc {
                        background: #3883fa;
                        border-color: #3883fa;
                        color: #fff
                    }

        .jsoneditor {
            color: #1a1a1a;
            border: thin solid #3883fa;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            width: 100%;
            height: 100%;
            position: relative;
            padding: 0;
            line-height: 100%
        }

        div.jsoneditor-default, div.jsoneditor-field, div.jsoneditor-readonly, div.jsoneditor-value {
            border: 1px solid transparent;
            min-height: 16px;
            min-width: 32px;
            padding: 2px;
            margin: 1px;
            word-wrap: break-word;
            float: left
        }

            div.jsoneditor-field p, div.jsoneditor-value p {
                margin: 0
            }

        div.jsoneditor-value {
            word-break: break-word
        }

            div.jsoneditor-value.jsoneditor-empty::after {
                content: "value"
            }

            div.jsoneditor-value.jsoneditor-string {
                color: #006000
            }

            div.jsoneditor-value.jsoneditor-number {
                color: #ee422e
            }

            div.jsoneditor-value.jsoneditor-boolean {
                color: #ff8c00
            }

            div.jsoneditor-value.jsoneditor-null {
                color: #004ed0
            }

            div.jsoneditor-value.jsoneditor-invalid {
                color: #000
            }

        div.jsoneditor-readonly {
            min-width: 16px;
            color: grey
        }

        div.jsoneditor-empty {
            border-color: #d3d3d3;
            border-style: dashed;
            border-radius: 2px
        }

        div.jsoneditor-field.jsoneditor-empty::after {
            content: "field"
        }

        div.jsoneditor td {
            vertical-align: top
        }

            div.jsoneditor td.jsoneditor-separator {
                padding: 3px 0;
                vertical-align: top;
                color: grey
            }

            div.jsoneditor td.jsoneditor-tree {
                vertical-align: top
            }

        div.jsoneditor.busy pre.jsoneditor-preview {
            background: #f5f5f5;
            color: grey
        }

        div.jsoneditor.busy div.jsoneditor-busy {
            display: inherit
        }

        div.jsoneditor code.jsoneditor-preview {
            background: 0 0
        }

        div.jsoneditor.jsoneditor-mode-preview pre.jsoneditor-preview {
            width: 100%;
            height: 100%;
            box-sizing: border-box;
            overflow: auto;
            padding: 2px;
            margin: 0;
            white-space: pre-wrap;
            word-break: break-all
        }

        div.jsoneditor-default {
            color: grey;
            padding-left: 10px
        }

        div.jsoneditor-tree {
            width: 100%;
            height: 100%;
            position: relative;
            overflow: auto
        }

            div.jsoneditor-tree button.jsoneditor-button {
                width: 24px;
                height: 24px;
                padding: 0;
                margin: 0;
                border: none;
                cursor: pointer;
                background: transparent url(btn.svg)
            }

                div.jsoneditor-tree button.jsoneditor-button:focus {
                    background-color: #f5f5f5;
                    outline: #e5e5e5 solid 1px
                }

            div.jsoneditor-tree button.jsoneditor-collapsed {
                background-position: 0 -48px
            }

            div.jsoneditor-tree button.jsoneditor-expanded {
                background-position: 0 -72px
            }

            div.jsoneditor-tree button.jsoneditor-contextmenu-button {
                background-position: -48px -72px
            }

            div.jsoneditor-tree button.jsoneditor-invisible {
                visibility: hidden;
                background: 0 0
            }

            div.jsoneditor-tree button.jsoneditor-dragarea {
                background: url(btn.svg) -72px -72px;
                cursor: move
            }

            div.jsoneditor-tree :focus {
                outline: 0
            }

            div.jsoneditor-tree div.jsoneditor-show-more {
                display: inline-block;
                padding: 3px 4px;
                margin: 2px 0;
                background-color: #e5e5e5;
                border-radius: 3px;
                color: grey;
                font-family: arial,sans-serif;
                font-size: 10pt
            }

                div.jsoneditor-tree div.jsoneditor-show-more a {
                    display: inline-block;
                    color: grey
                }

            div.jsoneditor-tree div.jsoneditor-color {
                display: inline-block;
                width: 12px;
                height: 12px;
                margin: 4px;
                border: 1px solid grey;
                cursor: pointer
            }

            div.jsoneditor-tree div.jsoneditor-date {
                background: #a1a1a1;
                color: #fff;
                font-family: arial,sans-serif;
                border-radius: 3px;
                display: inline-block;
                padding: 3px;
                margin: 0 3px
            }

            div.jsoneditor-tree table.jsoneditor-tree {
                border-collapse: collapse;
                border-spacing: 0;
                width: 100%
            }

            div.jsoneditor-tree .jsoneditor-button.jsoneditor-schema-error {
                width: 24px;
                height: 24px;
                padding: 0;
                margin: 0 4px 0 0;
                background: url(btn.svg) -168px -48px
            }

        div.jsoneditor-outer {
            position: static;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

            div.jsoneditor-outer.has-nav-bar {
                margin-top: -26px;
                padding-top: 26px
            }

                div.jsoneditor-outer.has-nav-bar.has-main-menu-bar {
                    margin-top: -61px;
                    padding-top: 61px
                }

            div.jsoneditor-outer.has-status-bar {
                margin-bottom: -26px;
                padding-bottom: 26px
            }

            div.jsoneditor-outer.has-main-menu-bar {
                margin-top: -35px;
                padding-top: 35px
            }

        div.jsoneditor-busy {
            position: absolute;
            top: 15%;
            left: 0;
            box-sizing: border-box;
            width: 100%;
            text-align: center;
            display: none
        }

            div.jsoneditor-busy span {
                background-color: #ffffab;
                border: 1px solid #fe0;
                border-radius: 3px;
                padding: 5px 15px;
                box-shadow: 0 0 5px rgba(0,0,0,.4)
            }

        div.jsoneditor-field.jsoneditor-empty::after, div.jsoneditor-value.jsoneditor-empty::after {
            pointer-events: none;
            color: #d3d3d3;
            font-size: 8pt
        }

        a.jsoneditor-value.jsoneditor-url, div.jsoneditor-value.jsoneditor-url {
            color: #006000;
            text-decoration: underline
        }

        a.jsoneditor-value.jsoneditor-url {
            display: inline-block;
            padding: 2px;
            margin: 2px
        }

            a.jsoneditor-value.jsoneditor-url:focus, a.jsoneditor-value.jsoneditor-url:hover {
                color: #ee422e
            }

        div.jsoneditor-field.jsoneditor-highlight, div.jsoneditor-field[contenteditable=true]:focus, div.jsoneditor-field[contenteditable=true]:hover, div.jsoneditor-value.jsoneditor-highlight, div.jsoneditor-value[contenteditable=true]:focus, div.jsoneditor-value[contenteditable=true]:hover {
            background-color: #ffffab;
            border: 1px solid #fe0;
            border-radius: 2px
        }

        div.jsoneditor-field.jsoneditor-highlight-active, div.jsoneditor-field.jsoneditor-highlight-active:focus, div.jsoneditor-field.jsoneditor-highlight-active:hover, div.jsoneditor-value.jsoneditor-highlight-active, div.jsoneditor-value.jsoneditor-highlight-active:focus, div.jsoneditor-value.jsoneditor-highlight-active:hover {
            background-color: #fe0;
            border: 1px solid #ffc700;
            border-radius: 2px
        }

        div.jsoneditor-value.jsoneditor-array, div.jsoneditor-value.jsoneditor-object {
            min-width: 16px
        }

        div.jsoneditor-tree button.jsoneditor-contextmenu-button.jsoneditor-selected, div.jsoneditor-tree button.jsoneditor-contextmenu-button:focus, div.jsoneditor-tree button.jsoneditor-contextmenu-button:hover, tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-contextmenu-button {
            background-position: -48px -48px
        }

        div.jsoneditor-tree div.jsoneditor-show-more a:focus, div.jsoneditor-tree div.jsoneditor-show-more a:hover {
            color: #ee422e
        }

        .ace-jsoneditor, textarea.jsoneditor-text {
            min-height: 150px
        }

            .ace-jsoneditor *, textarea.jsoneditor-text * {
                font-family: "dejavu sans mono","droid sans mono",consolas,monaco,"lucida console","courier new",courier,monospace,sans-serif
            }

        textarea.jsoneditor-text {
            width: 100%;
            height: 100%;
            margin: 0;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            outline-width: 0;
            border: none;
            background-color: #fff;
            resize: none
        }

        tr.jsoneditor-highlight, tr.jsoneditor-selected {
            background-color: #d3d3d3
        }

            tr.jsoneditor-selected button.jsoneditor-contextmenu-button, tr.jsoneditor-selected button.jsoneditor-dragarea {
                visibility: hidden
            }

            tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-contextmenu-button, tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-dragarea {
                visibility: visible
            }

            div.jsoneditor-tree button.jsoneditor-dragarea:focus, div.jsoneditor-tree button.jsoneditor-dragarea:hover, tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-dragarea {
                background-position: -72px -48px
            }

        div.jsoneditor td, div.jsoneditor th, div.jsoneditor tr {
            padding: 0;
            margin: 0
        }

        .jsoneditor-popover, .jsoneditor-schema-error, div.jsoneditor td, div.jsoneditor textarea, div.jsoneditor th, div.jsoneditor-field, div.jsoneditor-value, pre.jsoneditor-preview {
            font-family: "dejavu sans mono","droid sans mono",consolas,monaco,"lucida console","courier new",courier,monospace,sans-serif;
            font-size: 10pt;
            color: #1a1a1a
        }

        .jsoneditor-schema-error {
            cursor: default;
            display: inline-block;
            height: 24px;
            line-height: 24px;
            position: relative;
            text-align: center;
            width: 24px
        }

        .jsoneditor-popover {
            background-color: #4c4c4c;
            border-radius: 3px;
            box-shadow: 0 0 5px rgba(0,0,0,.4);
            color: #fff;
            padding: 7px 10px;
            position: absolute;
            cursor: auto;
            width: 200px
        }

            .jsoneditor-popover.jsoneditor-above {
                bottom: 32px;
                left: -98px
            }

                .jsoneditor-popover.jsoneditor-above:before {
                    border-top: 7px solid #4c4c4c;
                    bottom: -7px
                }

            .jsoneditor-popover.jsoneditor-below {
                top: 32px;
                left: -98px
            }

                .jsoneditor-popover.jsoneditor-below:before {
                    border-bottom: 7px solid #4c4c4c;
                    top: -7px
                }

            .jsoneditor-popover.jsoneditor-left {
                top: -7px;
                right: 32px
            }

                .jsoneditor-popover.jsoneditor-left:before {
                    border-left: 7px solid #4c4c4c;
                    border-top: 7px solid transparent;
                    border-bottom: 7px solid transparent;
                    content: "";
                    top: 19px;
                    right: -14px;
                    left: inherit;
                    margin-left: inherit;
                    margin-top: -7px;
                    position: absolute
                }

            .jsoneditor-popover.jsoneditor-right {
                top: -7px;
                left: 32px
            }

                .jsoneditor-popover.jsoneditor-right:before {
                    border-right: 7px solid #4c4c4c;
                    border-top: 7px solid transparent;
                    border-bottom: 7px solid transparent;
                    content: "";
                    top: 19px;
                    left: -14px;
                    margin-left: inherit;
                    margin-top: -7px;
                    position: absolute
                }

            .jsoneditor-popover:before {
                border-right: 7px solid transparent;
                border-left: 7px solid transparent;
                content: "";
                display: block;
                left: 50%;
                margin-left: -7px;
                position: absolute
            }

        .jsoneditor-text-errors tr.jump-to-line:hover {
            text-decoration: underline;
            cursor: pointer
        }

        .jsoneditor-schema-error:focus .jsoneditor-popover, .jsoneditor-schema-error:hover .jsoneditor-popover {
            display: block;
            animation: fade-in .3s linear 1,move-up .3s linear 1
        }

        @keyframes fade-in {
            from {
                opacity: 0
            }

            to {
                opacity: 1
            }
        }

        .jsoneditor .jsoneditor-validation-errors-container {
            max-height: 130px;
            overflow-y: auto
        }

        .jsoneditor .jsoneditor-validation-errors {
            width: 100%;
            overflow: hidden
        }

        .jsoneditor .jsoneditor-additional-errors {
            position: absolute;
            margin: auto;
            bottom: 31px;
            left: calc(50% - 92px);
            color: grey;
            background-color: #ebebeb;
            padding: 7px 15px;
            border-radius: 8px
        }

            .jsoneditor .jsoneditor-additional-errors.visible {
                visibility: visible;
                opacity: 1;
                transition: opacity 2s linear
            }

            .jsoneditor .jsoneditor-additional-errors.hidden {
                visibility: hidden;
                opacity: 0;
                transition: visibility 0s 2s,opacity 2s linear
            }

        .jsoneditor .jsoneditor-text-errors {
            width: 100%;
            border-collapse: collapse;
            border-top: 1px solid #ffc700
        }

            .jsoneditor .jsoneditor-text-errors td {
                padding: 3px 6px;
                vertical-align: middle
            }

                .jsoneditor .jsoneditor-text-errors td pre {
                    margin: 0;
                    white-space: normal
                }

            .jsoneditor .jsoneditor-text-errors tr {
                background-color: #ffffab
            }

                .jsoneditor .jsoneditor-text-errors tr.parse-error {
                    background-color: #ee2e2e70
                }

        .jsoneditor-text-errors .jsoneditor-schema-error {
            border: none;
            width: 24px;
            height: 24px;
            padding: 0;
            margin: 0 4px 0 0;
            cursor: pointer
        }

        .jsoneditor-text-errors tr .jsoneditor-schema-error {
            background: url(btn.svg) -168px -48px
        }

        .jsoneditor-text-errors tr.parse-error .jsoneditor-schema-error {
            background: url(btn.svg) -25px 0
        }

        .jsoneditor-anchor {
            cursor: pointer
        }

            .jsoneditor-anchor .picker_wrapper.popup.popup_bottom {
                top: 28px;
                left: -10px
            }

        .fadein {
            -webkit-animation: fadein .3s;
            animation: fadein .3s;
            -moz-animation: fadein .3s;
            -o-animation: fadein .3s
        }

        @keyframes fadein {
            0% {
                opacity: 0
            }

            100% {
                opacity: 1
            }
        }

        .jsoneditor-modal input[type=search].selectr-input {
            border: 1px solid #d3d3d3;
            width: calc(100% - 4px);
            margin: 2px;
            padding: 4px;
            box-sizing: border-box
        }

        .jsoneditor-modal button.selectr-input-clear {
            right: 8px
        }

        .jsoneditor-menu {
            width: 100%;
            height: 35px;
            padding: 2px;
            margin: 0;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            color: #fff;
            background-color: #3883fa;
            border-bottom: 1px solid #3883fa
        }

            .jsoneditor-menu > .jsoneditor-modes > button, .jsoneditor-menu > button {
                width: 26px;
                height: 26px;
                margin: 2px;
                padding: 0;
                border-radius: 2px;
                border: 1px solid transparent;
                background: transparent url(btn.svg);
                color: #fff;
                opacity: .8;
                font-family: arial,sans-serif;
                font-size: 10pt;
                float: left
            }

                .jsoneditor-menu > .jsoneditor-modes > button:hover, .jsoneditor-menu > button:hover {
                    background-color: rgba(255,255,255,.2);
                    border: 1px solid rgba(255,255,255,.4)
                }

                .jsoneditor-menu > .jsoneditor-modes > button:active, .jsoneditor-menu > .jsoneditor-modes > button:focus, .jsoneditor-menu > button:active, .jsoneditor-menu > button:focus {
                    background-color: rgba(255,255,255,.3)
                }

                .jsoneditor-menu > .jsoneditor-modes > button:disabled, .jsoneditor-menu > button:disabled {
                    opacity: .5;
                    background-color: transparent;
                    border: none
                }

                .jsoneditor-menu > button.jsoneditor-collapse-all {
                    background-position: 0 -96px
                }

                .jsoneditor-menu > button.jsoneditor-expand-all {
                    background-position: 0 -120px
                }

                .jsoneditor-menu > button.jsoneditor-sort {
                    background-position: -120px -96px
                }

                .jsoneditor-menu > button.jsoneditor-transform {
                    background-position: -144px -96px
                }

        .jsoneditor.jsoneditor-mode-form > .jsoneditor-menu > button.jsoneditor-sort, .jsoneditor.jsoneditor-mode-form > .jsoneditor-menu > button.jsoneditor-transform, .jsoneditor.jsoneditor-mode-view > .jsoneditor-menu > button.jsoneditor-sort, .jsoneditor.jsoneditor-mode-view > .jsoneditor-menu > button.jsoneditor-transform {
            display: none
        }

        .jsoneditor-menu > button.jsoneditor-undo {
            background-position: -24px -96px
        }

            .jsoneditor-menu > button.jsoneditor-undo:disabled {
                background-position: -24px -120px
            }

        .jsoneditor-menu > button.jsoneditor-redo {
            background-position: -48px -96px
        }

            .jsoneditor-menu > button.jsoneditor-redo:disabled {
                background-position: -48px -120px
            }

        .jsoneditor-menu > button.jsoneditor-compact {
            background-position: -72px -96px
        }

        .jsoneditor-menu > button.jsoneditor-format {
            background-position: -72px -120px
        }

        .jsoneditor-menu > button.jsoneditor-repair {
            background-position: -96px -96px
        }

        .jsoneditor-menu > .jsoneditor-modes {
            display: inline-block;
            float: left
        }

            .jsoneditor-menu > .jsoneditor-modes > button {
                background-image: none;
                width: auto;
                padding-left: 6px;
                padding-right: 6px
            }

                .jsoneditor-menu > .jsoneditor-modes > button.jsoneditor-separator, .jsoneditor-menu > button.jsoneditor-separator {
                    margin-left: 10px
                }

        .jsoneditor-menu a {
            font-family: arial,sans-serif;
            font-size: 10pt;
            color: #fff;
            opacity: .8;
            vertical-align: middle
        }

            .jsoneditor-menu a:hover {
                opacity: 1
            }

            .jsoneditor-menu a.jsoneditor-poweredBy {
                font-size: 8pt;
                position: absolute;
                right: 0;
                top: 0;
                padding: 10px
            }

        .jsoneditor-navigation-bar {
            width: 100%;
            height: 26px;
            line-height: 26px;
            padding: 0;
            margin: 0;
            border-bottom: 1px solid #d3d3d3;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            color: grey;
            background-color: #ebebeb;
            overflow: hidden;
            font-family: arial,sans-serif;
            font-size: 10pt
        }

        .jsoneditor-search {
            font-family: arial,sans-serif;
            position: absolute;
            right: 4px;
            top: 4px;
            border-collapse: collapse;
            border-spacing: 0;
            display: flex
        }

            .jsoneditor-search input {
                color: #1a1a1a;
                width: 120px;
                border: none;
                outline: 0;
                margin: 1px;
                line-height: 20px;
                font-family: arial,sans-serif
            }

            .jsoneditor-search button {
                width: 16px;
                height: 24px;
                padding: 0;
                margin: 0;
                border: none;
                background: url(btn.svg);
                vertical-align: top
            }

                .jsoneditor-search button:hover {
                    background-color: transparent
                }

                .jsoneditor-search button.jsoneditor-refresh {
                    width: 18px;
                    background-position: -99px -73px
                }

                .jsoneditor-search button.jsoneditor-next {
                    cursor: pointer;
                    background-position: -124px -73px
                }

                    .jsoneditor-search button.jsoneditor-next:hover {
                        background-position: -124px -49px
                    }

                .jsoneditor-search button.jsoneditor-previous {
                    cursor: pointer;
                    background-position: -148px -73px;
                    margin-right: 2px
                }

                    .jsoneditor-search button.jsoneditor-previous:hover {
                        background-position: -148px -49px
                    }

        .jsoneditor-results {
            font-family: arial,sans-serif;
            color: #fff;
            padding-right: 5px;
            line-height: 26px
        }

        .jsoneditor-frame {
            border: 1px solid transparent;
            background-color: #fff;
            padding: 0 2px;
            margin: 0
        }

        .jsoneditor-statusbar {
            line-height: 26px;
            height: 26px;
            color: grey;
            background-color: #ebebeb;
            border-top: 1px solid #d3d3d3;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            font-size: 10pt
        }

            .jsoneditor-statusbar > .jsoneditor-curserinfo-val {
                margin-right: 12px
            }

            .jsoneditor-statusbar > .jsoneditor-curserinfo-count {
                margin-left: 4px
            }

            .jsoneditor-statusbar > .jsoneditor-validation-error-icon {
                float: right;
                width: 24px;
                height: 24px;
                padding: 0;
                margin-top: 1px;
                background: url(btn.svg) -168px -48px;
                cursor: pointer
            }

            .jsoneditor-statusbar > .jsoneditor-validation-error-count {
                float: right;
                margin: 0 4px 0 0;
                cursor: pointer
            }

            .jsoneditor-statusbar > .jsoneditor-parse-error-icon {
                float: right;
                width: 24px;
                height: 24px;
                padding: 0;
                margin: 1px;
                background: url(btn.svg) -25px 0
            }

            .jsoneditor-statusbar .jsoneditor-array-info a {
                color: inherit
            }

        div.jsoneditor-statusbar > .jsoneditor-curserinfo-label, div.jsoneditor-statusbar > .jsoneditor-size-info {
            margin: 0 4px
        }

        .jsoneditor-treepath {
            padding: 0 5px;
            overflow: hidden;
            white-space: nowrap;
            outline: 0
        }

            .jsoneditor-treepath.show-all {
                word-wrap: break-word;
                white-space: normal;
                position: absolute;
                background-color: #ebebeb;
                z-index: 1;
                box-shadow: 2px 2px 12px rgba(128,128,128,.3)
            }

                .jsoneditor-treepath.show-all span.jsoneditor-treepath-show-all-btn {
                    display: none
                }

            .jsoneditor-treepath div.jsoneditor-contextmenu-root {
                position: absolute;
                left: 0
            }

            .jsoneditor-treepath .jsoneditor-treepath-show-all-btn {
                position: absolute;
                background-color: #ebebeb;
                left: 0;
                height: 20px;
                padding: 0 3px;
                cursor: pointer
            }

            .jsoneditor-treepath .jsoneditor-treepath-element {
                margin: 1px;
                font-family: arial,sans-serif;
                font-size: 10pt
            }

            .jsoneditor-treepath .jsoneditor-treepath-seperator {
                margin: 2px;
                font-size: 9pt;
                font-family: arial,sans-serif
            }

            .jsoneditor-treepath span.jsoneditor-treepath-element:hover, .jsoneditor-treepath span.jsoneditor-treepath-seperator:hover {
                cursor: pointer;
                text-decoration: underline
            }
        /*!
 * Selectr 2.4.0
 * https://github.com/Mobius1/Selectr
 *
 * Released under the MIT license
 */

        .selectr-container {
            position: relative
        }

            .selectr-container li {
                list-style: none
            }

        .selectr-hidden {
            position: absolute;
            overflow: hidden;
            clip: rect(0,0,0,0);
            width: 1px;
            height: 1px;
            margin: -1px;
            padding: 0;
            border: 0 none
        }

        .selectr-visible {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            z-index: 11
        }

        .selectr-desktop.multiple .selectr-visible {
            display: none
        }

        .selectr-desktop.multiple.native-open .selectr-visible {
            top: 100%;
            min-height: 200px !important;
            height: auto;
            opacity: 1;
            display: block
        }

        .selectr-container.multiple.selectr-mobile .selectr-selected {
            z-index: 0
        }

        .selectr-selected {
            position: relative;
            z-index: 1;
            box-sizing: border-box;
            width: 100%;
            padding: 7px 28px 7px 14px;
            cursor: pointer;
            border: 1px solid #999;
            border-radius: 3px;
            background-color: #fff
        }

            .selectr-selected::before {
                position: absolute;
                top: 50%;
                right: 10px;
                width: 0;
                height: 0;
                content: '';
                -o-transform: rotate(0) translate3d(0,-50%,0);
                -ms-transform: rotate(0) translate3d(0,-50%,0);
                -moz-transform: rotate(0) translate3d(0,-50%,0);
                -webkit-transform: rotate(0) translate3d(0,-50%,0);
                transform: rotate(0) translate3d(0,-50%,0);
                border-width: 4px 4px 0 4px;
                border-style: solid;
                border-color: #6c7a86 transparent transparent
            }

        .selectr-container.native-open .selectr-selected::before, .selectr-container.open .selectr-selected::before {
            border-width: 0 4px 4px 4px;
            border-style: solid;
            border-color: transparent transparent #6c7a86
        }

        .selectr-label {
            display: none;
            overflow: hidden;
            width: 100%;
            white-space: nowrap;
            text-overflow: ellipsis
        }

        .selectr-placeholder {
            color: #6c7a86
        }

        .selectr-tags {
            margin: 0;
            padding: 0;
            white-space: normal
        }

        .has-selected .selectr-tags {
            margin: 0 0 -2px
        }

        .selectr-tag {
            list-style: none;
            position: relative;
            float: left;
            padding: 2px 25px 2px 8px;
            margin: 0 2px 2px 0;
            cursor: default;
            color: #fff;
            border: medium none;
            border-radius: 10px;
            background: #acb7bf none repeat scroll 0 0
        }

        .selectr-container.multiple.has-selected .selectr-selected {
            padding: 5px 28px 5px 5px
        }

        .selectr-options-container {
            position: absolute;
            z-index: 10000;
            top: calc(100% - 1px);
            left: 0;
            display: none;
            box-sizing: border-box;
            width: 100%;
            border-width: 0 1px 1px;
            border-style: solid;
            border-color: transparent #999 #999;
            border-radius: 0 0 3px 3px;
            background-color: #fff
        }

        .selectr-container.open .selectr-options-container {
            display: block
        }

        .selectr-input-container {
            position: relative;
            display: none
        }

        .selectr-clear, .selectr-input-clear, .selectr-tag-remove {
            position: absolute;
            top: 50%;
            right: 22px;
            width: 20px;
            height: 20px;
            padding: 0;
            cursor: pointer;
            -o-transform: translate3d(0,-50%,0);
            -ms-transform: translate3d(0,-50%,0);
            -moz-transform: translate3d(0,-50%,0);
            -webkit-transform: translate3d(0,-50%,0);
            transform: translate3d(0,-50%,0);
            border: medium none;
            background-color: transparent;
            z-index: 11
        }

        .selectr-clear, .selectr-input-clear {
            display: none
        }

        .selectr-container.has-selected .selectr-clear, .selectr-input-container.active .selectr-input-clear {
            display: block
        }

        .selectr-selected .selectr-tag-remove {
            right: 2px
        }

        .selectr-clear::after, .selectr-clear::before, .selectr-input-clear::after, .selectr-input-clear::before, .selectr-tag-remove::after, .selectr-tag-remove::before {
            position: absolute;
            top: 5px;
            left: 9px;
            width: 2px;
            height: 10px;
            content: ' ';
            background-color: #6c7a86
        }

        .selectr-tag-remove::after, .selectr-tag-remove::before {
            top: 4px;
            width: 3px;
            height: 12px;
            background-color: #fff
        }

        .selectr-clear:before, .selectr-input-clear::before, .selectr-tag-remove::before {
            -o-transform: rotate(45deg);
            -ms-transform: rotate(45deg);
            -moz-transform: rotate(45deg);
            -webkit-transform: rotate(45deg);
            transform: rotate(45deg)
        }

        .selectr-clear:after, .selectr-input-clear::after, .selectr-tag-remove::after {
            -o-transform: rotate(-45deg);
            -ms-transform: rotate(-45deg);
            -moz-transform: rotate(-45deg);
            -webkit-transform: rotate(-45deg);
            transform: rotate(-45deg)
        }

        .selectr-input-container.active, .selectr-input-container.active .selectr-clear {
            display: block
        }

        .selectr-input {
            top: 5px;
            left: 5px;
            box-sizing: border-box;
            width: calc(100% - 30px);
            margin: 10px 15px;
            padding: 7px 30px 7px 9px;
            border: 1px solid #999;
            border-radius: 3px
        }

        .selectr-notice {
            display: none;
            box-sizing: border-box;
            width: 100%;
            padding: 8px 16px;
            border-top: 1px solid #999;
            border-radius: 0 0 3px 3px;
            background-color: #fff
        }

        .selectr-container.notice .selectr-notice {
            display: block
        }

        .selectr-container.notice .selectr-selected {
            border-radius: 3px 3px 0 0
        }

        .selectr-options {
            position: relative;
            top: calc(100% + 2px);
            display: none;
            overflow-x: auto;
            overflow-y: scroll;
            max-height: 200px;
            margin: 0;
            padding: 0
        }

        .selectr-container.notice .selectr-options-container, .selectr-container.open .selectr-input-container, .selectr-container.open .selectr-options {
            display: block
        }

        .selectr-option {
            position: relative;
            display: block;
            padding: 5px 20px;
            list-style: outside none none;
            cursor: pointer;
            font-weight: 400
        }

        .selectr-options.optgroups > .selectr-option {
            padding-left: 25px
        }

        .selectr-optgroup {
            font-weight: 700;
            padding: 0
        }

        .selectr-optgroup--label {
            font-weight: 700;
            margin-top: 10px;
            padding: 5px 15px
        }

        .selectr-match {
            text-decoration: underline
        }

        .selectr-option.selected {
            background-color: #ddd
        }

        .selectr-option.active {
            color: #fff;
            background-color: #5897fb
        }

        .selectr-option.disabled {
            opacity: .4
        }

        .selectr-option.excluded {
            display: none
        }

        .selectr-container.open .selectr-selected {
            border-color: #999 #999 transparent #999;
            border-radius: 3px 3px 0 0
        }

            .selectr-container.open .selectr-selected::after {
                -o-transform: rotate(180deg) translate3d(0,50%,0);
                -ms-transform: rotate(180deg) translate3d(0,50%,0);
                -moz-transform: rotate(180deg) translate3d(0,50%,0);
                -webkit-transform: rotate(180deg) translate3d(0,50%,0);
                transform: rotate(180deg) translate3d(0,50%,0)
            }

        .selectr-disabled {
            opacity: .6
        }

        .has-selected .selectr-placeholder, .selectr-empty {
            display: none
        }

        .has-selected .selectr-label {
            display: block
        }

        .taggable .selectr-selected {
            padding: 4px 28px 4px 4px
        }

            .taggable .selectr-selected::after {
                display: table;
                content: " ";
                clear: both
            }

        .taggable .selectr-label {
            width: auto
        }

        .taggable .selectr-tags {
            float: left;
            display: block
        }

        .taggable .selectr-placeholder {
            display: none
        }

        .input-tag {
            float: left;
            min-width: 90px;
            width: auto
        }

        .selectr-tag-input {
            border: medium none;
            padding: 3px 10px;
            width: 100%;
            font-family: inherit;
            font-weight: inherit;
            font-size: inherit
        }

        .selectr-input-container.loading::after {
            position: absolute;
            top: 50%;
            right: 20px;
            width: 20px;
            height: 20px;
            content: '';
            -o-transform: translate3d(0,-50%,0);
            -ms-transform: translate3d(0,-50%,0);
            -moz-transform: translate3d(0,-50%,0);
            -webkit-transform: translate3d(0,-50%,0);
            transform: translate3d(0,-50%,0);
            -o-transform-origin: 50% 0 0;
            -ms-transform-origin: 50% 0 0;
            -moz-transform-origin: 50% 0 0;
            -webkit-transform-origin: 50% 0 0;
            transform-origin: 50% 0 0;
            -moz-animation: .5s linear 0s normal forwards infinite running spin;
            -webkit-animation: .5s linear 0s normal forwards infinite running spin;
            animation: .5s linear 0s normal forwards infinite running spin;
            border-width: 3px;
            border-style: solid;
            border-color: #aaa #ddd #ddd;
            border-radius: 50%
        }

        @-webkit-keyframes spin {
            0% {
                -webkit-transform: rotate(0) translate3d(0,-50%,0);
                transform: rotate(0) translate3d(0,-50%,0)
            }

            100% {
                -webkit-transform: rotate(360deg) translate3d(0,-50%,0);
                transform: rotate(360deg) translate3d(0,-50%,0)
            }
        }

        @keyframes spin {
            0% {
                -webkit-transform: rotate(0) translate3d(0,-50%,0);
                transform: rotate(0) translate3d(0,-50%,0)
            }

            100% {
                -webkit-transform: rotate(360deg) translate3d(0,-50%,0);
                transform: rotate(360deg) translate3d(0,-50%,0)
            }
        }

        .selectr-container.open.inverted .selectr-selected {
            border-color: transparent #999 #999;
            border-radius: 0 0 3px 3px
        }

        .selectr-container.inverted .selectr-options-container {
            border-width: 1px 1px 0;
            border-color: #999 #999 transparent;
            border-radius: 3px 3px 0 0;
            background-color: #fff
        }

        .selectr-container.inverted .selectr-options-container {
            top: auto;
            bottom: calc(100% - 1px)
        }

        .selectr-container ::-webkit-input-placeholder {
            color: #6c7a86;
            opacity: 1
        }

        .selectr-container ::-moz-placeholder {
            color: #6c7a86;
            opacity: 1
        }

        .selectr-container :-ms-input-placeholder {
            color: #6c7a86;
            opacity: 1
        }

        .selectr-container ::placeholder {
            color: #6c7a86;
            opacity: 1
        }

        div.jsoneditor, div.jsoneditor-menu {
            border-color: #ccc
        }

        div.jsoneditor-menu {
            background-color: #f5f5f5
        }

            div.jsoneditor-menu > button, div.jsoneditor-menu > div.jsoneditor-modes > button, div.jsoneditor-tree button, table.jsoneditor-search button {
                background-image: url(btn.svg)
            }

            div.jsoneditor-menu > button, div.jsoneditor-menu > div.jsoneditor-modes > button {
                color: #009a61 !important;
                border: 1px solid #999 !important;
                background-color: #999 !important
            }

                div.jsoneditor-menu > button:hover, div.jsoneditor-menu > div.jsoneditor-modes > button:hover {
                    border: 1px solid #999;
                    background-color: #999
                }

            div.jsoneditor-menu > div.jsoneditor-modes > button {
                background-color: #f5f5f5 !important;
                background-image: none !important
            }

                div.jsoneditor-menu > div.jsoneditor-modes > button:hover {
                    background-color: #f5f5f5 !important;
                    background-image: none !important
                }

        div.jsoneditor-contextmenu ul li button.jsoneditor-selected, div.jsoneditor-contextmenu ul li button.jsoneditor-selected:focus, div.jsoneditor-contextmenu ul li button.jsoneditor-selected:hover {
            background-color: #f5f5f5;
            color: #009a61
        }

        table.jsoneditor-search div.jsoneditor-results {
            color: #666
        }

        .jsoneditor-poweredBy {
            display: none
        }

        .jsoneditor-contextmenu li {
            padding: 0;
            margin: 0
        }

        .jsoneditor-modal .pico-modal-header {
            background-color: #009a61
        }

        .jsoneditor-modal .jsoneditor-jmespath-label {
            color: #009a61
        }

        .jsoneditor-contextmenu .jsoneditor-menu li button.jsoneditor-selected, .jsoneditor-contextmenu .jsoneditor-menu li button.jsoneditor-selected:focus, .jsoneditor-contextmenu .jsoneditor-menu li button.jsoneditor-selected:hover {
            background-color: #009a61
        }

        #jsoneditor {
            width: 100%;
            height: 500px;
            background-color: #fff
        }

        .is-webfullscreen #jsoneditor {
            position: fixed;
            border-radius: 0;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%
        }

        #jsoneditor .webfullscreen-btn {
            position: absolute;
            top: 0;
            right: 0;
            z-index: 1;
            width: 26px;
            height: 26px;
            margin: 5px;
            padding: 0;
            border-radius: 2px;
            overflow: hidden;
            text-indent: -200px;
            background: url(btn.svg) 4px 4px no-repeat #ababab;
            background-size: 18px;
            cursor: pointer
        }

        .is-webfullscreen #jsoneditor .webfullscreen-btn {
            background: url(btn.svg) 4px 4px no-repeat #ababab;
            background-size: 18px
        }

        #jsoneditor .jsoneditor-search {
            right: 35px
        }
    </style>
    <script type="text/javascript">

    </script>

</head>
<body>
    <div id="jsoneditor"><a class="webfullscreen-btn" id="js-webfullscreen">网页全屏</a></div>
    <script>
        var text = {};
        var __je = undefined;

        function setText(txt) {
            __je.setText(txt);
            __je.format();
        }
    </script>
    <script type="text/javascript">
        /*! jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license */
        !function (a, b) { "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function (a) { if (!a.document) throw new Error("jQuery requires a window with a document"); return b(a) } : b(a) }("undefined" != typeof window ? window : this, function (a, b) {
            var c = [], d = a.document, e = c.slice, f = c.concat, g = c.push, h = c.indexOf, i = {}, j = i.toString, k = i.hasOwnProperty, l = {}, m = "1.12.4", n = function (a, b) { return new n.fn.init(a, b) }, o = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, p = /^-ms-/, q = /-([\da-z])/gi, r = function (a, b) { return b.toUpperCase() }; n.fn = n.prototype = { jquery: m, constructor: n, selector: "", length: 0, toArray: function () { return e.call(this) }, get: function (a) { return null != a ? 0 > a ? this[a + this.length] : this[a] : e.call(this) }, pushStack: function (a) { var b = n.merge(this.constructor(), a); return b.prevObject = this, b.context = this.context, b }, each: function (a) { return n.each(this, a) }, map: function (a) { return this.pushStack(n.map(this, function (b, c) { return a.call(b, c, b) })) }, slice: function () { return this.pushStack(e.apply(this, arguments)) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, eq: function (a) { var b = this.length, c = +a + (0 > a ? b : 0); return this.pushStack(c >= 0 && b > c ? [this[c]] : []) }, end: function () { return this.prevObject || this.constructor() }, push: g, sort: c.sort, splice: c.splice }, n.extend = n.fn.extend = function () { var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1; for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || n.isFunction(g) || (g = {}), h === i && (g = this, h--); i > h; h++)if (null != (e = arguments[h])) for (d in e) a = g[d], c = e[d], g !== c && (j && c && (n.isPlainObject(c) || (b = n.isArray(c))) ? (b ? (b = !1, f = a && n.isArray(a) ? a : []) : f = a && n.isPlainObject(a) ? a : {}, g[d] = n.extend(j, f, c)) : void 0 !== c && (g[d] = c)); return g }, n.extend({ expando: "jQuery" + (m + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (a) { throw new Error(a) }, noop: function () { }, isFunction: function (a) { return "function" === n.type(a) }, isArray: Array.isArray || function (a) { return "array" === n.type(a) }, isWindow: function (a) { return null != a && a == a.window }, isNumeric: function (a) { var b = a && a.toString(); return !n.isArray(a) && b - parseFloat(b) + 1 >= 0 }, isEmptyObject: function (a) { var b; for (b in a) return !1; return !0 }, isPlainObject: function (a) { var b; if (!a || "object" !== n.type(a) || a.nodeType || n.isWindow(a)) return !1; try { if (a.constructor && !k.call(a, "constructor") && !k.call(a.constructor.prototype, "isPrototypeOf")) return !1 } catch (c) { return !1 } if (!l.ownFirst) for (b in a) return k.call(a, b); for (b in a); return void 0 === b || k.call(a, b) }, type: function (a) { return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? i[j.call(a)] || "object" : typeof a }, globalEval: function (b) { b && n.trim(b) && (a.execScript || function (b) { a.eval.call(a, b) })(b) }, camelCase: function (a) { return a.replace(p, "ms-").replace(q, r) }, nodeName: function (a, b) { return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase() }, each: function (a, b) { var c, d = 0; if (s(a)) { for (c = a.length; c > d; d++)if (b.call(a[d], d, a[d]) === !1) break } else for (d in a) if (b.call(a[d], d, a[d]) === !1) break; return a }, trim: function (a) { return null == a ? "" : (a + "").replace(o, "") }, makeArray: function (a, b) { var c = b || []; return null != a && (s(Object(a)) ? n.merge(c, "string" == typeof a ? [a] : a) : g.call(c, a)), c }, inArray: function (a, b, c) { var d; if (b) { if (h) return h.call(b, a, c); for (d = b.length, c = c ? 0 > c ? Math.max(0, d + c) : c : 0; d > c; c++)if (c in b && b[c] === a) return c } return -1 }, merge: function (a, b) { var c = +b.length, d = 0, e = a.length; while (c > d) a[e++] = b[d++]; if (c !== c) while (void 0 !== b[d]) a[e++] = b[d++]; return a.length = e, a }, grep: function (a, b, c) { for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++)d = !b(a[f], f), d !== h && e.push(a[f]); return e }, map: function (a, b, c) { var d, e, g = 0, h = []; if (s(a)) for (d = a.length; d > g; g++)e = b(a[g], g, c), null != e && h.push(e); else for (g in a) e = b(a[g], g, c), null != e && h.push(e); return f.apply([], h) }, guid: 1, proxy: function (a, b) { var c, d, f; return "string" == typeof b && (f = a[b], b = a, a = f), n.isFunction(a) ? (c = e.call(arguments, 2), d = function () { return a.apply(b || this, c.concat(e.call(arguments))) }, d.guid = a.guid = a.guid || n.guid++, d) : void 0 }, now: function () { return +new Date }, support: l }), "function" == typeof Symbol && (n.fn[Symbol.iterator] = c[Symbol.iterator]), n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (a, b) { i["[object " + b + "]"] = b.toLowerCase() }); function s(a) { var b = !!a && "length" in a && a.length, c = n.type(a); return "function" === c || n.isWindow(a) ? !1 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a } var t = function (a) { var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = "sizzle" + 1 * new Date, v = a.document, w = 0, x = 0, y = ga(), z = ga(), A = ga(), B = function (a, b) { return a === b && (l = !0), 0 }, C = 1 << 31, D = {}.hasOwnProperty, E = [], F = E.pop, G = E.push, H = E.push, I = E.slice, J = function (a, b) { for (var c = 0, d = a.length; d > c; c++)if (a[c] === b) return c; return -1 }, K = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", L = "[\\x20\\t\\r\\n\\f]", M = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", N = "\\[" + L + "*(" + M + ")(?:" + L + "*([*^$|!~]?=)" + L + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + M + "))|)" + L + "*\\]", O = ":(" + M + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + N + ")*)|.*)\\)|)", P = new RegExp(L + "+", "g"), Q = new RegExp("^" + L + "+|((?:^|[^\\\\])(?:\\\\.)*)" + L + "+$", "g"), R = new RegExp("^" + L + "*," + L + "*"), S = new RegExp("^" + L + "*([>+~]|" + L + ")" + L + "*"), T = new RegExp("=" + L + "*([^\\]'\"]*?)" + L + "*\\]", "g"), U = new RegExp(O), V = new RegExp("^" + M + "$"), W = { ID: new RegExp("^#(" + M + ")"), CLASS: new RegExp("^\\.(" + M + ")"), TAG: new RegExp("^(" + M + "|[*])"), ATTR: new RegExp("^" + N), PSEUDO: new RegExp("^" + O), CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + L + "*(even|odd|(([+-]|)(\\d*)n|)" + L + "*(?:([+-]|)" + L + "*(\\d+)|))" + L + "*\\)|)", "i"), bool: new RegExp("^(?:" + K + ")$", "i"), needsContext: new RegExp("^" + L + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + L + "*((?:-\\d)?\\d*)" + L + "*\\)|)(?=[^-]|$)", "i") }, X = /^(?:input|select|textarea|button)$/i, Y = /^h\d$/i, Z = /^[^{]+\{\s*\[native \w/, $ = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, _ = /[+~]/, aa = /'|\\/g, ba = new RegExp("\\\\([\\da-f]{1,6}" + L + "?|(" + L + ")|.)", "ig"), ca = function (a, b, c) { var d = "0x" + b - 65536; return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320) }, da = function () { m() }; try { H.apply(E = I.call(v.childNodes), v.childNodes), E[v.childNodes.length].nodeType } catch (ea) { H = { apply: E.length ? function (a, b) { G.apply(a, I.call(b)) } : function (a, b) { var c = a.length, d = 0; while (a[c++] = b[d++]); a.length = c - 1 } } } function fa(a, b, d, e) { var f, h, j, k, l, o, r, s, w = b && b.ownerDocument, x = b ? b.nodeType : 9; if (d = d || [], "string" != typeof a || !a || 1 !== x && 9 !== x && 11 !== x) return d; if (!e && ((b ? b.ownerDocument || b : v) !== n && m(b), b = b || n, p)) { if (11 !== x && (o = $.exec(a))) if (f = o[1]) { if (9 === x) { if (!(j = b.getElementById(f))) return d; if (j.id === f) return d.push(j), d } else if (w && (j = w.getElementById(f)) && t(b, j) && j.id === f) return d.push(j), d } else { if (o[2]) return H.apply(d, b.getElementsByTagName(a)), d; if ((f = o[3]) && c.getElementsByClassName && b.getElementsByClassName) return H.apply(d, b.getElementsByClassName(f)), d } if (c.qsa && !A[a + " "] && (!q || !q.test(a))) { if (1 !== x) w = b, s = a; else if ("object" !== b.nodeName.toLowerCase()) { (k = b.getAttribute("id")) ? k = k.replace(aa, "\\$&") : b.setAttribute("id", k = u), r = g(a), h = r.length, l = V.test(k) ? "#" + k : "[id='" + k + "']"; while (h--) r[h] = l + " " + qa(r[h]); s = r.join(","), w = _.test(a) && oa(b.parentNode) || b } if (s) try { return H.apply(d, w.querySelectorAll(s)), d } catch (y) { } finally { k === u && b.removeAttribute("id") } } } return i(a.replace(Q, "$1"), b, d, e) } function ga() { var a = []; function b(c, e) { return a.push(c + " ") > d.cacheLength && delete b[a.shift()], b[c + " "] = e } return b } function ha(a) { return a[u] = !0, a } function ia(a) { var b = n.createElement("div"); try { return !!a(b) } catch (c) { return !1 } finally { b.parentNode && b.parentNode.removeChild(b), b = null } } function ja(a, b) { var c = a.split("|"), e = c.length; while (e--) d.attrHandle[c[e]] = b } function ka(a, b) { var c = b && a, d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || C) - (~a.sourceIndex || C); if (d) return d; if (c) while (c = c.nextSibling) if (c === b) return -1; return a ? 1 : -1 } function la(a) { return function (b) { var c = b.nodeName.toLowerCase(); return "input" === c && b.type === a } } function ma(a) { return function (b) { var c = b.nodeName.toLowerCase(); return ("input" === c || "button" === c) && b.type === a } } function na(a) { return ha(function (b) { return b = +b, ha(function (c, d) { var e, f = a([], c.length, b), g = f.length; while (g--) c[e = f[g]] && (c[e] = !(d[e] = c[e])) }) }) } function oa(a) { return a && "undefined" != typeof a.getElementsByTagName && a } c = fa.support = {}, f = fa.isXML = function (a) { var b = a && (a.ownerDocument || a).documentElement; return b ? "HTML" !== b.nodeName : !1 }, m = fa.setDocument = function (a) { var b, e, g = a ? a.ownerDocument || a : v; return g !== n && 9 === g.nodeType && g.documentElement ? (n = g, o = n.documentElement, p = !f(n), (e = n.defaultView) && e.top !== e && (e.addEventListener ? e.addEventListener("unload", da, !1) : e.attachEvent && e.attachEvent("onunload", da)), c.attributes = ia(function (a) { return a.className = "i", !a.getAttribute("className") }), c.getElementsByTagName = ia(function (a) { return a.appendChild(n.createComment("")), !a.getElementsByTagName("*").length }), c.getElementsByClassName = Z.test(n.getElementsByClassName), c.getById = ia(function (a) { return o.appendChild(a).id = u, !n.getElementsByName || !n.getElementsByName(u).length }), c.getById ? (d.find.ID = function (a, b) { if ("undefined" != typeof b.getElementById && p) { var c = b.getElementById(a); return c ? [c] : [] } }, d.filter.ID = function (a) { var b = a.replace(ba, ca); return function (a) { return a.getAttribute("id") === b } }) : (delete d.find.ID, d.filter.ID = function (a) { var b = a.replace(ba, ca); return function (a) { var c = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id"); return c && c.value === b } }), d.find.TAG = c.getElementsByTagName ? function (a, b) { return "undefined" != typeof b.getElementsByTagName ? b.getElementsByTagName(a) : c.qsa ? b.querySelectorAll(a) : void 0 } : function (a, b) { var c, d = [], e = 0, f = b.getElementsByTagName(a); if ("*" === a) { while (c = f[e++]) 1 === c.nodeType && d.push(c); return d } return f }, d.find.CLASS = c.getElementsByClassName && function (a, b) { return "undefined" != typeof b.getElementsByClassName && p ? b.getElementsByClassName(a) : void 0 }, r = [], q = [], (c.qsa = Z.test(n.querySelectorAll)) && (ia(function (a) { o.appendChild(a).innerHTML = "<a id='" + u + "'></a><select id='" + u + "-\r\\' msallowcapture=''><option selected=''></option></select>", a.querySelectorAll("[msallowcapture^='']").length && q.push("[*^$]=" + L + "*(?:''|\"\")"), a.querySelectorAll("[selected]").length || q.push("\\[" + L + "*(?:value|" + K + ")"), a.querySelectorAll("[id~=" + u + "-]").length || q.push("~="), a.querySelectorAll(":checked").length || q.push(":checked"), a.querySelectorAll("a#" + u + "+*").length || q.push(".#.+[+~]") }), ia(function (a) { var b = n.createElement("input"); b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute("name", "D"), a.querySelectorAll("[name=d]").length && q.push("name" + L + "*[*^$|!~]?="), a.querySelectorAll(":enabled").length || q.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), q.push(",.*:") })), (c.matchesSelector = Z.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) && ia(function (a) { c.disconnectedMatch = s.call(a, "div"), s.call(a, "[s!='']:x"), r.push("!=", O) }), q = q.length && new RegExp(q.join("|")), r = r.length && new RegExp(r.join("|")), b = Z.test(o.compareDocumentPosition), t = b || Z.test(o.contains) ? function (a, b) { var c = 9 === a.nodeType ? a.documentElement : a, d = b && b.parentNode; return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d))) } : function (a, b) { if (b) while (b = b.parentNode) if (b === a) return !0; return !1 }, B = b ? function (a, b) { if (a === b) return l = !0, 0; var d = !a.compareDocumentPosition - !b.compareDocumentPosition; return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === n || a.ownerDocument === v && t(v, a) ? -1 : b === n || b.ownerDocument === v && t(v, b) ? 1 : k ? J(k, a) - J(k, b) : 0 : 4 & d ? -1 : 1) } : function (a, b) { if (a === b) return l = !0, 0; var c, d = 0, e = a.parentNode, f = b.parentNode, g = [a], h = [b]; if (!e || !f) return a === n ? -1 : b === n ? 1 : e ? -1 : f ? 1 : k ? J(k, a) - J(k, b) : 0; if (e === f) return ka(a, b); c = a; while (c = c.parentNode) g.unshift(c); c = b; while (c = c.parentNode) h.unshift(c); while (g[d] === h[d]) d++; return d ? ka(g[d], h[d]) : g[d] === v ? -1 : h[d] === v ? 1 : 0 }, n) : n }, fa.matches = function (a, b) { return fa(a, null, null, b) }, fa.matchesSelector = function (a, b) { if ((a.ownerDocument || a) !== n && m(a), b = b.replace(T, "='$1']"), c.matchesSelector && p && !A[b + " "] && (!r || !r.test(b)) && (!q || !q.test(b))) try { var d = s.call(a, b); if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType) return d } catch (e) { } return fa(b, n, null, [a]).length > 0 }, fa.contains = function (a, b) { return (a.ownerDocument || a) !== n && m(a), t(a, b) }, fa.attr = function (a, b) { (a.ownerDocument || a) !== n && m(a); var e = d.attrHandle[b.toLowerCase()], f = e && D.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0; return void 0 !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null }, fa.error = function (a) { throw new Error("Syntax error, unrecognized expression: " + a) }, fa.uniqueSort = function (a) { var b, d = [], e = 0, f = 0; if (l = !c.detectDuplicates, k = !c.sortStable && a.slice(0), a.sort(B), l) { while (b = a[f++]) b === a[f] && (e = d.push(f)); while (e--) a.splice(d[e], 1) } return k = null, a }, e = fa.getText = function (a) { var b, c = "", d = 0, f = a.nodeType; if (f) { if (1 === f || 9 === f || 11 === f) { if ("string" == typeof a.textContent) return a.textContent; for (a = a.firstChild; a; a = a.nextSibling)c += e(a) } else if (3 === f || 4 === f) return a.nodeValue } else while (b = a[d++]) c += e(b); return c }, d = fa.selectors = { cacheLength: 50, createPseudo: ha, match: W, attrHandle: {}, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function (a) { return a[1] = a[1].replace(ba, ca), a[3] = (a[3] || a[4] || a[5] || "").replace(ba, ca), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4) }, CHILD: function (a) { return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || fa.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && fa.error(a[0]), a }, PSEUDO: function (a) { var b, c = !a[6] && a[2]; return W.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : c && U.test(c) && (b = g(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3)) } }, filter: { TAG: function (a) { var b = a.replace(ba, ca).toLowerCase(); return "*" === a ? function () { return !0 } : function (a) { return a.nodeName && a.nodeName.toLowerCase() === b } }, CLASS: function (a) { var b = y[a + " "]; return b || (b = new RegExp("(^|" + L + ")" + a + "(" + L + "|$)")) && y(a, function (a) { return b.test("string" == typeof a.className && a.className || "undefined" != typeof a.getAttribute && a.getAttribute("class") || "") }) }, ATTR: function (a, b, c) { return function (d) { var e = fa.attr(d, a); return null == e ? "!=" === b : b ? (e += "", "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e.replace(P, " ") + " ").indexOf(c) > -1 : "|=" === b ? e === c || e.slice(0, c.length + 1) === c + "-" : !1) : !0 } }, CHILD: function (a, b, c, d, e) { var f = "nth" !== a.slice(0, 3), g = "last" !== a.slice(-4), h = "of-type" === b; return 1 === d && 0 === e ? function (a) { return !!a.parentNode } : function (b, c, i) { var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), s = !i && !h, t = !1; if (q) { if (f) { while (p) { m = b; while (m = m[p]) if (h ? m.nodeName.toLowerCase() === r : 1 === m.nodeType) return !1; o = p = "only" === a && !o && "nextSibling" } return !0 } if (o = [g ? q.firstChild : q.lastChild], g && s) { m = q, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[0] === w && j[1], t = n && j[2], m = n && q.childNodes[n]; while (m = ++n && m && m[p] || (t = n = 0) || o.pop()) if (1 === m.nodeType && ++t && m === b) { k[a] = [w, n, t]; break } } else if (s && (m = b, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[0] === w && j[1], t = n), t === !1) while (m = ++n && m && m[p] || (t = n = 0) || o.pop()) if ((h ? m.nodeName.toLowerCase() === r : 1 === m.nodeType) && ++t && (s && (l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), k[a] = [w, t]), m === b)) break; return t -= e, t === d || t % d === 0 && t / d >= 0 } } }, PSEUDO: function (a, b) { var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || fa.error("unsupported pseudo: " + a); return e[u] ? e(b) : e.length > 1 ? (c = [a, a, "", b], d.setFilters.hasOwnProperty(a.toLowerCase()) ? ha(function (a, c) { var d, f = e(a, b), g = f.length; while (g--) d = J(a, f[g]), a[d] = !(c[d] = f[g]) }) : function (a) { return e(a, 0, c) }) : e } }, pseudos: { not: ha(function (a) { var b = [], c = [], d = h(a.replace(Q, "$1")); return d[u] ? ha(function (a, b, c, e) { var f, g = d(a, null, e, []), h = a.length; while (h--) (f = g[h]) && (a[h] = !(b[h] = f)) }) : function (a, e, f) { return b[0] = a, d(b, null, f, c), b[0] = null, !c.pop() } }), has: ha(function (a) { return function (b) { return fa(a, b).length > 0 } }), contains: ha(function (a) { return a = a.replace(ba, ca), function (b) { return (b.textContent || b.innerText || e(b)).indexOf(a) > -1 } }), lang: ha(function (a) { return V.test(a || "") || fa.error("unsupported lang: " + a), a = a.replace(ba, ca).toLowerCase(), function (b) { var c; do if (c = p ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang")) return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + "-"); while ((b = b.parentNode) && 1 === b.nodeType); return !1 } }), target: function (b) { var c = a.location && a.location.hash; return c && c.slice(1) === b.id }, root: function (a) { return a === o }, focus: function (a) { return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a.type || a.href || ~a.tabIndex) }, enabled: function (a) { return a.disabled === !1 }, disabled: function (a) { return a.disabled === !0 }, checked: function (a) { var b = a.nodeName.toLowerCase(); return "input" === b && !!a.checked || "option" === b && !!a.selected }, selected: function (a) { return a.parentNode && a.parentNode.selectedIndex, a.selected === !0 }, empty: function (a) { for (a = a.firstChild; a; a = a.nextSibling)if (a.nodeType < 6) return !1; return !0 }, parent: function (a) { return !d.pseudos.empty(a) }, header: function (a) { return Y.test(a.nodeName) }, input: function (a) { return X.test(a.nodeName) }, button: function (a) { var b = a.nodeName.toLowerCase(); return "input" === b && "button" === a.type || "button" === b }, text: function (a) { var b; return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase()) }, first: na(function () { return [0] }), last: na(function (a, b) { return [b - 1] }), eq: na(function (a, b, c) { return [0 > c ? c + b : c] }), even: na(function (a, b) { for (var c = 0; b > c; c += 2)a.push(c); return a }), odd: na(function (a, b) { for (var c = 1; b > c; c += 2)a.push(c); return a }), lt: na(function (a, b, c) { for (var d = 0 > c ? c + b : c; --d >= 0;)a.push(d); return a }), gt: na(function (a, b, c) { for (var d = 0 > c ? c + b : c; ++d < b;)a.push(d); return a }) } }, d.pseudos.nth = d.pseudos.eq; for (b in { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) d.pseudos[b] = la(b); for (b in { submit: !0, reset: !0 }) d.pseudos[b] = ma(b); function pa() { } pa.prototype = d.filters = d.pseudos, d.setFilters = new pa, g = fa.tokenize = function (a, b) { var c, e, f, g, h, i, j, k = z[a + " "]; if (k) return b ? 0 : k.slice(0); h = a, i = [], j = d.preFilter; while (h) { c && !(e = R.exec(h)) || (e && (h = h.slice(e[0].length) || h), i.push(f = [])), c = !1, (e = S.exec(h)) && (c = e.shift(), f.push({ value: c, type: e[0].replace(Q, " ") }), h = h.slice(c.length)); for (g in d.filter) !(e = W[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(), f.push({ value: c, type: g, matches: e }), h = h.slice(c.length)); if (!c) break } return b ? h.length : h ? fa.error(a) : z(a, i).slice(0) }; function qa(a) { for (var b = 0, c = a.length, d = ""; c > b; b++)d += a[b].value; return d } function ra(a, b, c) { var d = b.dir, e = c && "parentNode" === d, f = x++; return b.first ? function (b, c, f) { while (b = b[d]) if (1 === b.nodeType || e) return a(b, c, f) } : function (b, c, g) { var h, i, j, k = [w, f]; if (g) { while (b = b[d]) if ((1 === b.nodeType || e) && a(b, c, g)) return !0 } else while (b = b[d]) if (1 === b.nodeType || e) { if (j = b[u] || (b[u] = {}), i = j[b.uniqueID] || (j[b.uniqueID] = {}), (h = i[d]) && h[0] === w && h[1] === f) return k[2] = h[2]; if (i[d] = k, k[2] = a(b, c, g)) return !0 } } } function sa(a) { return a.length > 1 ? function (b, c, d) { var e = a.length; while (e--) if (!a[e](b, c, d)) return !1; return !0 } : a[0] } function ta(a, b, c) { for (var d = 0, e = b.length; e > d; d++)fa(a, b[d], c); return c } function ua(a, b, c, d, e) { for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++)(f = a[h]) && (c && !c(f, d, e) || (g.push(f), j && b.push(h))); return g } function va(a, b, c, d, e, f) { return d && !d[u] && (d = va(d)), e && !e[u] && (e = va(e, f)), ha(function (f, g, h, i) { var j, k, l, m = [], n = [], o = g.length, p = f || ta(b || "*", h.nodeType ? [h] : h, []), q = !a || !f && b ? p : ua(p, m, a, h, i), r = c ? e || (f ? a : o || d) ? [] : g : q; if (c && c(q, r, h, i), d) { j = ua(r, n), d(j, [], h, i), k = j.length; while (k--) (l = j[k]) && (r[n[k]] = !(q[n[k]] = l)) } if (f) { if (e || a) { if (e) { j = [], k = r.length; while (k--) (l = r[k]) && j.push(q[k] = l); e(null, r = [], j, i) } k = r.length; while (k--) (l = r[k]) && (j = e ? J(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l)) } } else r = ua(r === g ? r.splice(o, r.length) : r), e ? e(null, g, r, i) : H.apply(g, r) }) } function wa(a) { for (var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[" "], i = g ? 1 : 0, k = ra(function (a) { return a === b }, h, !0), l = ra(function (a) { return J(b, a) > -1 }, h, !0), m = [function (a, c, d) { var e = !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d)); return b = null, e }]; f > i; i++)if (c = d.relative[a[i].type]) m = [ra(sa(m), c)]; else { if (c = d.filter[a[i].type].apply(null, a[i].matches), c[u]) { for (e = ++i; f > e; e++)if (d.relative[a[e].type]) break; return va(i > 1 && sa(m), i > 1 && qa(a.slice(0, i - 1).concat({ value: " " === a[i - 2].type ? "*" : "" })).replace(Q, "$1"), c, e > i && wa(a.slice(i, e)), f > e && wa(a = a.slice(e)), f > e && qa(a)) } m.push(c) } return sa(m) } function xa(a, b) { var c = b.length > 0, e = a.length > 0, f = function (f, g, h, i, k) { var l, o, q, r = 0, s = "0", t = f && [], u = [], v = j, x = f || e && d.find.TAG("*", k), y = w += null == v ? 1 : Math.random() || .1, z = x.length; for (k && (j = g === n || g || k); s !== z && null != (l = x[s]); s++) { if (e && l) { o = 0, g || l.ownerDocument === n || (m(l), h = !p); while (q = a[o++]) if (q(l, g || n, h)) { i.push(l); break } k && (w = y) } c && ((l = !q && l) && r--, f && t.push(l)) } if (r += s, c && s !== r) { o = 0; while (q = b[o++]) q(t, u, g, h); if (f) { if (r > 0) while (s--) t[s] || u[s] || (u[s] = F.call(i)); u = ua(u) } H.apply(i, u), k && !f && u.length > 0 && r + b.length > 1 && fa.uniqueSort(i) } return k && (w = y, j = v), t }; return c ? ha(f) : f } return h = fa.compile = function (a, b) { var c, d = [], e = [], f = A[a + " "]; if (!f) { b || (b = g(a)), c = b.length; while (c--) f = wa(b[c]), f[u] ? d.push(f) : e.push(f); f = A(a, xa(e, d)), f.selector = a } return f }, i = fa.select = function (a, b, e, f) { var i, j, k, l, m, n = "function" == typeof a && a, o = !f && g(a = n.selector || a); if (e = e || [], 1 === o.length) { if (j = o[0] = o[0].slice(0), j.length > 2 && "ID" === (k = j[0]).type && c.getById && 9 === b.nodeType && p && d.relative[j[1].type]) { if (b = (d.find.ID(k.matches[0].replace(ba, ca), b) || [])[0], !b) return e; n && (b = b.parentNode), a = a.slice(j.shift().value.length) } i = W.needsContext.test(a) ? 0 : j.length; while (i--) { if (k = j[i], d.relative[l = k.type]) break; if ((m = d.find[l]) && (f = m(k.matches[0].replace(ba, ca), _.test(j[0].type) && oa(b.parentNode) || b))) { if (j.splice(i, 1), a = f.length && qa(j), !a) return H.apply(e, f), e; break } } } return (n || h(a, o))(f, b, !p, e, !b || _.test(a) && oa(b.parentNode) || b), e }, c.sortStable = u.split("").sort(B).join("") === u, c.detectDuplicates = !!l, m(), c.sortDetached = ia(function (a) { return 1 & a.compareDocumentPosition(n.createElement("div")) }), ia(function (a) { return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href") }) || ja("type|href|height|width", function (a, b, c) { return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2) }), c.attributes && ia(function (a) { return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value") }) || ja("value", function (a, b, c) { return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue }), ia(function (a) { return null == a.getAttribute("disabled") }) || ja(K, function (a, b, c) { var d; return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null }), fa }(a); n.find = t, n.expr = t.selectors, n.expr[":"] = n.expr.pseudos, n.uniqueSort = n.unique = t.uniqueSort, n.text = t.getText, n.isXMLDoc = t.isXML, n.contains = t.contains; var u = function (a, b, c) { var d = [], e = void 0 !== c; while ((a = a[b]) && 9 !== a.nodeType) if (1 === a.nodeType) { if (e && n(a).is(c)) break; d.push(a) } return d }, v = function (a, b) { for (var c = []; a; a = a.nextSibling)1 === a.nodeType && a !== b && c.push(a); return c }, w = n.expr.match.needsContext, x = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/, y = /^.[^:#\[\.,]*$/; function z(a, b, c) { if (n.isFunction(b)) return n.grep(a, function (a, d) { return !!b.call(a, d, a) !== c }); if (b.nodeType) return n.grep(a, function (a) { return a === b !== c }); if ("string" == typeof b) { if (y.test(b)) return n.filter(b, a, c); b = n.filter(b, a) } return n.grep(a, function (a) { return n.inArray(a, b) > -1 !== c }) } n.filter = function (a, b, c) { var d = b[0]; return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? n.find.matchesSelector(d, a) ? [d] : [] : n.find.matches(a, n.grep(b, function (a) { return 1 === a.nodeType })) }, n.fn.extend({ find: function (a) { var b, c = [], d = this, e = d.length; if ("string" != typeof a) return this.pushStack(n(a).filter(function () { for (b = 0; e > b; b++)if (n.contains(d[b], this)) return !0 })); for (b = 0; e > b; b++)n.find(a, d[b], c); return c = this.pushStack(e > 1 ? n.unique(c) : c), c.selector = this.selector ? this.selector + " " + a : a, c }, filter: function (a) { return this.pushStack(z(this, a || [], !1)) }, not: function (a) { return this.pushStack(z(this, a || [], !0)) }, is: function (a) { return !!z(this, "string" == typeof a && w.test(a) ? n(a) : a || [], !1).length } }); var A, B = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, C = n.fn.init = function (a, b, c) { var e, f; if (!a) return this; if (c = c || A, "string" == typeof a) { if (e = "<" === a.charAt(0) && ">" === a.charAt(a.length - 1) && a.length >= 3 ? [null, a, null] : B.exec(a), !e || !e[1] && b) return !b || b.jquery ? (b || c).find(a) : this.constructor(b).find(a); if (e[1]) { if (b = b instanceof n ? b[0] : b, n.merge(this, n.parseHTML(e[1], b && b.nodeType ? b.ownerDocument || b : d, !0)), x.test(e[1]) && n.isPlainObject(b)) for (e in b) n.isFunction(this[e]) ? this[e](b[e]) : this.attr(e, b[e]); return this } if (f = d.getElementById(e[2]), f && f.parentNode) { if (f.id !== e[2]) return A.find(a); this.length = 1, this[0] = f } return this.context = d, this.selector = a, this } return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : n.isFunction(a) ? "undefined" != typeof c.ready ? c.ready(a) : a(n) : (void 0 !== a.selector && (this.selector = a.selector, this.context = a.context), n.makeArray(a, this)) }; C.prototype = n.fn, A = n(d); var D = /^(?:parents|prev(?:Until|All))/, E = { children: !0, contents: !0, next: !0, prev: !0 }; n.fn.extend({ has: function (a) { var b, c = n(a, this), d = c.length; return this.filter(function () { for (b = 0; d > b; b++)if (n.contains(this, c[b])) return !0 }) }, closest: function (a, b) { for (var c, d = 0, e = this.length, f = [], g = w.test(a) || "string" != typeof a ? n(a, b || this.context) : 0; e > d; d++)for (c = this[d]; c && c !== b; c = c.parentNode)if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && n.find.matchesSelector(c, a))) { f.push(c); break } return this.pushStack(f.length > 1 ? n.uniqueSort(f) : f) }, index: function (a) { return a ? "string" == typeof a ? n.inArray(this[0], n(a)) : n.inArray(a.jquery ? a[0] : a, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1 }, add: function (a, b) { return this.pushStack(n.uniqueSort(n.merge(this.get(), n(a, b)))) }, addBack: function (a) { return this.add(null == a ? this.prevObject : this.prevObject.filter(a)) } }); function F(a, b) { do a = a[b]; while (a && 1 !== a.nodeType); return a } n.each({ parent: function (a) { var b = a.parentNode; return b && 11 !== b.nodeType ? b : null }, parents: function (a) { return u(a, "parentNode") }, parentsUntil: function (a, b, c) { return u(a, "parentNode", c) }, next: function (a) { return F(a, "nextSibling") }, prev: function (a) { return F(a, "previousSibling") }, nextAll: function (a) { return u(a, "nextSibling") }, prevAll: function (a) { return u(a, "previousSibling") }, nextUntil: function (a, b, c) { return u(a, "nextSibling", c) }, prevUntil: function (a, b, c) { return u(a, "previousSibling", c) }, siblings: function (a) { return v((a.parentNode || {}).firstChild, a) }, children: function (a) { return v(a.firstChild) }, contents: function (a) { return n.nodeName(a, "iframe") ? a.contentDocument || a.contentWindow.document : n.merge([], a.childNodes) } }, function (a, b) { n.fn[a] = function (c, d) { var e = n.map(this, b, c); return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = n.filter(d, e)), this.length > 1 && (E[a] || (e = n.uniqueSort(e)), D.test(a) && (e = e.reverse())), this.pushStack(e) } }); var G = /\S+/g; function H(a) { var b = {}; return n.each(a.match(G) || [], function (a, c) { b[c] = !0 }), b } n.Callbacks = function (a) { a = "string" == typeof a ? H(a) : n.extend({}, a); var b, c, d, e, f = [], g = [], h = -1, i = function () { for (e = a.once, d = b = !0; g.length; h = -1) { c = g.shift(); while (++h < f.length) f[h].apply(c[0], c[1]) === !1 && a.stopOnFalse && (h = f.length, c = !1) } a.memory || (c = !1), b = !1, e && (f = c ? [] : "") }, j = { add: function () { return f && (c && !b && (h = f.length - 1, g.push(c)), function d(b) { n.each(b, function (b, c) { n.isFunction(c) ? a.unique && j.has(c) || f.push(c) : c && c.length && "string" !== n.type(c) && d(c) }) }(arguments), c && !b && i()), this }, remove: function () { return n.each(arguments, function (a, b) { var c; while ((c = n.inArray(b, f, c)) > -1) f.splice(c, 1), h >= c && h-- }), this }, has: function (a) { return a ? n.inArray(a, f) > -1 : f.length > 0 }, empty: function () { return f && (f = []), this }, disable: function () { return e = g = [], f = c = "", this }, disabled: function () { return !f }, lock: function () { return e = !0, c || j.disable(), this }, locked: function () { return !!e }, fireWith: function (a, c) { return e || (c = c || [], c = [a, c.slice ? c.slice() : c], g.push(c), b || i()), this }, fire: function () { return j.fireWith(this, arguments), this }, fired: function () { return !!d } }; return j }, n.extend({ Deferred: function (a) { var b = [["resolve", "done", n.Callbacks("once memory"), "resolved"], ["reject", "fail", n.Callbacks("once memory"), "rejected"], ["notify", "progress", n.Callbacks("memory")]], c = "pending", d = { state: function () { return c }, always: function () { return e.done(arguments).fail(arguments), this }, then: function () { var a = arguments; return n.Deferred(function (c) { n.each(b, function (b, f) { var g = n.isFunction(a[b]) && a[b]; e[f[1]](function () { var a = g && g.apply(this, arguments); a && n.isFunction(a.promise) ? a.promise().progress(c.notify).done(c.resolve).fail(c.reject) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments) }) }), a = null }).promise() }, promise: function (a) { return null != a ? n.extend(a, d) : d } }, e = {}; return d.pipe = d.then, n.each(b, function (a, f) { var g = f[2], h = f[3]; d[f[1]] = g.add, h && g.add(function () { c = h }, b[1 ^ a][2].disable, b[2][2].lock), e[f[0]] = function () { return e[f[0] + "With"](this === e ? d : this, arguments), this }, e[f[0] + "With"] = g.fireWith }), d.promise(e), a && a.call(e, e), e }, when: function (a) { var b = 0, c = e.call(arguments), d = c.length, f = 1 !== d || a && n.isFunction(a.promise) ? d : 0, g = 1 === f ? a : n.Deferred(), h = function (a, b, c) { return function (d) { b[a] = this, c[a] = arguments.length > 1 ? e.call(arguments) : d, c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c) } }, i, j, k; if (d > 1) for (i = new Array(d), j = new Array(d), k = new Array(d); d > b; b++)c[b] && n.isFunction(c[b].promise) ? c[b].promise().progress(h(b, j, i)).done(h(b, k, c)).fail(g.reject) : --f; return f || g.resolveWith(k, c), g.promise() } }); var I; n.fn.ready = function (a) { return n.ready.promise().done(a), this }, n.extend({ isReady: !1, readyWait: 1, holdReady: function (a) { a ? n.readyWait++ : n.ready(!0) }, ready: function (a) { (a === !0 ? --n.readyWait : n.isReady) || (n.isReady = !0, a !== !0 && --n.readyWait > 0 || (I.resolveWith(d, [n]), n.fn.triggerHandler && (n(d).triggerHandler("ready"), n(d).off("ready")))) } }); function J() { d.addEventListener ? (d.removeEventListener("DOMContentLoaded", K), a.removeEventListener("load", K)) : (d.detachEvent("onreadystatechange", K), a.detachEvent("onload", K)) } function K() { (d.addEventListener || "load" === a.event.type || "complete" === d.readyState) && (J(), n.ready()) } n.ready.promise = function (b) { if (!I) if (I = n.Deferred(), "complete" === d.readyState || "loading" !== d.readyState && !d.documentElement.doScroll) a.setTimeout(n.ready); else if (d.addEventListener) d.addEventListener("DOMContentLoaded", K), a.addEventListener("load", K); else { d.attachEvent("onreadystatechange", K), a.attachEvent("onload", K); var c = !1; try { c = null == a.frameElement && d.documentElement } catch (e) { } c && c.doScroll && !function f() { if (!n.isReady) { try { c.doScroll("left") } catch (b) { return a.setTimeout(f, 50) } J(), n.ready() } }() } return I.promise(b) }, n.ready.promise(); var L; for (L in n(l)) break; l.ownFirst = "0" === L, l.inlineBlockNeedsLayout = !1, n(function () { var a, b, c, e; c = d.getElementsByTagName("body")[0], c && c.style && (b = d.createElement("div"), e = d.createElement("div"), e.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", c.appendChild(e).appendChild(b), "undefined" != typeof b.style.zoom && (b.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1", l.inlineBlockNeedsLayout = a = 3 === b.offsetWidth, a && (c.style.zoom = 1)), c.removeChild(e)) }), function () { var a = d.createElement("div"); l.deleteExpando = !0; try { delete a.test } catch (b) { l.deleteExpando = !1 } a = null }(); var M = function (a) { var b = n.noData[(a.nodeName + " ").toLowerCase()], c = +a.nodeType || 1; return 1 !== c && 9 !== c ? !1 : !b || b !== !0 && a.getAttribute("classid") === b }, N = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, O = /([A-Z])/g; function P(a, b, c) {
                if (void 0 === c && 1 === a.nodeType) {
                    var d = "data-" + b.replace(O, "-$1").toLowerCase(); if (c = a.getAttribute(d), "string" == typeof c) { try { c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : +c + "" === c ? +c : N.test(c) ? n.parseJSON(c) : c } catch (e) { } n.data(a, b, c) } else c = void 0;
                } return c
            } function Q(a) { var b; for (b in a) if (("data" !== b || !n.isEmptyObject(a[b])) && "toJSON" !== b) return !1; return !0 } function R(a, b, d, e) { if (M(a)) { var f, g, h = n.expando, i = a.nodeType, j = i ? n.cache : a, k = i ? a[h] : a[h] && h; if (k && j[k] && (e || j[k].data) || void 0 !== d || "string" != typeof b) return k || (k = i ? a[h] = c.pop() || n.guid++ : h), j[k] || (j[k] = i ? {} : { toJSON: n.noop }), "object" != typeof b && "function" != typeof b || (e ? j[k] = n.extend(j[k], b) : j[k].data = n.extend(j[k].data, b)), g = j[k], e || (g.data || (g.data = {}), g = g.data), void 0 !== d && (g[n.camelCase(b)] = d), "string" == typeof b ? (f = g[b], null == f && (f = g[n.camelCase(b)])) : f = g, f } } function S(a, b, c) { if (M(a)) { var d, e, f = a.nodeType, g = f ? n.cache : a, h = f ? a[n.expando] : n.expando; if (g[h]) { if (b && (d = c ? g[h] : g[h].data)) { n.isArray(b) ? b = b.concat(n.map(b, n.camelCase)) : b in d ? b = [b] : (b = n.camelCase(b), b = b in d ? [b] : b.split(" ")), e = b.length; while (e--) delete d[b[e]]; if (c ? !Q(d) : !n.isEmptyObject(d)) return } (c || (delete g[h].data, Q(g[h]))) && (f ? n.cleanData([a], !0) : l.deleteExpando || g != g.window ? delete g[h] : g[h] = void 0) } } } n.extend({ cache: {}, noData: { "applet ": !0, "embed ": !0, "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" }, hasData: function (a) { return a = a.nodeType ? n.cache[a[n.expando]] : a[n.expando], !!a && !Q(a) }, data: function (a, b, c) { return R(a, b, c) }, removeData: function (a, b) { return S(a, b) }, _data: function (a, b, c) { return R(a, b, c, !0) }, _removeData: function (a, b) { return S(a, b, !0) } }), n.fn.extend({ data: function (a, b) { var c, d, e, f = this[0], g = f && f.attributes; if (void 0 === a) { if (this.length && (e = n.data(f), 1 === f.nodeType && !n._data(f, "parsedAttrs"))) { c = g.length; while (c--) g[c] && (d = g[c].name, 0 === d.indexOf("data-") && (d = n.camelCase(d.slice(5)), P(f, d, e[d]))); n._data(f, "parsedAttrs", !0) } return e } return "object" == typeof a ? this.each(function () { n.data(this, a) }) : arguments.length > 1 ? this.each(function () { n.data(this, a, b) }) : f ? P(f, a, n.data(f, a)) : void 0 }, removeData: function (a) { return this.each(function () { n.removeData(this, a) }) } }), n.extend({ queue: function (a, b, c) { var d; return a ? (b = (b || "fx") + "queue", d = n._data(a, b), c && (!d || n.isArray(c) ? d = n._data(a, b, n.makeArray(c)) : d.push(c)), d || []) : void 0 }, dequeue: function (a, b) { b = b || "fx"; var c = n.queue(a, b), d = c.length, e = c.shift(), f = n._queueHooks(a, b), g = function () { n.dequeue(a, b) }; "inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire() }, _queueHooks: function (a, b) { var c = b + "queueHooks"; return n._data(a, c) || n._data(a, c, { empty: n.Callbacks("once memory").add(function () { n._removeData(a, b + "queue"), n._removeData(a, c) }) }) } }), n.fn.extend({ queue: function (a, b) { var c = 2; return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? n.queue(this[0], a) : void 0 === b ? this : this.each(function () { var c = n.queue(this, a, b); n._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && n.dequeue(this, a) }) }, dequeue: function (a) { return this.each(function () { n.dequeue(this, a) }) }, clearQueue: function (a) { return this.queue(a || "fx", []) }, promise: function (a, b) { var c, d = 1, e = n.Deferred(), f = this, g = this.length, h = function () { --d || e.resolveWith(f, [f]) }; "string" != typeof a && (b = a, a = void 0), a = a || "fx"; while (g--) c = n._data(f[g], a + "queueHooks"), c && c.empty && (d++, c.empty.add(h)); return h(), e.promise(b) } }), function () { var a; l.shrinkWrapBlocks = function () { if (null != a) return a; a = !1; var b, c, e; return c = d.getElementsByTagName("body")[0], c && c.style ? (b = d.createElement("div"), e = d.createElement("div"), e.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", c.appendChild(e).appendChild(b), "undefined" != typeof b.style.zoom && (b.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1", b.appendChild(d.createElement("div")).style.width = "5px", a = 3 !== b.offsetWidth), c.removeChild(e), a) : void 0 } }(); var T = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, U = new RegExp("^(?:([+-])=|)(" + T + ")([a-z%]*)$", "i"), V = ["Top", "Right", "Bottom", "Left"], W = function (a, b) { return a = b || a, "none" === n.css(a, "display") || !n.contains(a.ownerDocument, a) }; function X(a, b, c, d) { var e, f = 1, g = 20, h = d ? function () { return d.cur() } : function () { return n.css(a, b, "") }, i = h(), j = c && c[3] || (n.cssNumber[b] ? "" : "px"), k = (n.cssNumber[b] || "px" !== j && +i) && U.exec(n.css(a, b)); if (k && k[3] !== j) { j = j || k[3], c = c || [], k = +i || 1; do f = f || ".5", k /= f, n.style(a, b, k + j); while (f !== (f = h() / i) && 1 !== f && --g) } return c && (k = +k || +i || 0, e = c[1] ? k + (c[1] + 1) * c[2] : +c[2], d && (d.unit = j, d.start = k, d.end = e)), e } var Y = function (a, b, c, d, e, f, g) { var h = 0, i = a.length, j = null == c; if ("object" === n.type(c)) { e = !0; for (h in c) Y(a, b, h, c[h], !0, f, g) } else if (void 0 !== d && (e = !0, n.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b = null) : (j = b, b = function (a, b, c) { return j.call(n(a), c) })), b)) for (; i > h; h++)b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c))); return e ? a : j ? b.call(a) : i ? b(a[0], c) : f }, Z = /^(?:checkbox|radio)$/i, $ = /<([\w:-]+)/, _ = /^$|\/(?:java|ecma)script/i, aa = /^\s+/, ba = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video"; function ca(a) { var b = ba.split("|"), c = a.createDocumentFragment(); if (c.createElement) while (b.length) c.createElement(b.pop()); return c } !function () { var a = d.createElement("div"), b = d.createDocumentFragment(), c = d.createElement("input"); a.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", l.leadingWhitespace = 3 === a.firstChild.nodeType, l.tbody = !a.getElementsByTagName("tbody").length, l.htmlSerialize = !!a.getElementsByTagName("link").length, l.html5Clone = "<:nav></:nav>" !== d.createElement("nav").cloneNode(!0).outerHTML, c.type = "checkbox", c.checked = !0, b.appendChild(c), l.appendChecked = c.checked, a.innerHTML = "<textarea>x</textarea>", l.noCloneChecked = !!a.cloneNode(!0).lastChild.defaultValue, b.appendChild(a), c = d.createElement("input"), c.setAttribute("type", "radio"), c.setAttribute("checked", "checked"), c.setAttribute("name", "t"), a.appendChild(c), l.checkClone = a.cloneNode(!0).cloneNode(!0).lastChild.checked, l.noCloneEvent = !!a.addEventListener, a[n.expando] = 1, l.attributes = !a.getAttribute(n.expando) }(); var da = { option: [1, "<select multiple='multiple'>", "</select>"], legend: [1, "<fieldset>", "</fieldset>"], area: [1, "<map>", "</map>"], param: [1, "<object>", "</object>"], thead: [1, "<table>", "</table>"], tr: [2, "<table><tbody>", "</tbody></table>"], col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], _default: l.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"] }; da.optgroup = da.option, da.tbody = da.tfoot = da.colgroup = da.caption = da.thead, da.th = da.td; function ea(a, b) { var c, d, e = 0, f = "undefined" != typeof a.getElementsByTagName ? a.getElementsByTagName(b || "*") : "undefined" != typeof a.querySelectorAll ? a.querySelectorAll(b || "*") : void 0; if (!f) for (f = [], c = a.childNodes || a; null != (d = c[e]); e++)!b || n.nodeName(d, b) ? f.push(d) : n.merge(f, ea(d, b)); return void 0 === b || b && n.nodeName(a, b) ? n.merge([a], f) : f } function fa(a, b) { for (var c, d = 0; null != (c = a[d]); d++)n._data(c, "globalEval", !b || n._data(b[d], "globalEval")) } var ga = /<|&#?\w+;/, ha = /<tbody/i; function ia(a) { Z.test(a.type) && (a.defaultChecked = a.checked) } function ja(a, b, c, d, e) { for (var f, g, h, i, j, k, m, o = a.length, p = ca(b), q = [], r = 0; o > r; r++)if (g = a[r], g || 0 === g) if ("object" === n.type(g)) n.merge(q, g.nodeType ? [g] : g); else if (ga.test(g)) { i = i || p.appendChild(b.createElement("div")), j = ($.exec(g) || ["", ""])[1].toLowerCase(), m = da[j] || da._default, i.innerHTML = m[1] + n.htmlPrefilter(g) + m[2], f = m[0]; while (f--) i = i.lastChild; if (!l.leadingWhitespace && aa.test(g) && q.push(b.createTextNode(aa.exec(g)[0])), !l.tbody) { g = "table" !== j || ha.test(g) ? "<table>" !== m[1] || ha.test(g) ? 0 : i : i.firstChild, f = g && g.childNodes.length; while (f--) n.nodeName(k = g.childNodes[f], "tbody") && !k.childNodes.length && g.removeChild(k) } n.merge(q, i.childNodes), i.textContent = ""; while (i.firstChild) i.removeChild(i.firstChild); i = p.lastChild } else q.push(b.createTextNode(g)); i && p.removeChild(i), l.appendChecked || n.grep(ea(q, "input"), ia), r = 0; while (g = q[r++]) if (d && n.inArray(g, d) > -1) e && e.push(g); else if (h = n.contains(g.ownerDocument, g), i = ea(p.appendChild(g), "script"), h && fa(i), c) { f = 0; while (g = i[f++]) _.test(g.type || "") && c.push(g) } return i = null, p } !function () { var b, c, e = d.createElement("div"); for (b in { submit: !0, change: !0, focusin: !0 }) c = "on" + b, (l[b] = c in a) || (e.setAttribute(c, "t"), l[b] = e.attributes[c].expando === !1); e = null }(); var ka = /^(?:input|select|textarea)$/i, la = /^key/, ma = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, na = /^(?:focusinfocus|focusoutblur)$/, oa = /^([^.]*)(?:\.(.+)|)/; function pa() { return !0 } function qa() { return !1 } function ra() { try { return d.activeElement } catch (a) { } } function sa(a, b, c, d, e, f) { var g, h; if ("object" == typeof b) { "string" != typeof c && (d = d || c, c = void 0); for (h in b) sa(a, h, c, d, b[h], f); return a } if (null == d && null == e ? (e = c, d = c = void 0) : null == e && ("string" == typeof c ? (e = d, d = void 0) : (e = d, d = c, c = void 0)), e === !1) e = qa; else if (!e) return a; return 1 === f && (g = e, e = function (a) { return n().off(a), g.apply(this, arguments) }, e.guid = g.guid || (g.guid = n.guid++)), a.each(function () { n.event.add(this, b, e, d, c) }) } n.event = { global: {}, add: function (a, b, c, d, e) { var f, g, h, i, j, k, l, m, o, p, q, r = n._data(a); if (r) { c.handler && (i = c, c = i.handler, e = i.selector), c.guid || (c.guid = n.guid++), (g = r.events) || (g = r.events = {}), (k = r.handle) || (k = r.handle = function (a) { return "undefined" == typeof n || a && n.event.triggered === a.type ? void 0 : n.event.dispatch.apply(k.elem, arguments) }, k.elem = a), b = (b || "").match(G) || [""], h = b.length; while (h--) f = oa.exec(b[h]) || [], o = q = f[1], p = (f[2] || "").split(".").sort(), o && (j = n.event.special[o] || {}, o = (e ? j.delegateType : j.bindType) || o, j = n.event.special[o] || {}, l = n.extend({ type: o, origType: q, data: d, handler: c, guid: c.guid, selector: e, needsContext: e && n.expr.match.needsContext.test(e), namespace: p.join(".") }, i), (m = g[o]) || (m = g[o] = [], m.delegateCount = 0, j.setup && j.setup.call(a, d, p, k) !== !1 || (a.addEventListener ? a.addEventListener(o, k, !1) : a.attachEvent && a.attachEvent("on" + o, k))), j.add && (j.add.call(a, l), l.handler.guid || (l.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, l) : m.push(l), n.event.global[o] = !0); a = null } }, remove: function (a, b, c, d, e) { var f, g, h, i, j, k, l, m, o, p, q, r = n.hasData(a) && n._data(a); if (r && (k = r.events)) { b = (b || "").match(G) || [""], j = b.length; while (j--) if (h = oa.exec(b[j]) || [], o = q = h[1], p = (h[2] || "").split(".").sort(), o) { l = n.event.special[o] || {}, o = (d ? l.delegateType : l.bindType) || o, m = k[o] || [], h = h[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), i = f = m.length; while (f--) g = m[f], !e && q !== g.origType || c && c.guid !== g.guid || h && !h.test(g.namespace) || d && d !== g.selector && ("**" !== d || !g.selector) || (m.splice(f, 1), g.selector && m.delegateCount--, l.remove && l.remove.call(a, g)); i && !m.length && (l.teardown && l.teardown.call(a, p, r.handle) !== !1 || n.removeEvent(a, o, r.handle), delete k[o]) } else for (o in k) n.event.remove(a, o + b[j], c, d, !0); n.isEmptyObject(k) && (delete r.handle, n._removeData(a, "events")) } }, trigger: function (b, c, e, f) { var g, h, i, j, l, m, o, p = [e || d], q = k.call(b, "type") ? b.type : b, r = k.call(b, "namespace") ? b.namespace.split(".") : []; if (i = m = e = e || d, 3 !== e.nodeType && 8 !== e.nodeType && !na.test(q + n.event.triggered) && (q.indexOf(".") > -1 && (r = q.split("."), q = r.shift(), r.sort()), h = q.indexOf(":") < 0 && "on" + q, b = b[n.expando] ? b : new n.Event(q, "object" == typeof b && b), b.isTrigger = f ? 2 : 3, b.namespace = r.join("."), b.rnamespace = b.namespace ? new RegExp("(^|\\.)" + r.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = e), c = null == c ? [b] : n.makeArray(c, [b]), l = n.event.special[q] || {}, f || !l.trigger || l.trigger.apply(e, c) !== !1)) { if (!f && !l.noBubble && !n.isWindow(e)) { for (j = l.delegateType || q, na.test(j + q) || (i = i.parentNode); i; i = i.parentNode)p.push(i), m = i; m === (e.ownerDocument || d) && p.push(m.defaultView || m.parentWindow || a) } o = 0; while ((i = p[o++]) && !b.isPropagationStopped()) b.type = o > 1 ? j : l.bindType || q, g = (n._data(i, "events") || {})[b.type] && n._data(i, "handle"), g && g.apply(i, c), g = h && i[h], g && g.apply && M(i) && (b.result = g.apply(i, c), b.result === !1 && b.preventDefault()); if (b.type = q, !f && !b.isDefaultPrevented() && (!l._default || l._default.apply(p.pop(), c) === !1) && M(e) && h && e[q] && !n.isWindow(e)) { m = e[h], m && (e[h] = null), n.event.triggered = q; try { e[q]() } catch (s) { } n.event.triggered = void 0, m && (e[h] = m) } return b.result } }, dispatch: function (a) { a = n.event.fix(a); var b, c, d, f, g, h = [], i = e.call(arguments), j = (n._data(this, "events") || {})[a.type] || [], k = n.event.special[a.type] || {}; if (i[0] = a, a.delegateTarget = this, !k.preDispatch || k.preDispatch.call(this, a) !== !1) { h = n.event.handlers.call(this, a, j), b = 0; while ((f = h[b++]) && !a.isPropagationStopped()) { a.currentTarget = f.elem, c = 0; while ((g = f.handlers[c++]) && !a.isImmediatePropagationStopped()) a.rnamespace && !a.rnamespace.test(g.namespace) || (a.handleObj = g, a.data = g.data, d = ((n.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i), void 0 !== d && (a.result = d) === !1 && (a.preventDefault(), a.stopPropagation())) } return k.postDispatch && k.postDispatch.call(this, a), a.result } }, handlers: function (a, b) { var c, d, e, f, g = [], h = b.delegateCount, i = a.target; if (h && i.nodeType && ("click" !== a.type || isNaN(a.button) || a.button < 1)) for (; i != this; i = i.parentNode || this)if (1 === i.nodeType && (i.disabled !== !0 || "click" !== a.type)) { for (d = [], c = 0; h > c; c++)f = b[c], e = f.selector + " ", void 0 === d[e] && (d[e] = f.needsContext ? n(e, this).index(i) > -1 : n.find(e, this, null, [i]).length), d[e] && d.push(f); d.length && g.push({ elem: i, handlers: d }) } return h < b.length && g.push({ elem: this, handlers: b.slice(h) }), g }, fix: function (a) { if (a[n.expando]) return a; var b, c, e, f = a.type, g = a, h = this.fixHooks[f]; h || (this.fixHooks[f] = h = ma.test(f) ? this.mouseHooks : la.test(f) ? this.keyHooks : {}), e = h.props ? this.props.concat(h.props) : this.props, a = new n.Event(g), b = e.length; while (b--) c = e[b], a[c] = g[c]; return a.target || (a.target = g.srcElement || d), 3 === a.target.nodeType && (a.target = a.target.parentNode), a.metaKey = !!a.metaKey, h.filter ? h.filter(a, g) : a }, props: "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "), fixHooks: {}, keyHooks: { props: "char charCode key keyCode".split(" "), filter: function (a, b) { return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode), a } }, mouseHooks: { props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "), filter: function (a, b) { var c, e, f, g = b.button, h = b.fromElement; return null == a.pageX && null != b.clientX && (e = a.target.ownerDocument || d, f = e.documentElement, c = e.body, a.pageX = b.clientX + (f && f.scrollLeft || c && c.scrollLeft || 0) - (f && f.clientLeft || c && c.clientLeft || 0), a.pageY = b.clientY + (f && f.scrollTop || c && c.scrollTop || 0) - (f && f.clientTop || c && c.clientTop || 0)), !a.relatedTarget && h && (a.relatedTarget = h === a.target ? b.toElement : h), a.which || void 0 === g || (a.which = 1 & g ? 1 : 2 & g ? 3 : 4 & g ? 2 : 0), a } }, special: { load: { noBubble: !0 }, focus: { trigger: function () { if (this !== ra() && this.focus) try { return this.focus(), !1 } catch (a) { } }, delegateType: "focusin" }, blur: { trigger: function () { return this === ra() && this.blur ? (this.blur(), !1) : void 0 }, delegateType: "focusout" }, click: { trigger: function () { return n.nodeName(this, "input") && "checkbox" === this.type && this.click ? (this.click(), !1) : void 0 }, _default: function (a) { return n.nodeName(a.target, "a") } }, beforeunload: { postDispatch: function (a) { void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result) } } }, simulate: function (a, b, c) { var d = n.extend(new n.Event, c, { type: a, isSimulated: !0 }); n.event.trigger(d, null, b), d.isDefaultPrevented() && c.preventDefault() } }, n.removeEvent = d.removeEventListener ? function (a, b, c) { a.removeEventListener && a.removeEventListener(b, c) } : function (a, b, c) { var d = "on" + b; a.detachEvent && ("undefined" == typeof a[d] && (a[d] = null), a.detachEvent(d, c)) }, n.Event = function (a, b) { return this instanceof n.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? pa : qa) : this.type = a, b && n.extend(this, b), this.timeStamp = a && a.timeStamp || n.now(), void (this[n.expando] = !0)) : new n.Event(a, b) }, n.Event.prototype = { constructor: n.Event, isDefaultPrevented: qa, isPropagationStopped: qa, isImmediatePropagationStopped: qa, preventDefault: function () { var a = this.originalEvent; this.isDefaultPrevented = pa, a && (a.preventDefault ? a.preventDefault() : a.returnValue = !1) }, stopPropagation: function () { var a = this.originalEvent; this.isPropagationStopped = pa, a && !this.isSimulated && (a.stopPropagation && a.stopPropagation(), a.cancelBubble = !0) }, stopImmediatePropagation: function () { var a = this.originalEvent; this.isImmediatePropagationStopped = pa, a && a.stopImmediatePropagation && a.stopImmediatePropagation(), this.stopPropagation() } }, n.each({ mouseenter: "mouseover", mouseleave: "mouseout", pointerenter: "pointerover", pointerleave: "pointerout" }, function (a, b) { n.event.special[a] = { delegateType: b, bindType: b, handle: function (a) { var c, d = this, e = a.relatedTarget, f = a.handleObj; return e && (e === d || n.contains(d, e)) || (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c } } }), l.submit || (n.event.special.submit = { setup: function () { return n.nodeName(this, "form") ? !1 : void n.event.add(this, "click._submit keypress._submit", function (a) { var b = a.target, c = n.nodeName(b, "input") || n.nodeName(b, "button") ? n.prop(b, "form") : void 0; c && !n._data(c, "submit") && (n.event.add(c, "submit._submit", function (a) { a._submitBubble = !0 }), n._data(c, "submit", !0)) }) }, postDispatch: function (a) { a._submitBubble && (delete a._submitBubble, this.parentNode && !a.isTrigger && n.event.simulate("submit", this.parentNode, a)) }, teardown: function () { return n.nodeName(this, "form") ? !1 : void n.event.remove(this, "._submit") } }), l.change || (n.event.special.change = { setup: function () { return ka.test(this.nodeName) ? ("checkbox" !== this.type && "radio" !== this.type || (n.event.add(this, "propertychange._change", function (a) { "checked" === a.originalEvent.propertyName && (this._justChanged = !0) }), n.event.add(this, "click._change", function (a) { this._justChanged && !a.isTrigger && (this._justChanged = !1), n.event.simulate("change", this, a) })), !1) : void n.event.add(this, "beforeactivate._change", function (a) { var b = a.target; ka.test(b.nodeName) && !n._data(b, "change") && (n.event.add(b, "change._change", function (a) { !this.parentNode || a.isSimulated || a.isTrigger || n.event.simulate("change", this.parentNode, a) }), n._data(b, "change", !0)) }) }, handle: function (a) { var b = a.target; return this !== b || a.isSimulated || a.isTrigger || "radio" !== b.type && "checkbox" !== b.type ? a.handleObj.handler.apply(this, arguments) : void 0 }, teardown: function () { return n.event.remove(this, "._change"), !ka.test(this.nodeName) } }), l.focusin || n.each({ focus: "focusin", blur: "focusout" }, function (a, b) { var c = function (a) { n.event.simulate(b, a.target, n.event.fix(a)) }; n.event.special[b] = { setup: function () { var d = this.ownerDocument || this, e = n._data(d, b); e || d.addEventListener(a, c, !0), n._data(d, b, (e || 0) + 1) }, teardown: function () { var d = this.ownerDocument || this, e = n._data(d, b) - 1; e ? n._data(d, b, e) : (d.removeEventListener(a, c, !0), n._removeData(d, b)) } } }), n.fn.extend({ on: function (a, b, c, d) { return sa(this, a, b, c, d) }, one: function (a, b, c, d) { return sa(this, a, b, c, d, 1) }, off: function (a, b, c) { var d, e; if (a && a.preventDefault && a.handleObj) return d = a.handleObj, n(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), this; if ("object" == typeof a) { for (e in a) this.off(e, b, a[e]); return this } return b !== !1 && "function" != typeof b || (c = b, b = void 0), c === !1 && (c = qa), this.each(function () { n.event.remove(this, a, c, b) }) }, trigger: function (a, b) { return this.each(function () { n.event.trigger(a, b, this) }) }, triggerHandler: function (a, b) { var c = this[0]; return c ? n.event.trigger(a, b, c, !0) : void 0 } }); var ta = / jQuery\d+="(?:null|\d+)"/g, ua = new RegExp("<(?:" + ba + ")[\\s/>]", "i"), va = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi, wa = /<script|<style|<link/i, xa = /checked\s*(?:[^=]|=\s*.checked.)/i, ya = /^true\/(.*)/, za = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g, Aa = ca(d), Ba = Aa.appendChild(d.createElement("div")); function Ca(a, b) { return n.nodeName(a, "table") && n.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a } function Da(a) { return a.type = (null !== n.find.attr(a, "type")) + "/" + a.type, a } function Ea(a) { var b = ya.exec(a.type); return b ? a.type = b[1] : a.removeAttribute("type"), a } function Fa(a, b) { if (1 === b.nodeType && n.hasData(a)) { var c, d, e, f = n._data(a), g = n._data(b, f), h = f.events; if (h) { delete g.handle, g.events = {}; for (c in h) for (d = 0, e = h[c].length; e > d; d++)n.event.add(b, c, h[c][d]) } g.data && (g.data = n.extend({}, g.data)) } } function Ga(a, b) { var c, d, e; if (1 === b.nodeType) { if (c = b.nodeName.toLowerCase(), !l.noCloneEvent && b[n.expando]) { e = n._data(b); for (d in e.events) n.removeEvent(b, d, e.handle); b.removeAttribute(n.expando) } "script" === c && b.text !== a.text ? (Da(b).text = a.text, Ea(b)) : "object" === c ? (b.parentNode && (b.outerHTML = a.outerHTML), l.html5Clone && a.innerHTML && !n.trim(b.innerHTML) && (b.innerHTML = a.innerHTML)) : "input" === c && Z.test(a.type) ? (b.defaultChecked = b.checked = a.checked, b.value !== a.value && (b.value = a.value)) : "option" === c ? b.defaultSelected = b.selected = a.defaultSelected : "input" !== c && "textarea" !== c || (b.defaultValue = a.defaultValue) } } function Ha(a, b, c, d) { b = f.apply([], b); var e, g, h, i, j, k, m = 0, o = a.length, p = o - 1, q = b[0], r = n.isFunction(q); if (r || o > 1 && "string" == typeof q && !l.checkClone && xa.test(q)) return a.each(function (e) { var f = a.eq(e); r && (b[0] = q.call(this, e, f.html())), Ha(f, b, c, d) }); if (o && (k = ja(b, a[0].ownerDocument, !1, a, d), e = k.firstChild, 1 === k.childNodes.length && (k = e), e || d)) { for (i = n.map(ea(k, "script"), Da), h = i.length; o > m; m++)g = k, m !== p && (g = n.clone(g, !0, !0), h && n.merge(i, ea(g, "script"))), c.call(a[m], g, m); if (h) for (j = i[i.length - 1].ownerDocument, n.map(i, Ea), m = 0; h > m; m++)g = i[m], _.test(g.type || "") && !n._data(g, "globalEval") && n.contains(j, g) && (g.src ? n._evalUrl && n._evalUrl(g.src) : n.globalEval((g.text || g.textContent || g.innerHTML || "").replace(za, ""))); k = e = null } return a } function Ia(a, b, c) { for (var d, e = b ? n.filter(b, a) : a, f = 0; null != (d = e[f]); f++)c || 1 !== d.nodeType || n.cleanData(ea(d)), d.parentNode && (c && n.contains(d.ownerDocument, d) && fa(ea(d, "script")), d.parentNode.removeChild(d)); return a } n.extend({ htmlPrefilter: function (a) { return a.replace(va, "<$1></$2>") }, clone: function (a, b, c) { var d, e, f, g, h, i = n.contains(a.ownerDocument, a); if (l.html5Clone || n.isXMLDoc(a) || !ua.test("<" + a.nodeName + ">") ? f = a.cloneNode(!0) : (Ba.innerHTML = a.outerHTML, Ba.removeChild(f = Ba.firstChild)), !(l.noCloneEvent && l.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || n.isXMLDoc(a))) for (d = ea(f), h = ea(a), g = 0; null != (e = h[g]); ++g)d[g] && Ga(e, d[g]); if (b) if (c) for (h = h || ea(a), d = d || ea(f), g = 0; null != (e = h[g]); g++)Fa(e, d[g]); else Fa(a, f); return d = ea(f, "script"), d.length > 0 && fa(d, !i && ea(a, "script")), d = h = e = null, f }, cleanData: function (a, b) { for (var d, e, f, g, h = 0, i = n.expando, j = n.cache, k = l.attributes, m = n.event.special; null != (d = a[h]); h++)if ((b || M(d)) && (f = d[i], g = f && j[f])) { if (g.events) for (e in g.events) m[e] ? n.event.remove(d, e) : n.removeEvent(d, e, g.handle); j[f] && (delete j[f], k || "undefined" == typeof d.removeAttribute ? d[i] = void 0 : d.removeAttribute(i), c.push(f)) } } }), n.fn.extend({ domManip: Ha, detach: function (a) { return Ia(this, a, !0) }, remove: function (a) { return Ia(this, a) }, text: function (a) { return Y(this, function (a) { return void 0 === a ? n.text(this) : this.empty().append((this[0] && this[0].ownerDocument || d).createTextNode(a)) }, null, a, arguments.length) }, append: function () { return Ha(this, arguments, function (a) { if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) { var b = Ca(this, a); b.appendChild(a) } }) }, prepend: function () { return Ha(this, arguments, function (a) { if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) { var b = Ca(this, a); b.insertBefore(a, b.firstChild) } }) }, before: function () { return Ha(this, arguments, function (a) { this.parentNode && this.parentNode.insertBefore(a, this) }) }, after: function () { return Ha(this, arguments, function (a) { this.parentNode && this.parentNode.insertBefore(a, this.nextSibling) }) }, empty: function () { for (var a, b = 0; null != (a = this[b]); b++) { 1 === a.nodeType && n.cleanData(ea(a, !1)); while (a.firstChild) a.removeChild(a.firstChild); a.options && n.nodeName(a, "select") && (a.options.length = 0) } return this }, clone: function (a, b) { return a = null == a ? !1 : a, b = null == b ? a : b, this.map(function () { return n.clone(this, a, b) }) }, html: function (a) { return Y(this, function (a) { var b = this[0] || {}, c = 0, d = this.length; if (void 0 === a) return 1 === b.nodeType ? b.innerHTML.replace(ta, "") : void 0; if ("string" == typeof a && !wa.test(a) && (l.htmlSerialize || !ua.test(a)) && (l.leadingWhitespace || !aa.test(a)) && !da[($.exec(a) || ["", ""])[1].toLowerCase()]) { a = n.htmlPrefilter(a); try { for (; d > c; c++)b = this[c] || {}, 1 === b.nodeType && (n.cleanData(ea(b, !1)), b.innerHTML = a); b = 0 } catch (e) { } } b && this.empty().append(a) }, null, a, arguments.length) }, replaceWith: function () { var a = []; return Ha(this, arguments, function (b) { var c = this.parentNode; n.inArray(this, a) < 0 && (n.cleanData(ea(this)), c && c.replaceChild(b, this)) }, a) } }), n.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (a, b) { n.fn[a] = function (a) { for (var c, d = 0, e = [], f = n(a), h = f.length - 1; h >= d; d++)c = d === h ? this : this.clone(!0), n(f[d])[b](c), g.apply(e, c.get()); return this.pushStack(e) } }); var Ja, Ka = { HTML: "block", BODY: "block" }; function La(a, b) { var c = n(b.createElement(a)).appendTo(b.body), d = n.css(c[0], "display"); return c.detach(), d } function Ma(a) { var b = d, c = Ka[a]; return c || (c = La(a, b), "none" !== c && c || (Ja = (Ja || n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement), b = (Ja[0].contentWindow || Ja[0].contentDocument).document, b.write(), b.close(), c = La(a, b), Ja.detach()), Ka[a] = c), c } var Na = /^margin/, Oa = new RegExp("^(" + T + ")(?!px)[a-z%]+$", "i"), Pa = function (a, b, c, d) { var e, f, g = {}; for (f in b) g[f] = a.style[f], a.style[f] = b[f]; e = c.apply(a, d || []); for (f in b) a.style[f] = g[f]; return e }, Qa = d.documentElement; !function () { var b, c, e, f, g, h, i = d.createElement("div"), j = d.createElement("div"); if (j.style) { j.style.cssText = "float:left;opacity:.5", l.opacity = "0.5" === j.style.opacity, l.cssFloat = !!j.style.cssFloat, j.style.backgroundClip = "content-box", j.cloneNode(!0).style.backgroundClip = "", l.clearCloneStyle = "content-box" === j.style.backgroundClip, i = d.createElement("div"), i.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute", j.innerHTML = "", i.appendChild(j), l.boxSizing = "" === j.style.boxSizing || "" === j.style.MozBoxSizing || "" === j.style.WebkitBoxSizing, n.extend(l, { reliableHiddenOffsets: function () { return null == b && k(), f }, boxSizingReliable: function () { return null == b && k(), e }, pixelMarginRight: function () { return null == b && k(), c }, pixelPosition: function () { return null == b && k(), b }, reliableMarginRight: function () { return null == b && k(), g }, reliableMarginLeft: function () { return null == b && k(), h } }); function k() { var k, l, m = d.documentElement; m.appendChild(i), j.style.cssText = "-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%", b = e = h = !1, c = g = !0, a.getComputedStyle && (l = a.getComputedStyle(j), b = "1%" !== (l || {}).top, h = "2px" === (l || {}).marginLeft, e = "4px" === (l || { width: "4px" }).width, j.style.marginRight = "50%", c = "4px" === (l || { marginRight: "4px" }).marginRight, k = j.appendChild(d.createElement("div")), k.style.cssText = j.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", k.style.marginRight = k.style.width = "0", j.style.width = "1px", g = !parseFloat((a.getComputedStyle(k) || {}).marginRight), j.removeChild(k)), j.style.display = "none", f = 0 === j.getClientRects().length, f && (j.style.display = "", j.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", j.childNodes[0].style.borderCollapse = "separate", k = j.getElementsByTagName("td"), k[0].style.cssText = "margin:0;border:0;padding:0;display:none", f = 0 === k[0].offsetHeight, f && (k[0].style.display = "", k[1].style.display = "none", f = 0 === k[0].offsetHeight)), m.removeChild(i) } } }(); var Ra, Sa, Ta = /^(top|right|bottom|left)$/; a.getComputedStyle ? (Ra = function (b) { var c = b.ownerDocument.defaultView; return c && c.opener || (c = a), c.getComputedStyle(b) }, Sa = function (a, b, c) { var d, e, f, g, h = a.style; return c = c || Ra(a), g = c ? c.getPropertyValue(b) || c[b] : void 0, "" !== g && void 0 !== g || n.contains(a.ownerDocument, a) || (g = n.style(a, b)), c && !l.pixelMarginRight() && Oa.test(g) && Na.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f), void 0 === g ? g : g + "" }) : Qa.currentStyle && (Ra = function (a) { return a.currentStyle }, Sa = function (a, b, c) { var d, e, f, g, h = a.style; return c = c || Ra(a), g = c ? c[b] : void 0, null == g && h && h[b] && (g = h[b]), Oa.test(g) && !Ta.test(b) && (d = h.left, e = a.runtimeStyle, f = e && e.left, f && (e.left = a.currentStyle.left), h.left = "fontSize" === b ? "1em" : g, g = h.pixelLeft + "px", h.left = d, f && (e.left = f)), void 0 === g ? g : g + "" || "auto" }); function Ua(a, b) { return { get: function () { return a() ? void delete this.get : (this.get = b).apply(this, arguments) } } } var Va = /alpha\([^)]*\)/i, Wa = /opacity\s*=\s*([^)]*)/i, Xa = /^(none|table(?!-c[ea]).+)/, Ya = new RegExp("^(" + T + ")(.*)$", "i"), Za = { position: "absolute", visibility: "hidden", display: "block" }, $a = { letterSpacing: "0", fontWeight: "400" }, _a = ["Webkit", "O", "Moz", "ms"], ab = d.createElement("div").style; function bb(a) { if (a in ab) return a; var b = a.charAt(0).toUpperCase() + a.slice(1), c = _a.length; while (c--) if (a = _a[c] + b, a in ab) return a } function cb(a, b) { for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++)d = a[g], d.style && (f[g] = n._data(d, "olddisplay"), c = d.style.display, b ? (f[g] || "none" !== c || (d.style.display = ""), "" === d.style.display && W(d) && (f[g] = n._data(d, "olddisplay", Ma(d.nodeName)))) : (e = W(d), (c && "none" !== c || !e) && n._data(d, "olddisplay", e ? c : n.css(d, "display")))); for (g = 0; h > g; g++)d = a[g], d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none")); return a } function db(a, b, c) { var d = Ya.exec(b); return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b } function eb(a, b, c, d, e) { for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2)"margin" === c && (g += n.css(a, c + V[f], !0, e)), d ? ("content" === c && (g -= n.css(a, "padding" + V[f], !0, e)), "margin" !== c && (g -= n.css(a, "border" + V[f] + "Width", !0, e))) : (g += n.css(a, "padding" + V[f], !0, e), "padding" !== c && (g += n.css(a, "border" + V[f] + "Width", !0, e))); return g } function fb(a, b, c) { var d = !0, e = "width" === b ? a.offsetWidth : a.offsetHeight, f = Ra(a), g = l.boxSizing && "border-box" === n.css(a, "boxSizing", !1, f); if (0 >= e || null == e) { if (e = Sa(a, b, f), (0 > e || null == e) && (e = a.style[b]), Oa.test(e)) return e; d = g && (l.boxSizingReliable() || e === a.style[b]), e = parseFloat(e) || 0 } return e + eb(a, b, c || (g ? "border" : "content"), d, f) + "px" } n.extend({ cssHooks: { opacity: { get: function (a, b) { if (b) { var c = Sa(a, "opacity"); return "" === c ? "1" : c } } } }, cssNumber: { animationIterationCount: !0, columnCount: !0, fillOpacity: !0, flexGrow: !0, flexShrink: !0, fontWeight: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: { "float": l.cssFloat ? "cssFloat" : "styleFloat" }, style: function (a, b, c, d) { if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) { var e, f, g, h = n.camelCase(b), i = a.style; if (b = n.cssProps[h] || (n.cssProps[h] = bb(h) || h), g = n.cssHooks[b] || n.cssHooks[h], void 0 === c) return g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b]; if (f = typeof c, "string" === f && (e = U.exec(c)) && e[1] && (c = X(a, b, e), f = "number"), null != c && c === c && ("number" === f && (c += e && e[3] || (n.cssNumber[h] ? "" : "px")), l.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"), !(g && "set" in g && void 0 === (c = g.set(a, c, d))))) try { i[b] = c } catch (j) { } } }, css: function (a, b, c, d) { var e, f, g, h = n.camelCase(b); return b = n.cssProps[h] || (n.cssProps[h] = bb(h) || h), g = n.cssHooks[b] || n.cssHooks[h], g && "get" in g && (f = g.get(a, !0, c)), void 0 === f && (f = Sa(a, b, d)), "normal" === f && b in $a && (f = $a[b]), "" === c || c ? (e = parseFloat(f), c === !0 || isFinite(e) ? e || 0 : f) : f } }), n.each(["height", "width"], function (a, b) { n.cssHooks[b] = { get: function (a, c, d) { return c ? Xa.test(n.css(a, "display")) && 0 === a.offsetWidth ? Pa(a, Za, function () { return fb(a, b, d) }) : fb(a, b, d) : void 0 }, set: function (a, c, d) { var e = d && Ra(a); return db(a, c, d ? eb(a, b, d, l.boxSizing && "border-box" === n.css(a, "boxSizing", !1, e), e) : 0) } } }), l.opacity || (n.cssHooks.opacity = { get: function (a, b) { return Wa.test((b && a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : b ? "1" : "" }, set: function (a, b) { var c = a.style, d = a.currentStyle, e = n.isNumeric(b) ? "alpha(opacity=" + 100 * b + ")" : "", f = d && d.filter || c.filter || ""; c.zoom = 1, (b >= 1 || "" === b) && "" === n.trim(f.replace(Va, "")) && c.removeAttribute && (c.removeAttribute("filter"), "" === b || d && !d.filter) || (c.filter = Va.test(f) ? f.replace(Va, e) : f + " " + e) } }), n.cssHooks.marginRight = Ua(l.reliableMarginRight, function (a, b) { return b ? Pa(a, { display: "inline-block" }, Sa, [a, "marginRight"]) : void 0 }), n.cssHooks.marginLeft = Ua(l.reliableMarginLeft, function (a, b) {
                return b ? (parseFloat(Sa(a, "marginLeft")) || (n.contains(a.ownerDocument, a) ? a.getBoundingClientRect().left - Pa(a, {
                    marginLeft: 0
                }, function () { return a.getBoundingClientRect().left }) : 0)) + "px" : void 0
            }), n.each({ margin: "", padding: "", border: "Width" }, function (a, b) { n.cssHooks[a + b] = { expand: function (c) { for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++)e[a + V[d] + b] = f[d] || f[d - 2] || f[0]; return e } }, Na.test(a) || (n.cssHooks[a + b].set = db) }), n.fn.extend({ css: function (a, b) { return Y(this, function (a, b, c) { var d, e, f = {}, g = 0; if (n.isArray(b)) { for (d = Ra(a), e = b.length; e > g; g++)f[b[g]] = n.css(a, b[g], !1, d); return f } return void 0 !== c ? n.style(a, b, c) : n.css(a, b) }, a, b, arguments.length > 1) }, show: function () { return cb(this, !0) }, hide: function () { return cb(this) }, toggle: function (a) { return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function () { W(this) ? n(this).show() : n(this).hide() }) } }); function gb(a, b, c, d, e) { return new gb.prototype.init(a, b, c, d, e) } n.Tween = gb, gb.prototype = { constructor: gb, init: function (a, b, c, d, e, f) { this.elem = a, this.prop = c, this.easing = e || n.easing._default, this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (n.cssNumber[c] ? "" : "px") }, cur: function () { var a = gb.propHooks[this.prop]; return a && a.get ? a.get(this) : gb.propHooks._default.get(this) }, run: function (a) { var b, c = gb.propHooks[this.prop]; return this.options.duration ? this.pos = b = n.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : this.pos = b = a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : gb.propHooks._default.set(this), this } }, gb.prototype.init.prototype = gb.prototype, gb.propHooks = { _default: { get: function (a) { var b; return 1 !== a.elem.nodeType || null != a.elem[a.prop] && null == a.elem.style[a.prop] ? a.elem[a.prop] : (b = n.css(a.elem, a.prop, ""), b && "auto" !== b ? b : 0) }, set: function (a) { n.fx.step[a.prop] ? n.fx.step[a.prop](a) : 1 !== a.elem.nodeType || null == a.elem.style[n.cssProps[a.prop]] && !n.cssHooks[a.prop] ? a.elem[a.prop] = a.now : n.style(a.elem, a.prop, a.now + a.unit) } } }, gb.propHooks.scrollTop = gb.propHooks.scrollLeft = { set: function (a) { a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now) } }, n.easing = { linear: function (a) { return a }, swing: function (a) { return .5 - Math.cos(a * Math.PI) / 2 }, _default: "swing" }, n.fx = gb.prototype.init, n.fx.step = {}; var hb, ib, jb = /^(?:toggle|show|hide)$/, kb = /queueHooks$/; function lb() { return a.setTimeout(function () { hb = void 0 }), hb = n.now() } function mb(a, b) { var c, d = { height: a }, e = 0; for (b = b ? 1 : 0; 4 > e; e += 2 - b)c = V[e], d["margin" + c] = d["padding" + c] = a; return b && (d.opacity = d.width = a), d } function nb(a, b, c) { for (var d, e = (qb.tweeners[b] || []).concat(qb.tweeners["*"]), f = 0, g = e.length; g > f; f++)if (d = e[f].call(c, b, a)) return d } function ob(a, b, c) { var d, e, f, g, h, i, j, k, m = this, o = {}, p = a.style, q = a.nodeType && W(a), r = n._data(a, "fxshow"); c.queue || (h = n._queueHooks(a, "fx"), null == h.unqueued && (h.unqueued = 0, i = h.empty.fire, h.empty.fire = function () { h.unqueued || i() }), h.unqueued++, m.always(function () { m.always(function () { h.unqueued--, n.queue(a, "fx").length || h.empty.fire() }) })), 1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [p.overflow, p.overflowX, p.overflowY], j = n.css(a, "display"), k = "none" === j ? n._data(a, "olddisplay") || Ma(a.nodeName) : j, "inline" === k && "none" === n.css(a, "float") && (l.inlineBlockNeedsLayout && "inline" !== Ma(a.nodeName) ? p.zoom = 1 : p.display = "inline-block")), c.overflow && (p.overflow = "hidden", l.shrinkWrapBlocks() || m.always(function () { p.overflow = c.overflow[0], p.overflowX = c.overflow[1], p.overflowY = c.overflow[2] })); for (d in b) if (e = b[d], jb.exec(e)) { if (delete b[d], f = f || "toggle" === e, e === (q ? "hide" : "show")) { if ("show" !== e || !r || void 0 === r[d]) continue; q = !0 } o[d] = r && r[d] || n.style(a, d) } else j = void 0; if (n.isEmptyObject(o)) "inline" === ("none" === j ? Ma(a.nodeName) : j) && (p.display = j); else { r ? "hidden" in r && (q = r.hidden) : r = n._data(a, "fxshow", {}), f && (r.hidden = !q), q ? n(a).show() : m.done(function () { n(a).hide() }), m.done(function () { var b; n._removeData(a, "fxshow"); for (b in o) n.style(a, b, o[b]) }); for (d in o) g = nb(q ? r[d] : 0, d, m), d in r || (r[d] = g.start, q && (g.end = g.start, g.start = "width" === d || "height" === d ? 1 : 0)) } } function pb(a, b) { var c, d, e, f, g; for (c in a) if (d = n.camelCase(c), e = b[d], f = a[c], n.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = n.cssHooks[d], g && "expand" in g) { f = g.expand(f), delete a[d]; for (c in f) c in a || (a[c] = f[c], b[c] = e) } else b[d] = e } function qb(a, b, c) { var d, e, f = 0, g = qb.prefilters.length, h = n.Deferred().always(function () { delete i.elem }), i = function () { if (e) return !1; for (var b = hb || lb(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++)j.tweens[g].run(f); return h.notifyWith(a, [j, f, c]), 1 > f && i ? c : (h.resolveWith(a, [j]), !1) }, j = h.promise({ elem: a, props: n.extend({}, b), opts: n.extend(!0, { specialEasing: {}, easing: n.easing._default }, c), originalProperties: b, originalOptions: c, startTime: hb || lb(), duration: c.duration, tweens: [], createTween: function (b, c) { var d = n.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing); return j.tweens.push(d), d }, stop: function (b) { var c = 0, d = b ? j.tweens.length : 0; if (e) return this; for (e = !0; d > c; c++)j.tweens[c].run(1); return b ? (h.notifyWith(a, [j, 1, 0]), h.resolveWith(a, [j, b])) : h.rejectWith(a, [j, b]), this } }), k = j.props; for (pb(k, j.opts.specialEasing); g > f; f++)if (d = qb.prefilters[f].call(j, a, k, j.opts)) return n.isFunction(d.stop) && (n._queueHooks(j.elem, j.opts.queue).stop = n.proxy(d.stop, d)), d; return n.map(k, nb, j), n.isFunction(j.opts.start) && j.opts.start.call(a, j), n.fx.timer(n.extend(i, { elem: a, anim: j, queue: j.opts.queue })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always) } n.Animation = n.extend(qb, { tweeners: { "*": [function (a, b) { var c = this.createTween(a, b); return X(c.elem, a, U.exec(b), c), c }] }, tweener: function (a, b) { n.isFunction(a) ? (b = a, a = ["*"]) : a = a.match(G); for (var c, d = 0, e = a.length; e > d; d++)c = a[d], qb.tweeners[c] = qb.tweeners[c] || [], qb.tweeners[c].unshift(b) }, prefilters: [ob], prefilter: function (a, b) { b ? qb.prefilters.unshift(a) : qb.prefilters.push(a) } }), n.speed = function (a, b, c) { var d = a && "object" == typeof a ? n.extend({}, a) : { complete: c || !c && b || n.isFunction(a) && a, duration: a, easing: c && b || b && !n.isFunction(b) && b }; return d.duration = n.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in n.fx.speeds ? n.fx.speeds[d.duration] : n.fx.speeds._default, null != d.queue && d.queue !== !0 || (d.queue = "fx"), d.old = d.complete, d.complete = function () { n.isFunction(d.old) && d.old.call(this), d.queue && n.dequeue(this, d.queue) }, d }, n.fn.extend({ fadeTo: function (a, b, c, d) { return this.filter(W).css("opacity", 0).show().end().animate({ opacity: b }, a, c, d) }, animate: function (a, b, c, d) { var e = n.isEmptyObject(a), f = n.speed(b, c, d), g = function () { var b = qb(this, n.extend({}, a), f); (e || n._data(this, "finish")) && b.stop(!0) }; return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g) }, stop: function (a, b, c) { var d = function (a) { var b = a.stop; delete a.stop, b(c) }; return "string" != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this.queue(a || "fx", []), this.each(function () { var b = !0, e = null != a && a + "queueHooks", f = n.timers, g = n._data(this); if (e) g[e] && g[e].stop && d(g[e]); else for (e in g) g[e] && g[e].stop && kb.test(e) && d(g[e]); for (e = f.length; e--;)f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1)); !b && c || n.dequeue(this, a) }) }, finish: function (a) { return a !== !1 && (a = a || "fx"), this.each(function () { var b, c = n._data(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = n.timers, g = d ? d.length : 0; for (c.finish = !0, n.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;)f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1)); for (b = 0; g > b; b++)d[b] && d[b].finish && d[b].finish.call(this); delete c.finish }) } }), n.each(["toggle", "show", "hide"], function (a, b) { var c = n.fn[b]; n.fn[b] = function (a, d, e) { return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(mb(b, !0), a, d, e) } }), n.each({ slideDown: mb("show"), slideUp: mb("hide"), slideToggle: mb("toggle"), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle" } }, function (a, b) { n.fn[a] = function (a, c, d) { return this.animate(b, a, c, d) } }), n.timers = [], n.fx.tick = function () { var a, b = n.timers, c = 0; for (hb = n.now(); c < b.length; c++)a = b[c], a() || b[c] !== a || b.splice(c--, 1); b.length || n.fx.stop(), hb = void 0 }, n.fx.timer = function (a) { n.timers.push(a), a() ? n.fx.start() : n.timers.pop() }, n.fx.interval = 13, n.fx.start = function () { ib || (ib = a.setInterval(n.fx.tick, n.fx.interval)) }, n.fx.stop = function () { a.clearInterval(ib), ib = null }, n.fx.speeds = { slow: 600, fast: 200, _default: 400 }, n.fn.delay = function (b, c) { return b = n.fx ? n.fx.speeds[b] || b : b, c = c || "fx", this.queue(c, function (c, d) { var e = a.setTimeout(c, b); d.stop = function () { a.clearTimeout(e) } }) }, function () { var a, b = d.createElement("input"), c = d.createElement("div"), e = d.createElement("select"), f = e.appendChild(d.createElement("option")); c = d.createElement("div"), c.setAttribute("className", "t"), c.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", a = c.getElementsByTagName("a")[0], b.setAttribute("type", "checkbox"), c.appendChild(b), a = c.getElementsByTagName("a")[0], a.style.cssText = "top:1px", l.getSetAttribute = "t" !== c.className, l.style = /top/.test(a.getAttribute("style")), l.hrefNormalized = "/a" === a.getAttribute("href"), l.checkOn = !!b.value, l.optSelected = f.selected, l.enctype = !!d.createElement("form").enctype, e.disabled = !0, l.optDisabled = !f.disabled, b = d.createElement("input"), b.setAttribute("value", ""), l.input = "" === b.getAttribute("value"), b.value = "t", b.setAttribute("type", "radio"), l.radioValue = "t" === b.value }(); var rb = /\r/g, sb = /[\x20\t\r\n\f]+/g; n.fn.extend({ val: function (a) { var b, c, d, e = this[0]; { if (arguments.length) return d = n.isFunction(a), this.each(function (c) { var e; 1 === this.nodeType && (e = d ? a.call(this, c, n(this).val()) : a, null == e ? e = "" : "number" == typeof e ? e += "" : n.isArray(e) && (e = n.map(e, function (a) { return null == a ? "" : a + "" })), b = n.valHooks[this.type] || n.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e)) }); if (e) return b = n.valHooks[e.type] || n.valHooks[e.nodeName.toLowerCase()], b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value, "string" == typeof c ? c.replace(rb, "") : null == c ? "" : c) } } }), n.extend({ valHooks: { option: { get: function (a) { var b = n.find.attr(a, "value"); return null != b ? b : n.trim(n.text(a)).replace(sb, " ") } }, select: { get: function (a) { for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++)if (c = d[i], (c.selected || i === e) && (l.optDisabled ? !c.disabled : null === c.getAttribute("disabled")) && (!c.parentNode.disabled || !n.nodeName(c.parentNode, "optgroup"))) { if (b = n(c).val(), f) return b; g.push(b) } return g }, set: function (a, b) { var c, d, e = a.options, f = n.makeArray(b), g = e.length; while (g--) if (d = e[g], n.inArray(n.valHooks.option.get(d), f) > -1) try { d.selected = c = !0 } catch (h) { d.scrollHeight } else d.selected = !1; return c || (a.selectedIndex = -1), e } } } }), n.each(["radio", "checkbox"], function () { n.valHooks[this] = { set: function (a, b) { return n.isArray(b) ? a.checked = n.inArray(n(a).val(), b) > -1 : void 0 } }, l.checkOn || (n.valHooks[this].get = function (a) { return null === a.getAttribute("value") ? "on" : a.value }) }); var tb, ub, vb = n.expr.attrHandle, wb = /^(?:checked|selected)$/i, xb = l.getSetAttribute, yb = l.input; n.fn.extend({ attr: function (a, b) { return Y(this, n.attr, a, b, arguments.length > 1) }, removeAttr: function (a) { return this.each(function () { n.removeAttr(this, a) }) } }), n.extend({ attr: function (a, b, c) { var d, e, f = a.nodeType; if (3 !== f && 8 !== f && 2 !== f) return "undefined" == typeof a.getAttribute ? n.prop(a, b, c) : (1 === f && n.isXMLDoc(a) || (b = b.toLowerCase(), e = n.attrHooks[b] || (n.expr.match.bool.test(b) ? ub : tb)), void 0 !== c ? null === c ? void n.removeAttr(a, b) : e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : (a.setAttribute(b, c + ""), c) : e && "get" in e && null !== (d = e.get(a, b)) ? d : (d = n.find.attr(a, b), null == d ? void 0 : d)) }, attrHooks: { type: { set: function (a, b) { if (!l.radioValue && "radio" === b && n.nodeName(a, "input")) { var c = a.value; return a.setAttribute("type", b), c && (a.value = c), b } } } }, removeAttr: function (a, b) { var c, d, e = 0, f = b && b.match(G); if (f && 1 === a.nodeType) while (c = f[e++]) d = n.propFix[c] || c, n.expr.match.bool.test(c) ? yb && xb || !wb.test(c) ? a[d] = !1 : a[n.camelCase("default-" + c)] = a[d] = !1 : n.attr(a, c, ""), a.removeAttribute(xb ? c : d) } }), ub = { set: function (a, b, c) { return b === !1 ? n.removeAttr(a, c) : yb && xb || !wb.test(c) ? a.setAttribute(!xb && n.propFix[c] || c, c) : a[n.camelCase("default-" + c)] = a[c] = !0, c } }, n.each(n.expr.match.bool.source.match(/\w+/g), function (a, b) { var c = vb[b] || n.find.attr; yb && xb || !wb.test(b) ? vb[b] = function (a, b, d) { var e, f; return d || (f = vb[b], vb[b] = e, e = null != c(a, b, d) ? b.toLowerCase() : null, vb[b] = f), e } : vb[b] = function (a, b, c) { return c ? void 0 : a[n.camelCase("default-" + b)] ? b.toLowerCase() : null } }), yb && xb || (n.attrHooks.value = { set: function (a, b, c) { return n.nodeName(a, "input") ? void (a.defaultValue = b) : tb && tb.set(a, b, c) } }), xb || (tb = { set: function (a, b, c) { var d = a.getAttributeNode(c); return d || a.setAttributeNode(d = a.ownerDocument.createAttribute(c)), d.value = b += "", "value" === c || b === a.getAttribute(c) ? b : void 0 } }, vb.id = vb.name = vb.coords = function (a, b, c) { var d; return c ? void 0 : (d = a.getAttributeNode(b)) && "" !== d.value ? d.value : null }, n.valHooks.button = { get: function (a, b) { var c = a.getAttributeNode(b); return c && c.specified ? c.value : void 0 }, set: tb.set }, n.attrHooks.contenteditable = { set: function (a, b, c) { tb.set(a, "" === b ? !1 : b, c) } }, n.each(["width", "height"], function (a, b) { n.attrHooks[b] = { set: function (a, c) { return "" === c ? (a.setAttribute(b, "auto"), c) : void 0 } } })), l.style || (n.attrHooks.style = { get: function (a) { return a.style.cssText || void 0 }, set: function (a, b) { return a.style.cssText = b + "" } }); var zb = /^(?:input|select|textarea|button|object)$/i, Ab = /^(?:a|area)$/i; n.fn.extend({ prop: function (a, b) { return Y(this, n.prop, a, b, arguments.length > 1) }, removeProp: function (a) { return a = n.propFix[a] || a, this.each(function () { try { this[a] = void 0, delete this[a] } catch (b) { } }) } }), n.extend({ prop: function (a, b, c) { var d, e, f = a.nodeType; if (3 !== f && 8 !== f && 2 !== f) return 1 === f && n.isXMLDoc(a) || (b = n.propFix[b] || b, e = n.propHooks[b]), void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b] }, propHooks: { tabIndex: { get: function (a) { var b = n.find.attr(a, "tabindex"); return b ? parseInt(b, 10) : zb.test(a.nodeName) || Ab.test(a.nodeName) && a.href ? 0 : -1 } } }, propFix: { "for": "htmlFor", "class": "className" } }), l.hrefNormalized || n.each(["href", "src"], function (a, b) { n.propHooks[b] = { get: function (a) { return a.getAttribute(b, 4) } } }), l.optSelected || (n.propHooks.selected = { get: function (a) { var b = a.parentNode; return b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex), null }, set: function (a) { var b = a.parentNode; b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex) } }), n.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () { n.propFix[this.toLowerCase()] = this }), l.enctype || (n.propFix.enctype = "encoding"); var Bb = /[\t\r\n\f]/g; function Cb(a) { return n.attr(a, "class") || "" } n.fn.extend({ addClass: function (a) { var b, c, d, e, f, g, h, i = 0; if (n.isFunction(a)) return this.each(function (b) { n(this).addClass(a.call(this, b, Cb(this))) }); if ("string" == typeof a && a) { b = a.match(G) || []; while (c = this[i++]) if (e = Cb(c), d = 1 === c.nodeType && (" " + e + " ").replace(Bb, " ")) { g = 0; while (f = b[g++]) d.indexOf(" " + f + " ") < 0 && (d += f + " "); h = n.trim(d), e !== h && n.attr(c, "class", h) } } return this }, removeClass: function (a) { var b, c, d, e, f, g, h, i = 0; if (n.isFunction(a)) return this.each(function (b) { n(this).removeClass(a.call(this, b, Cb(this))) }); if (!arguments.length) return this.attr("class", ""); if ("string" == typeof a && a) { b = a.match(G) || []; while (c = this[i++]) if (e = Cb(c), d = 1 === c.nodeType && (" " + e + " ").replace(Bb, " ")) { g = 0; while (f = b[g++]) while (d.indexOf(" " + f + " ") > -1) d = d.replace(" " + f + " ", " "); h = n.trim(d), e !== h && n.attr(c, "class", h) } } return this }, toggleClass: function (a, b) { var c = typeof a; return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : n.isFunction(a) ? this.each(function (c) { n(this).toggleClass(a.call(this, c, Cb(this), b), b) }) : this.each(function () { var b, d, e, f; if ("string" === c) { d = 0, e = n(this), f = a.match(G) || []; while (b = f[d++]) e.hasClass(b) ? e.removeClass(b) : e.addClass(b) } else void 0 !== a && "boolean" !== c || (b = Cb(this), b && n._data(this, "__className__", b), n.attr(this, "class", b || a === !1 ? "" : n._data(this, "__className__") || "")) }) }, hasClass: function (a) { var b, c, d = 0; b = " " + a + " "; while (c = this[d++]) if (1 === c.nodeType && (" " + Cb(c) + " ").replace(Bb, " ").indexOf(b) > -1) return !0; return !1 } }), n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (a, b) { n.fn[b] = function (a, c) { return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b) } }), n.fn.extend({ hover: function (a, b) { return this.mouseenter(a).mouseleave(b || a) } }); var Db = a.location, Eb = n.now(), Fb = /\?/, Gb = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g; n.parseJSON = function (b) { if (a.JSON && a.JSON.parse) return a.JSON.parse(b + ""); var c, d = null, e = n.trim(b + ""); return e && !n.trim(e.replace(Gb, function (a, b, e, f) { return c && b && (d = 0), 0 === d ? a : (c = e || b, d += !f - !e, "") })) ? Function("return " + e)() : n.error("Invalid JSON: " + b) }, n.parseXML = function (b) { var c, d; if (!b || "string" != typeof b) return null; try { a.DOMParser ? (d = new a.DOMParser, c = d.parseFromString(b, "text/xml")) : (c = new a.ActiveXObject("Microsoft.XMLDOM"), c.async = "false", c.loadXML(b)) } catch (e) { c = void 0 } return c && c.documentElement && !c.getElementsByTagName("parsererror").length || n.error("Invalid XML: " + b), c }; var Hb = /#.*$/, Ib = /([?&])_=[^&]*/, Jb = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm, Kb = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, Lb = /^(?:GET|HEAD)$/, Mb = /^\/\//, Nb = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, Ob = {}, Pb = {}, Qb = "*/".concat("*"), Rb = Db.href, Sb = Nb.exec(Rb.toLowerCase()) || []; function Tb(a) { return function (b, c) { "string" != typeof b && (c = b, b = "*"); var d, e = 0, f = b.toLowerCase().match(G) || []; if (n.isFunction(c)) while (d = f[e++]) "+" === d.charAt(0) ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c) } } function Ub(a, b, c, d) { var e = {}, f = a === Pb; function g(h) { var i; return e[h] = !0, n.each(a[h] || [], function (a, h) { var j = h(b, c, d); return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j), g(j), !1) }), i } return g(b.dataTypes[0]) || !e["*"] && g("*") } function Vb(a, b) { var c, d, e = n.ajaxSettings.flatOptions || {}; for (d in b) void 0 !== b[d] && ((e[d] ? a : c || (c = {}))[d] = b[d]); return c && n.extend(!0, a, c), a } function Wb(a, b, c) { var d, e, f, g, h = a.contents, i = a.dataTypes; while ("*" === i[0]) i.shift(), void 0 === e && (e = a.mimeType || b.getResponseHeader("Content-Type")); if (e) for (g in h) if (h[g] && h[g].test(e)) { i.unshift(g); break } if (i[0] in c) f = i[0]; else { for (g in c) { if (!i[0] || a.converters[g + " " + i[0]]) { f = g; break } d || (d = g) } f = f || d } return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0 } function Xb(a, b, c, d) { var e, f, g, h, i, j = {}, k = a.dataTypes.slice(); if (k[1]) for (g in a.converters) j[g.toLowerCase()] = a.converters[g]; f = k.shift(); while (f) if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift()) if ("*" === f) f = i; else if ("*" !== i && i !== f) { if (g = j[i + " " + f] || j["* " + f], !g) for (e in j) if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) { g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1])); break } if (g !== !0) if (g && a["throws"]) b = g(b); else try { b = g(b) } catch (l) { return { state: "parsererror", error: g ? l : "No conversion from " + i + " to " + f } } } return { state: "success", data: b } } n.extend({ active: 0, lastModified: {}, etag: {}, ajaxSettings: { url: Rb, type: "GET", isLocal: Kb.test(Sb[1]), global: !0, processData: !0, async: !0, contentType: "application/x-www-form-urlencoded; charset=UTF-8", accepts: { "*": Qb, text: "text/plain", html: "text/html", xml: "application/xml, text/xml", json: "application/json, text/javascript" }, contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ }, responseFields: { xml: "responseXML", text: "responseText", json: "responseJSON" }, converters: { "* text": String, "text html": !0, "text json": n.parseJSON, "text xml": n.parseXML }, flatOptions: { url: !0, context: !0 } }, ajaxSetup: function (a, b) { return b ? Vb(Vb(a, n.ajaxSettings), b) : Vb(n.ajaxSettings, a) }, ajaxPrefilter: Tb(Ob), ajaxTransport: Tb(Pb), ajax: function (b, c) { "object" == typeof b && (c = b, b = void 0), c = c || {}; var d, e, f, g, h, i, j, k, l = n.ajaxSetup({}, c), m = l.context || l, o = l.context && (m.nodeType || m.jquery) ? n(m) : n.event, p = n.Deferred(), q = n.Callbacks("once memory"), r = l.statusCode || {}, s = {}, t = {}, u = 0, v = "canceled", w = { readyState: 0, getResponseHeader: function (a) { var b; if (2 === u) { if (!k) { k = {}; while (b = Jb.exec(g)) k[b[1].toLowerCase()] = b[2] } b = k[a.toLowerCase()] } return null == b ? null : b }, getAllResponseHeaders: function () { return 2 === u ? g : null }, setRequestHeader: function (a, b) { var c = a.toLowerCase(); return u || (a = t[c] = t[c] || a, s[a] = b), this }, overrideMimeType: function (a) { return u || (l.mimeType = a), this }, statusCode: function (a) { var b; if (a) if (2 > u) for (b in a) r[b] = [r[b], a[b]]; else w.always(a[w.status]); return this }, abort: function (a) { var b = a || v; return j && j.abort(b), y(0, b), this } }; if (p.promise(w).complete = q.add, w.success = w.done, w.error = w.fail, l.url = ((b || l.url || Rb) + "").replace(Hb, "").replace(Mb, Sb[1] + "//"), l.type = c.method || c.type || l.method || l.type, l.dataTypes = n.trim(l.dataType || "*").toLowerCase().match(G) || [""], null == l.crossDomain && (d = Nb.exec(l.url.toLowerCase()), l.crossDomain = !(!d || d[1] === Sb[1] && d[2] === Sb[2] && (d[3] || ("http:" === d[1] ? "80" : "443")) === (Sb[3] || ("http:" === Sb[1] ? "80" : "443")))), l.data && l.processData && "string" != typeof l.data && (l.data = n.param(l.data, l.traditional)), Ub(Ob, l, c, w), 2 === u) return w; i = n.event && l.global, i && 0 === n.active++ && n.event.trigger("ajaxStart"), l.type = l.type.toUpperCase(), l.hasContent = !Lb.test(l.type), f = l.url, l.hasContent || (l.data && (f = l.url += (Fb.test(f) ? "&" : "?") + l.data, delete l.data), l.cache === !1 && (l.url = Ib.test(f) ? f.replace(Ib, "$1_=" + Eb++) : f + (Fb.test(f) ? "&" : "?") + "_=" + Eb++)), l.ifModified && (n.lastModified[f] && w.setRequestHeader("If-Modified-Since", n.lastModified[f]), n.etag[f] && w.setRequestHeader("If-None-Match", n.etag[f])), (l.data && l.hasContent && l.contentType !== !1 || c.contentType) && w.setRequestHeader("Content-Type", l.contentType), w.setRequestHeader("Accept", l.dataTypes[0] && l.accepts[l.dataTypes[0]] ? l.accepts[l.dataTypes[0]] + ("*" !== l.dataTypes[0] ? ", " + Qb + "; q=0.01" : "") : l.accepts["*"]); for (e in l.headers) w.setRequestHeader(e, l.headers[e]); if (l.beforeSend && (l.beforeSend.call(m, w, l) === !1 || 2 === u)) return w.abort(); v = "abort"; for (e in { success: 1, error: 1, complete: 1 }) w[e](l[e]); if (j = Ub(Pb, l, c, w)) { if (w.readyState = 1, i && o.trigger("ajaxSend", [w, l]), 2 === u) return w; l.async && l.timeout > 0 && (h = a.setTimeout(function () { w.abort("timeout") }, l.timeout)); try { u = 1, j.send(s, y) } catch (x) { if (!(2 > u)) throw x; y(-1, x) } } else y(-1, "No Transport"); function y(b, c, d, e) { var k, s, t, v, x, y = c; 2 !== u && (u = 2, h && a.clearTimeout(h), j = void 0, g = e || "", w.readyState = b > 0 ? 4 : 0, k = b >= 200 && 300 > b || 304 === b, d && (v = Wb(l, w, d)), v = Xb(l, v, w, k), k ? (l.ifModified && (x = w.getResponseHeader("Last-Modified"), x && (n.lastModified[f] = x), x = w.getResponseHeader("etag"), x && (n.etag[f] = x)), 204 === b || "HEAD" === l.type ? y = "nocontent" : 304 === b ? y = "notmodified" : (y = v.state, s = v.data, t = v.error, k = !t)) : (t = y, !b && y || (y = "error", 0 > b && (b = 0))), w.status = b, w.statusText = (c || y) + "", k ? p.resolveWith(m, [s, y, w]) : p.rejectWith(m, [w, y, t]), w.statusCode(r), r = void 0, i && o.trigger(k ? "ajaxSuccess" : "ajaxError", [w, l, k ? s : t]), q.fireWith(m, [w, y]), i && (o.trigger("ajaxComplete", [w, l]), --n.active || n.event.trigger("ajaxStop"))) } return w }, getJSON: function (a, b, c) { return n.get(a, b, c, "json") }, getScript: function (a, b) { return n.get(a, void 0, b, "script") } }), n.each(["get", "post"], function (a, b) { n[b] = function (a, c, d, e) { return n.isFunction(c) && (e = e || d, d = c, c = void 0), n.ajax(n.extend({ url: a, type: b, dataType: e, data: c, success: d }, n.isPlainObject(a) && a)) } }), n._evalUrl = function (a) { return n.ajax({ url: a, type: "GET", dataType: "script", cache: !0, async: !1, global: !1, "throws": !0 }) }, n.fn.extend({ wrapAll: function (a) { if (n.isFunction(a)) return this.each(function (b) { n(this).wrapAll(a.call(this, b)) }); if (this[0]) { var b = n(a, this[0].ownerDocument).eq(0).clone(!0); this[0].parentNode && b.insertBefore(this[0]), b.map(function () { var a = this; while (a.firstChild && 1 === a.firstChild.nodeType) a = a.firstChild; return a }).append(this) } return this }, wrapInner: function (a) { return n.isFunction(a) ? this.each(function (b) { n(this).wrapInner(a.call(this, b)) }) : this.each(function () { var b = n(this), c = b.contents(); c.length ? c.wrapAll(a) : b.append(a) }) }, wrap: function (a) { var b = n.isFunction(a); return this.each(function (c) { n(this).wrapAll(b ? a.call(this, c) : a) }) }, unwrap: function () { return this.parent().each(function () { n.nodeName(this, "body") || n(this).replaceWith(this.childNodes) }).end() } }); function Yb(a) { return a.style && a.style.display || n.css(a, "display") } function Zb(a) { if (!n.contains(a.ownerDocument || d, a)) return !0; while (a && 1 === a.nodeType) { if ("none" === Yb(a) || "hidden" === a.type) return !0; a = a.parentNode } return !1 } n.expr.filters.hidden = function (a) { return l.reliableHiddenOffsets() ? a.offsetWidth <= 0 && a.offsetHeight <= 0 && !a.getClientRects().length : Zb(a) }, n.expr.filters.visible = function (a) { return !n.expr.filters.hidden(a) }; var $b = /%20/g, _b = /\[\]$/, ac = /\r?\n/g, bc = /^(?:submit|button|image|reset|file)$/i, cc = /^(?:input|select|textarea|keygen)/i; function dc(a, b, c, d) { var e; if (n.isArray(b)) n.each(b, function (b, e) { c || _b.test(a) ? d(a, e) : dc(a + "[" + ("object" == typeof e && null != e ? b : "") + "]", e, c, d) }); else if (c || "object" !== n.type(b)) d(a, b); else for (e in b) dc(a + "[" + e + "]", b[e], c, d) } n.param = function (a, b) { var c, d = [], e = function (a, b) { b = n.isFunction(b) ? b() : null == b ? "" : b, d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b) }; if (void 0 === b && (b = n.ajaxSettings && n.ajaxSettings.traditional), n.isArray(a) || a.jquery && !n.isPlainObject(a)) n.each(a, function () { e(this.name, this.value) }); else for (c in a) dc(c, a[c], b, e); return d.join("&").replace($b, "+") }, n.fn.extend({ serialize: function () { return n.param(this.serializeArray()) }, serializeArray: function () { return this.map(function () { var a = n.prop(this, "elements"); return a ? n.makeArray(a) : this }).filter(function () { var a = this.type; return this.name && !n(this).is(":disabled") && cc.test(this.nodeName) && !bc.test(a) && (this.checked || !Z.test(a)) }).map(function (a, b) { var c = n(this).val(); return null == c ? null : n.isArray(c) ? n.map(c, function (a) { return { name: b.name, value: a.replace(ac, "\r\n") } }) : { name: b.name, value: c.replace(ac, "\r\n") } }).get() } }), n.ajaxSettings.xhr = void 0 !== a.ActiveXObject ? function () { return this.isLocal ? ic() : d.documentMode > 8 ? hc() : /^(get|post|head|put|delete|options)$/i.test(this.type) && hc() || ic() } : hc; var ec = 0, fc = {}, gc = n.ajaxSettings.xhr(); a.attachEvent && a.attachEvent("onunload", function () { for (var a in fc) fc[a](void 0, !0) }), l.cors = !!gc && "withCredentials" in gc, gc = l.ajax = !!gc, gc && n.ajaxTransport(function (b) { if (!b.crossDomain || l.cors) { var c; return { send: function (d, e) { var f, g = b.xhr(), h = ++ec; if (g.open(b.type, b.url, b.async, b.username, b.password), b.xhrFields) for (f in b.xhrFields) g[f] = b.xhrFields[f]; b.mimeType && g.overrideMimeType && g.overrideMimeType(b.mimeType), b.crossDomain || d["X-Requested-With"] || (d["X-Requested-With"] = "XMLHttpRequest"); for (f in d) void 0 !== d[f] && g.setRequestHeader(f, d[f] + ""); g.send(b.hasContent && b.data || null), c = function (a, d) { var f, i, j; if (c && (d || 4 === g.readyState)) if (delete fc[h], c = void 0, g.onreadystatechange = n.noop, d) 4 !== g.readyState && g.abort(); else { j = {}, f = g.status, "string" == typeof g.responseText && (j.text = g.responseText); try { i = g.statusText } catch (k) { i = "" } f || !b.isLocal || b.crossDomain ? 1223 === f && (f = 204) : f = j.text ? 200 : 404 } j && e(f, i, j, g.getAllResponseHeaders()) }, b.async ? 4 === g.readyState ? a.setTimeout(c) : g.onreadystatechange = fc[h] = c : c() }, abort: function () { c && c(void 0, !0) } } } }); function hc() { try { return new a.XMLHttpRequest } catch (b) { } } function ic() { try { return new a.ActiveXObject("Microsoft.XMLHTTP") } catch (b) { } } n.ajaxSetup({ accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, contents: { script: /\b(?:java|ecma)script\b/ }, converters: { "text script": function (a) { return n.globalEval(a), a } } }), n.ajaxPrefilter("script", function (a) { void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET", a.global = !1) }), n.ajaxTransport("script", function (a) { if (a.crossDomain) { var b, c = d.head || n("head")[0] || d.documentElement; return { send: function (e, f) { b = d.createElement("script"), b.async = !0, a.scriptCharset && (b.charset = a.scriptCharset), b.src = a.url, b.onload = b.onreadystatechange = function (a, c) { (c || !b.readyState || /loaded|complete/.test(b.readyState)) && (b.onload = b.onreadystatechange = null, b.parentNode && b.parentNode.removeChild(b), b = null, c || f(200, "success")) }, c.insertBefore(b, c.firstChild) }, abort: function () { b && b.onload(void 0, !0) } } } }); var jc = [], kc = /(=)\?(?=&|$)|\?\?/; n.ajaxSetup({ jsonp: "callback", jsonpCallback: function () { var a = jc.pop() || n.expando + "_" + Eb++; return this[a] = !0, a } }), n.ajaxPrefilter("json jsonp", function (b, c, d) { var e, f, g, h = b.jsonp !== !1 && (kc.test(b.url) ? "url" : "string" == typeof b.data && 0 === (b.contentType || "").indexOf("application/x-www-form-urlencoded") && kc.test(b.data) && "data"); return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = n.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(kc, "$1" + e) : b.jsonp !== !1 && (b.url += (Fb.test(b.url) ? "&" : "?") + b.jsonp + "=" + e), b.converters["script json"] = function () { return g || n.error(e + " was not called"), g[0] }, b.dataTypes[0] = "json", f = a[e], a[e] = function () { g = arguments }, d.always(function () { void 0 === f ? n(a).removeProp(e) : a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, jc.push(e)), g && n.isFunction(f) && f(g[0]), g = f = void 0 }), "script") : void 0 }), n.parseHTML = function (a, b, c) { if (!a || "string" != typeof a) return null; "boolean" == typeof b && (c = b, b = !1), b = b || d; var e = x.exec(a), f = !c && []; return e ? [b.createElement(e[1])] : (e = ja([a], b, f), f && f.length && n(f).remove(), n.merge([], e.childNodes)) }; var lc = n.fn.load; n.fn.load = function (a, b, c) { if ("string" != typeof a && lc) return lc.apply(this, arguments); var d, e, f, g = this, h = a.indexOf(" "); return h > -1 && (d = n.trim(a.slice(h, a.length)), a = a.slice(0, h)), n.isFunction(b) ? (c = b, b = void 0) : b && "object" == typeof b && (e = "POST"), g.length > 0 && n.ajax({ url: a, type: e || "GET", dataType: "html", data: b }).done(function (a) { f = arguments, g.html(d ? n("<div>").append(n.parseHTML(a)).find(d) : a) }).always(c && function (a, b) { g.each(function () { c.apply(this, f || [a.responseText, b, a]) }) }), this }, n.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (a, b) { n.fn[b] = function (a) { return this.on(b, a) } }), n.expr.filters.animated = function (a) { return n.grep(n.timers, function (b) { return a === b.elem }).length }; function mc(a) { return n.isWindow(a) ? a : 9 === a.nodeType ? a.defaultView || a.parentWindow : !1 } n.offset = { setOffset: function (a, b, c) { var d, e, f, g, h, i, j, k = n.css(a, "position"), l = n(a), m = {}; "static" === k && (a.style.position = "relative"), h = l.offset(), f = n.css(a, "top"), i = n.css(a, "left"), j = ("absolute" === k || "fixed" === k) && n.inArray("auto", [f, i]) > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), n.isFunction(b) && (b = b.call(a, c, n.extend({}, h))), null != b.top && (m.top = b.top - h.top + g), null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m) } }, n.fn.extend({ offset: function (a) { if (arguments.length) return void 0 === a ? this : this.each(function (b) { n.offset.setOffset(this, a, b) }); var b, c, d = { top: 0, left: 0 }, e = this[0], f = e && e.ownerDocument; if (f) return b = f.documentElement, n.contains(b, e) ? ("undefined" != typeof e.getBoundingClientRect && (d = e.getBoundingClientRect()), c = mc(f), { top: d.top + (c.pageYOffset || b.scrollTop) - (b.clientTop || 0), left: d.left + (c.pageXOffset || b.scrollLeft) - (b.clientLeft || 0) }) : d }, position: function () { if (this[0]) { var a, b, c = { top: 0, left: 0 }, d = this[0]; return "fixed" === n.css(d, "position") ? b = d.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), n.nodeName(a[0], "html") || (c = a.offset()), c.top += n.css(a[0], "borderTopWidth", !0), c.left += n.css(a[0], "borderLeftWidth", !0)), { top: b.top - c.top - n.css(d, "marginTop", !0), left: b.left - c.left - n.css(d, "marginLeft", !0) } } }, offsetParent: function () { return this.map(function () { var a = this.offsetParent; while (a && !n.nodeName(a, "html") && "static" === n.css(a, "position")) a = a.offsetParent; return a || Qa }) } }), n.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (a, b) { var c = /Y/.test(b); n.fn[a] = function (d) { return Y(this, function (a, d, e) { var f = mc(a); return void 0 === e ? f ? b in f ? f[b] : f.document.documentElement[d] : a[d] : void (f ? f.scrollTo(c ? n(f).scrollLeft() : e, c ? e : n(f).scrollTop()) : a[d] = e) }, a, d, arguments.length, null) } }), n.each(["top", "left"], function (a, b) { n.cssHooks[b] = Ua(l.pixelPosition, function (a, c) { return c ? (c = Sa(a, b), Oa.test(c) ? n(a).position()[b] + "px" : c) : void 0 }) }), n.each({ Height: "height", Width: "width" }, function (a, b) {
                n.each({
                    padding: "inner" + a, content: b, "": "outer" + a
                }, function (c, d) { n.fn[d] = function (d, e) { var f = arguments.length && (c || "boolean" != typeof d), g = c || (d === !0 || e === !0 ? "margin" : "border"); return Y(this, function (b, c, d) { var e; return n.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement, Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? n.css(b, c, g) : n.style(b, c, d, g) }, b, f ? d : void 0, f, null) } })
            }), n.fn.extend({ bind: function (a, b, c) { return this.on(a, null, b, c) }, unbind: function (a, b) { return this.off(a, null, b) }, delegate: function (a, b, c, d) { return this.on(b, a, c, d) }, undelegate: function (a, b, c) { return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c) } }), n.fn.size = function () { return this.length }, n.fn.andSelf = n.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function () { return n }); var nc = a.jQuery, oc = a.$; return n.noConflict = function (b) { return a.$ === n && (a.$ = oc), b && a.jQuery === n && (a.jQuery = nc), n }, b || (a.jQuery = a.$ = n), n
        });

        /*! jQuery UI - v1.12.1 - 2019-11-20
        * http://jqueryui.com
        * Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/selectable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/selectmenu.js, widgets/slider.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
        * Copyright jQuery Foundation and other contributors; Licensed MIT */

        (function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : t(jQuery) })(function (t) {
            function e(t) { for (var e = t.css("visibility"); "inherit" === e;)t = t.parent(), e = t.css("visibility"); return "hidden" !== e } function i(t) { for (var e, i; t.length && t[0] !== document;) { if (e = t.css("position"), ("absolute" === e || "relative" === e || "fixed" === e) && (i = parseInt(t.css("zIndex"), 10), !isNaN(i) && 0 !== i)) return i; t = t.parent() } return 0 } function s() { this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = { closeText: "Done", prevText: "Prev", nextText: "Next", currentText: "Today", monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], weekHeader: "Wk", dateFormat: "mm/dd/yy", firstDay: 0, isRTL: !1, showMonthAfterYear: !1, yearSuffix: "" }, this._defaults = { showOn: "focus", showAnim: "fadeIn", showOptions: {}, defaultDate: null, appendText: "", buttonText: "...", buttonImage: "", buttonImageOnly: !1, hideIfNoPrevNext: !1, navigationAsDateFormat: !1, gotoCurrent: !1, changeMonth: !1, changeYear: !1, yearRange: "c-10:c+10", showOtherMonths: !1, selectOtherMonths: !1, showWeek: !1, calculateWeek: this.iso8601Week, shortYearCutoff: "+10", minDate: null, maxDate: null, duration: "fast", beforeShowDay: null, beforeShow: null, onSelect: null, onChangeMonthYear: null, onClose: null, numberOfMonths: 1, showCurrentAtPos: 0, stepMonths: 1, stepBigMonths: 12, altField: "", altFormat: "", constrainInput: !0, showButtonPanel: !1, autoSize: !1, disabled: !1 }, t.extend(this._defaults, this.regional[""]), this.regional.en = t.extend(!0, {}, this.regional[""]), this.regional["en-US"] = t.extend(!0, {}, this.regional.en), this.dpDiv = n(t("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) } function n(e) { var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a"; return e.on("mouseout", i, function () { t(this).removeClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && t(this).removeClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && t(this).removeClass("ui-datepicker-next-hover") }).on("mouseover", i, o) } function o() { t.datepicker._isDisabledDatepicker(p.inline ? p.dpDiv.parent()[0] : p.input[0]) || (t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), t(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && t(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && t(this).addClass("ui-datepicker-next-hover")) } function a(e, i) { t.extend(e, i); for (var s in i) null == i[s] && (e[s] = i[s]); return e } function r(t) { return function () { var e = this.element.val(); t.apply(this, arguments), this._refresh(), e !== this.element.val() && this._trigger("change") } } t.ui = t.ui || {}, t.ui.version = "1.12.1"; var h = 0, l = Array.prototype.slice; t.cleanData = function (e) { return function (i) { var s, n, o; for (o = 0; null != (n = i[o]); o++)try { s = t._data(n, "events"), s && s.remove && t(n).triggerHandler("remove") } catch (a) { } e(i) } }(t.cleanData), t.widget = function (e, i, s) { var n, o, a, r = {}, h = e.split(".")[0]; e = e.split(".")[1]; var l = h + "-" + e; return s || (s = i, i = t.Widget), t.isArray(s) && (s = t.extend.apply(null, [{}].concat(s))), t.expr[":"][l.toLowerCase()] = function (e) { return !!t.data(e, l) }, t[h] = t[h] || {}, n = t[h][e], o = t[h][e] = function (t, e) { return this._createWidget ? (arguments.length && this._createWidget(t, e), void 0) : new o(t, e) }, t.extend(o, n, { version: s.version, _proto: t.extend({}, s), _childConstructors: [] }), a = new i, a.options = t.widget.extend({}, a.options), t.each(s, function (e, s) { return t.isFunction(s) ? (r[e] = function () { function t() { return i.prototype[e].apply(this, arguments) } function n(t) { return i.prototype[e].apply(this, t) } return function () { var e, i = this._super, o = this._superApply; return this._super = t, this._superApply = n, e = s.apply(this, arguments), this._super = i, this._superApply = o, e } }(), void 0) : (r[e] = s, void 0) }), o.prototype = t.widget.extend(a, { widgetEventPrefix: n ? a.widgetEventPrefix || e : e }, r, { constructor: o, namespace: h, widgetName: e, widgetFullName: l }), n ? (t.each(n._childConstructors, function (e, i) { var s = i.prototype; t.widget(s.namespace + "." + s.widgetName, o, i._proto) }), delete n._childConstructors) : i._childConstructors.push(o), t.widget.bridge(e, o), o }, t.widget.extend = function (e) { for (var i, s, n = l.call(arguments, 1), o = 0, a = n.length; a > o; o++)for (i in n[o]) s = n[o][i], n[o].hasOwnProperty(i) && void 0 !== s && (e[i] = t.isPlainObject(s) ? t.isPlainObject(e[i]) ? t.widget.extend({}, e[i], s) : t.widget.extend({}, s) : s); return e }, t.widget.bridge = function (e, i) { var s = i.prototype.widgetFullName || e; t.fn[e] = function (n) { var o = "string" == typeof n, a = l.call(arguments, 1), r = this; return o ? this.length || "instance" !== n ? this.each(function () { var i, o = t.data(this, s); return "instance" === n ? (r = o, !1) : o ? t.isFunction(o[n]) && "_" !== n.charAt(0) ? (i = o[n].apply(o, a), i !== o && void 0 !== i ? (r = i && i.jquery ? r.pushStack(i.get()) : i, !1) : void 0) : t.error("no such method '" + n + "' for " + e + " widget instance") : t.error("cannot call methods on " + e + " prior to initialization; " + "attempted to call method '" + n + "'") }) : r = void 0 : (a.length && (n = t.widget.extend.apply(null, [n].concat(a))), this.each(function () { var e = t.data(this, s); e ? (e.option(n || {}), e._init && e._init()) : t.data(this, s, new i(n, this)) })), r } }, t.Widget = function () { }, t.Widget._childConstructors = [], t.Widget.prototype = { widgetName: "widget", widgetEventPrefix: "", defaultElement: "<div>", options: { classes: {}, disabled: !1, create: null }, _createWidget: function (e, i) { i = t(i || this.defaultElement || this)[0], this.element = t(i), this.uuid = h++, this.eventNamespace = "." + this.widgetName + this.uuid, this.bindings = t(), this.hoverable = t(), this.focusable = t(), this.classesElementLookup = {}, i !== this && (t.data(i, this.widgetFullName, this), this._on(!0, this.element, { remove: function (t) { t.target === i && this.destroy() } }), this.document = t(i.style ? i.ownerDocument : i.document || i), this.window = t(this.document[0].defaultView || this.document[0].parentWindow)), this.options = t.widget.extend({}, this.options, this._getCreateOptions(), e), this._create(), this.options.disabled && this._setOptionDisabled(this.options.disabled), this._trigger("create", null, this._getCreateEventData()), this._init() }, _getCreateOptions: function () { return {} }, _getCreateEventData: t.noop, _create: t.noop, _init: t.noop, destroy: function () { var e = this; this._destroy(), t.each(this.classesElementLookup, function (t, i) { e._removeClass(i, t) }), this.element.off(this.eventNamespace).removeData(this.widgetFullName), this.widget().off(this.eventNamespace).removeAttr("aria-disabled"), this.bindings.off(this.eventNamespace) }, _destroy: t.noop, widget: function () { return this.element }, option: function (e, i) { var s, n, o, a = e; if (0 === arguments.length) return t.widget.extend({}, this.options); if ("string" == typeof e) if (a = {}, s = e.split("."), e = s.shift(), s.length) { for (n = a[e] = t.widget.extend({}, this.options[e]), o = 0; s.length - 1 > o; o++)n[s[o]] = n[s[o]] || {}, n = n[s[o]]; if (e = s.pop(), 1 === arguments.length) return void 0 === n[e] ? null : n[e]; n[e] = i } else { if (1 === arguments.length) return void 0 === this.options[e] ? null : this.options[e]; a[e] = i } return this._setOptions(a), this }, _setOptions: function (t) { var e; for (e in t) this._setOption(e, t[e]); return this }, _setOption: function (t, e) { return "classes" === t && this._setOptionClasses(e), this.options[t] = e, "disabled" === t && this._setOptionDisabled(e), this }, _setOptionClasses: function (e) { var i, s, n; for (i in e) n = this.classesElementLookup[i], e[i] !== this.options.classes[i] && n && n.length && (s = t(n.get()), this._removeClass(n, i), s.addClass(this._classes({ element: s, keys: i, classes: e, add: !0 }))) }, _setOptionDisabled: function (t) { this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !!t), t && (this._removeClass(this.hoverable, null, "ui-state-hover"), this._removeClass(this.focusable, null, "ui-state-focus")) }, enable: function () { return this._setOptions({ disabled: !1 }) }, disable: function () { return this._setOptions({ disabled: !0 }) }, _classes: function (e) { function i(i, o) { var a, r; for (r = 0; i.length > r; r++)a = n.classesElementLookup[i[r]] || t(), a = e.add ? t(t.unique(a.get().concat(e.element.get()))) : t(a.not(e.element).get()), n.classesElementLookup[i[r]] = a, s.push(i[r]), o && e.classes[i[r]] && s.push(e.classes[i[r]]) } var s = [], n = this; return e = t.extend({ element: this.element, classes: this.options.classes || {} }, e), this._on(e.element, { remove: "_untrackClassesElement" }), e.keys && i(e.keys.match(/\S+/g) || [], !0), e.extra && i(e.extra.match(/\S+/g) || []), s.join(" ") }, _untrackClassesElement: function (e) { var i = this; t.each(i.classesElementLookup, function (s, n) { -1 !== t.inArray(e.target, n) && (i.classesElementLookup[s] = t(n.not(e.target).get())) }) }, _removeClass: function (t, e, i) { return this._toggleClass(t, e, i, !1) }, _addClass: function (t, e, i) { return this._toggleClass(t, e, i, !0) }, _toggleClass: function (t, e, i, s) { s = "boolean" == typeof s ? s : i; var n = "string" == typeof t || null === t, o = { extra: n ? e : i, keys: n ? t : e, element: n ? this.element : t, add: s }; return o.element.toggleClass(this._classes(o), s), this }, _on: function (e, i, s) { var n, o = this; "boolean" != typeof e && (s = i, i = e, e = !1), s ? (i = n = t(i), this.bindings = this.bindings.add(i)) : (s = i, i = this.element, n = this.widget()), t.each(s, function (s, a) { function r() { return e || o.options.disabled !== !0 && !t(this).hasClass("ui-state-disabled") ? ("string" == typeof a ? o[a] : a).apply(o, arguments) : void 0 } "string" != typeof a && (r.guid = a.guid = a.guid || r.guid || t.guid++); var h = s.match(/^([\w:-]*)\s*(.*)$/), l = h[1] + o.eventNamespace, c = h[2]; c ? n.on(l, c, r) : i.on(l, r) }) }, _off: function (e, i) { i = (i || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, e.off(i).off(i), this.bindings = t(this.bindings.not(e).get()), this.focusable = t(this.focusable.not(e).get()), this.hoverable = t(this.hoverable.not(e).get()) }, _delay: function (t, e) { function i() { return ("string" == typeof t ? s[t] : t).apply(s, arguments) } var s = this; return setTimeout(i, e || 0) }, _hoverable: function (e) { this.hoverable = this.hoverable.add(e), this._on(e, { mouseenter: function (e) { this._addClass(t(e.currentTarget), null, "ui-state-hover") }, mouseleave: function (e) { this._removeClass(t(e.currentTarget), null, "ui-state-hover") } }) }, _focusable: function (e) { this.focusable = this.focusable.add(e), this._on(e, { focusin: function (e) { this._addClass(t(e.currentTarget), null, "ui-state-focus") }, focusout: function (e) { this._removeClass(t(e.currentTarget), null, "ui-state-focus") } }) }, _trigger: function (e, i, s) { var n, o, a = this.options[e]; if (s = s || {}, i = t.Event(i), i.type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(), i.target = this.element[0], o = i.originalEvent) for (n in o) n in i || (i[n] = o[n]); return this.element.trigger(i, s), !(t.isFunction(a) && a.apply(this.element[0], [i].concat(s)) === !1 || i.isDefaultPrevented()) } }, t.each({ show: "fadeIn", hide: "fadeOut" }, function (e, i) { t.Widget.prototype["_" + e] = function (s, n, o) { "string" == typeof n && (n = { effect: n }); var a, r = n ? n === !0 || "number" == typeof n ? i : n.effect || i : e; n = n || {}, "number" == typeof n && (n = { duration: n }), a = !t.isEmptyObject(n), n.complete = o, n.delay && s.delay(n.delay), a && t.effects && t.effects.effect[r] ? s[e](n) : r !== e && s[r] ? s[r](n.duration, n.easing, o) : s.queue(function (i) { t(this)[e](), o && o.call(s[0]), i() }) } }), t.widget, function () { function e(t, e, i) { return [parseFloat(t[0]) * (u.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (u.test(t[1]) ? i / 100 : 1)] } function i(e, i) { return parseInt(t.css(e, i), 10) || 0 } function s(e) { var i = e[0]; return 9 === i.nodeType ? { width: e.width(), height: e.height(), offset: { top: 0, left: 0 } } : t.isWindow(i) ? { width: e.width(), height: e.height(), offset: { top: e.scrollTop(), left: e.scrollLeft() } } : i.preventDefault ? { width: 0, height: 0, offset: { top: i.pageY, left: i.pageX } } : { width: e.outerWidth(), height: e.outerHeight(), offset: e.offset() } } var n, o = Math.max, a = Math.abs, r = /left|center|right/, h = /top|center|bottom/, l = /[\+\-]\d+(\.[\d]+)?%?/, c = /^\w+/, u = /%$/, d = t.fn.position; t.position = { scrollbarWidth: function () { if (void 0 !== n) return n; var e, i, s = t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"), o = s.children()[0]; return t("body").append(s), e = o.offsetWidth, s.css("overflow", "scroll"), i = o.offsetWidth, e === i && (i = s[0].clientWidth), s.remove(), n = e - i }, getScrollInfo: function (e) { var i = e.isWindow || e.isDocument ? "" : e.element.css("overflow-x"), s = e.isWindow || e.isDocument ? "" : e.element.css("overflow-y"), n = "scroll" === i || "auto" === i && e.width < e.element[0].scrollWidth, o = "scroll" === s || "auto" === s && e.height < e.element[0].scrollHeight; return { width: o ? t.position.scrollbarWidth() : 0, height: n ? t.position.scrollbarWidth() : 0 } }, getWithinInfo: function (e) { var i = t(e || window), s = t.isWindow(i[0]), n = !!i[0] && 9 === i[0].nodeType, o = !s && !n; return { element: i, isWindow: s, isDocument: n, offset: o ? t(e).offset() : { left: 0, top: 0 }, scrollLeft: i.scrollLeft(), scrollTop: i.scrollTop(), width: i.outerWidth(), height: i.outerHeight() } } }, t.fn.position = function (n) { if (!n || !n.of) return d.apply(this, arguments); n = t.extend({}, n); var u, p, f, g, m, _, v = t(n.of), b = t.position.getWithinInfo(n.within), y = t.position.getScrollInfo(b), w = (n.collision || "flip").split(" "), k = {}; return _ = s(v), v[0].preventDefault && (n.at = "left top"), p = _.width, f = _.height, g = _.offset, m = t.extend({}, g), t.each(["my", "at"], function () { var t, e, i = (n[this] || "").split(" "); 1 === i.length && (i = r.test(i[0]) ? i.concat(["center"]) : h.test(i[0]) ? ["center"].concat(i) : ["center", "center"]), i[0] = r.test(i[0]) ? i[0] : "center", i[1] = h.test(i[1]) ? i[1] : "center", t = l.exec(i[0]), e = l.exec(i[1]), k[this] = [t ? t[0] : 0, e ? e[0] : 0], n[this] = [c.exec(i[0])[0], c.exec(i[1])[0]] }), 1 === w.length && (w[1] = w[0]), "right" === n.at[0] ? m.left += p : "center" === n.at[0] && (m.left += p / 2), "bottom" === n.at[1] ? m.top += f : "center" === n.at[1] && (m.top += f / 2), u = e(k.at, p, f), m.left += u[0], m.top += u[1], this.each(function () { var s, r, h = t(this), l = h.outerWidth(), c = h.outerHeight(), d = i(this, "marginLeft"), _ = i(this, "marginTop"), x = l + d + i(this, "marginRight") + y.width, C = c + _ + i(this, "marginBottom") + y.height, D = t.extend({}, m), I = e(k.my, h.outerWidth(), h.outerHeight()); "right" === n.my[0] ? D.left -= l : "center" === n.my[0] && (D.left -= l / 2), "bottom" === n.my[1] ? D.top -= c : "center" === n.my[1] && (D.top -= c / 2), D.left += I[0], D.top += I[1], s = { marginLeft: d, marginTop: _ }, t.each(["left", "top"], function (e, i) { t.ui.position[w[e]] && t.ui.position[w[e]][i](D, { targetWidth: p, targetHeight: f, elemWidth: l, elemHeight: c, collisionPosition: s, collisionWidth: x, collisionHeight: C, offset: [u[0] + I[0], u[1] + I[1]], my: n.my, at: n.at, within: b, elem: h }) }), n.using && (r = function (t) { var e = g.left - D.left, i = e + p - l, s = g.top - D.top, r = s + f - c, u = { target: { element: v, left: g.left, top: g.top, width: p, height: f }, element: { element: h, left: D.left, top: D.top, width: l, height: c }, horizontal: 0 > i ? "left" : e > 0 ? "right" : "center", vertical: 0 > r ? "top" : s > 0 ? "bottom" : "middle" }; l > p && p > a(e + i) && (u.horizontal = "center"), c > f && f > a(s + r) && (u.vertical = "middle"), u.important = o(a(e), a(i)) > o(a(s), a(r)) ? "horizontal" : "vertical", n.using.call(this, t, u) }), h.offset(t.extend(D, { using: r })) }) }, t.ui.position = { fit: { left: function (t, e) { var i, s = e.within, n = s.isWindow ? s.scrollLeft : s.offset.left, a = s.width, r = t.left - e.collisionPosition.marginLeft, h = n - r, l = r + e.collisionWidth - a - n; e.collisionWidth > a ? h > 0 && 0 >= l ? (i = t.left + h + e.collisionWidth - a - n, t.left += h - i) : t.left = l > 0 && 0 >= h ? n : h > l ? n + a - e.collisionWidth : n : h > 0 ? t.left += h : l > 0 ? t.left -= l : t.left = o(t.left - r, t.left) }, top: function (t, e) { var i, s = e.within, n = s.isWindow ? s.scrollTop : s.offset.top, a = e.within.height, r = t.top - e.collisionPosition.marginTop, h = n - r, l = r + e.collisionHeight - a - n; e.collisionHeight > a ? h > 0 && 0 >= l ? (i = t.top + h + e.collisionHeight - a - n, t.top += h - i) : t.top = l > 0 && 0 >= h ? n : h > l ? n + a - e.collisionHeight : n : h > 0 ? t.top += h : l > 0 ? t.top -= l : t.top = o(t.top - r, t.top) } }, flip: { left: function (t, e) { var i, s, n = e.within, o = n.offset.left + n.scrollLeft, r = n.width, h = n.isWindow ? n.scrollLeft : n.offset.left, l = t.left - e.collisionPosition.marginLeft, c = l - h, u = l + e.collisionWidth - r - h, d = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0, p = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0, f = -2 * e.offset[0]; 0 > c ? (i = t.left + d + p + f + e.collisionWidth - r - o, (0 > i || a(c) > i) && (t.left += d + p + f)) : u > 0 && (s = t.left - e.collisionPosition.marginLeft + d + p + f - h, (s > 0 || u > a(s)) && (t.left += d + p + f)) }, top: function (t, e) { var i, s, n = e.within, o = n.offset.top + n.scrollTop, r = n.height, h = n.isWindow ? n.scrollTop : n.offset.top, l = t.top - e.collisionPosition.marginTop, c = l - h, u = l + e.collisionHeight - r - h, d = "top" === e.my[1], p = d ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0, f = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0, g = -2 * e.offset[1]; 0 > c ? (s = t.top + p + f + g + e.collisionHeight - r - o, (0 > s || a(c) > s) && (t.top += p + f + g)) : u > 0 && (i = t.top - e.collisionPosition.marginTop + p + f + g - h, (i > 0 || u > a(i)) && (t.top += p + f + g)) } }, flipfit: { left: function () { t.ui.position.flip.left.apply(this, arguments), t.ui.position.fit.left.apply(this, arguments) }, top: function () { t.ui.position.flip.top.apply(this, arguments), t.ui.position.fit.top.apply(this, arguments) } } } }(), t.ui.position, t.extend(t.expr[":"], { data: t.expr.createPseudo ? t.expr.createPseudo(function (e) { return function (i) { return !!t.data(i, e) } }) : function (e, i, s) { return !!t.data(e, s[3]) } }), t.fn.extend({ disableSelection: function () { var t = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown"; return function () { return this.on(t + ".ui-disableSelection", function (t) { t.preventDefault() }) } }(), enableSelection: function () { return this.off(".ui-disableSelection") } }), t.ui.focusable = function (i, s) { var n, o, a, r, h, l = i.nodeName.toLowerCase(); return "area" === l ? (n = i.parentNode, o = n.name, i.href && o && "map" === n.nodeName.toLowerCase() ? (a = t("img[usemap='#" + o + "']"), a.length > 0 && a.is(":visible")) : !1) : (/^(input|select|textarea|button|object)$/.test(l) ? (r = !i.disabled, r && (h = t(i).closest("fieldset")[0], h && (r = !h.disabled))) : r = "a" === l ? i.href || s : s, r && t(i).is(":visible") && e(t(i))) }, t.extend(t.expr[":"], { focusable: function (e) { return t.ui.focusable(e, null != t.attr(e, "tabindex")) } }), t.ui.focusable, t.fn.form = function () { return "string" == typeof this[0].form ? this.closest("form") : t(this[0].form) }, t.ui.formResetMixin = { _formResetHandler: function () { var e = t(this); setTimeout(function () { var i = e.data("ui-form-reset-instances"); t.each(i, function () { this.refresh() }) }) }, _bindFormResetHandler: function () { if (this.form = this.element.form(), this.form.length) { var t = this.form.data("ui-form-reset-instances") || []; t.length || this.form.on("reset.ui-form-reset", this._formResetHandler), t.push(this), this.form.data("ui-form-reset-instances", t) } }, _unbindFormResetHandler: function () { if (this.form.length) { var e = this.form.data("ui-form-reset-instances"); e.splice(t.inArray(this, e), 1), e.length ? this.form.data("ui-form-reset-instances", e) : this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset") } } }, "1.7" === t.fn.jquery.substring(0, 3) && (t.each(["Width", "Height"], function (e, i) { function s(e, i, s, o) { return t.each(n, function () { i -= parseFloat(t.css(e, "padding" + this)) || 0, s && (i -= parseFloat(t.css(e, "border" + this + "Width")) || 0), o && (i -= parseFloat(t.css(e, "margin" + this)) || 0) }), i } var n = "Width" === i ? ["Left", "Right"] : ["Top", "Bottom"], o = i.toLowerCase(), a = { innerWidth: t.fn.innerWidth, innerHeight: t.fn.innerHeight, outerWidth: t.fn.outerWidth, outerHeight: t.fn.outerHeight }; t.fn["inner" + i] = function (e) { return void 0 === e ? a["inner" + i].call(this) : this.each(function () { t(this).css(o, s(this, e) + "px") }) }, t.fn["outer" + i] = function (e, n) { return "number" != typeof e ? a["outer" + i].call(this, e) : this.each(function () { t(this).css(o, s(this, e, !0, n) + "px") }) } }), t.fn.addBack = function (t) { return this.add(null == t ? this.prevObject : this.prevObject.filter(t)) }), t.ui.keyCode = { BACKSPACE: 8, COMMA: 188, DELETE: 46, DOWN: 40, END: 35, ENTER: 13, ESCAPE: 27, HOME: 36, LEFT: 37, PAGE_DOWN: 34, PAGE_UP: 33, PERIOD: 190, RIGHT: 39, SPACE: 32, TAB: 9, UP: 38 }, t.ui.escapeSelector = function () { var t = /([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g; return function (e) { return e.replace(t, "\\$1") } }(), t.fn.labels = function () { var e, i, s, n, o; return this[0].labels && this[0].labels.length ? this.pushStack(this[0].labels) : (n = this.eq(0).parents("label"), s = this.attr("id"), s && (e = this.eq(0).parents().last(), o = e.add(e.length ? e.siblings() : this.siblings()), i = "label[for='" + t.ui.escapeSelector(s) + "']", n = n.add(o.find(i).addBack(i))), this.pushStack(n)) }, t.fn.scrollParent = function (e) { var i = this.css("position"), s = "absolute" === i, n = e ? /(auto|scroll|hidden)/ : /(auto|scroll)/, o = this.parents().filter(function () { var e = t(this); return s && "static" === e.css("position") ? !1 : n.test(e.css("overflow") + e.css("overflow-y") + e.css("overflow-x")) }).eq(0); return "fixed" !== i && o.length ? o : t(this[0].ownerDocument || document) }, t.extend(t.expr[":"], { tabbable: function (e) { var i = t.attr(e, "tabindex"), s = null != i; return (!s || i >= 0) && t.ui.focusable(e, s) } }), t.fn.extend({ uniqueId: function () { var t = 0; return function () { return this.each(function () { this.id || (this.id = "ui-id-" + ++t) }) } }(), removeUniqueId: function () { return this.each(function () { /^ui-id-\d+$/.test(this.id) && t(this).removeAttr("id") }) } }), t.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()); var c = !1; t(document).on("mouseup", function () { c = !1 }), t.widget("ui.mouse", { version: "1.12.1", options: { cancel: "input, textarea, button, select, option", distance: 1, delay: 0 }, _mouseInit: function () { var e = this; this.element.on("mousedown." + this.widgetName, function (t) { return e._mouseDown(t) }).on("click." + this.widgetName, function (i) { return !0 === t.data(i.target, e.widgetName + ".preventClickEvent") ? (t.removeData(i.target, e.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1) : void 0 }), this.started = !1 }, _mouseDestroy: function () { this.element.off("." + this.widgetName), this._mouseMoveDelegate && this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate) }, _mouseDown: function (e) { if (!c) { this._mouseMoved = !1, this._mouseStarted && this._mouseUp(e), this._mouseDownEvent = e; var i = this, s = 1 === e.which, n = "string" == typeof this.options.cancel && e.target.nodeName ? t(e.target).closest(this.options.cancel).length : !1; return s && !n && this._mouseCapture(e) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () { i.mouseDelayMet = !0 }, this.options.delay)), this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = this._mouseStart(e) !== !1, !this._mouseStarted) ? (e.preventDefault(), !0) : (!0 === t.data(e.target, this.widgetName + ".preventClickEvent") && t.removeData(e.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (t) { return i._mouseMove(t) }, this._mouseUpDelegate = function (t) { return i._mouseUp(t) }, this.document.on("mousemove." + this.widgetName, this._mouseMoveDelegate).on("mouseup." + this.widgetName, this._mouseUpDelegate), e.preventDefault(), c = !0, !0)) : !0 } }, _mouseMove: function (e) { if (this._mouseMoved) { if (t.ui.ie && (!document.documentMode || 9 > document.documentMode) && !e.button) return this._mouseUp(e); if (!e.which) if (e.originalEvent.altKey || e.originalEvent.ctrlKey || e.originalEvent.metaKey || e.originalEvent.shiftKey) this.ignoreMissingWhich = !0; else if (!this.ignoreMissingWhich) return this._mouseUp(e) } return (e.which || e.button) && (this._mouseMoved = !0), this._mouseStarted ? (this._mouseDrag(e), e.preventDefault()) : (this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, e) !== !1, this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e)), !this._mouseStarted) }, _mouseUp: function (e) { this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, e.target === this._mouseDownEvent.target && t.data(e.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(e)), this._mouseDelayTimer && (clearTimeout(this._mouseDelayTimer), delete this._mouseDelayTimer), this.ignoreMissingWhich = !1, c = !1, e.preventDefault() }, _mouseDistanceMet: function (t) { return Math.max(Math.abs(this._mouseDownEvent.pageX - t.pageX), Math.abs(this._mouseDownEvent.pageY - t.pageY)) >= this.options.distance }, _mouseDelayMet: function () { return this.mouseDelayMet }, _mouseStart: function () { }, _mouseDrag: function () { }, _mouseStop: function () { }, _mouseCapture: function () { return !0 } }), t.ui.plugin = { add: function (e, i, s) { var n, o = t.ui[e].prototype; for (n in s) o.plugins[n] = o.plugins[n] || [], o.plugins[n].push([i, s[n]]) }, call: function (t, e, i, s) { var n, o = t.plugins[e]; if (o && (s || t.element[0].parentNode && 11 !== t.element[0].parentNode.nodeType)) for (n = 0; o.length > n; n++)t.options[o[n][0]] && o[n][1].apply(t.element, i) } }, t.ui.safeActiveElement = function (t) { var e; try { e = t.activeElement } catch (i) { e = t.body } return e || (e = t.body), e.nodeName || (e = t.body), e }, t.ui.safeBlur = function (e) { e && "body" !== e.nodeName.toLowerCase() && t(e).trigger("blur") }, t.widget("ui.draggable", t.ui.mouse, {
                version: "1.12.1", widgetEventPrefix: "drag", options: { addClasses: !0, appendTo: "parent", axis: !1, connectToSortable: !1, containment: !1, cursor: "auto", cursorAt: !1, grid: !1, handle: !1, helper: "original", iframeFix: !1, opacity: !1, refreshPositions: !1, revert: !1, revertDuration: 500, scope: "default", scroll: !0, scrollSensitivity: 20, scrollSpeed: 20, snap: !1, snapMode: "both", snapTolerance: 20, stack: !1, zIndex: !1, drag: null, start: null, stop: null }, _create: function () { "original" === this.options.helper && this._setPositionRelative(), this.options.addClasses && this._addClass("ui-draggable"), this._setHandleClassName(), this._mouseInit() }, _setOption: function (t, e) { this._super(t, e), "handle" === t && (this._removeHandleClassName(), this._setHandleClassName()) }, _destroy: function () { return (this.helper || this.element).is(".ui-draggable-dragging") ? (this.destroyOnClear = !0, void 0) : (this._removeHandleClassName(), this._mouseDestroy(), void 0) }, _mouseCapture: function (e) { var i = this.options; return this.helper || i.disabled || t(e.target).closest(".ui-resizable-handle").length > 0 ? !1 : (this.handle = this._getHandle(e), this.handle ? (this._blurActiveElement(e), this._blockFrames(i.iframeFix === !0 ? "iframe" : i.iframeFix), !0) : !1) }, _blockFrames: function (e) { this.iframeBlocks = this.document.find(e).map(function () { var e = t(this); return t("<div>").css("position", "absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0] }) }, _unblockFrames: function () { this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks) }, _blurActiveElement: function (e) { var i = t.ui.safeActiveElement(this.document[0]), s = t(e.target); s.closest(i).length || t.ui.safeBlur(i) }, _mouseStart: function (e) { var i = this.options; return this.helper = this._createHelper(e), this._addClass(this.helper, "ui-draggable-dragging"), this._cacheHelperProportions(), t.ui.ddmanager && (t.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter(function () { return "fixed" === t(this).css("position") }).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(e), this.originalPosition = this.position = this._generatePosition(e, !1), this.originalPageX = e.pageX, this.originalPageY = e.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger("start", e) === !1 ? (this._clear(), !1) : (this._cacheHelperProportions(), t.ui.ddmanager && !i.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this._mouseDrag(e, !0), t.ui.ddmanager && t.ui.ddmanager.dragStart(this, e), !0) }, _refreshOffsets: function (t) { this.offset = { top: this.positionAbs.top - this.margins.top, left: this.positionAbs.left - this.margins.left, scroll: !1, parent: this._getParentOffset(), relative: this._getRelativeOffset() }, this.offset.click = { left: t.pageX - this.offset.left, top: t.pageY - this.offset.top } }, _mouseDrag: function (e, i) { if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(e, !0), this.positionAbs = this._convertPositionTo("absolute"), !i) { var s = this._uiHash(); if (this._trigger("drag", e, s) === !1) return this._mouseUp(new t.Event("mouseup", e)), !1; this.position = s.position } return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", t.ui.ddmanager && t.ui.ddmanager.drag(this, e), !1 }, _mouseStop: function (e) { var i = this, s = !1; return t.ui.ddmanager && !this.options.dropBehaviour && (s = t.ui.ddmanager.drop(this, e)), this.dropped && (s = this.dropped, this.dropped = !1), "invalid" === this.options.revert && !s || "valid" === this.options.revert && s || this.options.revert === !0 || t.isFunction(this.options.revert) && this.options.revert.call(this.element, s) ? t(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () { i._trigger("stop", e) !== !1 && i._clear() }) : this._trigger("stop", e) !== !1 && this._clear(), !1 }, _mouseUp: function (e) { return this._unblockFrames(), t.ui.ddmanager && t.ui.ddmanager.dragStop(this, e), this.handleElement.is(e.target) && this.element.trigger("focus"), t.ui.mouse.prototype._mouseUp.call(this, e) }, cancel: function () { return this.helper.is(".ui-draggable-dragging") ? this._mouseUp(new t.Event("mouseup", { target: this.element[0] })) : this._clear(), this }, _getHandle: function (e) { return this.options.handle ? !!t(e.target).closest(this.element.find(this.options.handle)).length : !0 }, _setHandleClassName: function () { this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element, this._addClass(this.handleElement, "ui-draggable-handle") }, _removeHandleClassName: function () { this._removeClass(this.handleElement, "ui-draggable-handle") }, _createHelper: function (e) { var i = this.options, s = t.isFunction(i.helper), n = s ? t(i.helper.apply(this.element[0], [e])) : "clone" === i.helper ? this.element.clone().removeAttr("id") : this.element; return n.parents("body").length || n.appendTo("parent" === i.appendTo ? this.element[0].parentNode : i.appendTo), s && n[0] === this.element[0] && this._setPositionRelative(), n[0] === this.element[0] || /(fixed|absolute)/.test(n.css("position")) || n.css("position", "absolute"), n }, _setPositionRelative: function () { /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative") }, _adjustOffsetFromHelper: function (e) { "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = { left: +e[0], top: +e[1] || 0 }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top) }, _isRootNode: function (t) { return /(html|body)/i.test(t.tagName) || t === this.document[0] }, _getParentOffset: function () { var e = this.offsetParent.offset(), i = this.document[0]; return "absolute" === this.cssPosition && this.scrollParent[0] !== i && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (e = { top: 0, left: 0 }), { top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0) } }, _getRelativeOffset: function () { if ("relative" !== this.cssPosition) return { top: 0, left: 0 }; var t = this.element.position(), e = this._isRootNode(this.scrollParent[0]); return { top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + (e ? 0 : this.scrollParent.scrollTop()), left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + (e ? 0 : this.scrollParent.scrollLeft()) } }, _cacheMargins: function () { this.margins = { left: parseInt(this.element.css("marginLeft"), 10) || 0, top: parseInt(this.element.css("marginTop"), 10) || 0, right: parseInt(this.element.css("marginRight"), 10) || 0, bottom: parseInt(this.element.css("marginBottom"), 10) || 0 } }, _cacheHelperProportions: function () { this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight() } }, _setContainment: function () {
                    var e, i, s, n = this.options, o = this.document[0]; return this.relativeContainer = null, n.containment ? "window" === n.containment ? (this.containment = [t(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, t(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, t(window).scrollLeft() + t(window).width() - this.helperProportions.width - this.margins.left, t(window).scrollTop() + (t(window).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top], void 0) : "document" === n.containment ? (this.containment = [0, 0, t(o).width() - this.helperProportions.width - this.margins.left, (t(o).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top], void 0) : n.containment.constructor === Array ? (this.containment = n.containment, void 0) : ("parent" === n.containment && (n.containment = this.helper[0].parentNode), i = t(n.containment), s = i[0], s && (e = /(scroll|auto)/.test(i.css("overflow")), this.containment = [(parseInt(i.css("borderLeftWidth"), 10) || 0) + (parseInt(i.css("paddingLeft"), 10) || 0), (parseInt(i.css("borderTopWidth"), 10) || 0) + (parseInt(i.css("paddingTop"), 10) || 0), (e ? Math.max(s.scrollWidth, s.offsetWidth) : s.offsetWidth) - (parseInt(i.css("borderRightWidth"), 10) || 0) - (parseInt(i.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (e ? Math.max(s.scrollHeight, s.offsetHeight) : s.offsetHeight) - (parseInt(i.css("borderBottomWidth"), 10) || 0) - (parseInt(i.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = i), void 0) : (this.containment = null, void 0)
                }, _convertPositionTo: function (t, e) { e || (e = this.position); var i = "absolute" === t ? 1 : -1, s = this._isRootNode(this.scrollParent[0]); return { top: e.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.offset.scroll.top : s ? 0 : this.offset.scroll.top) * i, left: e.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.offset.scroll.left : s ? 0 : this.offset.scroll.left) * i } }, _generatePosition: function (t, e) { var i, s, n, o, a = this.options, r = this._isRootNode(this.scrollParent[0]), h = t.pageX, l = t.pageY; return r && this.offset.scroll || (this.offset.scroll = { top: this.scrollParent.scrollTop(), left: this.scrollParent.scrollLeft() }), e && (this.containment && (this.relativeContainer ? (s = this.relativeContainer.offset(), i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment, t.pageX - this.offset.click.left < i[0] && (h = i[0] + this.offset.click.left), t.pageY - this.offset.click.top < i[1] && (l = i[1] + this.offset.click.top), t.pageX - this.offset.click.left > i[2] && (h = i[2] + this.offset.click.left), t.pageY - this.offset.click.top > i[3] && (l = i[3] + this.offset.click.top)), a.grid && (n = a.grid[1] ? this.originalPageY + Math.round((l - this.originalPageY) / a.grid[1]) * a.grid[1] : this.originalPageY, l = i ? n - this.offset.click.top >= i[1] || n - this.offset.click.top > i[3] ? n : n - this.offset.click.top >= i[1] ? n - a.grid[1] : n + a.grid[1] : n, o = a.grid[0] ? this.originalPageX + Math.round((h - this.originalPageX) / a.grid[0]) * a.grid[0] : this.originalPageX, h = i ? o - this.offset.click.left >= i[0] || o - this.offset.click.left > i[2] ? o : o - this.offset.click.left >= i[0] ? o - a.grid[0] : o + a.grid[0] : o), "y" === a.axis && (h = this.originalPageX), "x" === a.axis && (l = this.originalPageY)), { top: l - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top), left: h - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left) } }, _clear: function () { this._removeClass(this.helper, "ui-draggable-dragging"), this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1, this.destroyOnClear && this.destroy() }, _trigger: function (e, i, s) { return s = s || this._uiHash(), t.ui.plugin.call(this, e, [i, s, this], !0), /^(drag|start|stop)/.test(e) && (this.positionAbs = this._convertPositionTo("absolute"), s.offset = this.positionAbs), t.Widget.prototype._trigger.call(this, e, i, s) }, plugins: {}, _uiHash: function () { return { helper: this.helper, position: this.position, originalPosition: this.originalPosition, offset: this.positionAbs } }
            }), t.ui.plugin.add("draggable", "connectToSortable", { start: function (e, i, s) { var n = t.extend({}, i, { item: s.element }); s.sortables = [], t(s.options.connectToSortable).each(function () { var i = t(this).sortable("instance"); i && !i.options.disabled && (s.sortables.push(i), i.refreshPositions(), i._trigger("activate", e, n)) }) }, stop: function (e, i, s) { var n = t.extend({}, i, { item: s.element }); s.cancelHelperRemoval = !1, t.each(s.sortables, function () { var t = this; t.isOver ? (t.isOver = 0, s.cancelHelperRemoval = !0, t.cancelHelperRemoval = !1, t._storedCSS = { position: t.placeholder.css("position"), top: t.placeholder.css("top"), left: t.placeholder.css("left") }, t._mouseStop(e), t.options.helper = t.options._helper) : (t.cancelHelperRemoval = !0, t._trigger("deactivate", e, n)) }) }, drag: function (e, i, s) { t.each(s.sortables, function () { var n = !1, o = this; o.positionAbs = s.positionAbs, o.helperProportions = s.helperProportions, o.offset.click = s.offset.click, o._intersectsWith(o.containerCache) && (n = !0, t.each(s.sortables, function () { return this.positionAbs = s.positionAbs, this.helperProportions = s.helperProportions, this.offset.click = s.offset.click, this !== o && this._intersectsWith(this.containerCache) && t.contains(o.element[0], this.element[0]) && (n = !1), n })), n ? (o.isOver || (o.isOver = 1, s._parent = i.helper.parent(), o.currentItem = i.helper.appendTo(o.element).data("ui-sortable-item", !0), o.options._helper = o.options.helper, o.options.helper = function () { return i.helper[0] }, e.target = o.currentItem[0], o._mouseCapture(e, !0), o._mouseStart(e, !0, !0), o.offset.click.top = s.offset.click.top, o.offset.click.left = s.offset.click.left, o.offset.parent.left -= s.offset.parent.left - o.offset.parent.left, o.offset.parent.top -= s.offset.parent.top - o.offset.parent.top, s._trigger("toSortable", e), s.dropped = o.element, t.each(s.sortables, function () { this.refreshPositions() }), s.currentItem = s.element, o.fromOutside = s), o.currentItem && (o._mouseDrag(e), i.position = o.position)) : o.isOver && (o.isOver = 0, o.cancelHelperRemoval = !0, o.options._revert = o.options.revert, o.options.revert = !1, o._trigger("out", e, o._uiHash(o)), o._mouseStop(e, !0), o.options.revert = o.options._revert, o.options.helper = o.options._helper, o.placeholder && o.placeholder.remove(), i.helper.appendTo(s._parent), s._refreshOffsets(e), i.position = s._generatePosition(e, !0), s._trigger("fromSortable", e), s.dropped = !1, t.each(s.sortables, function () { this.refreshPositions() })) }) } }), t.ui.plugin.add("draggable", "cursor", { start: function (e, i, s) { var n = t("body"), o = s.options; n.css("cursor") && (o._cursor = n.css("cursor")), n.css("cursor", o.cursor) }, stop: function (e, i, s) { var n = s.options; n._cursor && t("body").css("cursor", n._cursor) } }), t.ui.plugin.add("draggable", "opacity", { start: function (e, i, s) { var n = t(i.helper), o = s.options; n.css("opacity") && (o._opacity = n.css("opacity")), n.css("opacity", o.opacity) }, stop: function (e, i, s) { var n = s.options; n._opacity && t(i.helper).css("opacity", n._opacity) } }), t.ui.plugin.add("draggable", "scroll", { start: function (t, e, i) { i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)), i.scrollParentNotHidden[0] !== i.document[0] && "HTML" !== i.scrollParentNotHidden[0].tagName && (i.overflowOffset = i.scrollParentNotHidden.offset()) }, drag: function (e, i, s) { var n = s.options, o = !1, a = s.scrollParentNotHidden[0], r = s.document[0]; a !== r && "HTML" !== a.tagName ? (n.axis && "x" === n.axis || (s.overflowOffset.top + a.offsetHeight - e.pageY < n.scrollSensitivity ? a.scrollTop = o = a.scrollTop + n.scrollSpeed : e.pageY - s.overflowOffset.top < n.scrollSensitivity && (a.scrollTop = o = a.scrollTop - n.scrollSpeed)), n.axis && "y" === n.axis || (s.overflowOffset.left + a.offsetWidth - e.pageX < n.scrollSensitivity ? a.scrollLeft = o = a.scrollLeft + n.scrollSpeed : e.pageX - s.overflowOffset.left < n.scrollSensitivity && (a.scrollLeft = o = a.scrollLeft - n.scrollSpeed))) : (n.axis && "x" === n.axis || (e.pageY - t(r).scrollTop() < n.scrollSensitivity ? o = t(r).scrollTop(t(r).scrollTop() - n.scrollSpeed) : t(window).height() - (e.pageY - t(r).scrollTop()) < n.scrollSensitivity && (o = t(r).scrollTop(t(r).scrollTop() + n.scrollSpeed))), n.axis && "y" === n.axis || (e.pageX - t(r).scrollLeft() < n.scrollSensitivity ? o = t(r).scrollLeft(t(r).scrollLeft() - n.scrollSpeed) : t(window).width() - (e.pageX - t(r).scrollLeft()) < n.scrollSensitivity && (o = t(r).scrollLeft(t(r).scrollLeft() + n.scrollSpeed)))), o !== !1 && t.ui.ddmanager && !n.dropBehaviour && t.ui.ddmanager.prepareOffsets(s, e) } }), t.ui.plugin.add("draggable", "snap", { start: function (e, i, s) { var n = s.options; s.snapElements = [], t(n.snap.constructor !== String ? n.snap.items || ":data(ui-draggable)" : n.snap).each(function () { var e = t(this), i = e.offset(); this !== s.element[0] && s.snapElements.push({ item: this, width: e.outerWidth(), height: e.outerHeight(), top: i.top, left: i.left }) }) }, drag: function (e, i, s) { var n, o, a, r, h, l, c, u, d, p, f = s.options, g = f.snapTolerance, m = i.offset.left, _ = m + s.helperProportions.width, v = i.offset.top, b = v + s.helperProportions.height; for (d = s.snapElements.length - 1; d >= 0; d--)h = s.snapElements[d].left - s.margins.left, l = h + s.snapElements[d].width, c = s.snapElements[d].top - s.margins.top, u = c + s.snapElements[d].height, h - g > _ || m > l + g || c - g > b || v > u + g || !t.contains(s.snapElements[d].item.ownerDocument, s.snapElements[d].item) ? (s.snapElements[d].snapping && s.options.snap.release && s.options.snap.release.call(s.element, e, t.extend(s._uiHash(), { snapItem: s.snapElements[d].item })), s.snapElements[d].snapping = !1) : ("inner" !== f.snapMode && (n = g >= Math.abs(c - b), o = g >= Math.abs(u - v), a = g >= Math.abs(h - _), r = g >= Math.abs(l - m), n && (i.position.top = s._convertPositionTo("relative", { top: c - s.helperProportions.height, left: 0 }).top), o && (i.position.top = s._convertPositionTo("relative", { top: u, left: 0 }).top), a && (i.position.left = s._convertPositionTo("relative", { top: 0, left: h - s.helperProportions.width }).left), r && (i.position.left = s._convertPositionTo("relative", { top: 0, left: l }).left)), p = n || o || a || r, "outer" !== f.snapMode && (n = g >= Math.abs(c - v), o = g >= Math.abs(u - b), a = g >= Math.abs(h - m), r = g >= Math.abs(l - _), n && (i.position.top = s._convertPositionTo("relative", { top: c, left: 0 }).top), o && (i.position.top = s._convertPositionTo("relative", { top: u - s.helperProportions.height, left: 0 }).top), a && (i.position.left = s._convertPositionTo("relative", { top: 0, left: h }).left), r && (i.position.left = s._convertPositionTo("relative", { top: 0, left: l - s.helperProportions.width }).left)), !s.snapElements[d].snapping && (n || o || a || r || p) && s.options.snap.snap && s.options.snap.snap.call(s.element, e, t.extend(s._uiHash(), { snapItem: s.snapElements[d].item })), s.snapElements[d].snapping = n || o || a || r || p) } }), t.ui.plugin.add("draggable", "stack", { start: function (e, i, s) { var n, o = s.options, a = t.makeArray(t(o.stack)).sort(function (e, i) { return (parseInt(t(e).css("zIndex"), 10) || 0) - (parseInt(t(i).css("zIndex"), 10) || 0) }); a.length && (n = parseInt(t(a[0]).css("zIndex"), 10) || 0, t(a).each(function (e) { t(this).css("zIndex", n + e) }), this.css("zIndex", n + a.length)) } }), t.ui.plugin.add("draggable", "zIndex", { start: function (e, i, s) { var n = t(i.helper), o = s.options; n.css("zIndex") && (o._zIndex = n.css("zIndex")), n.css("zIndex", o.zIndex) }, stop: function (e, i, s) { var n = s.options; n._zIndex && t(i.helper).css("zIndex", n._zIndex) } }), t.ui.draggable, t.widget("ui.droppable", { version: "1.12.1", widgetEventPrefix: "drop", options: { accept: "*", addClasses: !0, greedy: !1, scope: "default", tolerance: "intersect", activate: null, deactivate: null, drop: null, out: null, over: null }, _create: function () { var e, i = this.options, s = i.accept; this.isover = !1, this.isout = !0, this.accept = t.isFunction(s) ? s : function (t) { return t.is(s) }, this.proportions = function () { return arguments.length ? (e = arguments[0], void 0) : e ? e : e = { width: this.element[0].offsetWidth, height: this.element[0].offsetHeight } }, this._addToManager(i.scope), i.addClasses && this._addClass("ui-droppable") }, _addToManager: function (e) { t.ui.ddmanager.droppables[e] = t.ui.ddmanager.droppables[e] || [], t.ui.ddmanager.droppables[e].push(this) }, _splice: function (t) { for (var e = 0; t.length > e; e++)t[e] === this && t.splice(e, 1) }, _destroy: function () { var e = t.ui.ddmanager.droppables[this.options.scope]; this._splice(e) }, _setOption: function (e, i) { if ("accept" === e) this.accept = t.isFunction(i) ? i : function (t) { return t.is(i) }; else if ("scope" === e) { var s = t.ui.ddmanager.droppables[this.options.scope]; this._splice(s), this._addToManager(i) } this._super(e, i) }, _activate: function (e) { var i = t.ui.ddmanager.current; this._addActiveClass(), i && this._trigger("activate", e, this.ui(i)) }, _deactivate: function (e) { var i = t.ui.ddmanager.current; this._removeActiveClass(), i && this._trigger("deactivate", e, this.ui(i)) }, _over: function (e) { var i = t.ui.ddmanager.current; i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this._addHoverClass(), this._trigger("over", e, this.ui(i))) }, _out: function (e) { var i = t.ui.ddmanager.current; i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this._removeHoverClass(), this._trigger("out", e, this.ui(i))) }, _drop: function (e, i) { var s = i || t.ui.ddmanager.current, n = !1; return s && (s.currentItem || s.element)[0] !== this.element[0] ? (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function () { var i = t(this).droppable("instance"); return i.options.greedy && !i.options.disabled && i.options.scope === s.options.scope && i.accept.call(i.element[0], s.currentItem || s.element) && u(s, t.extend(i, { offset: i.element.offset() }), i.options.tolerance, e) ? (n = !0, !1) : void 0 }), n ? !1 : this.accept.call(this.element[0], s.currentItem || s.element) ? (this._removeActiveClass(), this._removeHoverClass(), this._trigger("drop", e, this.ui(s)), this.element) : !1) : !1 }, ui: function (t) { return { draggable: t.currentItem || t.element, helper: t.helper, position: t.position, offset: t.positionAbs } }, _addHoverClass: function () { this._addClass("ui-droppable-hover") }, _removeHoverClass: function () { this._removeClass("ui-droppable-hover") }, _addActiveClass: function () { this._addClass("ui-droppable-active") }, _removeActiveClass: function () { this._removeClass("ui-droppable-active") } }); var u = t.ui.intersect = function () { function t(t, e, i) { return t >= e && e + i > t } return function (e, i, s, n) { if (!i.offset) return !1; var o = (e.positionAbs || e.position.absolute).left + e.margins.left, a = (e.positionAbs || e.position.absolute).top + e.margins.top, r = o + e.helperProportions.width, h = a + e.helperProportions.height, l = i.offset.left, c = i.offset.top, u = l + i.proportions().width, d = c + i.proportions().height; switch (s) { case "fit": return o >= l && u >= r && a >= c && d >= h; case "intersect": return o + e.helperProportions.width / 2 > l && u > r - e.helperProportions.width / 2 && a + e.helperProportions.height / 2 > c && d > h - e.helperProportions.height / 2; case "pointer": return t(n.pageY, c, i.proportions().height) && t(n.pageX, l, i.proportions().width); case "touch": return (a >= c && d >= a || h >= c && d >= h || c > a && h > d) && (o >= l && u >= o || r >= l && u >= r || l > o && r > u); default: return !1 } } }(); t.ui.ddmanager = { current: null, droppables: { "default": [] }, prepareOffsets: function (e, i) { var s, n, o = t.ui.ddmanager.droppables[e.options.scope] || [], a = i ? i.type : null, r = (e.currentItem || e.element).find(":data(ui-droppable)").addBack(); t: for (s = 0; o.length > s; s++)if (!(o[s].options.disabled || e && !o[s].accept.call(o[s].element[0], e.currentItem || e.element))) { for (n = 0; r.length > n; n++)if (r[n] === o[s].element[0]) { o[s].proportions().height = 0; continue t } o[s].visible = "none" !== o[s].element.css("display"), o[s].visible && ("mousedown" === a && o[s]._activate.call(o[s], i), o[s].offset = o[s].element.offset(), o[s].proportions({ width: o[s].element[0].offsetWidth, height: o[s].element[0].offsetHeight })) } }, drop: function (e, i) { var s = !1; return t.each((t.ui.ddmanager.droppables[e.options.scope] || []).slice(), function () { this.options && (!this.options.disabled && this.visible && u(e, this, this.options.tolerance, i) && (s = this._drop.call(this, i) || s), !this.options.disabled && this.visible && this.accept.call(this.element[0], e.currentItem || e.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, i))) }), s }, dragStart: function (e, i) { e.element.parentsUntil("body").on("scroll.droppable", function () { e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i) }) }, drag: function (e, i) { e.options.refreshPositions && t.ui.ddmanager.prepareOffsets(e, i), t.each(t.ui.ddmanager.droppables[e.options.scope] || [], function () { if (!this.options.disabled && !this.greedyChild && this.visible) { var s, n, o, a = u(e, this, this.options.tolerance, i), r = !a && this.isover ? "isout" : a && !this.isover ? "isover" : null; r && (this.options.greedy && (n = this.options.scope, o = this.element.parents(":data(ui-droppable)").filter(function () { return t(this).droppable("instance").options.scope === n }), o.length && (s = t(o[0]).droppable("instance"), s.greedyChild = "isover" === r)), s && "isover" === r && (s.isover = !1, s.isout = !0, s._out.call(s, i)), this[r] = !0, this["isout" === r ? "isover" : "isout"] = !1, this["isover" === r ? "_over" : "_out"].call(this, i), s && "isout" === r && (s.isout = !1, s.isover = !0, s._over.call(s, i))) } }) }, dragStop: function (e, i) { e.element.parentsUntil("body").off("scroll.droppable"), e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i) } }, t.uiBackCompat !== !1 && t.widget("ui.droppable", t.ui.droppable, { options: { hoverClass: !1, activeClass: !1 }, _addActiveClass: function () { this._super(), this.options.activeClass && this.element.addClass(this.options.activeClass) }, _removeActiveClass: function () { this._super(), this.options.activeClass && this.element.removeClass(this.options.activeClass) }, _addHoverClass: function () { this._super(), this.options.hoverClass && this.element.addClass(this.options.hoverClass) }, _removeHoverClass: function () { this._super(), this.options.hoverClass && this.element.removeClass(this.options.hoverClass) } }), t.ui.droppable, t.widget("ui.resizable", t.ui.mouse, { version: "1.12.1", widgetEventPrefix: "resize", options: { alsoResize: !1, animate: !1, animateDuration: "slow", animateEasing: "swing", aspectRatio: !1, autoHide: !1, classes: { "ui-resizable-se": "ui-icon ui-icon-gripsmall-diagonal-se" }, containment: !1, ghost: !1, grid: !1, handles: "e,s,se", helper: !1, maxHeight: null, maxWidth: null, minHeight: 10, minWidth: 10, zIndex: 90, resize: null, start: null, stop: null }, _num: function (t) { return parseFloat(t) || 0 }, _isNumber: function (t) { return !isNaN(parseFloat(t)) }, _hasScroll: function (e, i) { if ("hidden" === t(e).css("overflow")) return !1; var s = i && "left" === i ? "scrollLeft" : "scrollTop", n = !1; return e[s] > 0 ? !0 : (e[s] = 1, n = e[s] > 0, e[s] = 0, n) }, _create: function () { var e, i = this.options, s = this; this._addClass("ui-resizable"), t.extend(this, { _aspectRatio: !!i.aspectRatio, aspectRatio: i.aspectRatio, originalElement: this.element, _proportionallyResizeElements: [], _helper: i.helper || i.ghost || i.animate ? i.helper || "ui-resizable-helper" : null }), this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({ position: this.element.css("position"), width: this.element.outerWidth(), height: this.element.outerHeight(), top: this.element.css("top"), left: this.element.css("left") })), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, e = { marginTop: this.originalElement.css("marginTop"), marginRight: this.originalElement.css("marginRight"), marginBottom: this.originalElement.css("marginBottom"), marginLeft: this.originalElement.css("marginLeft") }, this.element.css(e), this.originalElement.css("margin", 0), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({ position: "static", zoom: 1, display: "block" })), this.originalElement.css(e), this._proportionallyResize()), this._setupHandles(), i.autoHide && t(this.element).on("mouseenter", function () { i.disabled || (s._removeClass("ui-resizable-autohide"), s._handles.show()) }).on("mouseleave", function () { i.disabled || s.resizing || (s._addClass("ui-resizable-autohide"), s._handles.hide()) }), this._mouseInit() }, _destroy: function () { this._mouseDestroy(); var e, i = function (e) { t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove() }; return this.elementIsWrapper && (i(this.element), e = this.element, this.originalElement.css({ position: e.css("position"), width: e.outerWidth(), height: e.outerHeight(), top: e.css("top"), left: e.css("left") }).insertAfter(e), e.remove()), this.originalElement.css("resize", this.originalResizeStyle), i(this.originalElement), this }, _setOption: function (t, e) { switch (this._super(t, e), t) { case "handles": this._removeHandles(), this._setupHandles(); break; default: } }, _setupHandles: function () { var e, i, s, n, o, a = this.options, r = this; if (this.handles = a.handles || (t(".ui-resizable-handle", this.element).length ? { n: ".ui-resizable-n", e: ".ui-resizable-e", s: ".ui-resizable-s", w: ".ui-resizable-w", se: ".ui-resizable-se", sw: ".ui-resizable-sw", ne: ".ui-resizable-ne", nw: ".ui-resizable-nw" } : "e,s,se"), this._handles = t(), this.handles.constructor === String) for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), s = this.handles.split(","), this.handles = {}, i = 0; s.length > i; i++)e = t.trim(s[i]), n = "ui-resizable-" + e, o = t("<div>"), this._addClass(o, "ui-resizable-handle " + n), o.css({ zIndex: a.zIndex }), this.handles[e] = ".ui-resizable-" + e, this.element.append(o); this._renderAxis = function (e) { var i, s, n, o; e = e || this.element; for (i in this.handles) this.handles[i].constructor === String ? this.handles[i] = this.element.children(this.handles[i]).first().show() : (this.handles[i].jquery || this.handles[i].nodeType) && (this.handles[i] = t(this.handles[i]), this._on(this.handles[i], { mousedown: r._mouseDown })), this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (s = t(this.handles[i], this.element), o = /sw|ne|nw|se|n|s/.test(i) ? s.outerHeight() : s.outerWidth(), n = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""), e.css(n, o), this._proportionallyResize()), this._handles = this._handles.add(this.handles[i]) }, this._renderAxis(this.element), this._handles = this._handles.add(this.element.find(".ui-resizable-handle")), this._handles.disableSelection(), this._handles.on("mouseover", function () { r.resizing || (this.className && (o = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), r.axis = o && o[1] ? o[1] : "se") }), a.autoHide && (this._handles.hide(), this._addClass("ui-resizable-autohide")) }, _removeHandles: function () { this._handles.remove() }, _mouseCapture: function (e) { var i, s, n = !1; for (i in this.handles) s = t(this.handles[i])[0], (s === e.target || t.contains(s, e.target)) && (n = !0); return !this.options.disabled && n }, _mouseStart: function (e) { var i, s, n, o = this.options, a = this.element; return this.resizing = !0, this._renderProxy(), i = this._num(this.helper.css("left")), s = this._num(this.helper.css("top")), o.containment && (i += t(o.containment).scrollLeft() || 0, s += t(o.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = { left: i, top: s }, this.size = this._helper ? { width: this.helper.width(), height: this.helper.height() } : { width: a.width(), height: a.height() }, this.originalSize = this._helper ? { width: a.outerWidth(), height: a.outerHeight() } : { width: a.width(), height: a.height() }, this.sizeDiff = { width: a.outerWidth() - a.width(), height: a.outerHeight() - a.height() }, this.originalPosition = { left: i, top: s }, this.originalMousePosition = { left: e.pageX, top: e.pageY }, this.aspectRatio = "number" == typeof o.aspectRatio ? o.aspectRatio : this.originalSize.width / this.originalSize.height || 1, n = t(".ui-resizable-" + this.axis).css("cursor"), t("body").css("cursor", "auto" === n ? this.axis + "-resize" : n), this._addClass("ui-resizable-resizing"), this._propagate("start", e), !0 }, _mouseDrag: function (e) { var i, s, n = this.originalMousePosition, o = this.axis, a = e.pageX - n.left || 0, r = e.pageY - n.top || 0, h = this._change[o]; return this._updatePrevProperties(), h ? (i = h.apply(this, [e, a, r]), this._updateVirtualBoundaries(e.shiftKey), (this._aspectRatio || e.shiftKey) && (i = this._updateRatio(i, e)), i = this._respectSize(i, e), this._updateCache(i), this._propagate("resize", e), s = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), t.isEmptyObject(s) || (this._updatePrevProperties(), this._trigger("resize", e, this.ui()), this._applyChanges()), !1) : !1 }, _mouseStop: function (e) { this.resizing = !1; var i, s, n, o, a, r, h, l = this.options, c = this; return this._helper && (i = this._proportionallyResizeElements, s = i.length && /textarea/i.test(i[0].nodeName), n = s && this._hasScroll(i[0], "left") ? 0 : c.sizeDiff.height, o = s ? 0 : c.sizeDiff.width, a = { width: c.helper.width() - o, height: c.helper.height() - n }, r = parseFloat(c.element.css("left")) + (c.position.left - c.originalPosition.left) || null, h = parseFloat(c.element.css("top")) + (c.position.top - c.originalPosition.top) || null, l.animate || this.element.css(t.extend(a, { top: h, left: r })), c.helper.height(c.size.height), c.helper.width(c.size.width), this._helper && !l.animate && this._proportionallyResize()), t("body").css("cursor", "auto"), this._removeClass("ui-resizable-resizing"), this._propagate("stop", e), this._helper && this.helper.remove(), !1 }, _updatePrevProperties: function () { this.prevPosition = { top: this.position.top, left: this.position.left }, this.prevSize = { width: this.size.width, height: this.size.height } }, _applyChanges: function () { var t = {}; return this.position.top !== this.prevPosition.top && (t.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (t.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (t.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (t.height = this.size.height + "px"), this.helper.css(t), t }, _updateVirtualBoundaries: function (t) { var e, i, s, n, o, a = this.options; o = { minWidth: this._isNumber(a.minWidth) ? a.minWidth : 0, maxWidth: this._isNumber(a.maxWidth) ? a.maxWidth : 1 / 0, minHeight: this._isNumber(a.minHeight) ? a.minHeight : 0, maxHeight: this._isNumber(a.maxHeight) ? a.maxHeight : 1 / 0 }, (this._aspectRatio || t) && (e = o.minHeight * this.aspectRatio, s = o.minWidth / this.aspectRatio, i = o.maxHeight * this.aspectRatio, n = o.maxWidth / this.aspectRatio, e > o.minWidth && (o.minWidth = e), s > o.minHeight && (o.minHeight = s), o.maxWidth > i && (o.maxWidth = i), o.maxHeight > n && (o.maxHeight = n)), this._vBoundaries = o }, _updateCache: function (t) { this.offset = this.helper.offset(), this._isNumber(t.left) && (this.position.left = t.left), this._isNumber(t.top) && (this.position.top = t.top), this._isNumber(t.height) && (this.size.height = t.height), this._isNumber(t.width) && (this.size.width = t.width) }, _updateRatio: function (t) { var e = this.position, i = this.size, s = this.axis; return this._isNumber(t.height) ? t.width = t.height * this.aspectRatio : this._isNumber(t.width) && (t.height = t.width / this.aspectRatio), "sw" === s && (t.left = e.left + (i.width - t.width), t.top = null), "nw" === s && (t.top = e.top + (i.height - t.height), t.left = e.left + (i.width - t.width)), t }, _respectSize: function (t) { var e = this._vBoundaries, i = this.axis, s = this._isNumber(t.width) && e.maxWidth && e.maxWidth < t.width, n = this._isNumber(t.height) && e.maxHeight && e.maxHeight < t.height, o = this._isNumber(t.width) && e.minWidth && e.minWidth > t.width, a = this._isNumber(t.height) && e.minHeight && e.minHeight > t.height, r = this.originalPosition.left + this.originalSize.width, h = this.originalPosition.top + this.originalSize.height, l = /sw|nw|w/.test(i), c = /nw|ne|n/.test(i); return o && (t.width = e.minWidth), a && (t.height = e.minHeight), s && (t.width = e.maxWidth), n && (t.height = e.maxHeight), o && l && (t.left = r - e.minWidth), s && l && (t.left = r - e.maxWidth), a && c && (t.top = h - e.minHeight), n && c && (t.top = h - e.maxHeight), t.width || t.height || t.left || !t.top ? t.width || t.height || t.top || !t.left || (t.left = null) : t.top = null, t }, _getPaddingPlusBorderDimensions: function (t) { for (var e = 0, i = [], s = [t.css("borderTopWidth"), t.css("borderRightWidth"), t.css("borderBottomWidth"), t.css("borderLeftWidth")], n = [t.css("paddingTop"), t.css("paddingRight"), t.css("paddingBottom"), t.css("paddingLeft")]; 4 > e; e++)i[e] = parseFloat(s[e]) || 0, i[e] += parseFloat(n[e]) || 0; return { height: i[0] + i[2], width: i[1] + i[3] } }, _proportionallyResize: function () { if (this._proportionallyResizeElements.length) for (var t, e = 0, i = this.helper || this.element; this._proportionallyResizeElements.length > e; e++)t = this._proportionallyResizeElements[e], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(t)), t.css({ height: i.height() - this.outerDimensions.height || 0, width: i.width() - this.outerDimensions.width || 0 }) }, _renderProxy: function () { var e = this.element, i = this.options; this.elementOffset = e.offset(), this._helper ? (this.helper = this.helper || t("<div style='overflow:hidden;'></div>"), this._addClass(this.helper, this._helper), this.helper.css({ width: this.element.outerWidth(), height: this.element.outerHeight(), position: "absolute", left: this.elementOffset.left + "px", top: this.elementOffset.top + "px", zIndex: ++i.zIndex }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element }, _change: { e: function (t, e) { return { width: this.originalSize.width + e } }, w: function (t, e) { var i = this.originalSize, s = this.originalPosition; return { left: s.left + e, width: i.width - e } }, n: function (t, e, i) { var s = this.originalSize, n = this.originalPosition; return { top: n.top + i, height: s.height - i } }, s: function (t, e, i) { return { height: this.originalSize.height + i } }, se: function (e, i, s) { return t.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [e, i, s])) }, sw: function (e, i, s) { return t.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [e, i, s])) }, ne: function (e, i, s) { return t.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [e, i, s])) }, nw: function (e, i, s) { return t.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [e, i, s])) } }, _propagate: function (e, i) { t.ui.plugin.call(this, e, [i, this.ui()]), "resize" !== e && this._trigger(e, i, this.ui()) }, plugins: {}, ui: function () { return { originalElement: this.originalElement, element: this.element, helper: this.helper, position: this.position, size: this.size, originalSize: this.originalSize, originalPosition: this.originalPosition } } }), t.ui.plugin.add("resizable", "animate", { stop: function (e) { var i = t(this).resizable("instance"), s = i.options, n = i._proportionallyResizeElements, o = n.length && /textarea/i.test(n[0].nodeName), a = o && i._hasScroll(n[0], "left") ? 0 : i.sizeDiff.height, r = o ? 0 : i.sizeDiff.width, h = { width: i.size.width - r, height: i.size.height - a }, l = parseFloat(i.element.css("left")) + (i.position.left - i.originalPosition.left) || null, c = parseFloat(i.element.css("top")) + (i.position.top - i.originalPosition.top) || null; i.element.animate(t.extend(h, c && l ? { top: c, left: l } : {}), { duration: s.animateDuration, easing: s.animateEasing, step: function () { var s = { width: parseFloat(i.element.css("width")), height: parseFloat(i.element.css("height")), top: parseFloat(i.element.css("top")), left: parseFloat(i.element.css("left")) }; n && n.length && t(n[0]).css({ width: s.width, height: s.height }), i._updateCache(s), i._propagate("resize", e) } }) } }), t.ui.plugin.add("resizable", "containment", { start: function () { var e, i, s, n, o, a, r, h = t(this).resizable("instance"), l = h.options, c = h.element, u = l.containment, d = u instanceof t ? u.get(0) : /parent/.test(u) ? c.parent().get(0) : u; d && (h.containerElement = t(d), /document/.test(u) || u === document ? (h.containerOffset = { left: 0, top: 0 }, h.containerPosition = { left: 0, top: 0 }, h.parentData = { element: t(document), left: 0, top: 0, width: t(document).width(), height: t(document).height() || document.body.parentNode.scrollHeight }) : (e = t(d), i = [], t(["Top", "Right", "Left", "Bottom"]).each(function (t, s) { i[t] = h._num(e.css("padding" + s)) }), h.containerOffset = e.offset(), h.containerPosition = e.position(), h.containerSize = { height: e.innerHeight() - i[3], width: e.innerWidth() - i[1] }, s = h.containerOffset, n = h.containerSize.height, o = h.containerSize.width, a = h._hasScroll(d, "left") ? d.scrollWidth : o, r = h._hasScroll(d) ? d.scrollHeight : n, h.parentData = { element: d, left: s.left, top: s.top, width: a, height: r })) }, resize: function (e) { var i, s, n, o, a = t(this).resizable("instance"), r = a.options, h = a.containerOffset, l = a.position, c = a._aspectRatio || e.shiftKey, u = { top: 0, left: 0 }, d = a.containerElement, p = !0; d[0] !== document && /static/.test(d.css("position")) && (u = h), l.left < (a._helper ? h.left : 0) && (a.size.width = a.size.width + (a._helper ? a.position.left - h.left : a.position.left - u.left), c && (a.size.height = a.size.width / a.aspectRatio, p = !1), a.position.left = r.helper ? h.left : 0), l.top < (a._helper ? h.top : 0) && (a.size.height = a.size.height + (a._helper ? a.position.top - h.top : a.position.top), c && (a.size.width = a.size.height * a.aspectRatio, p = !1), a.position.top = a._helper ? h.top : 0), n = a.containerElement.get(0) === a.element.parent().get(0), o = /relative|absolute/.test(a.containerElement.css("position")), n && o ? (a.offset.left = a.parentData.left + a.position.left, a.offset.top = a.parentData.top + a.position.top) : (a.offset.left = a.element.offset().left, a.offset.top = a.element.offset().top), i = Math.abs(a.sizeDiff.width + (a._helper ? a.offset.left - u.left : a.offset.left - h.left)), s = Math.abs(a.sizeDiff.height + (a._helper ? a.offset.top - u.top : a.offset.top - h.top)), i + a.size.width >= a.parentData.width && (a.size.width = a.parentData.width - i, c && (a.size.height = a.size.width / a.aspectRatio, p = !1)), s + a.size.height >= a.parentData.height && (a.size.height = a.parentData.height - s, c && (a.size.width = a.size.height * a.aspectRatio, p = !1)), p || (a.position.left = a.prevPosition.left, a.position.top = a.prevPosition.top, a.size.width = a.prevSize.width, a.size.height = a.prevSize.height) }, stop: function () { var e = t(this).resizable("instance"), i = e.options, s = e.containerOffset, n = e.containerPosition, o = e.containerElement, a = t(e.helper), r = a.offset(), h = a.outerWidth() - e.sizeDiff.width, l = a.outerHeight() - e.sizeDiff.height; e._helper && !i.animate && /relative/.test(o.css("position")) && t(this).css({ left: r.left - n.left - s.left, width: h, height: l }), e._helper && !i.animate && /static/.test(o.css("position")) && t(this).css({ left: r.left - n.left - s.left, width: h, height: l }) } }), t.ui.plugin.add("resizable", "alsoResize", {
                start: function () { var e = t(this).resizable("instance"), i = e.options; t(i.alsoResize).each(function () { var e = t(this); e.data("ui-resizable-alsoresize", { width: parseFloat(e.width()), height: parseFloat(e.height()), left: parseFloat(e.css("left")), top: parseFloat(e.css("top")) }) }) }, resize: function (e, i) {
                    var s = t(this).resizable("instance"), n = s.options, o = s.originalSize, a = s.originalPosition, r = { height: s.size.height - o.height || 0, width: s.size.width - o.width || 0, top: s.position.top - a.top || 0, left: s.position.left - a.left || 0 };
                    t(n.alsoResize).each(function () { var e = t(this), s = t(this).data("ui-resizable-alsoresize"), n = {}, o = e.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"]; t.each(o, function (t, e) { var i = (s[e] || 0) + (r[e] || 0); i && i >= 0 && (n[e] = i || null) }), e.css(n) })
                }, stop: function () { t(this).removeData("ui-resizable-alsoresize") }
            }), t.ui.plugin.add("resizable", "ghost", { start: function () { var e = t(this).resizable("instance"), i = e.size; e.ghost = e.originalElement.clone(), e.ghost.css({ opacity: .25, display: "block", position: "relative", height: i.height, width: i.width, margin: 0, left: 0, top: 0 }), e._addClass(e.ghost, "ui-resizable-ghost"), t.uiBackCompat !== !1 && "string" == typeof e.options.ghost && e.ghost.addClass(this.options.ghost), e.ghost.appendTo(e.helper) }, resize: function () { var e = t(this).resizable("instance"); e.ghost && e.ghost.css({ position: "relative", height: e.size.height, width: e.size.width }) }, stop: function () { var e = t(this).resizable("instance"); e.ghost && e.helper && e.helper.get(0).removeChild(e.ghost.get(0)) } }), t.ui.plugin.add("resizable", "grid", { resize: function () { var e, i = t(this).resizable("instance"), s = i.options, n = i.size, o = i.originalSize, a = i.originalPosition, r = i.axis, h = "number" == typeof s.grid ? [s.grid, s.grid] : s.grid, l = h[0] || 1, c = h[1] || 1, u = Math.round((n.width - o.width) / l) * l, d = Math.round((n.height - o.height) / c) * c, p = o.width + u, f = o.height + d, g = s.maxWidth && p > s.maxWidth, m = s.maxHeight && f > s.maxHeight, _ = s.minWidth && s.minWidth > p, v = s.minHeight && s.minHeight > f; s.grid = h, _ && (p += l), v && (f += c), g && (p -= l), m && (f -= c), /^(se|s|e)$/.test(r) ? (i.size.width = p, i.size.height = f) : /^(ne)$/.test(r) ? (i.size.width = p, i.size.height = f, i.position.top = a.top - d) : /^(sw)$/.test(r) ? (i.size.width = p, i.size.height = f, i.position.left = a.left - u) : ((0 >= f - c || 0 >= p - l) && (e = i._getPaddingPlusBorderDimensions(this)), f - c > 0 ? (i.size.height = f, i.position.top = a.top - d) : (f = c - e.height, i.size.height = f, i.position.top = a.top + o.height - f), p - l > 0 ? (i.size.width = p, i.position.left = a.left - u) : (p = l - e.width, i.size.width = p, i.position.left = a.left + o.width - p)) } }), t.ui.resizable, t.widget("ui.selectable", t.ui.mouse, { version: "1.12.1", options: { appendTo: "body", autoRefresh: !0, distance: 0, filter: "*", tolerance: "touch", selected: null, selecting: null, start: null, stop: null, unselected: null, unselecting: null }, _create: function () { var e = this; this._addClass("ui-selectable"), this.dragged = !1, this.refresh = function () { e.elementPos = t(e.element[0]).offset(), e.selectees = t(e.options.filter, e.element[0]), e._addClass(e.selectees, "ui-selectee"), e.selectees.each(function () { var i = t(this), s = i.offset(), n = { left: s.left - e.elementPos.left, top: s.top - e.elementPos.top }; t.data(this, "selectable-item", { element: this, $element: i, left: n.left, top: n.top, right: n.left + i.outerWidth(), bottom: n.top + i.outerHeight(), startselected: !1, selected: i.hasClass("ui-selected"), selecting: i.hasClass("ui-selecting"), unselecting: i.hasClass("ui-unselecting") }) }) }, this.refresh(), this._mouseInit(), this.helper = t("<div>"), this._addClass(this.helper, "ui-selectable-helper") }, _destroy: function () { this.selectees.removeData("selectable-item"), this._mouseDestroy() }, _mouseStart: function (e) { var i = this, s = this.options; this.opos = [e.pageX, e.pageY], this.elementPos = t(this.element[0]).offset(), this.options.disabled || (this.selectees = t(s.filter, this.element[0]), this._trigger("start", e), t(s.appendTo).append(this.helper), this.helper.css({ left: e.pageX, top: e.pageY, width: 0, height: 0 }), s.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function () { var s = t.data(this, "selectable-item"); s.startselected = !0, e.metaKey || e.ctrlKey || (i._removeClass(s.$element, "ui-selected"), s.selected = !1, i._addClass(s.$element, "ui-unselecting"), s.unselecting = !0, i._trigger("unselecting", e, { unselecting: s.element })) }), t(e.target).parents().addBack().each(function () { var s, n = t.data(this, "selectable-item"); return n ? (s = !e.metaKey && !e.ctrlKey || !n.$element.hasClass("ui-selected"), i._removeClass(n.$element, s ? "ui-unselecting" : "ui-selected")._addClass(n.$element, s ? "ui-selecting" : "ui-unselecting"), n.unselecting = !s, n.selecting = s, n.selected = s, s ? i._trigger("selecting", e, { selecting: n.element }) : i._trigger("unselecting", e, { unselecting: n.element }), !1) : void 0 })) }, _mouseDrag: function (e) { if (this.dragged = !0, !this.options.disabled) { var i, s = this, n = this.options, o = this.opos[0], a = this.opos[1], r = e.pageX, h = e.pageY; return o > r && (i = r, r = o, o = i), a > h && (i = h, h = a, a = i), this.helper.css({ left: o, top: a, width: r - o, height: h - a }), this.selectees.each(function () { var i = t.data(this, "selectable-item"), l = !1, c = {}; i && i.element !== s.element[0] && (c.left = i.left + s.elementPos.left, c.right = i.right + s.elementPos.left, c.top = i.top + s.elementPos.top, c.bottom = i.bottom + s.elementPos.top, "touch" === n.tolerance ? l = !(c.left > r || o > c.right || c.top > h || a > c.bottom) : "fit" === n.tolerance && (l = c.left > o && r > c.right && c.top > a && h > c.bottom), l ? (i.selected && (s._removeClass(i.$element, "ui-selected"), i.selected = !1), i.unselecting && (s._removeClass(i.$element, "ui-unselecting"), i.unselecting = !1), i.selecting || (s._addClass(i.$element, "ui-selecting"), i.selecting = !0, s._trigger("selecting", e, { selecting: i.element }))) : (i.selecting && ((e.metaKey || e.ctrlKey) && i.startselected ? (s._removeClass(i.$element, "ui-selecting"), i.selecting = !1, s._addClass(i.$element, "ui-selected"), i.selected = !0) : (s._removeClass(i.$element, "ui-selecting"), i.selecting = !1, i.startselected && (s._addClass(i.$element, "ui-unselecting"), i.unselecting = !0), s._trigger("unselecting", e, { unselecting: i.element }))), i.selected && (e.metaKey || e.ctrlKey || i.startselected || (s._removeClass(i.$element, "ui-selected"), i.selected = !1, s._addClass(i.$element, "ui-unselecting"), i.unselecting = !0, s._trigger("unselecting", e, { unselecting: i.element }))))) }), !1 } }, _mouseStop: function (e) { var i = this; return this.dragged = !1, t(".ui-unselecting", this.element[0]).each(function () { var s = t.data(this, "selectable-item"); i._removeClass(s.$element, "ui-unselecting"), s.unselecting = !1, s.startselected = !1, i._trigger("unselected", e, { unselected: s.element }) }), t(".ui-selecting", this.element[0]).each(function () { var s = t.data(this, "selectable-item"); i._removeClass(s.$element, "ui-selecting")._addClass(s.$element, "ui-selected"), s.selecting = !1, s.selected = !0, s.startselected = !0, i._trigger("selected", e, { selected: s.element }) }), this._trigger("stop", e), this.helper.remove(), !1 } }), t.widget("ui.sortable", t.ui.mouse, { version: "1.12.1", widgetEventPrefix: "sort", ready: !1, options: { appendTo: "parent", axis: !1, connectWith: !1, containment: !1, cursor: "auto", cursorAt: !1, dropOnEmpty: !0, forcePlaceholderSize: !1, forceHelperSize: !1, grid: !1, handle: !1, helper: "original", items: "> *", opacity: !1, placeholder: !1, revert: !1, scroll: !0, scrollSensitivity: 20, scrollSpeed: 20, scope: "default", tolerance: "intersect", zIndex: 1e3, activate: null, beforeStop: null, change: null, deactivate: null, out: null, over: null, receive: null, remove: null, sort: null, start: null, stop: null, update: null }, _isOverAxis: function (t, e, i) { return t >= e && e + i > t }, _isFloating: function (t) { return /left|right/.test(t.css("float")) || /inline|table-cell/.test(t.css("display")) }, _create: function () { this.containerCache = {}, this._addClass("ui-sortable"), this.refresh(), this.offset = this.element.offset(), this._mouseInit(), this._setHandleClassName(), this.ready = !0 }, _setOption: function (t, e) { this._super(t, e), "handle" === t && this._setHandleClassName() }, _setHandleClassName: function () { var e = this; this._removeClass(this.element.find(".ui-sortable-handle"), "ui-sortable-handle"), t.each(this.items, function () { e._addClass(this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item, "ui-sortable-handle") }) }, _destroy: function () { this._mouseDestroy(); for (var t = this.items.length - 1; t >= 0; t--)this.items[t].item.removeData(this.widgetName + "-item"); return this }, _mouseCapture: function (e, i) { var s = null, n = !1, o = this; return this.reverting ? !1 : this.options.disabled || "static" === this.options.type ? !1 : (this._refreshItems(e), t(e.target).parents().each(function () { return t.data(this, o.widgetName + "-item") === o ? (s = t(this), !1) : void 0 }), t.data(e.target, o.widgetName + "-item") === o && (s = t(e.target)), s ? !this.options.handle || i || (t(this.options.handle, s).find("*").addBack().each(function () { this === e.target && (n = !0) }), n) ? (this.currentItem = s, this._removeCurrentsFromItems(), !0) : !1 : !1) }, _mouseStart: function (e, i, s) { var n, o, a = this.options; if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(e), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = { top: this.offset.top - this.margins.top, left: this.offset.left - this.margins.left }, t.extend(this.offset, { click: { left: e.pageX - this.offset.left, top: e.pageY - this.offset.top }, parent: this._getParentOffset(), relative: this._getRelativeOffset() }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(e), this.originalPageX = e.pageX, this.originalPageY = e.pageY, a.cursorAt && this._adjustOffsetFromHelper(a.cursorAt), this.domPosition = { prev: this.currentItem.prev()[0], parent: this.currentItem.parent()[0] }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), a.containment && this._setContainment(), a.cursor && "auto" !== a.cursor && (o = this.document.find("body"), this.storedCursor = o.css("cursor"), o.css("cursor", a.cursor), this.storedStylesheet = t("<style>*{ cursor: " + a.cursor + " !important; }</style>").appendTo(o)), a.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", a.opacity)), a.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", a.zIndex)), this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", e, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !s) for (n = this.containers.length - 1; n >= 0; n--)this.containers[n]._trigger("activate", e, this._uiHash(this)); return t.ui.ddmanager && (t.ui.ddmanager.current = this), t.ui.ddmanager && !a.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this.dragging = !0, this._addClass(this.helper, "ui-sortable-helper"), this._mouseDrag(e), !0 }, _mouseDrag: function (e) { var i, s, n, o, a = this.options, r = !1; for (this.position = this._generatePosition(e), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - e.pageY < a.scrollSensitivity ? this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop + a.scrollSpeed : e.pageY - this.overflowOffset.top < a.scrollSensitivity && (this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop - a.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - e.pageX < a.scrollSensitivity ? this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft + a.scrollSpeed : e.pageX - this.overflowOffset.left < a.scrollSensitivity && (this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft - a.scrollSpeed)) : (e.pageY - this.document.scrollTop() < a.scrollSensitivity ? r = this.document.scrollTop(this.document.scrollTop() - a.scrollSpeed) : this.window.height() - (e.pageY - this.document.scrollTop()) < a.scrollSensitivity && (r = this.document.scrollTop(this.document.scrollTop() + a.scrollSpeed)), e.pageX - this.document.scrollLeft() < a.scrollSensitivity ? r = this.document.scrollLeft(this.document.scrollLeft() - a.scrollSpeed) : this.window.width() - (e.pageX - this.document.scrollLeft()) < a.scrollSensitivity && (r = this.document.scrollLeft(this.document.scrollLeft() + a.scrollSpeed))), r !== !1 && t.ui.ddmanager && !a.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), i = this.items.length - 1; i >= 0; i--)if (s = this.items[i], n = s.item[0], o = this._intersectsWithPointer(s), o && s.instance === this.currentContainer && n !== this.currentItem[0] && this.placeholder[1 === o ? "next" : "prev"]()[0] !== n && !t.contains(this.placeholder[0], n) && ("semi-dynamic" === this.options.type ? !t.contains(this.element[0], n) : !0)) { if (this.direction = 1 === o ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(s)) break; this._rearrange(e, s), this._trigger("change", e, this._uiHash()); break } return this._contactContainers(e), t.ui.ddmanager && t.ui.ddmanager.drag(this, e), this._trigger("sort", e, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1 }, _mouseStop: function (e, i) { if (e) { if (t.ui.ddmanager && !this.options.dropBehaviour && t.ui.ddmanager.drop(this, e), this.options.revert) { var s = this, n = this.placeholder.offset(), o = this.options.axis, a = {}; o && "x" !== o || (a.left = n.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft)), o && "y" !== o || (a.top = n.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop)), this.reverting = !0, t(this.helper).animate(a, parseInt(this.options.revert, 10) || 500, function () { s._clear(e) }) } else this._clear(e, i); return !1 } }, cancel: function () { if (this.dragging) { this._mouseUp(new t.Event("mouseup", { target: null })), "original" === this.options.helper ? (this.currentItem.css(this._storedCSS), this._removeClass(this.currentItem, "ui-sortable-helper")) : this.currentItem.show(); for (var e = this.containers.length - 1; e >= 0; e--)this.containers[e]._trigger("deactivate", null, this._uiHash(this)), this.containers[e].containerCache.over && (this.containers[e]._trigger("out", null, this._uiHash(this)), this.containers[e].containerCache.over = 0) } return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), t.extend(this, { helper: null, dragging: !1, reverting: !1, _noFinalSort: null }), this.domPosition.prev ? t(this.domPosition.prev).after(this.currentItem) : t(this.domPosition.parent).prepend(this.currentItem)), this }, serialize: function (e) { var i = this._getItemsAsjQuery(e && e.connected), s = []; return e = e || {}, t(i).each(function () { var i = (t(e.item || this).attr(e.attribute || "id") || "").match(e.expression || /(.+)[\-=_](.+)/); i && s.push((e.key || i[1] + "[]") + "=" + (e.key && e.expression ? i[1] : i[2])) }), !s.length && e.key && s.push(e.key + "="), s.join("&") }, toArray: function (e) { var i = this._getItemsAsjQuery(e && e.connected), s = []; return e = e || {}, i.each(function () { s.push(t(e.item || this).attr(e.attribute || "id") || "") }), s }, _intersectsWith: function (t) { var e = this.positionAbs.left, i = e + this.helperProportions.width, s = this.positionAbs.top, n = s + this.helperProportions.height, o = t.left, a = o + t.width, r = t.top, h = r + t.height, l = this.offset.click.top, c = this.offset.click.left, u = "x" === this.options.axis || s + l > r && h > s + l, d = "y" === this.options.axis || e + c > o && a > e + c, p = u && d; return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > t[this.floating ? "width" : "height"] ? p : e + this.helperProportions.width / 2 > o && a > i - this.helperProportions.width / 2 && s + this.helperProportions.height / 2 > r && h > n - this.helperProportions.height / 2 }, _intersectsWithPointer: function (t) { var e, i, s = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, t.top, t.height), n = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, t.left, t.width), o = s && n; return o ? (e = this._getDragVerticalDirection(), i = this._getDragHorizontalDirection(), this.floating ? "right" === i || "down" === e ? 2 : 1 : e && ("down" === e ? 2 : 1)) : !1 }, _intersectsWithSides: function (t) { var e = this._isOverAxis(this.positionAbs.top + this.offset.click.top, t.top + t.height / 2, t.height), i = this._isOverAxis(this.positionAbs.left + this.offset.click.left, t.left + t.width / 2, t.width), s = this._getDragVerticalDirection(), n = this._getDragHorizontalDirection(); return this.floating && n ? "right" === n && i || "left" === n && !i : s && ("down" === s && e || "up" === s && !e) }, _getDragVerticalDirection: function () { var t = this.positionAbs.top - this.lastPositionAbs.top; return 0 !== t && (t > 0 ? "down" : "up") }, _getDragHorizontalDirection: function () { var t = this.positionAbs.left - this.lastPositionAbs.left; return 0 !== t && (t > 0 ? "right" : "left") }, refresh: function (t) { return this._refreshItems(t), this._setHandleClassName(), this.refreshPositions(), this }, _connectWith: function () { var t = this.options; return t.connectWith.constructor === String ? [t.connectWith] : t.connectWith }, _getItemsAsjQuery: function (e) { function i() { r.push(this) } var s, n, o, a, r = [], h = [], l = this._connectWith(); if (l && e) for (s = l.length - 1; s >= 0; s--)for (o = t(l[s], this.document[0]), n = o.length - 1; n >= 0; n--)a = t.data(o[n], this.widgetFullName), a && a !== this && !a.options.disabled && h.push([t.isFunction(a.options.items) ? a.options.items.call(a.element) : t(a.options.items, a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), a]); for (h.push([t.isFunction(this.options.items) ? this.options.items.call(this.element, null, { options: this.options, item: this.currentItem }) : t(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), s = h.length - 1; s >= 0; s--)h[s][0].each(i); return t(r) }, _removeCurrentsFromItems: function () { var e = this.currentItem.find(":data(" + this.widgetName + "-item)"); this.items = t.grep(this.items, function (t) { for (var i = 0; e.length > i; i++)if (e[i] === t.item[0]) return !1; return !0 }) }, _refreshItems: function (e) { this.items = [], this.containers = [this]; var i, s, n, o, a, r, h, l, c = this.items, u = [[t.isFunction(this.options.items) ? this.options.items.call(this.element[0], e, { item: this.currentItem }) : t(this.options.items, this.element), this]], d = this._connectWith(); if (d && this.ready) for (i = d.length - 1; i >= 0; i--)for (n = t(d[i], this.document[0]), s = n.length - 1; s >= 0; s--)o = t.data(n[s], this.widgetFullName), o && o !== this && !o.options.disabled && (u.push([t.isFunction(o.options.items) ? o.options.items.call(o.element[0], e, { item: this.currentItem }) : t(o.options.items, o.element), o]), this.containers.push(o)); for (i = u.length - 1; i >= 0; i--)for (a = u[i][1], r = u[i][0], s = 0, l = r.length; l > s; s++)h = t(r[s]), h.data(this.widgetName + "-item", a), c.push({ item: h, instance: a, width: 0, height: 0, left: 0, top: 0 }) }, refreshPositions: function (e) { this.floating = this.items.length ? "x" === this.options.axis || this._isFloating(this.items[0].item) : !1, this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset()); var i, s, n, o; for (i = this.items.length - 1; i >= 0; i--)s = this.items[i], s.instance !== this.currentContainer && this.currentContainer && s.item[0] !== this.currentItem[0] || (n = this.options.toleranceElement ? t(this.options.toleranceElement, s.item) : s.item, e || (s.width = n.outerWidth(), s.height = n.outerHeight()), o = n.offset(), s.left = o.left, s.top = o.top); if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this); else for (i = this.containers.length - 1; i >= 0; i--)o = this.containers[i].element.offset(), this.containers[i].containerCache.left = o.left, this.containers[i].containerCache.top = o.top, this.containers[i].containerCache.width = this.containers[i].element.outerWidth(), this.containers[i].containerCache.height = this.containers[i].element.outerHeight(); return this }, _createPlaceholder: function (e) { e = e || this; var i, s = e.options; s.placeholder && s.placeholder.constructor !== String || (i = s.placeholder, s.placeholder = { element: function () { var s = e.currentItem[0].nodeName.toLowerCase(), n = t("<" + s + ">", e.document[0]); return e._addClass(n, "ui-sortable-placeholder", i || e.currentItem[0].className)._removeClass(n, "ui-sortable-helper"), "tbody" === s ? e._createTrPlaceholder(e.currentItem.find("tr").eq(0), t("<tr>", e.document[0]).appendTo(n)) : "tr" === s ? e._createTrPlaceholder(e.currentItem, n) : "img" === s && n.attr("src", e.currentItem.attr("src")), i || n.css("visibility", "hidden"), n }, update: function (t, n) { (!i || s.forcePlaceholderSize) && (n.height() || n.height(e.currentItem.innerHeight() - parseInt(e.currentItem.css("paddingTop") || 0, 10) - parseInt(e.currentItem.css("paddingBottom") || 0, 10)), n.width() || n.width(e.currentItem.innerWidth() - parseInt(e.currentItem.css("paddingLeft") || 0, 10) - parseInt(e.currentItem.css("paddingRight") || 0, 10))) } }), e.placeholder = t(s.placeholder.element.call(e.element, e.currentItem)), e.currentItem.after(e.placeholder), s.placeholder.update(e, e.placeholder) }, _createTrPlaceholder: function (e, i) { var s = this; e.children().each(function () { t("<td>&#160;</td>", s.document[0]).attr("colspan", t(this).attr("colspan") || 1).appendTo(i) }) }, _contactContainers: function (e) { var i, s, n, o, a, r, h, l, c, u, d = null, p = null; for (i = this.containers.length - 1; i >= 0; i--)if (!t.contains(this.currentItem[0], this.containers[i].element[0])) if (this._intersectsWith(this.containers[i].containerCache)) { if (d && t.contains(this.containers[i].element[0], d.element[0])) continue; d = this.containers[i], p = i } else this.containers[i].containerCache.over && (this.containers[i]._trigger("out", e, this._uiHash(this)), this.containers[i].containerCache.over = 0); if (d) if (1 === this.containers.length) this.containers[p].containerCache.over || (this.containers[p]._trigger("over", e, this._uiHash(this)), this.containers[p].containerCache.over = 1); else { for (n = 1e4, o = null, c = d.floating || this._isFloating(this.currentItem), a = c ? "left" : "top", r = c ? "width" : "height", u = c ? "pageX" : "pageY", s = this.items.length - 1; s >= 0; s--)t.contains(this.containers[p].element[0], this.items[s].item[0]) && this.items[s].item[0] !== this.currentItem[0] && (h = this.items[s].item.offset()[a], l = !1, e[u] - h > this.items[s][r] / 2 && (l = !0), n > Math.abs(e[u] - h) && (n = Math.abs(e[u] - h), o = this.items[s], this.direction = l ? "up" : "down")); if (!o && !this.options.dropOnEmpty) return; if (this.currentContainer === this.containers[p]) return this.currentContainer.containerCache.over || (this.containers[p]._trigger("over", e, this._uiHash()), this.currentContainer.containerCache.over = 1), void 0; o ? this._rearrange(e, o, null, !0) : this._rearrange(e, null, this.containers[p].element, !0), this._trigger("change", e, this._uiHash()), this.containers[p]._trigger("change", e, this._uiHash(this)), this.currentContainer = this.containers[p], this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[p]._trigger("over", e, this._uiHash(this)), this.containers[p].containerCache.over = 1 } }, _createHelper: function (e) { var i = this.options, s = t.isFunction(i.helper) ? t(i.helper.apply(this.element[0], [e, this.currentItem])) : "clone" === i.helper ? this.currentItem.clone() : this.currentItem; return s.parents("body").length || t("parent" !== i.appendTo ? i.appendTo : this.currentItem[0].parentNode)[0].appendChild(s[0]), s[0] === this.currentItem[0] && (this._storedCSS = { width: this.currentItem[0].style.width, height: this.currentItem[0].style.height, position: this.currentItem.css("position"), top: this.currentItem.css("top"), left: this.currentItem.css("left") }), (!s[0].style.width || i.forceHelperSize) && s.width(this.currentItem.width()), (!s[0].style.height || i.forceHelperSize) && s.height(this.currentItem.height()), s }, _adjustOffsetFromHelper: function (e) { "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = { left: +e[0], top: +e[1] || 0 }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top) }, _getParentOffset: function () { this.offsetParent = this.helper.offsetParent(); var e = this.offsetParent.offset(); return "absolute" === this.cssPosition && this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && t.ui.ie) && (e = { top: 0, left: 0 }), { top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0) } }, _getRelativeOffset: function () { if ("relative" === this.cssPosition) { var t = this.currentItem.position(); return { top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(), left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft() } } return { top: 0, left: 0 } }, _cacheMargins: function () { this.margins = { left: parseInt(this.currentItem.css("marginLeft"), 10) || 0, top: parseInt(this.currentItem.css("marginTop"), 10) || 0 } }, _cacheHelperProportions: function () { this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight() } }, _setContainment: function () { var e, i, s, n = this.options; "parent" === n.containment && (n.containment = this.helper[0].parentNode), ("document" === n.containment || "window" === n.containment) && (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, "document" === n.containment ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, ("document" === n.containment ? this.document.height() || document.body.parentNode.scrollHeight : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]), /^(document|window|parent)$/.test(n.containment) || (e = t(n.containment)[0], i = t(n.containment).offset(), s = "hidden" !== t(e).css("overflow"), this.containment = [i.left + (parseInt(t(e).css("borderLeftWidth"), 10) || 0) + (parseInt(t(e).css("paddingLeft"), 10) || 0) - this.margins.left, i.top + (parseInt(t(e).css("borderTopWidth"), 10) || 0) + (parseInt(t(e).css("paddingTop"), 10) || 0) - this.margins.top, i.left + (s ? Math.max(e.scrollWidth, e.offsetWidth) : e.offsetWidth) - (parseInt(t(e).css("borderLeftWidth"), 10) || 0) - (parseInt(t(e).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, i.top + (s ? Math.max(e.scrollHeight, e.offsetHeight) : e.offsetHeight) - (parseInt(t(e).css("borderTopWidth"), 10) || 0) - (parseInt(t(e).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top]) }, _convertPositionTo: function (e, i) { i || (i = this.position); var s = "absolute" === e ? 1 : -1, n = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, o = /(html|body)/i.test(n[0].tagName); return { top: i.top + this.offset.relative.top * s + this.offset.parent.top * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : o ? 0 : n.scrollTop()) * s, left: i.left + this.offset.relative.left * s + this.offset.parent.left * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : o ? 0 : n.scrollLeft()) * s } }, _generatePosition: function (e) { var i, s, n = this.options, o = e.pageX, a = e.pageY, r = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, h = /(html|body)/i.test(r[0].tagName); return "relative" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (e.pageX - this.offset.click.left < this.containment[0] && (o = this.containment[0] + this.offset.click.left), e.pageY - this.offset.click.top < this.containment[1] && (a = this.containment[1] + this.offset.click.top), e.pageX - this.offset.click.left > this.containment[2] && (o = this.containment[2] + this.offset.click.left), e.pageY - this.offset.click.top > this.containment[3] && (a = this.containment[3] + this.offset.click.top)), n.grid && (i = this.originalPageY + Math.round((a - this.originalPageY) / n.grid[1]) * n.grid[1], a = this.containment ? i - this.offset.click.top >= this.containment[1] && i - this.offset.click.top <= this.containment[3] ? i : i - this.offset.click.top >= this.containment[1] ? i - n.grid[1] : i + n.grid[1] : i, s = this.originalPageX + Math.round((o - this.originalPageX) / n.grid[0]) * n.grid[0], o = this.containment ? s - this.offset.click.left >= this.containment[0] && s - this.offset.click.left <= this.containment[2] ? s : s - this.offset.click.left >= this.containment[0] ? s - n.grid[0] : s + n.grid[0] : s)), { top: a - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : h ? 0 : r.scrollTop()), left: o - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : h ? 0 : r.scrollLeft()) } }, _rearrange: function (t, e, i, s) { i ? i[0].appendChild(this.placeholder[0]) : e.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? e.item[0] : e.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1; var n = this.counter; this._delay(function () { n === this.counter && this.refreshPositions(!s) }) }, _clear: function (t, e) { function i(t, e, i) { return function (s) { i._trigger(t, s, e._uiHash(e)) } } this.reverting = !1; var s, n = []; if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) { for (s in this._storedCSS) ("auto" === this._storedCSS[s] || "static" === this._storedCSS[s]) && (this._storedCSS[s] = ""); this.currentItem.css(this._storedCSS), this._removeClass(this.currentItem, "ui-sortable-helper") } else this.currentItem.show(); for (this.fromOutside && !e && n.push(function (t) { this._trigger("receive", t, this._uiHash(this.fromOutside)) }), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || e || n.push(function (t) { this._trigger("update", t, this._uiHash()) }), this !== this.currentContainer && (e || (n.push(function (t) { this._trigger("remove", t, this._uiHash()) }), n.push(function (t) { return function (e) { t._trigger("receive", e, this._uiHash(this)) } }.call(this, this.currentContainer)), n.push(function (t) { return function (e) { t._trigger("update", e, this._uiHash(this)) } }.call(this, this.currentContainer)))), s = this.containers.length - 1; s >= 0; s--)e || n.push(i("deactivate", this, this.containers[s])), this.containers[s].containerCache.over && (n.push(i("out", this, this.containers[s])), this.containers[s].containerCache.over = 0); if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, e || this._trigger("beforeStop", t, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.cancelHelperRemoval || (this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null), !e) { for (s = 0; n.length > s; s++)n[s].call(this, t); this._trigger("stop", t, this._uiHash()) } return this.fromOutside = !1, !this.cancelHelperRemoval }, _trigger: function () { t.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel() }, _uiHash: function (e) { var i = e || this; return { helper: i.helper, placeholder: i.placeholder || t([]), position: i.position, originalPosition: i.originalPosition, offset: i.positionAbs, item: i.currentItem, sender: e ? e.element : null } } }), t.widget("ui.accordion", {
                version: "1.12.1", options: { active: 0, animate: {}, classes: { "ui-accordion-header": "ui-corner-top", "ui-accordion-header-collapsed": "ui-corner-all", "ui-accordion-content": "ui-corner-bottom" }, collapsible: !1, event: "click", header: "> li > :first-child, > :not(li):even", heightStyle: "auto", icons: { activeHeader: "ui-icon-triangle-1-s", header: "ui-icon-triangle-1-e" }, activate: null, beforeActivate: null }, hideProps: { borderTopWidth: "hide", borderBottomWidth: "hide", paddingTop: "hide", paddingBottom: "hide", height: "hide" }, showProps: { borderTopWidth: "show", borderBottomWidth: "show", paddingTop: "show", paddingBottom: "show", height: "show" }, _create: function () { var e = this.options; this.prevShow = this.prevHide = t(), this._addClass("ui-accordion", "ui-widget ui-helper-reset"), this.element.attr("role", "tablist"), e.collapsible || e.active !== !1 && null != e.active || (e.active = 0), this._processPanels(), 0 > e.active && (e.active += this.headers.length), this._refresh() }, _getCreateEventData: function () { return { header: this.active, panel: this.active.length ? this.active.next() : t() } }, _createIcons: function () {
                    var e, i, s = this.options.icons; s && (e = t("<span>"), this._addClass(e, "ui-accordion-header-icon", "ui-icon " + s.header), e.prependTo(this.headers), i = this.active.children(".ui-accordion-header-icon"), this._removeClass(i, s.header)._addClass(i, null, s.activeHeader)._addClass(this.headers, "ui-accordion-icons"))
                }, _destroyIcons: function () { this._removeClass(this.headers, "ui-accordion-icons"), this.headers.children(".ui-accordion-header-icon").remove() }, _destroy: function () { var t; this.element.removeAttr("role"), this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(), this._destroyIcons(), t = this.headers.next().css("display", "").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(), "content" !== this.options.heightStyle && t.css("height", "") }, _setOption: function (t, e) { return "active" === t ? (this._activate(e), void 0) : ("event" === t && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(e)), this._super(t, e), "collapsible" !== t || e || this.options.active !== !1 || this._activate(0), "icons" === t && (this._destroyIcons(), e && this._createIcons()), void 0) }, _setOptionDisabled: function (t) { this._super(t), this.element.attr("aria-disabled", t), this._toggleClass(null, "ui-state-disabled", !!t), this._toggleClass(this.headers.add(this.headers.next()), null, "ui-state-disabled", !!t) }, _keydown: function (e) { if (!e.altKey && !e.ctrlKey) { var i = t.ui.keyCode, s = this.headers.length, n = this.headers.index(e.target), o = !1; switch (e.keyCode) { case i.RIGHT: case i.DOWN: o = this.headers[(n + 1) % s]; break; case i.LEFT: case i.UP: o = this.headers[(n - 1 + s) % s]; break; case i.SPACE: case i.ENTER: this._eventHandler(e); break; case i.HOME: o = this.headers[0]; break; case i.END: o = this.headers[s - 1] }o && (t(e.target).attr("tabIndex", -1), t(o).attr("tabIndex", 0), t(o).trigger("focus"), e.preventDefault()) } }, _panelKeyDown: function (e) { e.keyCode === t.ui.keyCode.UP && e.ctrlKey && t(e.currentTarget).prev().trigger("focus") }, refresh: function () { var e = this.options; this._processPanels(), e.active === !1 && e.collapsible === !0 || !this.headers.length ? (e.active = !1, this.active = t()) : e.active === !1 ? this._activate(0) : this.active.length && !t.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (e.active = !1, this.active = t()) : this._activate(Math.max(0, e.active - 1)) : e.active = this.headers.index(this.active), this._destroyIcons(), this._refresh() }, _processPanels: function () { var t = this.headers, e = this.panels; this.headers = this.element.find(this.options.header), this._addClass(this.headers, "ui-accordion-header ui-accordion-header-collapsed", "ui-state-default"), this.panels = this.headers.next().filter(":not(.ui-accordion-content-active)").hide(), this._addClass(this.panels, "ui-accordion-content", "ui-helper-reset ui-widget-content"), e && (this._off(t.not(this.headers)), this._off(e.not(this.panels))) }, _refresh: function () { var e, i = this.options, s = i.heightStyle, n = this.element.parent(); this.active = this._findActive(i.active), this._addClass(this.active, "ui-accordion-header-active", "ui-state-active")._removeClass(this.active, "ui-accordion-header-collapsed"), this._addClass(this.active.next(), "ui-accordion-content-active"), this.active.next().show(), this.headers.attr("role", "tab").each(function () { var e = t(this), i = e.uniqueId().attr("id"), s = e.next(), n = s.uniqueId().attr("id"); e.attr("aria-controls", n), s.attr("aria-labelledby", i) }).next().attr("role", "tabpanel"), this.headers.not(this.active).attr({ "aria-selected": "false", "aria-expanded": "false", tabIndex: -1 }).next().attr({ "aria-hidden": "true" }).hide(), this.active.length ? this.active.attr({ "aria-selected": "true", "aria-expanded": "true", tabIndex: 0 }).next().attr({ "aria-hidden": "false" }) : this.headers.eq(0).attr("tabIndex", 0), this._createIcons(), this._setupEvents(i.event), "fill" === s ? (e = n.height(), this.element.siblings(":visible").each(function () { var i = t(this), s = i.css("position"); "absolute" !== s && "fixed" !== s && (e -= i.outerHeight(!0)) }), this.headers.each(function () { e -= t(this).outerHeight(!0) }), this.headers.next().each(function () { t(this).height(Math.max(0, e - t(this).innerHeight() + t(this).height())) }).css("overflow", "auto")) : "auto" === s && (e = 0, this.headers.next().each(function () { var i = t(this).is(":visible"); i || t(this).show(), e = Math.max(e, t(this).css("height", "").height()), i || t(this).hide() }).height(e)) }, _activate: function (e) { var i = this._findActive(e)[0]; i !== this.active[0] && (i = i || this.active[0], this._eventHandler({ target: i, currentTarget: i, preventDefault: t.noop })) }, _findActive: function (e) { return "number" == typeof e ? this.headers.eq(e) : t() }, _setupEvents: function (e) { var i = { keydown: "_keydown" }; e && t.each(e.split(" "), function (t, e) { i[e] = "_eventHandler" }), this._off(this.headers.add(this.headers.next())), this._on(this.headers, i), this._on(this.headers.next(), { keydown: "_panelKeyDown" }), this._hoverable(this.headers), this._focusable(this.headers) }, _eventHandler: function (e) { var i, s, n = this.options, o = this.active, a = t(e.currentTarget), r = a[0] === o[0], h = r && n.collapsible, l = h ? t() : a.next(), c = o.next(), u = { oldHeader: o, oldPanel: c, newHeader: h ? t() : a, newPanel: l }; e.preventDefault(), r && !n.collapsible || this._trigger("beforeActivate", e, u) === !1 || (n.active = h ? !1 : this.headers.index(a), this.active = r ? t() : a, this._toggle(u), this._removeClass(o, "ui-accordion-header-active", "ui-state-active"), n.icons && (i = o.children(".ui-accordion-header-icon"), this._removeClass(i, null, n.icons.activeHeader)._addClass(i, null, n.icons.header)), r || (this._removeClass(a, "ui-accordion-header-collapsed")._addClass(a, "ui-accordion-header-active", "ui-state-active"), n.icons && (s = a.children(".ui-accordion-header-icon"), this._removeClass(s, null, n.icons.header)._addClass(s, null, n.icons.activeHeader)), this._addClass(a.next(), "ui-accordion-content-active"))) }, _toggle: function (e) { var i = e.newPanel, s = this.prevShow.length ? this.prevShow : e.oldPanel; this.prevShow.add(this.prevHide).stop(!0, !0), this.prevShow = i, this.prevHide = s, this.options.animate ? this._animate(i, s, e) : (s.hide(), i.show(), this._toggleComplete(e)), s.attr({ "aria-hidden": "true" }), s.prev().attr({ "aria-selected": "false", "aria-expanded": "false" }), i.length && s.length ? s.prev().attr({ tabIndex: -1, "aria-expanded": "false" }) : i.length && this.headers.filter(function () { return 0 === parseInt(t(this).attr("tabIndex"), 10) }).attr("tabIndex", -1), i.attr("aria-hidden", "false").prev().attr({ "aria-selected": "true", "aria-expanded": "true", tabIndex: 0 }) }, _animate: function (t, e, i) { var s, n, o, a = this, r = 0, h = t.css("box-sizing"), l = t.length && (!e.length || t.index() < e.index()), c = this.options.animate || {}, u = l && c.down || c, d = function () { a._toggleComplete(i) }; return "number" == typeof u && (o = u), "string" == typeof u && (n = u), n = n || u.easing || c.easing, o = o || u.duration || c.duration, e.length ? t.length ? (s = t.show().outerHeight(), e.animate(this.hideProps, { duration: o, easing: n, step: function (t, e) { e.now = Math.round(t) } }), t.hide().animate(this.showProps, { duration: o, easing: n, complete: d, step: function (t, i) { i.now = Math.round(t), "height" !== i.prop ? "content-box" === h && (r += i.now) : "content" !== a.options.heightStyle && (i.now = Math.round(s - e.outerHeight() - r), r = 0) } }), void 0) : e.animate(this.hideProps, o, n, d) : t.animate(this.showProps, o, n, d) }, _toggleComplete: function (t) { var e = t.oldPanel, i = e.prev(); this._removeClass(e, "ui-accordion-content-active"), this._removeClass(i, "ui-accordion-header-active")._addClass(i, "ui-accordion-header-collapsed"), e.length && (e.parent()[0].className = e.parent()[0].className), this._trigger("activate", null, t) }
            }), t.widget("ui.menu", { version: "1.12.1", defaultElement: "<ul>", delay: 300, options: { icons: { submenu: "ui-icon-caret-1-e" }, items: "> *", menus: "ul", position: { my: "left top", at: "right top" }, role: "menu", blur: null, focus: null, select: null }, _create: function () { this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().attr({ role: this.options.role, tabIndex: 0 }), this._addClass("ui-menu", "ui-widget ui-widget-content"), this._on({ "mousedown .ui-menu-item": function (t) { t.preventDefault() }, "click .ui-menu-item": function (e) { var i = t(e.target), s = t(t.ui.safeActiveElement(this.document[0])); !this.mouseHandled && i.not(".ui-state-disabled").length && (this.select(e), e.isPropagationStopped() || (this.mouseHandled = !0), i.has(".ui-menu").length ? this.expand(e) : !this.element.is(":focus") && s.closest(".ui-menu").length && (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer))) }, "mouseenter .ui-menu-item": function (e) { if (!this.previousFilter) { var i = t(e.target).closest(".ui-menu-item"), s = t(e.currentTarget); i[0] === s[0] && (this._removeClass(s.siblings().children(".ui-state-active"), null, "ui-state-active"), this.focus(e, s)) } }, mouseleave: "collapseAll", "mouseleave .ui-menu": "collapseAll", focus: function (t, e) { var i = this.active || this.element.find(this.options.items).eq(0); e || this.focus(t, i) }, blur: function (e) { this._delay(function () { var i = !t.contains(this.element[0], t.ui.safeActiveElement(this.document[0])); i && this.collapseAll(e) }) }, keydown: "_keydown" }), this.refresh(), this._on(this.document, { click: function (t) { this._closeOnDocumentClick(t) && this.collapseAll(t), this.mouseHandled = !1 } }) }, _destroy: function () { var e = this.element.find(".ui-menu-item").removeAttr("role aria-disabled"), i = e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup"); this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(), i.children().each(function () { var e = t(this); e.data("ui-menu-submenu-caret") && e.remove() }) }, _keydown: function (e) { var i, s, n, o, a = !0; switch (e.keyCode) { case t.ui.keyCode.PAGE_UP: this.previousPage(e); break; case t.ui.keyCode.PAGE_DOWN: this.nextPage(e); break; case t.ui.keyCode.HOME: this._move("first", "first", e); break; case t.ui.keyCode.END: this._move("last", "last", e); break; case t.ui.keyCode.UP: this.previous(e); break; case t.ui.keyCode.DOWN: this.next(e); break; case t.ui.keyCode.LEFT: this.collapse(e); break; case t.ui.keyCode.RIGHT: this.active && !this.active.is(".ui-state-disabled") && this.expand(e); break; case t.ui.keyCode.ENTER: case t.ui.keyCode.SPACE: this._activate(e); break; case t.ui.keyCode.ESCAPE: this.collapse(e); break; default: a = !1, s = this.previousFilter || "", o = !1, n = e.keyCode >= 96 && 105 >= e.keyCode ? "" + (e.keyCode - 96) : String.fromCharCode(e.keyCode), clearTimeout(this.filterTimer), n === s ? o = !0 : n = s + n, i = this._filterMenuItems(n), i = o && -1 !== i.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : i, i.length || (n = String.fromCharCode(e.keyCode), i = this._filterMenuItems(n)), i.length ? (this.focus(e, i), this.previousFilter = n, this.filterTimer = this._delay(function () { delete this.previousFilter }, 1e3)) : delete this.previousFilter }a && e.preventDefault() }, _activate: function (t) { this.active && !this.active.is(".ui-state-disabled") && (this.active.children("[aria-haspopup='true']").length ? this.expand(t) : this.select(t)) }, refresh: function () { var e, i, s, n, o, a = this, r = this.options.icons.submenu, h = this.element.find(this.options.menus); this._toggleClass("ui-menu-icons", null, !!this.element.find(".ui-icon").length), s = h.filter(":not(.ui-menu)").hide().attr({ role: this.options.role, "aria-hidden": "true", "aria-expanded": "false" }).each(function () { var e = t(this), i = e.prev(), s = t("<span>").data("ui-menu-submenu-caret", !0); a._addClass(s, "ui-menu-icon", "ui-icon " + r), i.attr("aria-haspopup", "true").prepend(s), e.attr("aria-labelledby", i.attr("id")) }), this._addClass(s, "ui-menu", "ui-widget ui-widget-content ui-front"), e = h.add(this.element), i = e.find(this.options.items), i.not(".ui-menu-item").each(function () { var e = t(this); a._isDivider(e) && a._addClass(e, "ui-menu-divider", "ui-widget-content") }), n = i.not(".ui-menu-item, .ui-menu-divider"), o = n.children().not(".ui-menu").uniqueId().attr({ tabIndex: -1, role: this._itemRole() }), this._addClass(n, "ui-menu-item")._addClass(o, "ui-menu-item-wrapper"), i.filter(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !t.contains(this.element[0], this.active[0]) && this.blur() }, _itemRole: function () { return { menu: "menuitem", listbox: "option" }[this.options.role] }, _setOption: function (t, e) { if ("icons" === t) { var i = this.element.find(".ui-menu-icon"); this._removeClass(i, null, this.options.icons.submenu)._addClass(i, null, e.submenu) } this._super(t, e) }, _setOptionDisabled: function (t) { this._super(t), this.element.attr("aria-disabled", t + ""), this._toggleClass(null, "ui-state-disabled", !!t) }, focus: function (t, e) { var i, s, n; this.blur(t, t && "focus" === t.type), this._scrollIntoView(e), this.active = e.first(), s = this.active.children(".ui-menu-item-wrapper"), this._addClass(s, null, "ui-state-active"), this.options.role && this.element.attr("aria-activedescendant", s.attr("id")), n = this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"), this._addClass(n, null, "ui-state-active"), t && "keydown" === t.type ? this._close() : this.timer = this._delay(function () { this._close() }, this.delay), i = e.children(".ui-menu"), i.length && t && /^mouse/.test(t.type) && this._startOpening(i), this.activeMenu = e.parent(), this._trigger("focus", t, { item: e }) }, _scrollIntoView: function (e) { var i, s, n, o, a, r; this._hasScroll() && (i = parseFloat(t.css(this.activeMenu[0], "borderTopWidth")) || 0, s = parseFloat(t.css(this.activeMenu[0], "paddingTop")) || 0, n = e.offset().top - this.activeMenu.offset().top - i - s, o = this.activeMenu.scrollTop(), a = this.activeMenu.height(), r = e.outerHeight(), 0 > n ? this.activeMenu.scrollTop(o + n) : n + r > a && this.activeMenu.scrollTop(o + n - a + r)) }, blur: function (t, e) { e || clearTimeout(this.timer), this.active && (this._removeClass(this.active.children(".ui-menu-item-wrapper"), null, "ui-state-active"), this._trigger("blur", t, { item: this.active }), this.active = null) }, _startOpening: function (t) { clearTimeout(this.timer), "true" === t.attr("aria-hidden") && (this.timer = this._delay(function () { this._close(), this._open(t) }, this.delay)) }, _open: function (e) { var i = t.extend({ of: this.active }, this.options.position); clearTimeout(this.timer), this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden", "true"), e.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i) }, collapseAll: function (e, i) { clearTimeout(this.timer), this.timer = this._delay(function () { var s = i ? this.element : t(e && e.target).closest(this.element.find(".ui-menu")); s.length || (s = this.element), this._close(s), this.blur(e), this._removeClass(s.find(".ui-state-active"), null, "ui-state-active"), this.activeMenu = s }, this.delay) }, _close: function (t) { t || (t = this.active ? this.active.parent() : this.element), t.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false") }, _closeOnDocumentClick: function (e) { return !t(e.target).closest(".ui-menu").length }, _isDivider: function (t) { return !/[^\-\u2014\u2013\s]/.test(t.text()) }, collapse: function (t) { var e = this.active && this.active.parent().closest(".ui-menu-item", this.element); e && e.length && (this._close(), this.focus(t, e)) }, expand: function (t) { var e = this.active && this.active.children(".ui-menu ").find(this.options.items).first(); e && e.length && (this._open(e.parent()), this._delay(function () { this.focus(t, e) })) }, next: function (t) { this._move("next", "first", t) }, previous: function (t) { this._move("prev", "last", t) }, isFirstItem: function () { return this.active && !this.active.prevAll(".ui-menu-item").length }, isLastItem: function () { return this.active && !this.active.nextAll(".ui-menu-item").length }, _move: function (t, e, i) { var s; this.active && (s = "first" === t || "last" === t ? this.active["first" === t ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[t + "All"](".ui-menu-item").eq(0)), s && s.length && this.active || (s = this.activeMenu.find(this.options.items)[e]()), this.focus(i, s) }, nextPage: function (e) { var i, s, n; return this.active ? (this.isLastItem() || (this._hasScroll() ? (s = this.active.offset().top, n = this.element.height(), this.active.nextAll(".ui-menu-item").each(function () { return i = t(this), 0 > i.offset().top - s - n }), this.focus(e, i)) : this.focus(e, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]())), void 0) : (this.next(e), void 0) }, previousPage: function (e) { var i, s, n; return this.active ? (this.isFirstItem() || (this._hasScroll() ? (s = this.active.offset().top, n = this.element.height(), this.active.prevAll(".ui-menu-item").each(function () { return i = t(this), i.offset().top - s + n > 0 }), this.focus(e, i)) : this.focus(e, this.activeMenu.find(this.options.items).first())), void 0) : (this.next(e), void 0) }, _hasScroll: function () { return this.element.outerHeight() < this.element.prop("scrollHeight") }, select: function (e) { this.active = this.active || t(e.target).closest(".ui-menu-item"); var i = { item: this.active }; this.active.has(".ui-menu").length || this.collapseAll(e, !0), this._trigger("select", e, i) }, _filterMenuItems: function (e) { var i = e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&"), s = RegExp("^" + i, "i"); return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function () { return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text())) }) } }), t.widget("ui.autocomplete", { version: "1.12.1", defaultElement: "<input>", options: { appendTo: null, autoFocus: !1, delay: 300, minLength: 1, position: { my: "left top", at: "left bottom", collision: "none" }, source: null, change: null, close: null, focus: null, open: null, response: null, search: null, select: null }, requestIndex: 0, pending: 0, _create: function () { var e, i, s, n = this.element[0].nodeName.toLowerCase(), o = "textarea" === n, a = "input" === n; this.isMultiLine = o || !a && this._isContentEditable(this.element), this.valueMethod = this.element[o || a ? "val" : "text"], this.isNewMenu = !0, this._addClass("ui-autocomplete-input"), this.element.attr("autocomplete", "off"), this._on(this.element, { keydown: function (n) { if (this.element.prop("readOnly")) return e = !0, s = !0, i = !0, void 0; e = !1, s = !1, i = !1; var o = t.ui.keyCode; switch (n.keyCode) { case o.PAGE_UP: e = !0, this._move("previousPage", n); break; case o.PAGE_DOWN: e = !0, this._move("nextPage", n); break; case o.UP: e = !0, this._keyEvent("previous", n); break; case o.DOWN: e = !0, this._keyEvent("next", n); break; case o.ENTER: this.menu.active && (e = !0, n.preventDefault(), this.menu.select(n)); break; case o.TAB: this.menu.active && this.menu.select(n); break; case o.ESCAPE: this.menu.element.is(":visible") && (this.isMultiLine || this._value(this.term), this.close(n), n.preventDefault()); break; default: i = !0, this._searchTimeout(n) } }, keypress: function (s) { if (e) return e = !1, (!this.isMultiLine || this.menu.element.is(":visible")) && s.preventDefault(), void 0; if (!i) { var n = t.ui.keyCode; switch (s.keyCode) { case n.PAGE_UP: this._move("previousPage", s); break; case n.PAGE_DOWN: this._move("nextPage", s); break; case n.UP: this._keyEvent("previous", s); break; case n.DOWN: this._keyEvent("next", s) } } }, input: function (t) { return s ? (s = !1, t.preventDefault(), void 0) : (this._searchTimeout(t), void 0) }, focus: function () { this.selectedItem = null, this.previous = this._value() }, blur: function (t) { return this.cancelBlur ? (delete this.cancelBlur, void 0) : (clearTimeout(this.searching), this.close(t), this._change(t), void 0) } }), this._initSource(), this.menu = t("<ul>").appendTo(this._appendTo()).menu({ role: null }).hide().menu("instance"), this._addClass(this.menu.element, "ui-autocomplete", "ui-front"), this._on(this.menu.element, { mousedown: function (e) { e.preventDefault(), this.cancelBlur = !0, this._delay(function () { delete this.cancelBlur, this.element[0] !== t.ui.safeActiveElement(this.document[0]) && this.element.trigger("focus") }) }, menufocus: function (e, i) { var s, n; return this.isNewMenu && (this.isNewMenu = !1, e.originalEvent && /^mouse/.test(e.originalEvent.type)) ? (this.menu.blur(), this.document.one("mousemove", function () { t(e.target).trigger(e.originalEvent) }), void 0) : (n = i.item.data("ui-autocomplete-item"), !1 !== this._trigger("focus", e, { item: n }) && e.originalEvent && /^key/.test(e.originalEvent.type) && this._value(n.value), s = i.item.attr("aria-label") || n.value, s && t.trim(s).length && (this.liveRegion.children().hide(), t("<div>").text(s).appendTo(this.liveRegion)), void 0) }, menuselect: function (e, i) { var s = i.item.data("ui-autocomplete-item"), n = this.previous; this.element[0] !== t.ui.safeActiveElement(this.document[0]) && (this.element.trigger("focus"), this.previous = n, this._delay(function () { this.previous = n, this.selectedItem = s })), !1 !== this._trigger("select", e, { item: s }) && this._value(s.value), this.term = this._value(), this.close(e), this.selectedItem = s } }), this.liveRegion = t("<div>", { role: "status", "aria-live": "assertive", "aria-relevant": "additions" }).appendTo(this.document[0].body), this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible"), this._on(this.window, { beforeunload: function () { this.element.removeAttr("autocomplete") } }) }, _destroy: function () { clearTimeout(this.searching), this.element.removeAttr("autocomplete"), this.menu.element.remove(), this.liveRegion.remove() }, _setOption: function (t, e) { this._super(t, e), "source" === t && this._initSource(), "appendTo" === t && this.menu.element.appendTo(this._appendTo()), "disabled" === t && e && this.xhr && this.xhr.abort() }, _isEventTargetInWidget: function (e) { var i = this.menu.element[0]; return e.target === this.element[0] || e.target === i || t.contains(i, e.target) }, _closeOnClickOutside: function (t) { this._isEventTargetInWidget(t) || this.close() }, _appendTo: function () { var e = this.options.appendTo; return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e).eq(0)), e && e[0] || (e = this.element.closest(".ui-front, dialog")), e.length || (e = this.document[0].body), e }, _initSource: function () { var e, i, s = this; t.isArray(this.options.source) ? (e = this.options.source, this.source = function (i, s) { s(t.ui.autocomplete.filter(e, i.term)) }) : "string" == typeof this.options.source ? (i = this.options.source, this.source = function (e, n) { s.xhr && s.xhr.abort(), s.xhr = t.ajax({ url: i, data: e, dataType: "json", success: function (t) { n(t) }, error: function () { n([]) } }) }) : this.source = this.options.source }, _searchTimeout: function (t) { clearTimeout(this.searching), this.searching = this._delay(function () { var e = this.term === this._value(), i = this.menu.element.is(":visible"), s = t.altKey || t.ctrlKey || t.metaKey || t.shiftKey; (!e || e && !i && !s) && (this.selectedItem = null, this.search(null, t)) }, this.options.delay) }, search: function (t, e) { return t = null != t ? t : this._value(), this.term = this._value(), t.length < this.options.minLength ? this.close(e) : this._trigger("search", e) !== !1 ? this._search(t) : void 0 }, _search: function (t) { this.pending++, this._addClass("ui-autocomplete-loading"), this.cancelSearch = !1, this.source({ term: t }, this._response()) }, _response: function () { var e = ++this.requestIndex; return t.proxy(function (t) { e === this.requestIndex && this.__response(t), this.pending--, this.pending || this._removeClass("ui-autocomplete-loading") }, this) }, __response: function (t) { t && (t = this._normalize(t)), this._trigger("response", null, { content: t }), !this.options.disabled && t && t.length && !this.cancelSearch ? (this._suggest(t), this._trigger("open")) : this._close() }, close: function (t) { this.cancelSearch = !0, this._close(t) }, _close: function (t) { this._off(this.document, "mousedown"), this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", t)) }, _change: function (t) { this.previous !== this._value() && this._trigger("change", t, { item: this.selectedItem }) }, _normalize: function (e) { return e.length && e[0].label && e[0].value ? e : t.map(e, function (e) { return "string" == typeof e ? { label: e, value: e } : t.extend({}, e, { label: e.label || e.value, value: e.value || e.label }) }) }, _suggest: function (e) { var i = this.menu.element.empty(); this._renderMenu(i, e), this.isNewMenu = !0, this.menu.refresh(), i.show(), this._resizeMenu(), i.position(t.extend({ of: this.element }, this.options.position)), this.options.autoFocus && this.menu.next(), this._on(this.document, { mousedown: "_closeOnClickOutside" }) }, _resizeMenu: function () { var t = this.menu.element; t.outerWidth(Math.max(t.width("").outerWidth() + 1, this.element.outerWidth())) }, _renderMenu: function (e, i) { var s = this; t.each(i, function (t, i) { s._renderItemData(e, i) }) }, _renderItemData: function (t, e) { return this._renderItem(t, e).data("ui-autocomplete-item", e) }, _renderItem: function (e, i) { return t("<li>").append(t("<div>").text(i.label)).appendTo(e) }, _move: function (t, e) { return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(t) || this.menu.isLastItem() && /^next/.test(t) ? (this.isMultiLine || this._value(this.term), this.menu.blur(), void 0) : (this.menu[t](e), void 0) : (this.search(null, e), void 0) }, widget: function () { return this.menu.element }, _value: function () { return this.valueMethod.apply(this.element, arguments) }, _keyEvent: function (t, e) { (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(t, e), e.preventDefault()) }, _isContentEditable: function (t) { if (!t.length) return !1; var e = t.prop("contentEditable"); return "inherit" === e ? this._isContentEditable(t.parent()) : "true" === e } }), t.extend(t.ui.autocomplete, { escapeRegex: function (t) { return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&") }, filter: function (e, i) { var s = RegExp(t.ui.autocomplete.escapeRegex(i), "i"); return t.grep(e, function (t) { return s.test(t.label || t.value || t) }) } }), t.widget("ui.autocomplete", t.ui.autocomplete, { options: { messages: { noResults: "No search results.", results: function (t) { return t + (t > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate." } } }, __response: function (e) { var i; this._superApply(arguments), this.options.disabled || this.cancelSearch || (i = e && e.length ? this.options.messages.results(e.length) : this.options.messages.noResults, this.liveRegion.children().hide(), t("<div>").text(i).appendTo(this.liveRegion)) } }), t.ui.autocomplete; var d = /ui-corner-([a-z]){2,6}/g; t.widget("ui.controlgroup", { version: "1.12.1", defaultElement: "<div>", options: { direction: "horizontal", disabled: null, onlyVisible: !0, items: { button: "input[type=button], input[type=submit], input[type=reset], button, a", controlgroupLabel: ".ui-controlgroup-label", checkboxradio: "input[type='checkbox'], input[type='radio']", selectmenu: "select", spinner: ".ui-spinner-input" } }, _create: function () { this._enhance() }, _enhance: function () { this.element.attr("role", "toolbar"), this.refresh() }, _destroy: function () { this._callChildMethod("destroy"), this.childWidgets.removeData("ui-controlgroup-data"), this.element.removeAttr("role"), this.options.items.controlgroupLabel && this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap() }, _initWidgets: function () { var e = this, i = []; t.each(this.options.items, function (s, n) { var o, a = {}; return n ? "controlgroupLabel" === s ? (o = e.element.find(n), o.each(function () { var e = t(this); e.children(".ui-controlgroup-label-contents").length || e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>") }), e._addClass(o, null, "ui-widget ui-widget-content ui-state-default"), i = i.concat(o.get()), void 0) : (t.fn[s] && (a = e["_" + s + "Options"] ? e["_" + s + "Options"]("middle") : { classes: {} }, e.element.find(n).each(function () { var n = t(this), o = n[s]("instance"), r = t.widget.extend({}, a); if ("button" !== s || !n.parent(".ui-spinner").length) { o || (o = n[s]()[s]("instance")), o && (r.classes = e._resolveClassesValues(r.classes, o)), n[s](r); var h = n[s]("widget"); t.data(h[0], "ui-controlgroup-data", o ? o : n[s]("instance")), i.push(h[0]) } })), void 0) : void 0 }), this.childWidgets = t(t.unique(i)), this._addClass(this.childWidgets, "ui-controlgroup-item") }, _callChildMethod: function (e) { this.childWidgets.each(function () { var i = t(this), s = i.data("ui-controlgroup-data"); s && s[e] && s[e]() }) }, _updateCornerClass: function (t, e) { var i = "ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all", s = this._buildSimpleOptions(e, "label").classes.label; this._removeClass(t, null, i), this._addClass(t, null, s) }, _buildSimpleOptions: function (t, e) { var i = "vertical" === this.options.direction, s = { classes: {} }; return s.classes[e] = { middle: "", first: "ui-corner-" + (i ? "top" : "left"), last: "ui-corner-" + (i ? "bottom" : "right"), only: "ui-corner-all" }[t], s }, _spinnerOptions: function (t) { var e = this._buildSimpleOptions(t, "ui-spinner"); return e.classes["ui-spinner-up"] = "", e.classes["ui-spinner-down"] = "", e }, _buttonOptions: function (t) { return this._buildSimpleOptions(t, "ui-button") }, _checkboxradioOptions: function (t) { return this._buildSimpleOptions(t, "ui-checkboxradio-label") }, _selectmenuOptions: function (t) { var e = "vertical" === this.options.direction; return { width: e ? "auto" : !1, classes: { middle: { "ui-selectmenu-button-open": "", "ui-selectmenu-button-closed": "" }, first: { "ui-selectmenu-button-open": "ui-corner-" + (e ? "top" : "tl"), "ui-selectmenu-button-closed": "ui-corner-" + (e ? "top" : "left") }, last: { "ui-selectmenu-button-open": e ? "" : "ui-corner-tr", "ui-selectmenu-button-closed": "ui-corner-" + (e ? "bottom" : "right") }, only: { "ui-selectmenu-button-open": "ui-corner-top", "ui-selectmenu-button-closed": "ui-corner-all" } }[t] } }, _resolveClassesValues: function (e, i) { var s = {}; return t.each(e, function (n) { var o = i.options.classes[n] || ""; o = t.trim(o.replace(d, "")), s[n] = (o + " " + e[n]).replace(/\s+/g, " ") }), s }, _setOption: function (t, e) { return "direction" === t && this._removeClass("ui-controlgroup-" + this.options.direction), this._super(t, e), "disabled" === t ? (this._callChildMethod(e ? "disable" : "enable"), void 0) : (this.refresh(), void 0) }, refresh: function () { var e, i = this; this._addClass("ui-controlgroup ui-controlgroup-" + this.options.direction), "horizontal" === this.options.direction && this._addClass(null, "ui-helper-clearfix"), this._initWidgets(), e = this.childWidgets, this.options.onlyVisible && (e = e.filter(":visible")), e.length && (t.each(["first", "last"], function (t, s) { var n = e[s]().data("ui-controlgroup-data"); if (n && i["_" + n.widgetName + "Options"]) { var o = i["_" + n.widgetName + "Options"](1 === e.length ? "only" : s); o.classes = i._resolveClassesValues(o.classes, n), n.element[n.widgetName](o) } else i._updateCornerClass(e[s](), s) }), this._callChildMethod("refresh")) } }), t.widget("ui.checkboxradio", [t.ui.formResetMixin, {
                version: "1.12.1", options: { disabled: null, label: null, icon: !0, classes: { "ui-checkboxradio-label": "ui-corner-all", "ui-checkboxradio-icon": "ui-corner-all" } }, _getCreateOptions: function () { var e, i, s = this, n = this._super() || {}; return this._readType(), i = this.element.labels(), this.label = t(i[i.length - 1]), this.label.length || t.error("No label found for checkboxradio widget"), this.originalLabel = "", this.label.contents().not(this.element[0]).each(function () { s.originalLabel += 3 === this.nodeType ? t(this).text() : this.outerHTML }), this.originalLabel && (n.label = this.originalLabel), e = this.element[0].disabled, null != e && (n.disabled = e), n }, _create: function () { var t = this.element[0].checked; this._bindFormResetHandler(), null == this.options.disabled && (this.options.disabled = this.element[0].disabled), this._setOption("disabled", this.options.disabled), this._addClass("ui-checkboxradio", "ui-helper-hidden-accessible"), this._addClass(this.label, "ui-checkboxradio-label", "ui-button ui-widget"), "radio" === this.type && this._addClass(this.label, "ui-checkboxradio-radio-label"), this.options.label && this.options.label !== this.originalLabel ? this._updateLabel() : this.originalLabel && (this.options.label = this.originalLabel), this._enhance(), t && (this._addClass(this.label, "ui-checkboxradio-checked", "ui-state-active"), this.icon && this._addClass(this.icon, null, "ui-state-hover")), this._on({ change: "_toggleClasses", focus: function () { this._addClass(this.label, null, "ui-state-focus ui-visual-focus") }, blur: function () { this._removeClass(this.label, null, "ui-state-focus ui-visual-focus") } }) }, _readType: function () { var e = this.element[0].nodeName.toLowerCase(); this.type = this.element[0].type, "input" === e && /radio|checkbox/.test(this.type) || t.error("Can't create checkboxradio on element.nodeName=" + e + " and element.type=" + this.type) }, _enhance: function () { this._updateIcon(this.element[0].checked) }, widget: function () { return this.label }, _getRadioGroup: function () { var e, i = this.element[0].name, s = "input[name='" + t.ui.escapeSelector(i) + "']"; return i ? (e = this.form.length ? t(this.form[0].elements).filter(s) : t(s).filter(function () { return 0 === t(this).form().length }), e.not(this.element)) : t([]) }, _toggleClasses: function () { var e = this.element[0].checked; this._toggleClass(this.label, "ui-checkboxradio-checked", "ui-state-active", e), this.options.icon && "checkbox" === this.type && this._toggleClass(this.icon, null, "ui-icon-check ui-state-checked", e)._toggleClass(this.icon, null, "ui-icon-blank", !e), "radio" === this.type && this._getRadioGroup().each(function () { var e = t(this).checkboxradio("instance"); e && e._removeClass(e.label, "ui-checkboxradio-checked", "ui-state-active") }) }, _destroy: function () { this._unbindFormResetHandler(), this.icon && (this.icon.remove(), this.iconSpace.remove()) }, _setOption: function (t, e) { return "label" !== t || e ? (this._super(t, e), "disabled" === t ? (this._toggleClass(this.label, null, "ui-state-disabled", e), this.element[0].disabled = e, void 0) : (this.refresh(), void 0)) : void 0 }, _updateIcon: function (e) {
                    var i = "ui-icon ui-icon-background "; this.options.icon ? (this.icon || (this.icon = t("<span>"), this.iconSpace = t("<span> </span>"), this._addClass(this.iconSpace, "ui-checkboxradio-icon-space")), "checkbox" === this.type ? (i += e ? "ui-icon-check ui-state-checked" : "ui-icon-blank", this._removeClass(this.icon, null, e ? "ui-icon-blank" : "ui-icon-check")) : i += "ui-icon-blank", this._addClass(this.icon, "ui-checkboxradio-icon", i), e || this._removeClass(this.icon, null, "ui-icon-check ui-state-checked"), this.icon.prependTo(this.label).after(this.iconSpace)) : void 0 !== this.icon && (this.icon.remove(), this.iconSpace.remove(), delete this.icon)
                }, _updateLabel: function () { var t = this.label.contents().not(this.element[0]); this.icon && (t = t.not(this.icon[0])), this.iconSpace && (t = t.not(this.iconSpace[0])), t.remove(), this.label.append(this.options.label) }, refresh: function () { var t = this.element[0].checked, e = this.element[0].disabled; this._updateIcon(t), this._toggleClass(this.label, "ui-checkboxradio-checked", "ui-state-active", t), null !== this.options.label && this._updateLabel(), e !== this.options.disabled && this._setOptions({ disabled: e }) }
            }]), t.ui.checkboxradio, t.widget("ui.button", { version: "1.12.1", defaultElement: "<button>", options: { classes: { "ui-button": "ui-corner-all" }, disabled: null, icon: null, iconPosition: "beginning", label: null, showLabel: !0 }, _getCreateOptions: function () { var t, e = this._super() || {}; return this.isInput = this.element.is("input"), t = this.element[0].disabled, null != t && (e.disabled = t), this.originalLabel = this.isInput ? this.element.val() : this.element.html(), this.originalLabel && (e.label = this.originalLabel), e }, _create: function () { !this.option.showLabel & !this.options.icon && (this.options.showLabel = !0), null == this.options.disabled && (this.options.disabled = this.element[0].disabled || !1), this.hasTitle = !!this.element.attr("title"), this.options.label && this.options.label !== this.originalLabel && (this.isInput ? this.element.val(this.options.label) : this.element.html(this.options.label)), this._addClass("ui-button", "ui-widget"), this._setOption("disabled", this.options.disabled), this._enhance(), this.element.is("a") && this._on({ keyup: function (e) { e.keyCode === t.ui.keyCode.SPACE && (e.preventDefault(), this.element[0].click ? this.element[0].click() : this.element.trigger("click")) } }) }, _enhance: function () { this.element.is("button") || this.element.attr("role", "button"), this.options.icon && (this._updateIcon("icon", this.options.icon), this._updateTooltip()) }, _updateTooltip: function () { this.title = this.element.attr("title"), this.options.showLabel || this.title || this.element.attr("title", this.options.label) }, _updateIcon: function (e, i) { var s = "iconPosition" !== e, n = s ? this.options.iconPosition : i, o = "top" === n || "bottom" === n; this.icon ? s && this._removeClass(this.icon, null, this.options.icon) : (this.icon = t("<span>"), this._addClass(this.icon, "ui-button-icon", "ui-icon"), this.options.showLabel || this._addClass("ui-button-icon-only")), s && this._addClass(this.icon, null, i), this._attachIcon(n), o ? (this._addClass(this.icon, null, "ui-widget-icon-block"), this.iconSpace && this.iconSpace.remove()) : (this.iconSpace || (this.iconSpace = t("<span> </span>"), this._addClass(this.iconSpace, "ui-button-icon-space")), this._removeClass(this.icon, null, "ui-wiget-icon-block"), this._attachIconSpace(n)) }, _destroy: function () { this.element.removeAttr("role"), this.icon && this.icon.remove(), this.iconSpace && this.iconSpace.remove(), this.hasTitle || this.element.removeAttr("title") }, _attachIconSpace: function (t) { this.icon[/^(?:end|bottom)/.test(t) ? "before" : "after"](this.iconSpace) }, _attachIcon: function (t) { this.element[/^(?:end|bottom)/.test(t) ? "append" : "prepend"](this.icon) }, _setOptions: function (t) { var e = void 0 === t.showLabel ? this.options.showLabel : t.showLabel, i = void 0 === t.icon ? this.options.icon : t.icon; e || i || (t.showLabel = !0), this._super(t) }, _setOption: function (t, e) { "icon" === t && (e ? this._updateIcon(t, e) : this.icon && (this.icon.remove(), this.iconSpace && this.iconSpace.remove())), "iconPosition" === t && this._updateIcon(t, e), "showLabel" === t && (this._toggleClass("ui-button-icon-only", null, !e), this._updateTooltip()), "label" === t && (this.isInput ? this.element.val(e) : (this.element.html(e), this.icon && (this._attachIcon(this.options.iconPosition), this._attachIconSpace(this.options.iconPosition)))), this._super(t, e), "disabled" === t && (this._toggleClass(null, "ui-state-disabled", e), this.element[0].disabled = e, e && this.element.blur()) }, refresh: function () { var t = this.element.is("input, button") ? this.element[0].disabled : this.element.hasClass("ui-button-disabled"); t !== this.options.disabled && this._setOptions({ disabled: t }), this._updateTooltip() } }), t.uiBackCompat !== !1 && (t.widget("ui.button", t.ui.button, { options: { text: !0, icons: { primary: null, secondary: null } }, _create: function () { this.options.showLabel && !this.options.text && (this.options.showLabel = this.options.text), !this.options.showLabel && this.options.text && (this.options.text = this.options.showLabel), this.options.icon || !this.options.icons.primary && !this.options.icons.secondary ? this.options.icon && (this.options.icons.primary = this.options.icon) : this.options.icons.primary ? this.options.icon = this.options.icons.primary : (this.options.icon = this.options.icons.secondary, this.options.iconPosition = "end"), this._super() }, _setOption: function (t, e) { return "text" === t ? (this._super("showLabel", e), void 0) : ("showLabel" === t && (this.options.text = e), "icon" === t && (this.options.icons.primary = e), "icons" === t && (e.primary ? (this._super("icon", e.primary), this._super("iconPosition", "beginning")) : e.secondary && (this._super("icon", e.secondary), this._super("iconPosition", "end"))), this._superApply(arguments), void 0) } }), t.fn.button = function (e) { return function () { return !this.length || this.length && "INPUT" !== this[0].tagName || this.length && "INPUT" === this[0].tagName && "checkbox" !== this.attr("type") && "radio" !== this.attr("type") ? e.apply(this, arguments) : (t.ui.checkboxradio || t.error("Checkboxradio widget missing"), 0 === arguments.length ? this.checkboxradio({ icon: !1 }) : this.checkboxradio.apply(this, arguments)) } }(t.fn.button), t.fn.buttonset = function () { return t.ui.controlgroup || t.error("Controlgroup widget missing"), "option" === arguments[0] && "items" === arguments[1] && arguments[2] ? this.controlgroup.apply(this, [arguments[0], "items.button", arguments[2]]) : "option" === arguments[0] && "items" === arguments[1] ? this.controlgroup.apply(this, [arguments[0], "items.button"]) : ("object" == typeof arguments[0] && arguments[0].items && (arguments[0].items = { button: arguments[0].items }), this.controlgroup.apply(this, arguments)) }), t.ui.button, t.extend(t.ui, { datepicker: { version: "1.12.1" } }); var p; t.extend(s.prototype, {
                markerClassName: "hasDatepicker", maxRows: 4, _widgetDatepicker: function () { return this.dpDiv }, setDefaults: function (t) { return a(this._defaults, t || {}), this }, _attachDatepicker: function (e, i) { var s, n, o; s = e.nodeName.toLowerCase(), n = "div" === s || "span" === s, e.id || (this.uuid += 1, e.id = "dp" + this.uuid), o = this._newInst(t(e), n), o.settings = t.extend({}, i || {}), "input" === s ? this._connectDatepicker(e, o) : n && this._inlineDatepicker(e, o) }, _newInst: function (e, i) { var s = e[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"); return { id: s, input: e, selectedDay: 0, selectedMonth: 0, selectedYear: 0, drawMonth: 0, drawYear: 0, inline: i, dpDiv: i ? n(t("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv } }, _connectDatepicker: function (e, i) { var s = t(e); i.append = t([]), i.trigger = t([]), s.hasClass(this.markerClassName) || (this._attachments(s, i), s.addClass(this.markerClassName).on("keydown", this._doKeyDown).on("keypress", this._doKeyPress).on("keyup", this._doKeyUp), this._autoSize(i), t.data(e, "datepicker", i), i.settings.disabled && this._disableDatepicker(e)) }, _attachments: function (e, i) { var s, n, o, a = this._get(i, "appendText"), r = this._get(i, "isRTL"); i.append && i.append.remove(), a && (i.append = t("<span class='" + this._appendClass + "'>" + a + "</span>"), e[r ? "before" : "after"](i.append)), e.off("focus", this._showDatepicker), i.trigger && i.trigger.remove(), s = this._get(i, "showOn"), ("focus" === s || "both" === s) && e.on("focus", this._showDatepicker), ("button" === s || "both" === s) && (n = this._get(i, "buttonText"), o = this._get(i, "buttonImage"), i.trigger = t(this._get(i, "buttonImageOnly") ? t("<img/>").addClass(this._triggerClass).attr({ src: o, alt: n, title: n }) : t("<button type='button'></button>").addClass(this._triggerClass).html(o ? t("<img/>").attr({ src: o, alt: n, title: n }) : n)), e[r ? "before" : "after"](i.trigger), i.trigger.on("click", function () { return t.datepicker._datepickerShowing && t.datepicker._lastInput === e[0] ? t.datepicker._hideDatepicker() : t.datepicker._datepickerShowing && t.datepicker._lastInput !== e[0] ? (t.datepicker._hideDatepicker(), t.datepicker._showDatepicker(e[0])) : t.datepicker._showDatepicker(e[0]), !1 })) }, _autoSize: function (t) { if (this._get(t, "autoSize") && !t.inline) { var e, i, s, n, o = new Date(2009, 11, 20), a = this._get(t, "dateFormat"); a.match(/[DM]/) && (e = function (t) { for (i = 0, s = 0, n = 0; t.length > n; n++)t[n].length > i && (i = t[n].length, s = n); return s }, o.setMonth(e(this._get(t, a.match(/MM/) ? "monthNames" : "monthNamesShort"))), o.setDate(e(this._get(t, a.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - o.getDay())), t.input.attr("size", this._formatDate(t, o).length) } }, _inlineDatepicker: function (e, i) { var s = t(e); s.hasClass(this.markerClassName) || (s.addClass(this.markerClassName).append(i.dpDiv), t.data(e, "datepicker", i), this._setDate(i, this._getDefaultDate(i), !0), this._updateDatepicker(i), this._updateAlternate(i), i.settings.disabled && this._disableDatepicker(e), i.dpDiv.css("display", "block")) }, _dialogDatepicker: function (e, i, s, n, o) { var r, h, l, c, u, d = this._dialogInst; return d || (this.uuid += 1, r = "dp" + this.uuid, this._dialogInput = t("<input type='text' id='" + r + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.on("keydown", this._doKeyDown), t("body").append(this._dialogInput), d = this._dialogInst = this._newInst(this._dialogInput, !1), d.settings = {}, t.data(this._dialogInput[0], "datepicker", d)), a(d.settings, n || {}), i = i && i.constructor === Date ? this._formatDate(d, i) : i, this._dialogInput.val(i), this._pos = o ? o.length ? o : [o.pageX, o.pageY] : null, this._pos || (h = document.documentElement.clientWidth, l = document.documentElement.clientHeight, c = document.documentElement.scrollLeft || document.body.scrollLeft, u = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [h / 2 - 100 + c, l / 2 - 150 + u]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), d.settings.onSelect = s, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), t.blockUI && t.blockUI(this.dpDiv), t.data(this._dialogInput[0], "datepicker", d), this }, _destroyDatepicker: function (e) { var i, s = t(e), n = t.data(e, "datepicker"); s.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), t.removeData(e, "datepicker"), "input" === i ? (n.append.remove(), n.trigger.remove(), s.removeClass(this.markerClassName).off("focus", this._showDatepicker).off("keydown", this._doKeyDown).off("keypress", this._doKeyPress).off("keyup", this._doKeyUp)) : ("div" === i || "span" === i) && s.removeClass(this.markerClassName).empty(), p === n && (p = null)) }, _enableDatepicker: function (e) { var i, s, n = t(e), o = t.data(e, "datepicker"); n.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), "input" === i ? (e.disabled = !1, o.trigger.filter("button").each(function () { this.disabled = !1 }).end().filter("img").css({ opacity: "1.0", cursor: "" })) : ("div" === i || "span" === i) && (s = n.children("." + this._inlineClass), s.children().removeClass("ui-state-disabled"), s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = t.map(this._disabledInputs, function (t) { return t === e ? null : t })) }, _disableDatepicker: function (e) { var i, s, n = t(e), o = t.data(e, "datepicker"); n.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), "input" === i ? (e.disabled = !0, o.trigger.filter("button").each(function () { this.disabled = !0 }).end().filter("img").css({ opacity: "0.5", cursor: "default" })) : ("div" === i || "span" === i) && (s = n.children("." + this._inlineClass), s.children().addClass("ui-state-disabled"), s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = t.map(this._disabledInputs, function (t) { return t === e ? null : t }), this._disabledInputs[this._disabledInputs.length] = e) }, _isDisabledDatepicker: function (t) { if (!t) return !1; for (var e = 0; this._disabledInputs.length > e; e++)if (this._disabledInputs[e] === t) return !0; return !1 }, _getInst: function (e) { try { return t.data(e, "datepicker") } catch (i) { throw "Missing instance data for this datepicker" } }, _optionDatepicker: function (e, i, s) { var n, o, r, h, l = this._getInst(e); return 2 === arguments.length && "string" == typeof i ? "defaults" === i ? t.extend({}, t.datepicker._defaults) : l ? "all" === i ? t.extend({}, l.settings) : this._get(l, i) : null : (n = i || {}, "string" == typeof i && (n = {}, n[i] = s), l && (this._curInst === l && this._hideDatepicker(), o = this._getDateDatepicker(e, !0), r = this._getMinMaxDate(l, "min"), h = this._getMinMaxDate(l, "max"), a(l.settings, n), null !== r && void 0 !== n.dateFormat && void 0 === n.minDate && (l.settings.minDate = this._formatDate(l, r)), null !== h && void 0 !== n.dateFormat && void 0 === n.maxDate && (l.settings.maxDate = this._formatDate(l, h)), "disabled" in n && (n.disabled ? this._disableDatepicker(e) : this._enableDatepicker(e)), this._attachments(t(e), l), this._autoSize(l), this._setDate(l, o), this._updateAlternate(l), this._updateDatepicker(l)), void 0) }, _changeDatepicker: function (t, e, i) { this._optionDatepicker(t, e, i) }, _refreshDatepicker: function (t) { var e = this._getInst(t); e && this._updateDatepicker(e) }, _setDateDatepicker: function (t, e) { var i = this._getInst(t); i && (this._setDate(i, e), this._updateDatepicker(i), this._updateAlternate(i)) }, _getDateDatepicker: function (t, e) { var i = this._getInst(t); return i && !i.inline && this._setDateFromField(i, e), i ? this._getDate(i) : null }, _doKeyDown: function (e) { var i, s, n, o = t.datepicker._getInst(e.target), a = !0, r = o.dpDiv.is(".ui-datepicker-rtl"); if (o._keyEvent = !0, t.datepicker._datepickerShowing) switch (e.keyCode) { case 9: t.datepicker._hideDatepicker(), a = !1; break; case 13: return n = t("td." + t.datepicker._dayOverClass + ":not(." + t.datepicker._currentClass + ")", o.dpDiv), n[0] && t.datepicker._selectDay(e.target, o.selectedMonth, o.selectedYear, n[0]), i = t.datepicker._get(o, "onSelect"), i ? (s = t.datepicker._formatDate(o), i.apply(o.input ? o.input[0] : null, [s, o])) : t.datepicker._hideDatepicker(), !1; case 27: t.datepicker._hideDatepicker(); break; case 33: t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"), "M"); break; case 34: t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"), "M"); break; case 35: (e.ctrlKey || e.metaKey) && t.datepicker._clearDate(e.target), a = e.ctrlKey || e.metaKey; break; case 36: (e.ctrlKey || e.metaKey) && t.datepicker._gotoToday(e.target), a = e.ctrlKey || e.metaKey; break; case 37: (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, r ? 1 : -1, "D"), a = e.ctrlKey || e.metaKey, e.originalEvent.altKey && t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"), "M"); break; case 38: (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, -7, "D"), a = e.ctrlKey || e.metaKey; break; case 39: (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, r ? -1 : 1, "D"), a = e.ctrlKey || e.metaKey, e.originalEvent.altKey && t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"), "M"); break; case 40: (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, 7, "D"), a = e.ctrlKey || e.metaKey; break; default: a = !1 } else 36 === e.keyCode && e.ctrlKey ? t.datepicker._showDatepicker(this) : a = !1; a && (e.preventDefault(), e.stopPropagation()) }, _doKeyPress: function (e) { var i, s, n = t.datepicker._getInst(e.target); return t.datepicker._get(n, "constrainInput") ? (i = t.datepicker._possibleChars(t.datepicker._get(n, "dateFormat")), s = String.fromCharCode(null == e.charCode ? e.keyCode : e.charCode), e.ctrlKey || e.metaKey || " " > s || !i || i.indexOf(s) > -1) : void 0 }, _doKeyUp: function (e) { var i, s = t.datepicker._getInst(e.target); if (s.input.val() !== s.lastVal) try { i = t.datepicker.parseDate(t.datepicker._get(s, "dateFormat"), s.input ? s.input.val() : null, t.datepicker._getFormatConfig(s)), i && (t.datepicker._setDateFromField(s), t.datepicker._updateAlternate(s), t.datepicker._updateDatepicker(s)) } catch (n) { } return !0 }, _showDatepicker: function (e) { if (e = e.target || e, "input" !== e.nodeName.toLowerCase() && (e = t("input", e.parentNode)[0]), !t.datepicker._isDisabledDatepicker(e) && t.datepicker._lastInput !== e) { var s, n, o, r, h, l, c; s = t.datepicker._getInst(e), t.datepicker._curInst && t.datepicker._curInst !== s && (t.datepicker._curInst.dpDiv.stop(!0, !0), s && t.datepicker._datepickerShowing && t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])), n = t.datepicker._get(s, "beforeShow"), o = n ? n.apply(e, [e, s]) : {}, o !== !1 && (a(s.settings, o), s.lastVal = null, t.datepicker._lastInput = e, t.datepicker._setDateFromField(s), t.datepicker._inDialog && (e.value = ""), t.datepicker._pos || (t.datepicker._pos = t.datepicker._findPos(e), t.datepicker._pos[1] += e.offsetHeight), r = !1, t(e).parents().each(function () { return r |= "fixed" === t(this).css("position"), !r }), h = { left: t.datepicker._pos[0], top: t.datepicker._pos[1] }, t.datepicker._pos = null, s.dpDiv.empty(), s.dpDiv.css({ position: "absolute", display: "block", top: "-1000px" }), t.datepicker._updateDatepicker(s), h = t.datepicker._checkOffset(s, h, r), s.dpDiv.css({ position: t.datepicker._inDialog && t.blockUI ? "static" : r ? "fixed" : "absolute", display: "none", left: h.left + "px", top: h.top + "px" }), s.inline || (l = t.datepicker._get(s, "showAnim"), c = t.datepicker._get(s, "duration"), s.dpDiv.css("z-index", i(t(e)) + 1), t.datepicker._datepickerShowing = !0, t.effects && t.effects.effect[l] ? s.dpDiv.show(l, t.datepicker._get(s, "showOptions"), c) : s.dpDiv[l || "show"](l ? c : null), t.datepicker._shouldFocusInput(s) && s.input.trigger("focus"), t.datepicker._curInst = s)) } }, _updateDatepicker: function (e) { this.maxRows = 4, p = e, e.dpDiv.empty().append(this._generateHTML(e)), this._attachHandlers(e); var i, s = this._getNumberOfMonths(e), n = s[1], a = 17, r = e.dpDiv.find("." + this._dayOverClass + " a"); r.length > 0 && o.apply(r.get(0)), e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), n > 1 && e.dpDiv.addClass("ui-datepicker-multi-" + n).css("width", a * n + "em"), e.dpDiv[(1 !== s[0] || 1 !== s[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"), e.dpDiv[(this._get(e, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), e === t.datepicker._curInst && t.datepicker._datepickerShowing && t.datepicker._shouldFocusInput(e) && e.input.trigger("focus"), e.yearshtml && (i = e.yearshtml, setTimeout(function () { i === e.yearshtml && e.yearshtml && e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml), i = e.yearshtml = null }, 0)) }, _shouldFocusInput: function (t) { return t.input && t.input.is(":visible") && !t.input.is(":disabled") && !t.input.is(":focus") }, _checkOffset: function (e, i, s) { var n = e.dpDiv.outerWidth(), o = e.dpDiv.outerHeight(), a = e.input ? e.input.outerWidth() : 0, r = e.input ? e.input.outerHeight() : 0, h = document.documentElement.clientWidth + (s ? 0 : t(document).scrollLeft()), l = document.documentElement.clientHeight + (s ? 0 : t(document).scrollTop()); return i.left -= this._get(e, "isRTL") ? n - a : 0, i.left -= s && i.left === e.input.offset().left ? t(document).scrollLeft() : 0, i.top -= s && i.top === e.input.offset().top + r ? t(document).scrollTop() : 0, i.left -= Math.min(i.left, i.left + n > h && h > n ? Math.abs(i.left + n - h) : 0), i.top -= Math.min(i.top, i.top + o > l && l > o ? Math.abs(o + r) : 0), i }, _findPos: function (e) { for (var i, s = this._getInst(e), n = this._get(s, "isRTL"); e && ("hidden" === e.type || 1 !== e.nodeType || t.expr.filters.hidden(e));)e = e[n ? "previousSibling" : "nextSibling"]; return i = t(e).offset(), [i.left, i.top] }, _hideDatepicker: function (e) { var i, s, n, o, a = this._curInst; !a || e && a !== t.data(e, "datepicker") || this._datepickerShowing && (i = this._get(a, "showAnim"), s = this._get(a, "duration"), n = function () { t.datepicker._tidyDialog(a) }, t.effects && (t.effects.effect[i] || t.effects[i]) ? a.dpDiv.hide(i, t.datepicker._get(a, "showOptions"), s, n) : a.dpDiv["slideDown" === i ? "slideUp" : "fadeIn" === i ? "fadeOut" : "hide"](i ? s : null, n), i || n(), this._datepickerShowing = !1, o = this._get(a, "onClose"), o && o.apply(a.input ? a.input[0] : null, [a.input ? a.input.val() : "", a]), this._lastInput = null, this._inDialog && (this._dialogInput.css({ position: "absolute", left: "0", top: "-100px" }), t.blockUI && (t.unblockUI(), t("body").append(this.dpDiv))), this._inDialog = !1) }, _tidyDialog: function (t) { t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar") }, _checkExternalClick: function (e) { if (t.datepicker._curInst) { var i = t(e.target), s = t.datepicker._getInst(i[0]); (i[0].id !== t.datepicker._mainDivId && 0 === i.parents("#" + t.datepicker._mainDivId).length && !i.hasClass(t.datepicker.markerClassName) && !i.closest("." + t.datepicker._triggerClass).length && t.datepicker._datepickerShowing && (!t.datepicker._inDialog || !t.blockUI) || i.hasClass(t.datepicker.markerClassName) && t.datepicker._curInst !== s) && t.datepicker._hideDatepicker() } }, _adjustDate: function (e, i, s) { var n = t(e), o = this._getInst(n[0]); this._isDisabledDatepicker(n[0]) || (this._adjustInstDate(o, i + ("M" === s ? this._get(o, "showCurrentAtPos") : 0), s), this._updateDatepicker(o)) }, _gotoToday: function (e) { var i, s = t(e), n = this._getInst(s[0]); this._get(n, "gotoCurrent") && n.currentDay ? (n.selectedDay = n.currentDay, n.drawMonth = n.selectedMonth = n.currentMonth, n.drawYear = n.selectedYear = n.currentYear) : (i = new Date, n.selectedDay = i.getDate(), n.drawMonth = n.selectedMonth = i.getMonth(), n.drawYear = n.selectedYear = i.getFullYear()), this._notifyChange(n), this._adjustDate(s) }, _selectMonthYear: function (e, i, s) { var n = t(e), o = this._getInst(n[0]); o["selected" + ("M" === s ? "Month" : "Year")] = o["draw" + ("M" === s ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10), this._notifyChange(o), this._adjustDate(n) }, _selectDay: function (e, i, s, n) { var o, a = t(e); t(n).hasClass(this._unselectableClass) || this._isDisabledDatepicker(a[0]) || (o = this._getInst(a[0]), o.selectedDay = o.currentDay = t("a", n).html(), o.selectedMonth = o.currentMonth = i, o.selectedYear = o.currentYear = s, this._selectDate(e, this._formatDate(o, o.currentDay, o.currentMonth, o.currentYear))) }, _clearDate: function (e) { var i = t(e); this._selectDate(i, "") }, _selectDate: function (e, i) { var s, n = t(e), o = this._getInst(n[0]); i = null != i ? i : this._formatDate(o), o.input && o.input.val(i), this._updateAlternate(o), s = this._get(o, "onSelect"), s ? s.apply(o.input ? o.input[0] : null, [i, o]) : o.input && o.input.trigger("change"), o.inline ? this._updateDatepicker(o) : (this._hideDatepicker(), this._lastInput = o.input[0], "object" != typeof o.input[0] && o.input.trigger("focus"), this._lastInput = null) }, _updateAlternate: function (e) { var i, s, n, o = this._get(e, "altField"); o && (i = this._get(e, "altFormat") || this._get(e, "dateFormat"), s = this._getDate(e), n = this.formatDate(i, s, this._getFormatConfig(e)), t(o).val(n)) }, noWeekends: function (t) { var e = t.getDay(); return [e > 0 && 6 > e, ""] }, iso8601Week: function (t) { var e, i = new Date(t.getTime()); return i.setDate(i.getDate() + 4 - (i.getDay() || 7)), e = i.getTime(), i.setMonth(0), i.setDate(1), Math.floor(Math.round((e - i) / 864e5) / 7) + 1 }, parseDate: function (e, i, s) { if (null == e || null == i) throw "Invalid arguments"; if (i = "object" == typeof i ? "" + i : i + "", "" === i) return null; var n, o, a, r, h = 0, l = (s ? s.shortYearCutoff : null) || this._defaults.shortYearCutoff, c = "string" != typeof l ? l : (new Date).getFullYear() % 100 + parseInt(l, 10), u = (s ? s.dayNamesShort : null) || this._defaults.dayNamesShort, d = (s ? s.dayNames : null) || this._defaults.dayNames, p = (s ? s.monthNamesShort : null) || this._defaults.monthNamesShort, f = (s ? s.monthNames : null) || this._defaults.monthNames, g = -1, m = -1, _ = -1, v = -1, b = !1, y = function (t) { var i = e.length > n + 1 && e.charAt(n + 1) === t; return i && n++, i }, w = function (t) { var e = y(t), s = "@" === t ? 14 : "!" === t ? 20 : "y" === t && e ? 4 : "o" === t ? 3 : 2, n = "y" === t ? s : 1, o = RegExp("^\\d{" + n + "," + s + "}"), a = i.substring(h).match(o); if (!a) throw "Missing number at position " + h; return h += a[0].length, parseInt(a[0], 10) }, k = function (e, s, n) { var o = -1, a = t.map(y(e) ? n : s, function (t, e) { return [[e, t]] }).sort(function (t, e) { return -(t[1].length - e[1].length) }); if (t.each(a, function (t, e) { var s = e[1]; return i.substr(h, s.length).toLowerCase() === s.toLowerCase() ? (o = e[0], h += s.length, !1) : void 0 }), -1 !== o) return o + 1; throw "Unknown name at position " + h }, x = function () { if (i.charAt(h) !== e.charAt(n)) throw "Unexpected literal at position " + h; h++ }; for (n = 0; e.length > n; n++)if (b) "'" !== e.charAt(n) || y("'") ? x() : b = !1; else switch (e.charAt(n)) { case "d": _ = w("d"); break; case "D": k("D", u, d); break; case "o": v = w("o"); break; case "m": m = w("m"); break; case "M": m = k("M", p, f); break; case "y": g = w("y"); break; case "@": r = new Date(w("@")), g = r.getFullYear(), m = r.getMonth() + 1, _ = r.getDate(); break; case "!": r = new Date((w("!") - this._ticksTo1970) / 1e4), g = r.getFullYear(), m = r.getMonth() + 1, _ = r.getDate(); break; case "'": y("'") ? x() : b = !0; break; default: x() }if (i.length > h && (a = i.substr(h), !/^\s+/.test(a))) throw "Extra/unparsed characters found in date: " + a; if (-1 === g ? g = (new Date).getFullYear() : 100 > g && (g += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (c >= g ? 0 : -100)), v > -1) for (m = 1, _ = v; ;) { if (o = this._getDaysInMonth(g, m - 1), o >= _) break; m++, _ -= o } if (r = this._daylightSavingAdjust(new Date(g, m - 1, _)), r.getFullYear() !== g || r.getMonth() + 1 !== m || r.getDate() !== _) throw "Invalid date"; return r }, ATOM: "yy-mm-dd", COOKIE: "D, dd M yy", ISO_8601: "yy-mm-dd", RFC_822: "D, d M y", RFC_850: "DD, dd-M-y", RFC_1036: "D, d M y", RFC_1123: "D, d M yy", RFC_2822: "D, d M yy", RSS: "D, d M y", TICKS: "!", TIMESTAMP: "@", W3C: "yy-mm-dd", _ticksTo1970: 1e7 * 60 * 60 * 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)), formatDate: function (t, e, i) { if (!e) return ""; var s, n = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort, o = (i ? i.dayNames : null) || this._defaults.dayNames, a = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort, r = (i ? i.monthNames : null) || this._defaults.monthNames, h = function (e) { var i = t.length > s + 1 && t.charAt(s + 1) === e; return i && s++, i }, l = function (t, e, i) { var s = "" + e; if (h(t)) for (; i > s.length;)s = "0" + s; return s }, c = function (t, e, i, s) { return h(t) ? s[e] : i[e] }, u = "", d = !1; if (e) for (s = 0; t.length > s; s++)if (d) "'" !== t.charAt(s) || h("'") ? u += t.charAt(s) : d = !1; else switch (t.charAt(s)) { case "d": u += l("d", e.getDate(), 2); break; case "D": u += c("D", e.getDay(), n, o); break; case "o": u += l("o", Math.round((new Date(e.getFullYear(), e.getMonth(), e.getDate()).getTime() - new Date(e.getFullYear(), 0, 0).getTime()) / 864e5), 3); break; case "m": u += l("m", e.getMonth() + 1, 2); break; case "M": u += c("M", e.getMonth(), a, r); break; case "y": u += h("y") ? e.getFullYear() : (10 > e.getFullYear() % 100 ? "0" : "") + e.getFullYear() % 100; break; case "@": u += e.getTime(); break; case "!": u += 1e4 * e.getTime() + this._ticksTo1970; break; case "'": h("'") ? u += "'" : d = !0; break; default: u += t.charAt(s) }return u }, _possibleChars: function (t) { var e, i = "", s = !1, n = function (i) { var s = t.length > e + 1 && t.charAt(e + 1) === i; return s && e++, s }; for (e = 0; t.length > e; e++)if (s) "'" !== t.charAt(e) || n("'") ? i += t.charAt(e) : s = !1; else switch (t.charAt(e)) { case "d": case "m": case "y": case "@": i += "0123456789"; break; case "D": case "M": return null; case "'": n("'") ? i += "'" : s = !0; break; default: i += t.charAt(e) }return i }, _get: function (t, e) { return void 0 !== t.settings[e] ? t.settings[e] : this._defaults[e] }, _setDateFromField: function (t, e) { if (t.input.val() !== t.lastVal) { var i = this._get(t, "dateFormat"), s = t.lastVal = t.input ? t.input.val() : null, n = this._getDefaultDate(t), o = n, a = this._getFormatConfig(t); try { o = this.parseDate(i, s, a) || n } catch (r) { s = e ? "" : s } t.selectedDay = o.getDate(), t.drawMonth = t.selectedMonth = o.getMonth(), t.drawYear = t.selectedYear = o.getFullYear(), t.currentDay = s ? o.getDate() : 0, t.currentMonth = s ? o.getMonth() : 0, t.currentYear = s ? o.getFullYear() : 0, this._adjustInstDate(t) } }, _getDefaultDate: function (t) { return this._restrictMinMax(t, this._determineDate(t, this._get(t, "defaultDate"), new Date)) }, _determineDate: function (e, i, s) { var n = function (t) { var e = new Date; return e.setDate(e.getDate() + t), e }, o = function (i) { try { return t.datepicker.parseDate(t.datepicker._get(e, "dateFormat"), i, t.datepicker._getFormatConfig(e)) } catch (s) { } for (var n = (i.toLowerCase().match(/^c/) ? t.datepicker._getDate(e) : null) || new Date, o = n.getFullYear(), a = n.getMonth(), r = n.getDate(), h = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, l = h.exec(i); l;) { switch (l[2] || "d") { case "d": case "D": r += parseInt(l[1], 10); break; case "w": case "W": r += 7 * parseInt(l[1], 10); break; case "m": case "M": a += parseInt(l[1], 10), r = Math.min(r, t.datepicker._getDaysInMonth(o, a)); break; case "y": case "Y": o += parseInt(l[1], 10), r = Math.min(r, t.datepicker._getDaysInMonth(o, a)) }l = h.exec(i) } return new Date(o, a, r) }, a = null == i || "" === i ? s : "string" == typeof i ? o(i) : "number" == typeof i ? isNaN(i) ? s : n(i) : new Date(i.getTime()); return a = a && "Invalid Date" == "" + a ? s : a, a && (a.setHours(0), a.setMinutes(0), a.setSeconds(0), a.setMilliseconds(0)), this._daylightSavingAdjust(a) }, _daylightSavingAdjust: function (t) { return t ? (t.setHours(t.getHours() > 12 ? t.getHours() + 2 : 0), t) : null }, _setDate: function (t, e, i) { var s = !e, n = t.selectedMonth, o = t.selectedYear, a = this._restrictMinMax(t, this._determineDate(t, e, new Date)); t.selectedDay = t.currentDay = a.getDate(), t.drawMonth = t.selectedMonth = t.currentMonth = a.getMonth(), t.drawYear = t.selectedYear = t.currentYear = a.getFullYear(), n === t.selectedMonth && o === t.selectedYear || i || this._notifyChange(t), this._adjustInstDate(t), t.input && t.input.val(s ? "" : this._formatDate(t)) }, _getDate: function (t) { var e = !t.currentYear || t.input && "" === t.input.val() ? null : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t.currentDay)); return e }, _attachHandlers: function (e) { var i = this._get(e, "stepMonths"), s = "#" + e.id.replace(/\\\\/g, "\\"); e.dpDiv.find("[data-handler]").map(function () { var e = { prev: function () { t.datepicker._adjustDate(s, -i, "M") }, next: function () { t.datepicker._adjustDate(s, +i, "M") }, hide: function () { t.datepicker._hideDatepicker() }, today: function () { t.datepicker._gotoToday(s) }, selectDay: function () { return t.datepicker._selectDay(s, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1 }, selectMonth: function () { return t.datepicker._selectMonthYear(s, this, "M"), !1 }, selectYear: function () { return t.datepicker._selectMonthYear(s, this, "Y"), !1 } }; t(this).on(this.getAttribute("data-event"), e[this.getAttribute("data-handler")]) }) }, _generateHTML: function (t) {
                    var e, i, s, n, o, a, r, h, l, c, u, d, p, f, g, m, _, v, b, y, w, k, x, C, D, I, T, P, M, S, H, z, O, A, N, W, E, F, L, R = new Date, B = this._daylightSavingAdjust(new Date(R.getFullYear(), R.getMonth(), R.getDate())), Y = this._get(t, "isRTL"), j = this._get(t, "showButtonPanel"), q = this._get(t, "hideIfNoPrevNext"), K = this._get(t, "navigationAsDateFormat"), U = this._getNumberOfMonths(t), V = this._get(t, "showCurrentAtPos"), $ = this._get(t, "stepMonths"), X = 1 !== U[0] || 1 !== U[1], G = this._daylightSavingAdjust(t.currentDay ? new Date(t.currentYear, t.currentMonth, t.currentDay) : new Date(9999, 9, 9)), Q = this._getMinMaxDate(t, "min"), J = this._getMinMaxDate(t, "max"), Z = t.drawMonth - V, te = t.drawYear; if (0 > Z && (Z += 12, te--), J) for (e = this._daylightSavingAdjust(new Date(J.getFullYear(), J.getMonth() - U[0] * U[1] + 1, J.getDate())), e = Q && Q > e ? Q : e; this._daylightSavingAdjust(new Date(te, Z, 1)) > e;)Z--, 0 > Z && (Z = 11, te--); for (t.drawMonth = Z, t.drawYear = te, i = this._get(t, "prevText"), i = K ? this.formatDate(i, this._daylightSavingAdjust(new Date(te, Z - $, 1)), this._getFormatConfig(t)) : i, s = this._canAdjustMonth(t, -1, te, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>" : q ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>", n = this._get(t, "nextText"), n = K ? this.formatDate(n, this._daylightSavingAdjust(new Date(te, Z + $, 1)), this._getFormatConfig(t)) : n, o = this._canAdjustMonth(t, 1, te, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>" : q ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>", a = this._get(t, "currentText"), r = this._get(t, "gotoCurrent") && t.currentDay ? G : B, a = K ? this.formatDate(a, r, this._getFormatConfig(t)) : a, h = t.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(t, "closeText") + "</button>", l = j ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (Y ? h : "") + (this._isInRange(t, r) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + a + "</button>" : "") + (Y ? "" : h) + "</div>" : "", c = parseInt(this._get(t, "firstDay"), 10), c = isNaN(c) ? 0 : c, u = this._get(t, "showWeek"), d = this._get(t, "dayNames"), p = this._get(t, "dayNamesMin"), f = this._get(t, "monthNames"), g = this._get(t, "monthNamesShort"), m = this._get(t, "beforeShowDay"), _ = this._get(t, "showOtherMonths"), v = this._get(t, "selectOtherMonths"), b = this._getDefaultDate(t), y = "", k = 0; U[0] > k; k++) {
                        for (x = "", this.maxRows = 4, C = 0; U[1] > C; C++) {
                            if (D = this._daylightSavingAdjust(new Date(te, Z, t.selectedDay)), I = " ui-corner-all", T = "", X) {
                                if (T += "<div class='ui-datepicker-group", U[1] > 1) switch (C) {
                                    case 0: T += " ui-datepicker-group-first", I = " ui-corner-" + (Y ? "right" : "left");
                                        break; case U[1] - 1: T += " ui-datepicker-group-last", I = " ui-corner-" + (Y ? "left" : "right"); break; default: T += " ui-datepicker-group-middle", I = ""
                                }T += "'>"
                            } for (T += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + I + "'>" + (/all|left/.test(I) && 0 === k ? Y ? o : s : "") + (/all|right/.test(I) && 0 === k ? Y ? s : o : "") + this._generateMonthYearHeader(t, Z, te, Q, J, k > 0 || C > 0, f, g) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>", P = u ? "<th class='ui-datepicker-week-col'>" + this._get(t, "weekHeader") + "</th>" : "", w = 0; 7 > w; w++)M = (w + c) % 7, P += "<th scope='col'" + ((w + c + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + d[M] + "'>" + p[M] + "</span></th>"; for (T += P + "</tr></thead><tbody>", S = this._getDaysInMonth(te, Z), te === t.selectedYear && Z === t.selectedMonth && (t.selectedDay = Math.min(t.selectedDay, S)), H = (this._getFirstDayOfMonth(te, Z) - c + 7) % 7, z = Math.ceil((H + S) / 7), O = X ? this.maxRows > z ? this.maxRows : z : z, this.maxRows = O, A = this._daylightSavingAdjust(new Date(te, Z, 1 - H)), N = 0; O > N; N++) { for (T += "<tr>", W = u ? "<td class='ui-datepicker-week-col'>" + this._get(t, "calculateWeek")(A) + "</td>" : "", w = 0; 7 > w; w++)E = m ? m.apply(t.input ? t.input[0] : null, [A]) : [!0, ""], F = A.getMonth() !== Z, L = F && !v || !E[0] || Q && Q > A || J && A > J, W += "<td class='" + ((w + c + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (F ? " ui-datepicker-other-month" : "") + (A.getTime() === D.getTime() && Z === t.selectedMonth && t._keyEvent || b.getTime() === A.getTime() && b.getTime() === D.getTime() ? " " + this._dayOverClass : "") + (L ? " " + this._unselectableClass + " ui-state-disabled" : "") + (F && !_ ? "" : " " + E[1] + (A.getTime() === G.getTime() ? " " + this._currentClass : "") + (A.getTime() === B.getTime() ? " ui-datepicker-today" : "")) + "'" + (F && !_ || !E[2] ? "" : " title='" + E[2].replace(/'/g, "&#39;") + "'") + (L ? "" : " data-handler='selectDay' data-event='click' data-month='" + A.getMonth() + "' data-year='" + A.getFullYear() + "'") + ">" + (F && !_ ? "&#xa0;" : L ? "<span class='ui-state-default'>" + A.getDate() + "</span>" : "<a class='ui-state-default" + (A.getTime() === B.getTime() ? " ui-state-highlight" : "") + (A.getTime() === G.getTime() ? " ui-state-active" : "") + (F ? " ui-priority-secondary" : "") + "' href='#'>" + A.getDate() + "</a>") + "</td>", A.setDate(A.getDate() + 1), A = this._daylightSavingAdjust(A); T += W + "</tr>" } Z++, Z > 11 && (Z = 0, te++), T += "</tbody></table>" + (X ? "</div>" + (U[0] > 0 && C === U[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""), x += T
                        } y += x
                    } return y += l, t._keyEvent = !1, y
                }, _generateMonthYearHeader: function (t, e, i, s, n, o, a, r) { var h, l, c, u, d, p, f, g, m = this._get(t, "changeMonth"), _ = this._get(t, "changeYear"), v = this._get(t, "showMonthAfterYear"), b = "<div class='ui-datepicker-title'>", y = ""; if (o || !m) y += "<span class='ui-datepicker-month'>" + a[e] + "</span>"; else { for (h = s && s.getFullYear() === i, l = n && n.getFullYear() === i, y += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", c = 0; 12 > c; c++)(!h || c >= s.getMonth()) && (!l || n.getMonth() >= c) && (y += "<option value='" + c + "'" + (c === e ? " selected='selected'" : "") + ">" + r[c] + "</option>"); y += "</select>" } if (v || (b += y + (!o && m && _ ? "" : "&#xa0;")), !t.yearshtml) if (t.yearshtml = "", o || !_) b += "<span class='ui-datepicker-year'>" + i + "</span>"; else { for (u = this._get(t, "yearRange").split(":"), d = (new Date).getFullYear(), p = function (t) { var e = t.match(/c[+\-].*/) ? i + parseInt(t.substring(1), 10) : t.match(/[+\-].*/) ? d + parseInt(t, 10) : parseInt(t, 10); return isNaN(e) ? d : e }, f = p(u[0]), g = Math.max(f, p(u[1] || "")), f = s ? Math.max(f, s.getFullYear()) : f, g = n ? Math.min(g, n.getFullYear()) : g, t.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; g >= f; f++)t.yearshtml += "<option value='" + f + "'" + (f === i ? " selected='selected'" : "") + ">" + f + "</option>"; t.yearshtml += "</select>", b += t.yearshtml, t.yearshtml = null } return b += this._get(t, "yearSuffix"), v && (b += (!o && m && _ ? "" : "&#xa0;") + y), b += "</div>" }, _adjustInstDate: function (t, e, i) { var s = t.selectedYear + ("Y" === i ? e : 0), n = t.selectedMonth + ("M" === i ? e : 0), o = Math.min(t.selectedDay, this._getDaysInMonth(s, n)) + ("D" === i ? e : 0), a = this._restrictMinMax(t, this._daylightSavingAdjust(new Date(s, n, o))); t.selectedDay = a.getDate(), t.drawMonth = t.selectedMonth = a.getMonth(), t.drawYear = t.selectedYear = a.getFullYear(), ("M" === i || "Y" === i) && this._notifyChange(t) }, _restrictMinMax: function (t, e) { var i = this._getMinMaxDate(t, "min"), s = this._getMinMaxDate(t, "max"), n = i && i > e ? i : e; return s && n > s ? s : n }, _notifyChange: function (t) { var e = this._get(t, "onChangeMonthYear"); e && e.apply(t.input ? t.input[0] : null, [t.selectedYear, t.selectedMonth + 1, t]) }, _getNumberOfMonths: function (t) { var e = this._get(t, "numberOfMonths"); return null == e ? [1, 1] : "number" == typeof e ? [1, e] : e }, _getMinMaxDate: function (t, e) { return this._determineDate(t, this._get(t, e + "Date"), null) }, _getDaysInMonth: function (t, e) { return 32 - this._daylightSavingAdjust(new Date(t, e, 32)).getDate() }, _getFirstDayOfMonth: function (t, e) { return new Date(t, e, 1).getDay() }, _canAdjustMonth: function (t, e, i, s) { var n = this._getNumberOfMonths(t), o = this._daylightSavingAdjust(new Date(i, s + (0 > e ? e : n[0] * n[1]), 1)); return 0 > e && o.setDate(this._getDaysInMonth(o.getFullYear(), o.getMonth())), this._isInRange(t, o) }, _isInRange: function (t, e) { var i, s, n = this._getMinMaxDate(t, "min"), o = this._getMinMaxDate(t, "max"), a = null, r = null, h = this._get(t, "yearRange"); return h && (i = h.split(":"), s = (new Date).getFullYear(), a = parseInt(i[0], 10), r = parseInt(i[1], 10), i[0].match(/[+\-].*/) && (a += s), i[1].match(/[+\-].*/) && (r += s)), (!n || e.getTime() >= n.getTime()) && (!o || e.getTime() <= o.getTime()) && (!a || e.getFullYear() >= a) && (!r || r >= e.getFullYear()) }, _getFormatConfig: function (t) { var e = this._get(t, "shortYearCutoff"); return e = "string" != typeof e ? e : (new Date).getFullYear() % 100 + parseInt(e, 10), { shortYearCutoff: e, dayNamesShort: this._get(t, "dayNamesShort"), dayNames: this._get(t, "dayNames"), monthNamesShort: this._get(t, "monthNamesShort"), monthNames: this._get(t, "monthNames") } }, _formatDate: function (t, e, i, s) { e || (t.currentDay = t.selectedDay, t.currentMonth = t.selectedMonth, t.currentYear = t.selectedYear); var n = e ? "object" == typeof e ? e : this._daylightSavingAdjust(new Date(s, i, e)) : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t.currentDay)); return this.formatDate(this._get(t, "dateFormat"), n, this._getFormatConfig(t)) }
            }), t.fn.datepicker = function (e) { if (!this.length) return this; t.datepicker.initialized || (t(document).on("mousedown", t.datepicker._checkExternalClick), t.datepicker.initialized = !0), 0 === t("#" + t.datepicker._mainDivId).length && t("body").append(t.datepicker.dpDiv); var i = Array.prototype.slice.call(arguments, 1); return "string" != typeof e || "isDisabled" !== e && "getDate" !== e && "widget" !== e ? "option" === e && 2 === arguments.length && "string" == typeof arguments[1] ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(i)) : this.each(function () { "string" == typeof e ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this].concat(i)) : t.datepicker._attachDatepicker(this, e) }) : t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(i)) }, t.datepicker = new s, t.datepicker.initialized = !1, t.datepicker.uuid = (new Date).getTime(), t.datepicker.version = "1.12.1", t.datepicker, t.widget("ui.dialog", { version: "1.12.1", options: { appendTo: "body", autoOpen: !0, buttons: [], classes: { "ui-dialog": "ui-corner-all", "ui-dialog-titlebar": "ui-corner-all" }, closeOnEscape: !0, closeText: "Close", draggable: !0, hide: null, height: "auto", maxHeight: null, maxWidth: null, minHeight: 150, minWidth: 150, modal: !1, position: { my: "center", at: "center", of: window, collision: "fit", using: function (e) { var i = t(this).css(e).offset().top; 0 > i && t(this).css("top", e.top - i) } }, resizable: !0, show: null, title: null, width: 300, beforeClose: null, close: null, drag: null, dragStart: null, dragStop: null, focus: null, open: null, resize: null, resizeStart: null, resizeStop: null }, sizeRelatedOptions: { buttons: !0, height: !0, maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0, width: !0 }, resizableRelatedOptions: { maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0 }, _create: function () { this.originalCss = { display: this.element[0].style.display, width: this.element[0].style.width, minHeight: this.element[0].style.minHeight, maxHeight: this.element[0].style.maxHeight, height: this.element[0].style.height }, this.originalPosition = { parent: this.element.parent(), index: this.element.parent().children().index(this.element) }, this.originalTitle = this.element.attr("title"), null == this.options.title && null != this.originalTitle && (this.options.title = this.originalTitle), this.options.disabled && (this.options.disabled = !1), this._createWrapper(), this.element.show().removeAttr("title").appendTo(this.uiDialog), this._addClass("ui-dialog-content", "ui-widget-content"), this._createTitlebar(), this._createButtonPane(), this.options.draggable && t.fn.draggable && this._makeDraggable(), this.options.resizable && t.fn.resizable && this._makeResizable(), this._isOpen = !1, this._trackFocus() }, _init: function () { this.options.autoOpen && this.open() }, _appendTo: function () { var e = this.options.appendTo; return e && (e.jquery || e.nodeType) ? t(e) : this.document.find(e || "body").eq(0) }, _destroy: function () { var t, e = this.originalPosition; this._untrackInstance(), this._destroyOverlay(), this.element.removeUniqueId().css(this.originalCss).detach(), this.uiDialog.remove(), this.originalTitle && this.element.attr("title", this.originalTitle), t = e.parent.children().eq(e.index), t.length && t[0] !== this.element[0] ? t.before(this.element) : e.parent.append(this.element) }, widget: function () { return this.uiDialog }, disable: t.noop, enable: t.noop, close: function (e) { var i = this; this._isOpen && this._trigger("beforeClose", e) !== !1 && (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), this.opener.filter(":focusable").trigger("focus").length || t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])), this._hide(this.uiDialog, this.options.hide, function () { i._trigger("close", e) })) }, isOpen: function () { return this._isOpen }, moveToTop: function () { this._moveToTop() }, _moveToTop: function (e, i) { var s = !1, n = this.uiDialog.siblings(".ui-front:visible").map(function () { return +t(this).css("z-index") }).get(), o = Math.max.apply(null, n); return o >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", o + 1), s = !0), s && !i && this._trigger("focus", e), s }, open: function () { var e = this; return this._isOpen ? (this._moveToTop() && this._focusTabbable(), void 0) : (this._isOpen = !0, this.opener = t(t.ui.safeActiveElement(this.document[0])), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1), this._show(this.uiDialog, this.options.show, function () { e._focusTabbable(), e._trigger("focus") }), this._makeFocusTarget(), this._trigger("open"), void 0) }, _focusTabbable: function () { var t = this._focusedElement; t || (t = this.element.find("[autofocus]")), t.length || (t = this.element.find(":tabbable")), t.length || (t = this.uiDialogButtonPane.find(":tabbable")), t.length || (t = this.uiDialogTitlebarClose.filter(":tabbable")), t.length || (t = this.uiDialog), t.eq(0).trigger("focus") }, _keepFocus: function (e) { function i() { var e = t.ui.safeActiveElement(this.document[0]), i = this.uiDialog[0] === e || t.contains(this.uiDialog[0], e); i || this._focusTabbable() } e.preventDefault(), i.call(this), this._delay(i) }, _createWrapper: function () { this.uiDialog = t("<div>").hide().attr({ tabIndex: -1, role: "dialog" }).appendTo(this._appendTo()), this._addClass(this.uiDialog, "ui-dialog", "ui-widget ui-widget-content ui-front"), this._on(this.uiDialog, { keydown: function (e) { if (this.options.closeOnEscape && !e.isDefaultPrevented() && e.keyCode && e.keyCode === t.ui.keyCode.ESCAPE) return e.preventDefault(), this.close(e), void 0; if (e.keyCode === t.ui.keyCode.TAB && !e.isDefaultPrevented()) { var i = this.uiDialog.find(":tabbable"), s = i.filter(":first"), n = i.filter(":last"); e.target !== n[0] && e.target !== this.uiDialog[0] || e.shiftKey ? e.target !== s[0] && e.target !== this.uiDialog[0] || !e.shiftKey || (this._delay(function () { n.trigger("focus") }), e.preventDefault()) : (this._delay(function () { s.trigger("focus") }), e.preventDefault()) } }, mousedown: function (t) { this._moveToTop(t) && this._focusTabbable() } }), this.element.find("[aria-describedby]").length || this.uiDialog.attr({ "aria-describedby": this.element.uniqueId().attr("id") }) }, _createTitlebar: function () { var e; this.uiDialogTitlebar = t("<div>"), this._addClass(this.uiDialogTitlebar, "ui-dialog-titlebar", "ui-widget-header ui-helper-clearfix"), this._on(this.uiDialogTitlebar, { mousedown: function (e) { t(e.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.trigger("focus") } }), this.uiDialogTitlebarClose = t("<button type='button'></button>").button({ label: t("<a>").text(this.options.closeText).html(), icon: "ui-icon-closethick", showLabel: !1 }).appendTo(this.uiDialogTitlebar), this._addClass(this.uiDialogTitlebarClose, "ui-dialog-titlebar-close"), this._on(this.uiDialogTitlebarClose, { click: function (t) { t.preventDefault(), this.close(t) } }), e = t("<span>").uniqueId().prependTo(this.uiDialogTitlebar), this._addClass(e, "ui-dialog-title"), this._title(e), this.uiDialogTitlebar.prependTo(this.uiDialog), this.uiDialog.attr({ "aria-labelledby": e.attr("id") }) }, _title: function (t) { this.options.title ? t.text(this.options.title) : t.html("&#160;") }, _createButtonPane: function () { this.uiDialogButtonPane = t("<div>"), this._addClass(this.uiDialogButtonPane, "ui-dialog-buttonpane", "ui-widget-content ui-helper-clearfix"), this.uiButtonSet = t("<div>").appendTo(this.uiDialogButtonPane), this._addClass(this.uiButtonSet, "ui-dialog-buttonset"), this._createButtons() }, _createButtons: function () { var e = this, i = this.options.buttons; return this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), t.isEmptyObject(i) || t.isArray(i) && !i.length ? (this._removeClass(this.uiDialog, "ui-dialog-buttons"), void 0) : (t.each(i, function (i, s) { var n, o; s = t.isFunction(s) ? { click: s, text: i } : s, s = t.extend({ type: "button" }, s), n = s.click, o = { icon: s.icon, iconPosition: s.iconPosition, showLabel: s.showLabel, icons: s.icons, text: s.text }, delete s.click, delete s.icon, delete s.iconPosition, delete s.showLabel, delete s.icons, "boolean" == typeof s.text && delete s.text, t("<button></button>", s).button(o).appendTo(e.uiButtonSet).on("click", function () { n.apply(e.element[0], arguments) }) }), this._addClass(this.uiDialog, "ui-dialog-buttons"), this.uiDialogButtonPane.appendTo(this.uiDialog), void 0) }, _makeDraggable: function () { function e(t) { return { position: t.position, offset: t.offset } } var i = this, s = this.options; this.uiDialog.draggable({ cancel: ".ui-dialog-content, .ui-dialog-titlebar-close", handle: ".ui-dialog-titlebar", containment: "document", start: function (s, n) { i._addClass(t(this), "ui-dialog-dragging"), i._blockFrames(), i._trigger("dragStart", s, e(n)) }, drag: function (t, s) { i._trigger("drag", t, e(s)) }, stop: function (n, o) { var a = o.offset.left - i.document.scrollLeft(), r = o.offset.top - i.document.scrollTop(); s.position = { my: "left top", at: "left" + (a >= 0 ? "+" : "") + a + " " + "top" + (r >= 0 ? "+" : "") + r, of: i.window }, i._removeClass(t(this), "ui-dialog-dragging"), i._unblockFrames(), i._trigger("dragStop", n, e(o)) } }) }, _makeResizable: function () { function e(t) { return { originalPosition: t.originalPosition, originalSize: t.originalSize, position: t.position, size: t.size } } var i = this, s = this.options, n = s.resizable, o = this.uiDialog.css("position"), a = "string" == typeof n ? n : "n,e,s,w,se,sw,ne,nw"; this.uiDialog.resizable({ cancel: ".ui-dialog-content", containment: "document", alsoResize: this.element, maxWidth: s.maxWidth, maxHeight: s.maxHeight, minWidth: s.minWidth, minHeight: this._minHeight(), handles: a, start: function (s, n) { i._addClass(t(this), "ui-dialog-resizing"), i._blockFrames(), i._trigger("resizeStart", s, e(n)) }, resize: function (t, s) { i._trigger("resize", t, e(s)) }, stop: function (n, o) { var a = i.uiDialog.offset(), r = a.left - i.document.scrollLeft(), h = a.top - i.document.scrollTop(); s.height = i.uiDialog.height(), s.width = i.uiDialog.width(), s.position = { my: "left top", at: "left" + (r >= 0 ? "+" : "") + r + " " + "top" + (h >= 0 ? "+" : "") + h, of: i.window }, i._removeClass(t(this), "ui-dialog-resizing"), i._unblockFrames(), i._trigger("resizeStop", n, e(o)) } }).css("position", o) }, _trackFocus: function () { this._on(this.widget(), { focusin: function (e) { this._makeFocusTarget(), this._focusedElement = t(e.target) } }) }, _makeFocusTarget: function () { this._untrackInstance(), this._trackingInstances().unshift(this) }, _untrackInstance: function () { var e = this._trackingInstances(), i = t.inArray(this, e); -1 !== i && e.splice(i, 1) }, _trackingInstances: function () { var t = this.document.data("ui-dialog-instances"); return t || (t = [], this.document.data("ui-dialog-instances", t)), t }, _minHeight: function () { var t = this.options; return "auto" === t.height ? t.minHeight : Math.min(t.minHeight, t.height) }, _position: function () { var t = this.uiDialog.is(":visible"); t || this.uiDialog.show(), this.uiDialog.position(this.options.position), t || this.uiDialog.hide() }, _setOptions: function (e) { var i = this, s = !1, n = {}; t.each(e, function (t, e) { i._setOption(t, e), t in i.sizeRelatedOptions && (s = !0), t in i.resizableRelatedOptions && (n[t] = e) }), s && (this._size(), this._position()), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", n) }, _setOption: function (e, i) { var s, n, o = this.uiDialog; "disabled" !== e && (this._super(e, i), "appendTo" === e && this.uiDialog.appendTo(this._appendTo()), "buttons" === e && this._createButtons(), "closeText" === e && this.uiDialogTitlebarClose.button({ label: t("<a>").text("" + this.options.closeText).html() }), "draggable" === e && (s = o.is(":data(ui-draggable)"), s && !i && o.draggable("destroy"), !s && i && this._makeDraggable()), "position" === e && this._position(), "resizable" === e && (n = o.is(":data(ui-resizable)"), n && !i && o.resizable("destroy"), n && "string" == typeof i && o.resizable("option", "handles", i), n || i === !1 || this._makeResizable()), "title" === e && this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))) }, _size: function () { var t, e, i, s = this.options; this.element.show().css({ width: "auto", minHeight: 0, maxHeight: "none", height: 0 }), s.minWidth > s.width && (s.width = s.minWidth), t = this.uiDialog.css({ height: "auto", width: s.width }).outerHeight(), e = Math.max(0, s.minHeight - t), i = "number" == typeof s.maxHeight ? Math.max(0, s.maxHeight - t) : "none", "auto" === s.height ? this.element.css({ minHeight: e, maxHeight: i, height: "auto" }) : this.element.height(Math.max(0, s.height - t)), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight()) }, _blockFrames: function () { this.iframeBlocks = this.document.find("iframe").map(function () { var e = t(this); return t("<div>").css({ position: "absolute", width: e.outerWidth(), height: e.outerHeight() }).appendTo(e.parent()).offset(e.offset())[0] }) }, _unblockFrames: function () { this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks) }, _allowInteraction: function (e) { return t(e.target).closest(".ui-dialog").length ? !0 : !!t(e.target).closest(".ui-datepicker").length }, _createOverlay: function () { if (this.options.modal) { var e = !0; this._delay(function () { e = !1 }), this.document.data("ui-dialog-overlays") || this._on(this.document, { focusin: function (t) { e || this._allowInteraction(t) || (t.preventDefault(), this._trackingInstances()[0]._focusTabbable()) } }), this.overlay = t("<div>").appendTo(this._appendTo()), this._addClass(this.overlay, null, "ui-widget-overlay ui-front"), this._on(this.overlay, { mousedown: "_keepFocus" }), this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1) } }, _destroyOverlay: function () { if (this.options.modal && this.overlay) { var t = this.document.data("ui-dialog-overlays") - 1; t ? this.document.data("ui-dialog-overlays", t) : (this._off(this.document, "focusin"), this.document.removeData("ui-dialog-overlays")), this.overlay.remove(), this.overlay = null } } }), t.uiBackCompat !== !1 && t.widget("ui.dialog", t.ui.dialog, { options: { dialogClass: "" }, _createWrapper: function () { this._super(), this.uiDialog.addClass(this.options.dialogClass) }, _setOption: function (t, e) { "dialogClass" === t && this.uiDialog.removeClass(this.options.dialogClass).addClass(e), this._superApply(arguments) } }), t.ui.dialog, t.widget("ui.progressbar", { version: "1.12.1", options: { classes: { "ui-progressbar": "ui-corner-all", "ui-progressbar-value": "ui-corner-left", "ui-progressbar-complete": "ui-corner-right" }, max: 100, value: 0, change: null, complete: null }, min: 0, _create: function () { this.oldValue = this.options.value = this._constrainedValue(), this.element.attr({ role: "progressbar", "aria-valuemin": this.min }), this._addClass("ui-progressbar", "ui-widget ui-widget-content"), this.valueDiv = t("<div>").appendTo(this.element), this._addClass(this.valueDiv, "ui-progressbar-value", "ui-widget-header"), this._refreshValue() }, _destroy: function () { this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"), this.valueDiv.remove() }, value: function (t) { return void 0 === t ? this.options.value : (this.options.value = this._constrainedValue(t), this._refreshValue(), void 0) }, _constrainedValue: function (t) { return void 0 === t && (t = this.options.value), this.indeterminate = t === !1, "number" != typeof t && (t = 0), this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, t)) }, _setOptions: function (t) { var e = t.value; delete t.value, this._super(t), this.options.value = this._constrainedValue(e), this._refreshValue() }, _setOption: function (t, e) { "max" === t && (e = Math.max(this.min, e)), this._super(t, e) }, _setOptionDisabled: function (t) { this._super(t), this.element.attr("aria-disabled", t), this._toggleClass(null, "ui-state-disabled", !!t) }, _percentage: function () { return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min) }, _refreshValue: function () { var e = this.options.value, i = this._percentage(); this.valueDiv.toggle(this.indeterminate || e > this.min).width(i.toFixed(0) + "%"), this._toggleClass(this.valueDiv, "ui-progressbar-complete", null, e === this.options.max)._toggleClass("ui-progressbar-indeterminate", null, this.indeterminate), this.indeterminate ? (this.element.removeAttr("aria-valuenow"), this.overlayDiv || (this.overlayDiv = t("<div>").appendTo(this.valueDiv), this._addClass(this.overlayDiv, "ui-progressbar-overlay"))) : (this.element.attr({ "aria-valuemax": this.options.max, "aria-valuenow": e }), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null)), this.oldValue !== e && (this.oldValue = e, this._trigger("change")), e === this.options.max && this._trigger("complete") } }), t.widget("ui.selectmenu", [t.ui.formResetMixin, { version: "1.12.1", defaultElement: "<select>", options: { appendTo: null, classes: { "ui-selectmenu-button-open": "ui-corner-top", "ui-selectmenu-button-closed": "ui-corner-all" }, disabled: null, icons: { button: "ui-icon-triangle-1-s" }, position: { my: "left top", at: "left bottom", collision: "none" }, width: !1, change: null, close: null, focus: null, open: null, select: null }, _create: function () { var e = this.element.uniqueId().attr("id"); this.ids = { element: e, button: e + "-button", menu: e + "-menu" }, this._drawButton(), this._drawMenu(), this._bindFormResetHandler(), this._rendered = !1, this.menuItems = t() }, _drawButton: function () { var e, i = this, s = this._parseOption(this.element.find("option:selected"), this.element[0].selectedIndex); this.labels = this.element.labels().attr("for", this.ids.button), this._on(this.labels, { click: function (t) { this.button.focus(), t.preventDefault() } }), this.element.hide(), this.button = t("<span>", { tabindex: this.options.disabled ? -1 : 0, id: this.ids.button, role: "combobox", "aria-expanded": "false", "aria-autocomplete": "list", "aria-owns": this.ids.menu, "aria-haspopup": "true", title: this.element.attr("title") }).insertAfter(this.element), this._addClass(this.button, "ui-selectmenu-button ui-selectmenu-button-closed", "ui-button ui-widget"), e = t("<span>").appendTo(this.button), this._addClass(e, "ui-selectmenu-icon", "ui-icon " + this.options.icons.button), this.buttonItem = this._renderButtonItem(s).appendTo(this.button), this.options.width !== !1 && this._resizeButton(), this._on(this.button, this._buttonEvents), this.button.one("focusin", function () { i._rendered || i._refreshMenu() }) }, _drawMenu: function () { var e = this; this.menu = t("<ul>", { "aria-hidden": "true", "aria-labelledby": this.ids.button, id: this.ids.menu }), this.menuWrap = t("<div>").append(this.menu), this._addClass(this.menuWrap, "ui-selectmenu-menu", "ui-front"), this.menuWrap.appendTo(this._appendTo()), this.menuInstance = this.menu.menu({ classes: { "ui-menu": "ui-corner-bottom" }, role: "listbox", select: function (t, i) { t.preventDefault(), e._setSelection(), e._select(i.item.data("ui-selectmenu-item"), t) }, focus: function (t, i) { var s = i.item.data("ui-selectmenu-item"); null != e.focusIndex && s.index !== e.focusIndex && (e._trigger("focus", t, { item: s }), e.isOpen || e._select(s, t)), e.focusIndex = s.index, e.button.attr("aria-activedescendant", e.menuItems.eq(s.index).attr("id")) } }).menu("instance"), this.menuInstance._off(this.menu, "mouseleave"), this.menuInstance._closeOnDocumentClick = function () { return !1 }, this.menuInstance._isDivider = function () { return !1 } }, refresh: function () { this._refreshMenu(), this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item") || {})), null === this.options.width && this._resizeButton() }, _refreshMenu: function () { var t, e = this.element.find("option"); this.menu.empty(), this._parseOptions(e), this._renderMenu(this.menu, this.items), this.menuInstance.refresh(), this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"), this._rendered = !0, e.length && (t = this._getSelectedItem(), this.menuInstance.focus(null, t), this._setAria(t.data("ui-selectmenu-item")), this._setOption("disabled", this.element.prop("disabled"))) }, open: function (t) { this.options.disabled || (this._rendered ? (this._removeClass(this.menu.find(".ui-state-active"), null, "ui-state-active"), this.menuInstance.focus(null, this._getSelectedItem())) : this._refreshMenu(), this.menuItems.length && (this.isOpen = !0, this._toggleAttr(), this._resizeMenu(), this._position(), this._on(this.document, this._documentClick), this._trigger("open", t))) }, _position: function () { this.menuWrap.position(t.extend({ of: this.button }, this.options.position)) }, close: function (t) { this.isOpen && (this.isOpen = !1, this._toggleAttr(), this.range = null, this._off(this.document), this._trigger("close", t)) }, widget: function () { return this.button }, menuWidget: function () { return this.menu }, _renderButtonItem: function (e) { var i = t("<span>"); return this._setText(i, e.label), this._addClass(i, "ui-selectmenu-text"), i }, _renderMenu: function (e, i) { var s = this, n = ""; t.each(i, function (i, o) { var a; o.optgroup !== n && (a = t("<li>", { text: o.optgroup }), s._addClass(a, "ui-selectmenu-optgroup", "ui-menu-divider" + (o.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : "")), a.appendTo(e), n = o.optgroup), s._renderItemData(e, o) }) }, _renderItemData: function (t, e) { return this._renderItem(t, e).data("ui-selectmenu-item", e) }, _renderItem: function (e, i) { var s = t("<li>"), n = t("<div>", { title: i.element.attr("title") }); return i.disabled && this._addClass(s, null, "ui-state-disabled"), this._setText(n, i.label), s.append(n).appendTo(e) }, _setText: function (t, e) { e ? t.text(e) : t.html("&#160;") }, _move: function (t, e) { var i, s, n = ".ui-menu-item"; this.isOpen ? i = this.menuItems.eq(this.focusIndex).parent("li") : (i = this.menuItems.eq(this.element[0].selectedIndex).parent("li"), n += ":not(.ui-state-disabled)"), s = "first" === t || "last" === t ? i["first" === t ? "prevAll" : "nextAll"](n).eq(-1) : i[t + "All"](n).eq(0), s.length && this.menuInstance.focus(e, s) }, _getSelectedItem: function () { return this.menuItems.eq(this.element[0].selectedIndex).parent("li") }, _toggle: function (t) { this[this.isOpen ? "close" : "open"](t) }, _setSelection: function () { var t; this.range && (window.getSelection ? (t = window.getSelection(), t.removeAllRanges(), t.addRange(this.range)) : this.range.select(), this.button.focus()) }, _documentClick: { mousedown: function (e) { this.isOpen && (t(e.target).closest(".ui-selectmenu-menu, #" + t.ui.escapeSelector(this.ids.button)).length || this.close(e)) } }, _buttonEvents: { mousedown: function () { var t; window.getSelection ? (t = window.getSelection(), t.rangeCount && (this.range = t.getRangeAt(0))) : this.range = document.selection.createRange() }, click: function (t) { this._setSelection(), this._toggle(t) }, keydown: function (e) { var i = !0; switch (e.keyCode) { case t.ui.keyCode.TAB: case t.ui.keyCode.ESCAPE: this.close(e), i = !1; break; case t.ui.keyCode.ENTER: this.isOpen && this._selectFocusedItem(e); break; case t.ui.keyCode.UP: e.altKey ? this._toggle(e) : this._move("prev", e); break; case t.ui.keyCode.DOWN: e.altKey ? this._toggle(e) : this._move("next", e); break; case t.ui.keyCode.SPACE: this.isOpen ? this._selectFocusedItem(e) : this._toggle(e); break; case t.ui.keyCode.LEFT: this._move("prev", e); break; case t.ui.keyCode.RIGHT: this._move("next", e); break; case t.ui.keyCode.HOME: case t.ui.keyCode.PAGE_UP: this._move("first", e); break; case t.ui.keyCode.END: case t.ui.keyCode.PAGE_DOWN: this._move("last", e); break; default: this.menu.trigger(e), i = !1 }i && e.preventDefault() } }, _selectFocusedItem: function (t) { var e = this.menuItems.eq(this.focusIndex).parent("li"); e.hasClass("ui-state-disabled") || this._select(e.data("ui-selectmenu-item"), t) }, _select: function (t, e) { var i = this.element[0].selectedIndex; this.element[0].selectedIndex = t.index, this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(t)), this._setAria(t), this._trigger("select", e, { item: t }), t.index !== i && this._trigger("change", e, { item: t }), this.close(e) }, _setAria: function (t) { var e = this.menuItems.eq(t.index).attr("id"); this.button.attr({ "aria-labelledby": e, "aria-activedescendant": e }), this.menu.attr("aria-activedescendant", e) }, _setOption: function (t, e) { if ("icons" === t) { var i = this.button.find("span.ui-icon"); this._removeClass(i, null, this.options.icons.button)._addClass(i, null, e.button) } this._super(t, e), "appendTo" === t && this.menuWrap.appendTo(this._appendTo()), "width" === t && this._resizeButton() }, _setOptionDisabled: function (t) { this._super(t), this.menuInstance.option("disabled", t), this.button.attr("aria-disabled", t), this._toggleClass(this.button, null, "ui-state-disabled", t), this.element.prop("disabled", t), t ? (this.button.attr("tabindex", -1), this.close()) : this.button.attr("tabindex", 0) }, _appendTo: function () { var e = this.options.appendTo; return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e).eq(0)), e && e[0] || (e = this.element.closest(".ui-front, dialog")), e.length || (e = this.document[0].body), e }, _toggleAttr: function () { this.button.attr("aria-expanded", this.isOpen), this._removeClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "closed" : "open"))._addClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "open" : "closed"))._toggleClass(this.menuWrap, "ui-selectmenu-open", null, this.isOpen), this.menu.attr("aria-hidden", !this.isOpen) }, _resizeButton: function () { var t = this.options.width; return t === !1 ? (this.button.css("width", ""), void 0) : (null === t && (t = this.element.show().outerWidth(), this.element.hide()), this.button.outerWidth(t), void 0) }, _resizeMenu: function () { this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1)) }, _getCreateOptions: function () { var t = this._super(); return t.disabled = this.element.prop("disabled"), t }, _parseOptions: function (e) { var i = this, s = []; e.each(function (e, n) { s.push(i._parseOption(t(n), e)) }), this.items = s }, _parseOption: function (t, e) { var i = t.parent("optgroup"); return { element: t, index: e, value: t.val(), label: t.text(), optgroup: i.attr("label") || "", disabled: i.prop("disabled") || t.prop("disabled") } }, _destroy: function () { this._unbindFormResetHandler(), this.menuWrap.remove(), this.button.remove(), this.element.show(), this.element.removeUniqueId(), this.labels.attr("for", this.ids.element) } }]), t.widget("ui.slider", t.ui.mouse, {
                version: "1.12.1", widgetEventPrefix: "slide", options: { animate: !1, classes: { "ui-slider": "ui-corner-all", "ui-slider-handle": "ui-corner-all", "ui-slider-range": "ui-corner-all ui-widget-header" }, distance: 0, max: 100, min: 0, orientation: "horizontal", range: !1, step: 1, value: 0, values: null, change: null, slide: null, start: null, stop: null }, numPages: 5, _create: function () { this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this._calculateNewMax(), this._addClass("ui-slider ui-slider-" + this.orientation, "ui-widget ui-widget-content"), this._refresh(), this._animateOff = !1 }, _refresh: function () { this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue() }, _createHandles: function () { var e, i, s = this.options, n = this.element.find(".ui-slider-handle"), o = "<span tabindex='0'></span>", a = []; for (i = s.values && s.values.length || 1, n.length > i && (n.slice(i).remove(), n = n.slice(0, i)), e = n.length; i > e; e++)a.push(o); this.handles = n.add(t(a.join("")).appendTo(this.element)), this._addClass(this.handles, "ui-slider-handle", "ui-state-default"), this.handle = this.handles.eq(0), this.handles.each(function (e) { t(this).data("ui-slider-handle-index", e).attr("tabIndex", 0) }) }, _createRange: function () {
                    var e = this.options; e.range ? (e.range === !0 && (e.values ? e.values.length && 2 !== e.values.length ? e.values = [e.values[0], e.values[0]] : t.isArray(e.values) && (e.values = e.values.slice(0)) : e.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? (this._removeClass(this.range, "ui-slider-range-min ui-slider-range-max"), this.range.css({ left: "", bottom: "" })) : (this.range = t("<div>").appendTo(this.element), this._addClass(this.range, "ui-slider-range")), ("min" === e.range || "max" === e.range) && this._addClass(this.range, "ui-slider-range-" + e.range)) : (this.range && this.range.remove(), this.range = null)
                }, _setupEvents: function () { this._off(this.handles), this._on(this.handles, this._handleEvents), this._hoverable(this.handles), this._focusable(this.handles) }, _destroy: function () { this.handles.remove(), this.range && this.range.remove(), this._mouseDestroy() }, _mouseCapture: function (e) { var i, s, n, o, a, r, h, l, c = this, u = this.options; return u.disabled ? !1 : (this.elementSize = { width: this.element.outerWidth(), height: this.element.outerHeight() }, this.elementOffset = this.element.offset(), i = { x: e.pageX, y: e.pageY }, s = this._normValueFromMouse(i), n = this._valueMax() - this._valueMin() + 1, this.handles.each(function (e) { var i = Math.abs(s - c.values(e)); (n > i || n === i && (e === c._lastChangedValue || c.values(e) === u.min)) && (n = i, o = t(this), a = e) }), r = this._start(e, a), r === !1 ? !1 : (this._mouseSliding = !0, this._handleIndex = a, this._addClass(o, null, "ui-state-active"), o.trigger("focus"), h = o.offset(), l = !t(e.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = l ? { left: 0, top: 0 } : { left: e.pageX - h.left - o.width() / 2, top: e.pageY - h.top - o.height() / 2 - (parseInt(o.css("borderTopWidth"), 10) || 0) - (parseInt(o.css("borderBottomWidth"), 10) || 0) + (parseInt(o.css("marginTop"), 10) || 0) }, this.handles.hasClass("ui-state-hover") || this._slide(e, a, s), this._animateOff = !0, !0)) }, _mouseStart: function () { return !0 }, _mouseDrag: function (t) { var e = { x: t.pageX, y: t.pageY }, i = this._normValueFromMouse(e); return this._slide(t, this._handleIndex, i), !1 }, _mouseStop: function (t) { return this._removeClass(this.handles, null, "ui-state-active"), this._mouseSliding = !1, this._stop(t, this._handleIndex), this._change(t, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1 }, _detectOrientation: function () { this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal" }, _normValueFromMouse: function (t) { var e, i, s, n, o; return "horizontal" === this.orientation ? (e = this.elementSize.width, i = t.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (e = this.elementSize.height, i = t.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), s = i / e, s > 1 && (s = 1), 0 > s && (s = 0), "vertical" === this.orientation && (s = 1 - s), n = this._valueMax() - this._valueMin(), o = this._valueMin() + s * n, this._trimAlignValue(o) }, _uiHash: function (t, e, i) { var s = { handle: this.handles[t], handleIndex: t, value: void 0 !== e ? e : this.value() }; return this._hasMultipleValues() && (s.value = void 0 !== e ? e : this.values(t), s.values = i || this.values()), s }, _hasMultipleValues: function () { return this.options.values && this.options.values.length }, _start: function (t, e) { return this._trigger("start", t, this._uiHash(e)) }, _slide: function (t, e, i) { var s, n, o = this.value(), a = this.values(); this._hasMultipleValues() && (n = this.values(e ? 0 : 1), o = this.values(e), 2 === this.options.values.length && this.options.range === !0 && (i = 0 === e ? Math.min(n, i) : Math.max(n, i)), a[e] = i), i !== o && (s = this._trigger("slide", t, this._uiHash(e, i, a)), s !== !1 && (this._hasMultipleValues() ? this.values(e, i) : this.value(i))) }, _stop: function (t, e) { this._trigger("stop", t, this._uiHash(e)) }, _change: function (t, e) { this._keySliding || this._mouseSliding || (this._lastChangedValue = e, this._trigger("change", t, this._uiHash(e))) }, value: function (t) { return arguments.length ? (this.options.value = this._trimAlignValue(t), this._refreshValue(), this._change(null, 0), void 0) : this._value() }, values: function (e, i) { var s, n, o; if (arguments.length > 1) return this.options.values[e] = this._trimAlignValue(i), this._refreshValue(), this._change(null, e), void 0; if (!arguments.length) return this._values(); if (!t.isArray(arguments[0])) return this._hasMultipleValues() ? this._values(e) : this.value(); for (s = this.options.values, n = arguments[0], o = 0; s.length > o; o += 1)s[o] = this._trimAlignValue(n[o]), this._change(null, o); this._refreshValue() }, _setOption: function (e, i) { var s, n = 0; switch ("range" === e && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0), this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), t.isArray(this.options.values) && (n = this.options.values.length), this._super(e, i), e) { case "orientation": this._detectOrientation(), this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-" + this.orientation), this._refreshValue(), this.options.range && this._refreshRange(i), this.handles.css("horizontal" === i ? "bottom" : "left", ""); break; case "value": this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1; break; case "values": for (this._animateOff = !0, this._refreshValue(), s = n - 1; s >= 0; s--)this._change(null, s); this._animateOff = !1; break; case "step": case "min": case "max": this._animateOff = !0, this._calculateNewMax(), this._refreshValue(), this._animateOff = !1; break; case "range": this._animateOff = !0, this._refresh(), this._animateOff = !1 } }, _setOptionDisabled: function (t) { this._super(t), this._toggleClass(null, "ui-state-disabled", !!t) }, _value: function () { var t = this.options.value; return t = this._trimAlignValue(t) }, _values: function (t) { var e, i, s; if (arguments.length) return e = this.options.values[t], e = this._trimAlignValue(e); if (this._hasMultipleValues()) { for (i = this.options.values.slice(), s = 0; i.length > s; s += 1)i[s] = this._trimAlignValue(i[s]); return i } return [] }, _trimAlignValue: function (t) { if (this._valueMin() >= t) return this._valueMin(); if (t >= this._valueMax()) return this._valueMax(); var e = this.options.step > 0 ? this.options.step : 1, i = (t - this._valueMin()) % e, s = t - i; return 2 * Math.abs(i) >= e && (s += i > 0 ? e : -e), parseFloat(s.toFixed(5)) }, _calculateNewMax: function () { var t = this.options.max, e = this._valueMin(), i = this.options.step, s = Math.round((t - e) / i) * i; t = s + e, t > this.options.max && (t -= i), this.max = parseFloat(t.toFixed(this._precision())) }, _precision: function () { var t = this._precisionOf(this.options.step); return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))), t }, _precisionOf: function (t) { var e = "" + t, i = e.indexOf("."); return -1 === i ? 0 : e.length - i - 1 }, _valueMin: function () { return this.options.min }, _valueMax: function () { return this.max }, _refreshRange: function (t) { "vertical" === t && this.range.css({ width: "", left: "" }), "horizontal" === t && this.range.css({ height: "", bottom: "" }) }, _refreshValue: function () { var e, i, s, n, o, a = this.options.range, r = this.options, h = this, l = this._animateOff ? !1 : r.animate, c = {}; this._hasMultipleValues() ? this.handles.each(function (s) { i = 100 * ((h.values(s) - h._valueMin()) / (h._valueMax() - h._valueMin())), c["horizontal" === h.orientation ? "left" : "bottom"] = i + "%", t(this).stop(1, 1)[l ? "animate" : "css"](c, r.animate), h.options.range === !0 && ("horizontal" === h.orientation ? (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({ left: i + "%" }, r.animate), 1 === s && h.range[l ? "animate" : "css"]({ width: i - e + "%" }, { queue: !1, duration: r.animate })) : (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({ bottom: i + "%" }, r.animate), 1 === s && h.range[l ? "animate" : "css"]({ height: i - e + "%" }, { queue: !1, duration: r.animate }))), e = i }) : (s = this.value(), n = this._valueMin(), o = this._valueMax(), i = o !== n ? 100 * ((s - n) / (o - n)) : 0, c["horizontal" === this.orientation ? "left" : "bottom"] = i + "%", this.handle.stop(1, 1)[l ? "animate" : "css"](c, r.animate), "min" === a && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({ width: i + "%" }, r.animate), "max" === a && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({ width: 100 - i + "%" }, r.animate), "min" === a && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({ height: i + "%" }, r.animate), "max" === a && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({ height: 100 - i + "%" }, r.animate)) }, _handleEvents: { keydown: function (e) { var i, s, n, o, a = t(e.target).data("ui-slider-handle-index"); switch (e.keyCode) { case t.ui.keyCode.HOME: case t.ui.keyCode.END: case t.ui.keyCode.PAGE_UP: case t.ui.keyCode.PAGE_DOWN: case t.ui.keyCode.UP: case t.ui.keyCode.RIGHT: case t.ui.keyCode.DOWN: case t.ui.keyCode.LEFT: if (e.preventDefault(), !this._keySliding && (this._keySliding = !0, this._addClass(t(e.target), null, "ui-state-active"), i = this._start(e, a), i === !1)) return }switch (o = this.options.step, s = n = this._hasMultipleValues() ? this.values(a) : this.value(), e.keyCode) { case t.ui.keyCode.HOME: n = this._valueMin(); break; case t.ui.keyCode.END: n = this._valueMax(); break; case t.ui.keyCode.PAGE_UP: n = this._trimAlignValue(s + (this._valueMax() - this._valueMin()) / this.numPages); break; case t.ui.keyCode.PAGE_DOWN: n = this._trimAlignValue(s - (this._valueMax() - this._valueMin()) / this.numPages); break; case t.ui.keyCode.UP: case t.ui.keyCode.RIGHT: if (s === this._valueMax()) return; n = this._trimAlignValue(s + o); break; case t.ui.keyCode.DOWN: case t.ui.keyCode.LEFT: if (s === this._valueMin()) return; n = this._trimAlignValue(s - o) }this._slide(e, a, n) }, keyup: function (e) { var i = t(e.target).data("ui-slider-handle-index"); this._keySliding && (this._keySliding = !1, this._stop(e, i), this._change(e, i), this._removeClass(t(e.target), null, "ui-state-active")) } }
            }), t.widget("ui.spinner", { version: "1.12.1", defaultElement: "<input>", widgetEventPrefix: "spin", options: { classes: { "ui-spinner": "ui-corner-all", "ui-spinner-down": "ui-corner-br", "ui-spinner-up": "ui-corner-tr" }, culture: null, icons: { down: "ui-icon-triangle-1-s", up: "ui-icon-triangle-1-n" }, incremental: !0, max: null, min: null, numberFormat: null, page: 10, step: 1, change: null, spin: null, start: null, stop: null }, _create: function () { this._setOption("max", this.options.max), this._setOption("min", this.options.min), this._setOption("step", this.options.step), "" !== this.value() && this._value(this.element.val(), !0), this._draw(), this._on(this._events), this._refresh(), this._on(this.window, { beforeunload: function () { this.element.removeAttr("autocomplete") } }) }, _getCreateOptions: function () { var e = this._super(), i = this.element; return t.each(["min", "max", "step"], function (t, s) { var n = i.attr(s); null != n && n.length && (e[s] = n) }), e }, _events: { keydown: function (t) { this._start(t) && this._keydown(t) && t.preventDefault() }, keyup: "_stop", focus: function () { this.previous = this.element.val() }, blur: function (t) { return this.cancelBlur ? (delete this.cancelBlur, void 0) : (this._stop(), this._refresh(), this.previous !== this.element.val() && this._trigger("change", t), void 0) }, mousewheel: function (t, e) { if (e) { if (!this.spinning && !this._start(t)) return !1; this._spin((e > 0 ? 1 : -1) * this.options.step, t), clearTimeout(this.mousewheelTimer), this.mousewheelTimer = this._delay(function () { this.spinning && this._stop(t) }, 100), t.preventDefault() } }, "mousedown .ui-spinner-button": function (e) { function i() { var e = this.element[0] === t.ui.safeActiveElement(this.document[0]); e || (this.element.trigger("focus"), this.previous = s, this._delay(function () { this.previous = s })) } var s; s = this.element[0] === t.ui.safeActiveElement(this.document[0]) ? this.previous : this.element.val(), e.preventDefault(), i.call(this), this.cancelBlur = !0, this._delay(function () { delete this.cancelBlur, i.call(this) }), this._start(e) !== !1 && this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e) }, "mouseup .ui-spinner-button": "_stop", "mouseenter .ui-spinner-button": function (e) { return t(e.currentTarget).hasClass("ui-state-active") ? this._start(e) === !1 ? !1 : (this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e), void 0) : void 0 }, "mouseleave .ui-spinner-button": "_stop" }, _enhance: function () { this.uiSpinner = this.element.attr("autocomplete", "off").wrap("<span>").parent().append("<a></a><a></a>") }, _draw: function () { this._enhance(), this._addClass(this.uiSpinner, "ui-spinner", "ui-widget ui-widget-content"), this._addClass("ui-spinner-input"), this.element.attr("role", "spinbutton"), this.buttons = this.uiSpinner.children("a").attr("tabIndex", -1).attr("aria-hidden", !0).button({ classes: { "ui-button": "" } }), this._removeClass(this.buttons, "ui-corner-all"), this._addClass(this.buttons.first(), "ui-spinner-button ui-spinner-up"), this._addClass(this.buttons.last(), "ui-spinner-button ui-spinner-down"), this.buttons.first().button({ icon: this.options.icons.up, showLabel: !1 }), this.buttons.last().button({ icon: this.options.icons.down, showLabel: !1 }), this.buttons.height() > Math.ceil(.5 * this.uiSpinner.height()) && this.uiSpinner.height() > 0 && this.uiSpinner.height(this.uiSpinner.height()) }, _keydown: function (e) { var i = this.options, s = t.ui.keyCode; switch (e.keyCode) { case s.UP: return this._repeat(null, 1, e), !0; case s.DOWN: return this._repeat(null, -1, e), !0; case s.PAGE_UP: return this._repeat(null, i.page, e), !0; case s.PAGE_DOWN: return this._repeat(null, -i.page, e), !0 }return !1 }, _start: function (t) { return this.spinning || this._trigger("start", t) !== !1 ? (this.counter || (this.counter = 1), this.spinning = !0, !0) : !1 }, _repeat: function (t, e, i) { t = t || 500, clearTimeout(this.timer), this.timer = this._delay(function () { this._repeat(40, e, i) }, t), this._spin(e * this.options.step, i) }, _spin: function (t, e) { var i = this.value() || 0; this.counter || (this.counter = 1), i = this._adjustValue(i + t * this._increment(this.counter)), this.spinning && this._trigger("spin", e, { value: i }) === !1 || (this._value(i), this.counter++) }, _increment: function (e) { var i = this.options.incremental; return i ? t.isFunction(i) ? i(e) : Math.floor(e * e * e / 5e4 - e * e / 500 + 17 * e / 200 + 1) : 1 }, _precision: function () { var t = this._precisionOf(this.options.step); return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))), t }, _precisionOf: function (t) { var e = "" + t, i = e.indexOf("."); return -1 === i ? 0 : e.length - i - 1 }, _adjustValue: function (t) { var e, i, s = this.options; return e = null !== s.min ? s.min : 0, i = t - e, i = Math.round(i / s.step) * s.step, t = e + i, t = parseFloat(t.toFixed(this._precision())), null !== s.max && t > s.max ? s.max : null !== s.min && s.min > t ? s.min : t }, _stop: function (t) { this.spinning && (clearTimeout(this.timer), clearTimeout(this.mousewheelTimer), this.counter = 0, this.spinning = !1, this._trigger("stop", t)) }, _setOption: function (t, e) { var i, s, n; return "culture" === t || "numberFormat" === t ? (i = this._parse(this.element.val()), this.options[t] = e, this.element.val(this._format(i)), void 0) : (("max" === t || "min" === t || "step" === t) && "string" == typeof e && (e = this._parse(e)), "icons" === t && (s = this.buttons.first().find(".ui-icon"), this._removeClass(s, null, this.options.icons.up), this._addClass(s, null, e.up), n = this.buttons.last().find(".ui-icon"), this._removeClass(n, null, this.options.icons.down), this._addClass(n, null, e.down)), this._super(t, e), void 0) }, _setOptionDisabled: function (t) { this._super(t), this._toggleClass(this.uiSpinner, null, "ui-state-disabled", !!t), this.element.prop("disabled", !!t), this.buttons.button(t ? "disable" : "enable") }, _setOptions: r(function (t) { this._super(t) }), _parse: function (t) { return "string" == typeof t && "" !== t && (t = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(t, 10, this.options.culture) : +t), "" === t || isNaN(t) ? null : t }, _format: function (t) { return "" === t ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(t, this.options.numberFormat, this.options.culture) : t }, _refresh: function () { this.element.attr({ "aria-valuemin": this.options.min, "aria-valuemax": this.options.max, "aria-valuenow": this._parse(this.element.val()) }) }, isValid: function () { var t = this.value(); return null === t ? !1 : t === this._adjustValue(t) }, _value: function (t, e) { var i; "" !== t && (i = this._parse(t), null !== i && (e || (i = this._adjustValue(i)), t = this._format(i))), this.element.val(t), this._refresh() }, _destroy: function () { this.element.prop("disabled", !1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"), this.uiSpinner.replaceWith(this.element) }, stepUp: r(function (t) { this._stepUp(t) }), _stepUp: function (t) { this._start() && (this._spin((t || 1) * this.options.step), this._stop()) }, stepDown: r(function (t) { this._stepDown(t) }), _stepDown: function (t) { this._start() && (this._spin((t || 1) * -this.options.step), this._stop()) }, pageUp: r(function (t) { this._stepUp((t || 1) * this.options.page) }), pageDown: r(function (t) { this._stepDown((t || 1) * this.options.page) }), value: function (t) { return arguments.length ? (r(this._value).call(this, t), void 0) : this._parse(this.element.val()) }, widget: function () { return this.uiSpinner } }), t.uiBackCompat !== !1 && t.widget("ui.spinner", t.ui.spinner, { _enhance: function () { this.uiSpinner = this.element.attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml()) }, _uiSpinnerHtml: function () { return "<span>" }, _buttonHtml: function () { return "<a></a><a></a>" } }), t.ui.spinner, t.widget("ui.tabs", { version: "1.12.1", delay: 300, options: { active: null, classes: { "ui-tabs": "ui-corner-all", "ui-tabs-nav": "ui-corner-all", "ui-tabs-panel": "ui-corner-bottom", "ui-tabs-tab": "ui-corner-top" }, collapsible: !1, event: "click", heightStyle: "content", hide: null, show: null, activate: null, beforeActivate: null, beforeLoad: null, load: null }, _isLocal: function () { var t = /#.*$/; return function (e) { var i, s; i = e.href.replace(t, ""), s = location.href.replace(t, ""); try { i = decodeURIComponent(i) } catch (n) { } try { s = decodeURIComponent(s) } catch (n) { } return e.hash.length > 1 && i === s } }(), _create: function () { var e = this, i = this.options; this.running = !1, this._addClass("ui-tabs", "ui-widget ui-widget-content"), this._toggleClass("ui-tabs-collapsible", null, i.collapsible), this._processTabs(), i.active = this._initialActive(), t.isArray(i.disabled) && (i.disabled = t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"), function (t) { return e.tabs.index(t) }))).sort()), this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(i.active) : t(), this._refresh(), this.active.length && this.load(i.active) }, _initialActive: function () { var e = this.options.active, i = this.options.collapsible, s = location.hash.substring(1); return null === e && (s && this.tabs.each(function (i, n) { return t(n).attr("aria-controls") === s ? (e = i, !1) : void 0 }), null === e && (e = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), (null === e || -1 === e) && (e = this.tabs.length ? 0 : !1)), e !== !1 && (e = this.tabs.index(this.tabs.eq(e)), -1 === e && (e = i ? !1 : 0)), !i && e === !1 && this.anchors.length && (e = 0), e }, _getCreateEventData: function () { return { tab: this.active, panel: this.active.length ? this._getPanelForTab(this.active) : t() } }, _tabKeydown: function (e) { var i = t(t.ui.safeActiveElement(this.document[0])).closest("li"), s = this.tabs.index(i), n = !0; if (!this._handlePageNav(e)) { switch (e.keyCode) { case t.ui.keyCode.RIGHT: case t.ui.keyCode.DOWN: s++; break; case t.ui.keyCode.UP: case t.ui.keyCode.LEFT: n = !1, s--; break; case t.ui.keyCode.END: s = this.anchors.length - 1; break; case t.ui.keyCode.HOME: s = 0; break; case t.ui.keyCode.SPACE: return e.preventDefault(), clearTimeout(this.activating), this._activate(s), void 0; case t.ui.keyCode.ENTER: return e.preventDefault(), clearTimeout(this.activating), this._activate(s === this.options.active ? !1 : s), void 0; default: return }e.preventDefault(), clearTimeout(this.activating), s = this._focusNextTab(s, n), e.ctrlKey || e.metaKey || (i.attr("aria-selected", "false"), this.tabs.eq(s).attr("aria-selected", "true"), this.activating = this._delay(function () { this.option("active", s) }, this.delay)) } }, _panelKeydown: function (e) { this._handlePageNav(e) || e.ctrlKey && e.keyCode === t.ui.keyCode.UP && (e.preventDefault(), this.active.trigger("focus")) }, _handlePageNav: function (e) { return e.altKey && e.keyCode === t.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : e.altKey && e.keyCode === t.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : void 0 }, _findNextTab: function (e, i) { function s() { return e > n && (e = 0), 0 > e && (e = n), e } for (var n = this.tabs.length - 1; -1 !== t.inArray(s(), this.options.disabled);)e = i ? e + 1 : e - 1; return e }, _focusNextTab: function (t, e) { return t = this._findNextTab(t, e), this.tabs.eq(t).trigger("focus"), t }, _setOption: function (t, e) { return "active" === t ? (this._activate(e), void 0) : (this._super(t, e), "collapsible" === t && (this._toggleClass("ui-tabs-collapsible", null, e), e || this.options.active !== !1 || this._activate(0)), "event" === t && this._setupEvents(e), "heightStyle" === t && this._setupHeightStyle(e), void 0) }, _sanitizeSelector: function (t) { return t ? t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : "" }, refresh: function () { var e = this.options, i = this.tablist.children(":has(a[href])"); e.disabled = t.map(i.filter(".ui-state-disabled"), function (t) { return i.index(t) }), this._processTabs(), e.active !== !1 && this.anchors.length ? this.active.length && !t.contains(this.tablist[0], this.active[0]) ? this.tabs.length === e.disabled.length ? (e.active = !1, this.active = t()) : this._activate(this._findNextTab(Math.max(0, e.active - 1), !1)) : e.active = this.tabs.index(this.active) : (e.active = !1, this.active = t()), this._refresh() }, _refresh: function () { this._setOptionDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({ "aria-selected": "false", "aria-expanded": "false", tabIndex: -1 }), this.panels.not(this._getPanelForTab(this.active)).hide().attr({ "aria-hidden": "true" }), this.active.length ? (this.active.attr({ "aria-selected": "true", "aria-expanded": "true", tabIndex: 0 }), this._addClass(this.active, "ui-tabs-active", "ui-state-active"), this._getPanelForTab(this.active).show().attr({ "aria-hidden": "false" })) : this.tabs.eq(0).attr("tabIndex", 0) }, _processTabs: function () { var e = this, i = this.tabs, s = this.anchors, n = this.panels; this.tablist = this._getList().attr("role", "tablist"), this._addClass(this.tablist, "ui-tabs-nav", "ui-helper-reset ui-helper-clearfix ui-widget-header"), this.tablist.on("mousedown" + this.eventNamespace, "> li", function (e) { t(this).is(".ui-state-disabled") && e.preventDefault() }).on("focus" + this.eventNamespace, ".ui-tabs-anchor", function () { t(this).closest("li").is(".ui-state-disabled") && this.blur() }), this.tabs = this.tablist.find("> li:has(a[href])").attr({ role: "tab", tabIndex: -1 }), this._addClass(this.tabs, "ui-tabs-tab", "ui-state-default"), this.anchors = this.tabs.map(function () { return t("a", this)[0] }).attr({ role: "presentation", tabIndex: -1 }), this._addClass(this.anchors, "ui-tabs-anchor"), this.panels = t(), this.anchors.each(function (i, s) { var n, o, a, r = t(s).uniqueId().attr("id"), h = t(s).closest("li"), l = h.attr("aria-controls"); e._isLocal(s) ? (n = s.hash, a = n.substring(1), o = e.element.find(e._sanitizeSelector(n))) : (a = h.attr("aria-controls") || t({}).uniqueId()[0].id, n = "#" + a, o = e.element.find(n), o.length || (o = e._createPanel(a), o.insertAfter(e.panels[i - 1] || e.tablist)), o.attr("aria-live", "polite")), o.length && (e.panels = e.panels.add(o)), l && h.data("ui-tabs-aria-controls", l), h.attr({ "aria-controls": a, "aria-labelledby": r }), o.attr("aria-labelledby", r) }), this.panels.attr("role", "tabpanel"), this._addClass(this.panels, "ui-tabs-panel", "ui-widget-content"), i && (this._off(i.not(this.tabs)), this._off(s.not(this.anchors)), this._off(n.not(this.panels))) }, _getList: function () { return this.tablist || this.element.find("ol, ul").eq(0) }, _createPanel: function (e) { return t("<div>").attr("id", e).data("ui-tabs-destroy", !0) }, _setOptionDisabled: function (e) { var i, s, n; for (t.isArray(e) && (e.length ? e.length === this.anchors.length && (e = !0) : e = !1), n = 0; s = this.tabs[n]; n++)i = t(s), e === !0 || -1 !== t.inArray(n, e) ? (i.attr("aria-disabled", "true"), this._addClass(i, null, "ui-state-disabled")) : (i.removeAttr("aria-disabled"), this._removeClass(i, null, "ui-state-disabled")); this.options.disabled = e, this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, e === !0) }, _setupEvents: function (e) { var i = {}; e && t.each(e.split(" "), function (t, e) { i[e] = "_eventHandler" }), this._off(this.anchors.add(this.tabs).add(this.panels)), this._on(!0, this.anchors, { click: function (t) { t.preventDefault() } }), this._on(this.anchors, i), this._on(this.tabs, { keydown: "_tabKeydown" }), this._on(this.panels, { keydown: "_panelKeydown" }), this._focusable(this.tabs), this._hoverable(this.tabs) }, _setupHeightStyle: function (e) { var i, s = this.element.parent(); "fill" === e ? (i = s.height(), i -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function () { var e = t(this), s = e.css("position"); "absolute" !== s && "fixed" !== s && (i -= e.outerHeight(!0)) }), this.element.children().not(this.panels).each(function () { i -= t(this).outerHeight(!0) }), this.panels.each(function () { t(this).height(Math.max(0, i - t(this).innerHeight() + t(this).height())) }).css("overflow", "auto")) : "auto" === e && (i = 0, this.panels.each(function () { i = Math.max(i, t(this).height("").height()) }).height(i)) }, _eventHandler: function (e) { var i = this.options, s = this.active, n = t(e.currentTarget), o = n.closest("li"), a = o[0] === s[0], r = a && i.collapsible, h = r ? t() : this._getPanelForTab(o), l = s.length ? this._getPanelForTab(s) : t(), c = { oldTab: s, oldPanel: l, newTab: r ? t() : o, newPanel: h }; e.preventDefault(), o.hasClass("ui-state-disabled") || o.hasClass("ui-tabs-loading") || this.running || a && !i.collapsible || this._trigger("beforeActivate", e, c) === !1 || (i.active = r ? !1 : this.tabs.index(o), this.active = a ? t() : o, this.xhr && this.xhr.abort(), l.length || h.length || t.error("jQuery UI Tabs: Mismatching fragment identifier."), h.length && this.load(this.tabs.index(o), e), this._toggle(e, c)) }, _toggle: function (e, i) { function s() { o.running = !1, o._trigger("activate", e, i) } function n() { o._addClass(i.newTab.closest("li"), "ui-tabs-active", "ui-state-active"), a.length && o.options.show ? o._show(a, o.options.show, s) : (a.show(), s()) } var o = this, a = i.newPanel, r = i.oldPanel; this.running = !0, r.length && this.options.hide ? this._hide(r, this.options.hide, function () { o._removeClass(i.oldTab.closest("li"), "ui-tabs-active", "ui-state-active"), n() }) : (this._removeClass(i.oldTab.closest("li"), "ui-tabs-active", "ui-state-active"), r.hide(), n()), r.attr("aria-hidden", "true"), i.oldTab.attr({ "aria-selected": "false", "aria-expanded": "false" }), a.length && r.length ? i.oldTab.attr("tabIndex", -1) : a.length && this.tabs.filter(function () { return 0 === t(this).attr("tabIndex") }).attr("tabIndex", -1), a.attr("aria-hidden", "false"), i.newTab.attr({ "aria-selected": "true", "aria-expanded": "true", tabIndex: 0 }) }, _activate: function (e) { var i, s = this._findActive(e); s[0] !== this.active[0] && (s.length || (s = this.active), i = s.find(".ui-tabs-anchor")[0], this._eventHandler({ target: i, currentTarget: i, preventDefault: t.noop })) }, _findActive: function (e) { return e === !1 ? t() : this.tabs.eq(e) }, _getIndex: function (e) { return "string" == typeof e && (e = this.anchors.index(this.anchors.filter("[href$='" + t.ui.escapeSelector(e) + "']"))), e }, _destroy: function () { this.xhr && this.xhr.abort(), this.tablist.removeAttr("role").off(this.eventNamespace), this.anchors.removeAttr("role tabIndex").removeUniqueId(), this.tabs.add(this.panels).each(function () { t.data(this, "ui-tabs-destroy") ? t(this).remove() : t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded") }), this.tabs.each(function () { var e = t(this), i = e.data("ui-tabs-aria-controls"); i ? e.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : e.removeAttr("aria-controls") }), this.panels.show(), "content" !== this.options.heightStyle && this.panels.css("height", "") }, enable: function (e) { var i = this.options.disabled; i !== !1 && (void 0 === e ? i = !1 : (e = this._getIndex(e), i = t.isArray(i) ? t.map(i, function (t) { return t !== e ? t : null }) : t.map(this.tabs, function (t, i) { return i !== e ? i : null })), this._setOptionDisabled(i)) }, disable: function (e) { var i = this.options.disabled; if (i !== !0) { if (void 0 === e) i = !0; else { if (e = this._getIndex(e), -1 !== t.inArray(e, i)) return; i = t.isArray(i) ? t.merge([e], i).sort() : [e] } this._setOptionDisabled(i) } }, load: function (e, i) { e = this._getIndex(e); var s = this, n = this.tabs.eq(e), o = n.find(".ui-tabs-anchor"), a = this._getPanelForTab(n), r = { tab: n, panel: a }, h = function (t, e) { "abort" === e && s.panels.stop(!1, !0), s._removeClass(n, "ui-tabs-loading"), a.removeAttr("aria-busy"), t === s.xhr && delete s.xhr }; this._isLocal(o[0]) || (this.xhr = t.ajax(this._ajaxSettings(o, i, r)), this.xhr && "canceled" !== this.xhr.statusText && (this._addClass(n, "ui-tabs-loading"), a.attr("aria-busy", "true"), this.xhr.done(function (t, e, n) { setTimeout(function () { a.html(t), s._trigger("load", i, r), h(n, e) }, 1) }).fail(function (t, e) { setTimeout(function () { h(t, e) }, 1) }))) }, _ajaxSettings: function (e, i, s) { var n = this; return { url: e.attr("href").replace(/#.*$/, ""), beforeSend: function (e, o) { return n._trigger("beforeLoad", i, t.extend({ jqXHR: e, ajaxSettings: o }, s)) } } }, _getPanelForTab: function (e) { var i = t(e).attr("aria-controls"); return this.element.find(this._sanitizeSelector("#" + i)) } }), t.uiBackCompat !== !1 && t.widget("ui.tabs", t.ui.tabs, { _processTabs: function () { this._superApply(arguments), this._addClass(this.tabs, "ui-tab") } }), t.ui.tabs, t.widget("ui.tooltip", {
                version: "1.12.1", options: { classes: { "ui-tooltip": "ui-corner-all ui-widget-shadow" }, content: function () { var e = t(this).attr("title") || ""; return t("<a>").text(e).html() }, hide: !0, items: "[title]:not([disabled])", position: { my: "left top+15", at: "left bottom", collision: "flipfit flip" }, show: !0, track: !1, close: null, open: null }, _addDescribedBy: function (e, i) { var s = (e.attr("aria-describedby") || "").split(/\s+/); s.push(i), e.data("ui-tooltip-id", i).attr("aria-describedby", t.trim(s.join(" "))) }, _removeDescribedBy: function (e) { var i = e.data("ui-tooltip-id"), s = (e.attr("aria-describedby") || "").split(/\s+/), n = t.inArray(i, s); -1 !== n && s.splice(n, 1), e.removeData("ui-tooltip-id"), s = t.trim(s.join(" ")), s ? e.attr("aria-describedby", s) : e.removeAttr("aria-describedby") }, _create: function () { this._on({ mouseover: "open", focusin: "open" }), this.tooltips = {}, this.parents = {}, this.liveRegion = t("<div>").attr({ role: "log", "aria-live": "assertive", "aria-relevant": "additions" }).appendTo(this.document[0].body), this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible"), this.disabledTitles = t([]) }, _setOption: function (e, i) { var s = this; this._super(e, i), "content" === e && t.each(this.tooltips, function (t, e) { s._updateContent(e.element) }) }, _setOptionDisabled: function (t) { this[t ? "_disable" : "_enable"]() }, _disable: function () { var e = this; t.each(this.tooltips, function (i, s) { var n = t.Event("blur"); n.target = n.currentTarget = s.element[0], e.close(n, !0) }), this.disabledTitles = this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function () { var e = t(this); return e.is("[title]") ? e.data("ui-tooltip-title", e.attr("title")).removeAttr("title") : void 0 })) }, _enable: function () { this.disabledTitles.each(function () { var e = t(this); e.data("ui-tooltip-title") && e.attr("title", e.data("ui-tooltip-title")) }), this.disabledTitles = t([]) }, open: function (e) { var i = this, s = t(e ? e.target : this.element).closest(this.options.items); s.length && !s.data("ui-tooltip-id") && (s.attr("title") && s.data("ui-tooltip-title", s.attr("title")), s.data("ui-tooltip-open", !0), e && "mouseover" === e.type && s.parents().each(function () { var e, s = t(this); s.data("ui-tooltip-open") && (e = t.Event("blur"), e.target = e.currentTarget = this, i.close(e, !0)), s.attr("title") && (s.uniqueId(), i.parents[this.id] = { element: this, title: s.attr("title") }, s.attr("title", "")) }), this._registerCloseHandlers(e, s), this._updateContent(s, e)) }, _updateContent: function (t, e) { var i, s = this.options.content, n = this, o = e ? e.type : null; return "string" == typeof s || s.nodeType || s.jquery ? this._open(e, t, s) : (i = s.call(t[0], function (i) { n._delay(function () { t.data("ui-tooltip-open") && (e && (e.type = o), this._open(e, t, i)) }) }), i && this._open(e, t, i), void 0) }, _open: function (e, i, s) { function n(t) { l.of = t, a.is(":hidden") || a.position(l) } var o, a, r, h, l = t.extend({}, this.options.position); if (s) { if (o = this._find(i)) return o.tooltip.find(".ui-tooltip-content").html(s), void 0; i.is("[title]") && (e && "mouseover" === e.type ? i.attr("title", "") : i.removeAttr("title")), o = this._tooltip(i), a = o.tooltip, this._addDescribedBy(i, a.attr("id")), a.find(".ui-tooltip-content").html(s), this.liveRegion.children().hide(), h = t("<div>").html(a.find(".ui-tooltip-content").html()), h.removeAttr("name").find("[name]").removeAttr("name"), h.removeAttr("id").find("[id]").removeAttr("id"), h.appendTo(this.liveRegion), this.options.track && e && /^mouse/.test(e.type) ? (this._on(this.document, { mousemove: n }), n(e)) : a.position(t.extend({ of: i }, this.options.position)), a.hide(), this._show(a, this.options.show), this.options.track && this.options.show && this.options.show.delay && (r = this.delayedShow = setInterval(function () { a.is(":visible") && (n(l.of), clearInterval(r)) }, t.fx.interval)), this._trigger("open", e, { tooltip: a }) } }, _registerCloseHandlers: function (e, i) { var s = { keyup: function (e) { if (e.keyCode === t.ui.keyCode.ESCAPE) { var s = t.Event(e); s.currentTarget = i[0], this.close(s, !0) } } }; i[0] !== this.element[0] && (s.remove = function () { this._removeTooltip(this._find(i).tooltip) }), e && "mouseover" !== e.type || (s.mouseleave = "close"), e && "focusin" !== e.type || (s.focusout = "close"), this._on(!0, i, s) }, close: function (e) {
                    var i, s = this, n = t(e ? e.currentTarget : this.element), o = this._find(n); return o ? (i = o.tooltip, o.closing || (clearInterval(this.delayedShow), n.data("ui-tooltip-title") && !n.attr("title") && n.attr("title", n.data("ui-tooltip-title")), this._removeDescribedBy(n), o.hiding = !0, i.stop(!0), this._hide(i, this.options.hide, function () { s._removeTooltip(t(this)) }), n.removeData("ui-tooltip-open"), this._off(n, "mouseleave focusout keyup"), n[0] !== this.element[0] && this._off(n, "remove"), this._off(this.document, "mousemove"), e && "mouseleave" === e.type && t.each(this.parents, function (e, i) {
                        t(i.element).attr("title", i.title), delete s.parents[e]
                    }), o.closing = !0, this._trigger("close", e, { tooltip: i }), o.hiding || (o.closing = !1)), void 0) : (n.removeData("ui-tooltip-open"), void 0)
                }, _tooltip: function (e) { var i = t("<div>").attr("role", "tooltip"), s = t("<div>").appendTo(i), n = i.uniqueId().attr("id"); return this._addClass(s, "ui-tooltip-content"), this._addClass(i, "ui-tooltip", "ui-widget ui-widget-content"), i.appendTo(this._appendTo(e)), this.tooltips[n] = { element: e, tooltip: i } }, _find: function (t) { var e = t.data("ui-tooltip-id"); return e ? this.tooltips[e] : null }, _removeTooltip: function (t) { t.remove(), delete this.tooltips[t.attr("id")] }, _appendTo: function (t) { var e = t.closest(".ui-front, dialog"); return e.length || (e = this.document[0].body), e }, _destroy: function () { var e = this; t.each(this.tooltips, function (i, s) { var n = t.Event("blur"), o = s.element; n.target = n.currentTarget = o[0], e.close(n, !0), t("#" + i).remove(), o.data("ui-tooltip-title") && (o.attr("title") || o.attr("title", o.data("ui-tooltip-title")), o.removeData("ui-tooltip-title")) }), this.liveRegion.remove() }
            }), t.uiBackCompat !== !1 && t.widget("ui.tooltip", t.ui.tooltip, { options: { tooltipClass: null }, _tooltip: function () { var t = this._superApply(arguments); return this.options.tooltipClass && t.tooltip.addClass(this.options.tooltipClass), t } }), t.ui.tooltip; var f = "ui-effects-", g = "ui-effects-style", m = "ui-effects-animated", _ = t; t.effects = { effect: {} }, function (t, e) { function i(t, e, i) { var s = u[e.type] || {}; return null == t ? i || !e.def ? null : e.def : (t = s.floor ? ~~t : parseFloat(t), isNaN(t) ? e.def : s.mod ? (t + s.mod) % s.mod : 0 > t ? 0 : t > s.max ? s.max : t) } function s(i) { var s = l(), n = s._rgba = []; return i = i.toLowerCase(), f(h, function (t, o) { var a, r = o.re.exec(i), h = r && o.parse(r), l = o.space || "rgba"; return h ? (a = s[l](h), s[c[l].cache] = a[c[l].cache], n = s._rgba = a._rgba, !1) : e }), n.length ? ("0,0,0,0" === n.join() && t.extend(n, o.transparent), s) : o[i] } function n(t, e, i) { return i = (i + 1) % 1, 1 > 6 * i ? t + 6 * (e - t) * i : 1 > 2 * i ? e : 2 > 3 * i ? t + 6 * (e - t) * (2 / 3 - i) : t } var o, a = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor", r = /^([\-+])=\s*(\d+\.?\d*)/, h = [{ re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/, parse: function (t) { return [t[1], t[2], t[3], t[4]] } }, { re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/, parse: function (t) { return [2.55 * t[1], 2.55 * t[2], 2.55 * t[3], t[4]] } }, { re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/, parse: function (t) { return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)] } }, { re: /#([a-f0-9])([a-f0-9])([a-f0-9])/, parse: function (t) { return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)] } }, { re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/, space: "hsla", parse: function (t) { return [t[1], t[2] / 100, t[3] / 100, t[4]] } }], l = t.Color = function (e, i, s, n) { return new t.Color.fn.parse(e, i, s, n) }, c = { rgba: { props: { red: { idx: 0, type: "byte" }, green: { idx: 1, type: "byte" }, blue: { idx: 2, type: "byte" } } }, hsla: { props: { hue: { idx: 0, type: "degrees" }, saturation: { idx: 1, type: "percent" }, lightness: { idx: 2, type: "percent" } } } }, u = { "byte": { floor: !0, max: 255 }, percent: { max: 1 }, degrees: { mod: 360, floor: !0 } }, d = l.support = {}, p = t("<p>")[0], f = t.each; p.style.cssText = "background-color:rgba(1,1,1,.5)", d.rgba = p.style.backgroundColor.indexOf("rgba") > -1, f(c, function (t, e) { e.cache = "_" + t, e.props.alpha = { idx: 3, type: "percent", def: 1 } }), l.fn = t.extend(l.prototype, { parse: function (n, a, r, h) { if (n === e) return this._rgba = [null, null, null, null], this; (n.jquery || n.nodeType) && (n = t(n).css(a), a = e); var u = this, d = t.type(n), p = this._rgba = []; return a !== e && (n = [n, a, r, h], d = "array"), "string" === d ? this.parse(s(n) || o._default) : "array" === d ? (f(c.rgba.props, function (t, e) { p[e.idx] = i(n[e.idx], e) }), this) : "object" === d ? (n instanceof l ? f(c, function (t, e) { n[e.cache] && (u[e.cache] = n[e.cache].slice()) }) : f(c, function (e, s) { var o = s.cache; f(s.props, function (t, e) { if (!u[o] && s.to) { if ("alpha" === t || null == n[t]) return; u[o] = s.to(u._rgba) } u[o][e.idx] = i(n[t], e, !0) }), u[o] && 0 > t.inArray(null, u[o].slice(0, 3)) && (u[o][3] = 1, s.from && (u._rgba = s.from(u[o]))) }), this) : e }, is: function (t) { var i = l(t), s = !0, n = this; return f(c, function (t, o) { var a, r = i[o.cache]; return r && (a = n[o.cache] || o.to && o.to(n._rgba) || [], f(o.props, function (t, i) { return null != r[i.idx] ? s = r[i.idx] === a[i.idx] : e })), s }), s }, _space: function () { var t = [], e = this; return f(c, function (i, s) { e[s.cache] && t.push(i) }), t.pop() }, transition: function (t, e) { var s = l(t), n = s._space(), o = c[n], a = 0 === this.alpha() ? l("transparent") : this, r = a[o.cache] || o.to(a._rgba), h = r.slice(); return s = s[o.cache], f(o.props, function (t, n) { var o = n.idx, a = r[o], l = s[o], c = u[n.type] || {}; null !== l && (null === a ? h[o] = l : (c.mod && (l - a > c.mod / 2 ? a += c.mod : a - l > c.mod / 2 && (a -= c.mod)), h[o] = i((l - a) * e + a, n))) }), this[n](h) }, blend: function (e) { if (1 === this._rgba[3]) return this; var i = this._rgba.slice(), s = i.pop(), n = l(e)._rgba; return l(t.map(i, function (t, e) { return (1 - s) * n[e] + s * t })) }, toRgbaString: function () { var e = "rgba(", i = t.map(this._rgba, function (t, e) { return null == t ? e > 2 ? 1 : 0 : t }); return 1 === i[3] && (i.pop(), e = "rgb("), e + i.join() + ")" }, toHslaString: function () { var e = "hsla(", i = t.map(this.hsla(), function (t, e) { return null == t && (t = e > 2 ? 1 : 0), e && 3 > e && (t = Math.round(100 * t) + "%"), t }); return 1 === i[3] && (i.pop(), e = "hsl("), e + i.join() + ")" }, toHexString: function (e) { var i = this._rgba.slice(), s = i.pop(); return e && i.push(~~(255 * s)), "#" + t.map(i, function (t) { return t = (t || 0).toString(16), 1 === t.length ? "0" + t : t }).join("") }, toString: function () { return 0 === this._rgba[3] ? "transparent" : this.toRgbaString() } }), l.fn.parse.prototype = l.fn, c.hsla.to = function (t) { if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]]; var e, i, s = t[0] / 255, n = t[1] / 255, o = t[2] / 255, a = t[3], r = Math.max(s, n, o), h = Math.min(s, n, o), l = r - h, c = r + h, u = .5 * c; return e = h === r ? 0 : s === r ? 60 * (n - o) / l + 360 : n === r ? 60 * (o - s) / l + 120 : 60 * (s - n) / l + 240, i = 0 === l ? 0 : .5 >= u ? l / c : l / (2 - c), [Math.round(e) % 360, i, u, null == a ? 1 : a] }, c.hsla.from = function (t) { if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]]; var e = t[0] / 360, i = t[1], s = t[2], o = t[3], a = .5 >= s ? s * (1 + i) : s + i - s * i, r = 2 * s - a; return [Math.round(255 * n(r, a, e + 1 / 3)), Math.round(255 * n(r, a, e)), Math.round(255 * n(r, a, e - 1 / 3)), o] }, f(c, function (s, n) { var o = n.props, a = n.cache, h = n.to, c = n.from; l.fn[s] = function (s) { if (h && !this[a] && (this[a] = h(this._rgba)), s === e) return this[a].slice(); var n, r = t.type(s), u = "array" === r || "object" === r ? s : arguments, d = this[a].slice(); return f(o, function (t, e) { var s = u["object" === r ? t : e.idx]; null == s && (s = d[e.idx]), d[e.idx] = i(s, e) }), c ? (n = l(c(d)), n[a] = d, n) : l(d) }, f(o, function (e, i) { l.fn[e] || (l.fn[e] = function (n) { var o, a = t.type(n), h = "alpha" === e ? this._hsla ? "hsla" : "rgba" : s, l = this[h](), c = l[i.idx]; return "undefined" === a ? c : ("function" === a && (n = n.call(this, c), a = t.type(n)), null == n && i.empty ? this : ("string" === a && (o = r.exec(n), o && (n = c + parseFloat(o[2]) * ("+" === o[1] ? 1 : -1))), l[i.idx] = n, this[h](l))) }) }) }), l.hook = function (e) { var i = e.split(" "); f(i, function (e, i) { t.cssHooks[i] = { set: function (e, n) { var o, a, r = ""; if ("transparent" !== n && ("string" !== t.type(n) || (o = s(n)))) { if (n = l(o || n), !d.rgba && 1 !== n._rgba[3]) { for (a = "backgroundColor" === i ? e.parentNode : e; ("" === r || "transparent" === r) && a && a.style;)try { r = t.css(a, "backgroundColor"), a = a.parentNode } catch (h) { } n = n.blend(r && "transparent" !== r ? r : "_default") } n = n.toRgbaString() } try { e.style[i] = n } catch (h) { } } }, t.fx.step[i] = function (e) { e.colorInit || (e.start = l(e.elem, i), e.end = l(e.end), e.colorInit = !0), t.cssHooks[i].set(e.elem, e.start.transition(e.end, e.pos)) } }) }, l.hook(a), t.cssHooks.borderColor = { expand: function (t) { var e = {}; return f(["Top", "Right", "Bottom", "Left"], function (i, s) { e["border" + s + "Color"] = t }), e } }, o = t.Color.names = { aqua: "#00ffff", black: "#000000", blue: "#0000ff", fuchsia: "#ff00ff", gray: "#808080", green: "#008000", lime: "#00ff00", maroon: "#800000", navy: "#000080", olive: "#808000", purple: "#800080", red: "#ff0000", silver: "#c0c0c0", teal: "#008080", white: "#ffffff", yellow: "#ffff00", transparent: [null, null, null, 0], _default: "#ffffff" } }(_), function () { function e(e) { var i, s, n = e.ownerDocument.defaultView ? e.ownerDocument.defaultView.getComputedStyle(e, null) : e.currentStyle, o = {}; if (n && n.length && n[0] && n[n[0]]) for (s = n.length; s--;)i = n[s], "string" == typeof n[i] && (o[t.camelCase(i)] = n[i]); else for (i in n) "string" == typeof n[i] && (o[i] = n[i]); return o } function i(e, i) { var s, o, a = {}; for (s in i) o = i[s], e[s] !== o && (n[s] || (t.fx.step[s] || !isNaN(parseFloat(o))) && (a[s] = o)); return a } var s = ["add", "remove", "toggle"], n = { border: 1, borderBottom: 1, borderColor: 1, borderLeft: 1, borderRight: 1, borderTop: 1, borderWidth: 1, margin: 1, padding: 1 }; t.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function (e, i) { t.fx.step[i] = function (t) { ("none" !== t.end && !t.setAttr || 1 === t.pos && !t.setAttr) && (_.style(t.elem, i, t.end), t.setAttr = !0) } }), t.fn.addBack || (t.fn.addBack = function (t) { return this.add(null == t ? this.prevObject : this.prevObject.filter(t)) }), t.effects.animateClass = function (n, o, a, r) { var h = t.speed(o, a, r); return this.queue(function () { var o, a = t(this), r = a.attr("class") || "", l = h.children ? a.find("*").addBack() : a; l = l.map(function () { var i = t(this); return { el: i, start: e(this) } }), o = function () { t.each(s, function (t, e) { n[e] && a[e + "Class"](n[e]) }) }, o(), l = l.map(function () { return this.end = e(this.el[0]), this.diff = i(this.start, this.end), this }), a.attr("class", r), l = l.map(function () { var e = this, i = t.Deferred(), s = t.extend({}, h, { queue: !1, complete: function () { i.resolve(e) } }); return this.el.animate(this.diff, s), i.promise() }), t.when.apply(t, l.get()).done(function () { o(), t.each(arguments, function () { var e = this.el; t.each(this.diff, function (t) { e.css(t, "") }) }), h.complete.call(a[0]) }) }) }, t.fn.extend({ addClass: function (e) { return function (i, s, n, o) { return s ? t.effects.animateClass.call(this, { add: i }, s, n, o) : e.apply(this, arguments) } }(t.fn.addClass), removeClass: function (e) { return function (i, s, n, o) { return arguments.length > 1 ? t.effects.animateClass.call(this, { remove: i }, s, n, o) : e.apply(this, arguments) } }(t.fn.removeClass), toggleClass: function (e) { return function (i, s, n, o, a) { return "boolean" == typeof s || void 0 === s ? n ? t.effects.animateClass.call(this, s ? { add: i } : { remove: i }, n, o, a) : e.apply(this, arguments) : t.effects.animateClass.call(this, { toggle: i }, s, n, o) } }(t.fn.toggleClass), switchClass: function (e, i, s, n, o) { return t.effects.animateClass.call(this, { add: i, remove: e }, s, n, o) } }) }(), function () { function e(e, i, s, n) { return t.isPlainObject(e) && (i = e, e = e.effect), e = { effect: e }, null == i && (i = {}), t.isFunction(i) && (n = i, s = null, i = {}), ("number" == typeof i || t.fx.speeds[i]) && (n = s, s = i, i = {}), t.isFunction(s) && (n = s, s = null), i && t.extend(e, i), s = s || i.duration, e.duration = t.fx.off ? 0 : "number" == typeof s ? s : s in t.fx.speeds ? t.fx.speeds[s] : t.fx.speeds._default, e.complete = n || i.complete, e } function i(e) { return !e || "number" == typeof e || t.fx.speeds[e] ? !0 : "string" != typeof e || t.effects.effect[e] ? t.isFunction(e) ? !0 : "object" != typeof e || e.effect ? !1 : !0 : !0 } function s(t, e) { var i = e.outerWidth(), s = e.outerHeight(), n = /^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/, o = n.exec(t) || ["", 0, i, s, 0]; return { top: parseFloat(o[1]) || 0, right: "auto" === o[2] ? i : parseFloat(o[2]), bottom: "auto" === o[3] ? s : parseFloat(o[3]), left: parseFloat(o[4]) || 0 } } t.expr && t.expr.filters && t.expr.filters.animated && (t.expr.filters.animated = function (e) { return function (i) { return !!t(i).data(m) || e(i) } }(t.expr.filters.animated)), t.uiBackCompat !== !1 && t.extend(t.effects, { save: function (t, e) { for (var i = 0, s = e.length; s > i; i++)null !== e[i] && t.data(f + e[i], t[0].style[e[i]]) }, restore: function (t, e) { for (var i, s = 0, n = e.length; n > s; s++)null !== e[s] && (i = t.data(f + e[s]), t.css(e[s], i)) }, setMode: function (t, e) { return "toggle" === e && (e = t.is(":hidden") ? "show" : "hide"), e }, createWrapper: function (e) { if (e.parent().is(".ui-effects-wrapper")) return e.parent(); var i = { width: e.outerWidth(!0), height: e.outerHeight(!0), "float": e.css("float") }, s = t("<div></div>").addClass("ui-effects-wrapper").css({ fontSize: "100%", background: "transparent", border: "none", margin: 0, padding: 0 }), n = { width: e.width(), height: e.height() }, o = document.activeElement; try { o.id } catch (a) { o = document.body } return e.wrap(s), (e[0] === o || t.contains(e[0], o)) && t(o).trigger("focus"), s = e.parent(), "static" === e.css("position") ? (s.css({ position: "relative" }), e.css({ position: "relative" })) : (t.extend(i, { position: e.css("position"), zIndex: e.css("z-index") }), t.each(["top", "left", "bottom", "right"], function (t, s) { i[s] = e.css(s), isNaN(parseInt(i[s], 10)) && (i[s] = "auto") }), e.css({ position: "relative", top: 0, left: 0, right: "auto", bottom: "auto" })), e.css(n), s.css(i).show() }, removeWrapper: function (e) { var i = document.activeElement; return e.parent().is(".ui-effects-wrapper") && (e.parent().replaceWith(e), (e[0] === i || t.contains(e[0], i)) && t(i).trigger("focus")), e } }), t.extend(t.effects, { version: "1.12.1", define: function (e, i, s) { return s || (s = i, i = "effect"), t.effects.effect[e] = s, t.effects.effect[e].mode = i, s }, scaledDimensions: function (t, e, i) { if (0 === e) return { height: 0, width: 0, outerHeight: 0, outerWidth: 0 }; var s = "horizontal" !== i ? (e || 100) / 100 : 1, n = "vertical" !== i ? (e || 100) / 100 : 1; return { height: t.height() * n, width: t.width() * s, outerHeight: t.outerHeight() * n, outerWidth: t.outerWidth() * s } }, clipToBox: function (t) { return { width: t.clip.right - t.clip.left, height: t.clip.bottom - t.clip.top, left: t.clip.left, top: t.clip.top } }, unshift: function (t, e, i) { var s = t.queue(); e > 1 && s.splice.apply(s, [1, 0].concat(s.splice(e, i))), t.dequeue() }, saveStyle: function (t) { t.data(g, t[0].style.cssText) }, restoreStyle: function (t) { t[0].style.cssText = t.data(g) || "", t.removeData(g) }, mode: function (t, e) { var i = t.is(":hidden"); return "toggle" === e && (e = i ? "show" : "hide"), (i ? "hide" === e : "show" === e) && (e = "none"), e }, getBaseline: function (t, e) { var i, s; switch (t[0]) { case "top": i = 0; break; case "middle": i = .5; break; case "bottom": i = 1; break; default: i = t[0] / e.height }switch (t[1]) { case "left": s = 0; break; case "center": s = .5; break; case "right": s = 1; break; default: s = t[1] / e.width }return { x: s, y: i } }, createPlaceholder: function (e) { var i, s = e.css("position"), n = e.position(); return e.css({ marginTop: e.css("marginTop"), marginBottom: e.css("marginBottom"), marginLeft: e.css("marginLeft"), marginRight: e.css("marginRight") }).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()), /^(static|relative)/.test(s) && (s = "absolute", i = t("<" + e[0].nodeName + ">").insertAfter(e).css({ display: /^(inline|ruby)/.test(e.css("display")) ? "inline-block" : "block", visibility: "hidden", marginTop: e.css("marginTop"), marginBottom: e.css("marginBottom"), marginLeft: e.css("marginLeft"), marginRight: e.css("marginRight"), "float": e.css("float") }).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"), e.data(f + "placeholder", i)), e.css({ position: s, left: n.left, top: n.top }), i }, removePlaceholder: function (t) { var e = f + "placeholder", i = t.data(e); i && (i.remove(), t.removeData(e)) }, cleanUp: function (e) { t.effects.restoreStyle(e), t.effects.removePlaceholder(e) }, setTransition: function (e, i, s, n) { return n = n || {}, t.each(i, function (t, i) { var o = e.cssUnit(i); o[0] > 0 && (n[i] = o[0] * s + o[1]) }), n } }), t.fn.extend({ effect: function () { function i(e) { function i() { r.removeData(m), t.effects.cleanUp(r), "hide" === s.mode && r.hide(), a() } function a() { t.isFunction(h) && h.call(r[0]), t.isFunction(e) && e() } var r = t(this); s.mode = c.shift(), t.uiBackCompat === !1 || o ? "none" === s.mode ? (r[l](), a()) : n.call(r[0], s, i) : (r.is(":hidden") ? "hide" === l : "show" === l) ? (r[l](), a()) : n.call(r[0], s, a) } var s = e.apply(this, arguments), n = t.effects.effect[s.effect], o = n.mode, a = s.queue, r = a || "fx", h = s.complete, l = s.mode, c = [], u = function (e) { var i = t(this), s = t.effects.mode(i, l) || o; i.data(m, !0), c.push(s), o && ("show" === s || s === o && "hide" === s) && i.show(), o && "none" === s || t.effects.saveStyle(i), t.isFunction(e) && e() }; return t.fx.off || !n ? l ? this[l](s.duration, h) : this.each(function () { h && h.call(this) }) : a === !1 ? this.each(u).each(i) : this.queue(r, u).queue(r, i) }, show: function (t) { return function (s) { if (i(s)) return t.apply(this, arguments); var n = e.apply(this, arguments); return n.mode = "show", this.effect.call(this, n) } }(t.fn.show), hide: function (t) { return function (s) { if (i(s)) return t.apply(this, arguments); var n = e.apply(this, arguments); return n.mode = "hide", this.effect.call(this, n) } }(t.fn.hide), toggle: function (t) { return function (s) { if (i(s) || "boolean" == typeof s) return t.apply(this, arguments); var n = e.apply(this, arguments); return n.mode = "toggle", this.effect.call(this, n) } }(t.fn.toggle), cssUnit: function (e) { var i = this.css(e), s = []; return t.each(["em", "px", "%", "pt"], function (t, e) { i.indexOf(e) > 0 && (s = [parseFloat(i), e]) }), s }, cssClip: function (t) { return t ? this.css("clip", "rect(" + t.top + "px " + t.right + "px " + t.bottom + "px " + t.left + "px)") : s(this.css("clip"), this) }, transfer: function (e, i) { var s = t(this), n = t(e.to), o = "fixed" === n.css("position"), a = t("body"), r = o ? a.scrollTop() : 0, h = o ? a.scrollLeft() : 0, l = n.offset(), c = { top: l.top - r, left: l.left - h, height: n.innerHeight(), width: n.innerWidth() }, u = s.offset(), d = t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({ top: u.top - r, left: u.left - h, height: s.innerHeight(), width: s.innerWidth(), position: o ? "fixed" : "absolute" }).animate(c, e.duration, e.easing, function () { d.remove(), t.isFunction(i) && i() }) } }), t.fx.step.clip = function (e) { e.clipInit || (e.start = t(e.elem).cssClip(), "string" == typeof e.end && (e.end = s(e.end, e.elem)), e.clipInit = !0), t(e.elem).cssClip({ top: e.pos * (e.end.top - e.start.top) + e.start.top, right: e.pos * (e.end.right - e.start.right) + e.start.right, bottom: e.pos * (e.end.bottom - e.start.bottom) + e.start.bottom, left: e.pos * (e.end.left - e.start.left) + e.start.left }) } }(), function () { var e = {}; t.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function (t, i) { e[i] = function (e) { return Math.pow(e, t + 2) } }), t.extend(e, { Sine: function (t) { return 1 - Math.cos(t * Math.PI / 2) }, Circ: function (t) { return 1 - Math.sqrt(1 - t * t) }, Elastic: function (t) { return 0 === t || 1 === t ? t : -Math.pow(2, 8 * (t - 1)) * Math.sin((80 * (t - 1) - 7.5) * Math.PI / 15) }, Back: function (t) { return t * t * (3 * t - 2) }, Bounce: function (t) { for (var e, i = 4; ((e = Math.pow(2, --i)) - 1) / 11 > t;); return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * e - 2) / 22 - t, 2) } }), t.each(e, function (e, i) { t.easing["easeIn" + e] = i, t.easing["easeOut" + e] = function (t) { return 1 - i(1 - t) }, t.easing["easeInOut" + e] = function (t) { return .5 > t ? i(2 * t) / 2 : 1 - i(-2 * t + 2) / 2 } }) }(); var v = t.effects; t.effects.define("blind", "hide", function (e, i) { var s = { up: ["bottom", "top"], vertical: ["bottom", "top"], down: ["top", "bottom"], left: ["right", "left"], horizontal: ["right", "left"], right: ["left", "right"] }, n = t(this), o = e.direction || "up", a = n.cssClip(), r = { clip: t.extend({}, a) }, h = t.effects.createPlaceholder(n); r.clip[s[o][0]] = r.clip[s[o][1]], "show" === e.mode && (n.cssClip(r.clip), h && h.css(t.effects.clipToBox(r)), r.clip = a), h && h.animate(t.effects.clipToBox(r), e.duration, e.easing), n.animate(r, { queue: !1, duration: e.duration, easing: e.easing, complete: i }) }), t.effects.define("bounce", function (e, i) { var s, n, o, a = t(this), r = e.mode, h = "hide" === r, l = "show" === r, c = e.direction || "up", u = e.distance, d = e.times || 5, p = 2 * d + (l || h ? 1 : 0), f = e.duration / p, g = e.easing, m = "up" === c || "down" === c ? "top" : "left", _ = "up" === c || "left" === c, v = 0, b = a.queue().length; for (t.effects.createPlaceholder(a), o = a.css(m), u || (u = a["top" === m ? "outerHeight" : "outerWidth"]() / 3), l && (n = { opacity: 1 }, n[m] = o, a.css("opacity", 0).css(m, _ ? 2 * -u : 2 * u).animate(n, f, g)), h && (u /= Math.pow(2, d - 1)), n = {}, n[m] = o; d > v; v++)s = {}, s[m] = (_ ? "-=" : "+=") + u, a.animate(s, f, g).animate(n, f, g), u = h ? 2 * u : u / 2; h && (s = { opacity: 0 }, s[m] = (_ ? "-=" : "+=") + u, a.animate(s, f, g)), a.queue(i), t.effects.unshift(a, b, p + 1) }), t.effects.define("clip", "hide", function (e, i) { var s, n = {}, o = t(this), a = e.direction || "vertical", r = "both" === a, h = r || "horizontal" === a, l = r || "vertical" === a; s = o.cssClip(), n.clip = { top: l ? (s.bottom - s.top) / 2 : s.top, right: h ? (s.right - s.left) / 2 : s.right, bottom: l ? (s.bottom - s.top) / 2 : s.bottom, left: h ? (s.right - s.left) / 2 : s.left }, t.effects.createPlaceholder(o), "show" === e.mode && (o.cssClip(n.clip), n.clip = s), o.animate(n, { queue: !1, duration: e.duration, easing: e.easing, complete: i }) }), t.effects.define("drop", "hide", function (e, i) { var s, n = t(this), o = e.mode, a = "show" === o, r = e.direction || "left", h = "up" === r || "down" === r ? "top" : "left", l = "up" === r || "left" === r ? "-=" : "+=", c = "+=" === l ? "-=" : "+=", u = { opacity: 0 }; t.effects.createPlaceholder(n), s = e.distance || n["top" === h ? "outerHeight" : "outerWidth"](!0) / 2, u[h] = l + s, a && (n.css(u), u[h] = c + s, u.opacity = 1), n.animate(u, { queue: !1, duration: e.duration, easing: e.easing, complete: i }) }), t.effects.define("explode", "hide", function (e, i) { function s() { b.push(this), b.length === u * d && n() } function n() { p.css({ visibility: "visible" }), t(b).remove(), i() } var o, a, r, h, l, c, u = e.pieces ? Math.round(Math.sqrt(e.pieces)) : 3, d = u, p = t(this), f = e.mode, g = "show" === f, m = p.show().css("visibility", "hidden").offset(), _ = Math.ceil(p.outerWidth() / d), v = Math.ceil(p.outerHeight() / u), b = []; for (o = 0; u > o; o++)for (h = m.top + o * v, c = o - (u - 1) / 2, a = 0; d > a; a++)r = m.left + a * _, l = a - (d - 1) / 2, p.clone().appendTo("body").wrap("<div></div>").css({ position: "absolute", visibility: "visible", left: -a * _, top: -o * v }).parent().addClass("ui-effects-explode").css({ position: "absolute", overflow: "hidden", width: _, height: v, left: r + (g ? l * _ : 0), top: h + (g ? c * v : 0), opacity: g ? 0 : 1 }).animate({ left: r + (g ? 0 : l * _), top: h + (g ? 0 : c * v), opacity: g ? 1 : 0 }, e.duration || 500, e.easing, s) }), t.effects.define("fade", "toggle", function (e, i) { var s = "show" === e.mode; t(this).css("opacity", s ? 0 : 1).animate({ opacity: s ? 1 : 0 }, { queue: !1, duration: e.duration, easing: e.easing, complete: i }) }), t.effects.define("fold", "hide", function (e, i) { var s = t(this), n = e.mode, o = "show" === n, a = "hide" === n, r = e.size || 15, h = /([0-9]+)%/.exec(r), l = !!e.horizFirst, c = l ? ["right", "bottom"] : ["bottom", "right"], u = e.duration / 2, d = t.effects.createPlaceholder(s), p = s.cssClip(), f = { clip: t.extend({}, p) }, g = { clip: t.extend({}, p) }, m = [p[c[0]], p[c[1]]], _ = s.queue().length; h && (r = parseInt(h[1], 10) / 100 * m[a ? 0 : 1]), f.clip[c[0]] = r, g.clip[c[0]] = r, g.clip[c[1]] = 0, o && (s.cssClip(g.clip), d && d.css(t.effects.clipToBox(g)), g.clip = p), s.queue(function (i) { d && d.animate(t.effects.clipToBox(f), u, e.easing).animate(t.effects.clipToBox(g), u, e.easing), i() }).animate(f, u, e.easing).animate(g, u, e.easing).queue(i), t.effects.unshift(s, _, 4) }), t.effects.define("highlight", "show", function (e, i) { var s = t(this), n = { backgroundColor: s.css("backgroundColor") }; "hide" === e.mode && (n.opacity = 0), t.effects.saveStyle(s), s.css({ backgroundImage: "none", backgroundColor: e.color || "#ffff99" }).animate(n, { queue: !1, duration: e.duration, easing: e.easing, complete: i }) }), t.effects.define("size", function (e, i) { var s, n, o, a = t(this), r = ["fontSize"], h = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"], l = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"], c = e.mode, u = "effect" !== c, d = e.scale || "both", p = e.origin || ["middle", "center"], f = a.css("position"), g = a.position(), m = t.effects.scaledDimensions(a), _ = e.from || m, v = e.to || t.effects.scaledDimensions(a, 0); t.effects.createPlaceholder(a), "show" === c && (o = _, _ = v, v = o), n = { from: { y: _.height / m.height, x: _.width / m.width }, to: { y: v.height / m.height, x: v.width / m.width } }, ("box" === d || "both" === d) && (n.from.y !== n.to.y && (_ = t.effects.setTransition(a, h, n.from.y, _), v = t.effects.setTransition(a, h, n.to.y, v)), n.from.x !== n.to.x && (_ = t.effects.setTransition(a, l, n.from.x, _), v = t.effects.setTransition(a, l, n.to.x, v))), ("content" === d || "both" === d) && n.from.y !== n.to.y && (_ = t.effects.setTransition(a, r, n.from.y, _), v = t.effects.setTransition(a, r, n.to.y, v)), p && (s = t.effects.getBaseline(p, m), _.top = (m.outerHeight - _.outerHeight) * s.y + g.top, _.left = (m.outerWidth - _.outerWidth) * s.x + g.left, v.top = (m.outerHeight - v.outerHeight) * s.y + g.top, v.left = (m.outerWidth - v.outerWidth) * s.x + g.left), a.css(_), ("content" === d || "both" === d) && (h = h.concat(["marginTop", "marginBottom"]).concat(r), l = l.concat(["marginLeft", "marginRight"]), a.find("*[width]").each(function () { var i = t(this), s = t.effects.scaledDimensions(i), o = { height: s.height * n.from.y, width: s.width * n.from.x, outerHeight: s.outerHeight * n.from.y, outerWidth: s.outerWidth * n.from.x }, a = { height: s.height * n.to.y, width: s.width * n.to.x, outerHeight: s.height * n.to.y, outerWidth: s.width * n.to.x }; n.from.y !== n.to.y && (o = t.effects.setTransition(i, h, n.from.y, o), a = t.effects.setTransition(i, h, n.to.y, a)), n.from.x !== n.to.x && (o = t.effects.setTransition(i, l, n.from.x, o), a = t.effects.setTransition(i, l, n.to.x, a)), u && t.effects.saveStyle(i), i.css(o), i.animate(a, e.duration, e.easing, function () { u && t.effects.restoreStyle(i) }) })), a.animate(v, { queue: !1, duration: e.duration, easing: e.easing, complete: function () { var e = a.offset(); 0 === v.opacity && a.css("opacity", _.opacity), u || (a.css("position", "static" === f ? "relative" : f).offset(e), t.effects.saveStyle(a)), i() } }) }), t.effects.define("scale", function (e, i) { var s = t(this), n = e.mode, o = parseInt(e.percent, 10) || (0 === parseInt(e.percent, 10) ? 0 : "effect" !== n ? 0 : 100), a = t.extend(!0, { from: t.effects.scaledDimensions(s), to: t.effects.scaledDimensions(s, o, e.direction || "both"), origin: e.origin || ["middle", "center"] }, e); e.fade && (a.from.opacity = 1, a.to.opacity = 0), t.effects.effect.size.call(this, a, i) }), t.effects.define("puff", "hide", function (e, i) { var s = t.extend(!0, {}, e, { fade: !0, percent: parseInt(e.percent, 10) || 150 }); t.effects.effect.scale.call(this, s, i) }), t.effects.define("pulsate", "show", function (e, i) { var s = t(this), n = e.mode, o = "show" === n, a = "hide" === n, r = o || a, h = 2 * (e.times || 5) + (r ? 1 : 0), l = e.duration / h, c = 0, u = 1, d = s.queue().length; for ((o || !s.is(":visible")) && (s.css("opacity", 0).show(), c = 1); h > u; u++)s.animate({ opacity: c }, l, e.easing), c = 1 - c; s.animate({ opacity: c }, l, e.easing), s.queue(i), t.effects.unshift(s, d, h + 1) }), t.effects.define("shake", function (e, i) { var s = 1, n = t(this), o = e.direction || "left", a = e.distance || 20, r = e.times || 3, h = 2 * r + 1, l = Math.round(e.duration / h), c = "up" === o || "down" === o ? "top" : "left", u = "up" === o || "left" === o, d = {}, p = {}, f = {}, g = n.queue().length; for (t.effects.createPlaceholder(n), d[c] = (u ? "-=" : "+=") + a, p[c] = (u ? "+=" : "-=") + 2 * a, f[c] = (u ? "-=" : "+=") + 2 * a, n.animate(d, l, e.easing); r > s; s++)n.animate(p, l, e.easing).animate(f, l, e.easing); n.animate(p, l, e.easing).animate(d, l / 2, e.easing).queue(i), t.effects.unshift(n, g, h + 1) }), t.effects.define("slide", "show", function (e, i) { var s, n, o = t(this), a = { up: ["bottom", "top"], down: ["top", "bottom"], left: ["right", "left"], right: ["left", "right"] }, r = e.mode, h = e.direction || "left", l = "up" === h || "down" === h ? "top" : "left", c = "up" === h || "left" === h, u = e.distance || o["top" === l ? "outerHeight" : "outerWidth"](!0), d = {}; t.effects.createPlaceholder(o), s = o.cssClip(), n = o.position()[l], d[l] = (c ? -1 : 1) * u + n, d.clip = o.cssClip(), d.clip[a[h][1]] = d.clip[a[h][0]], "show" === r && (o.cssClip(d.clip), o.css(l, d[l]), d.clip = s, d[l] = n), o.animate(d, { queue: !1, duration: e.duration, easing: e.easing, complete: i }) }); var v; t.uiBackCompat !== !1 && (v = t.effects.define("transfer", function (e, i) { t(this).transfer(e, i) }))
        });

        //     Underscore.js 1.8.3
        //     http://underscorejs.org
        //     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
        //     Underscore may be freely distributed under the MIT license.
        (function () { function n(n) { function t(t, r, e, u, i, o) { for (; i >= 0 && o > i; i += n) { var a = u ? u[i] : i; e = r(e, t[a], a, t) } return e } return function (r, e, u, i) { e = b(e, i, 4); var o = !k(r) && m.keys(r), a = (o || r).length, c = n > 0 ? 0 : a - 1; return arguments.length < 3 && (u = r[o ? o[c] : c], c += n), t(r, e, u, o, c, a) } } function t(n) { return function (t, r, e) { r = x(r, e); for (var u = O(t), i = n > 0 ? 0 : u - 1; i >= 0 && u > i; i += n)if (r(t[i], i, t)) return i; return -1 } } function r(n, t, r) { return function (e, u, i) { var o = 0, a = O(e); if ("number" == typeof i) n > 0 ? o = i >= 0 ? i : Math.max(i + a, o) : a = i >= 0 ? Math.min(i + 1, a) : i + a + 1; else if (r && i && a) return i = r(e, u), e[i] === u ? i : -1; if (u !== u) return i = t(l.call(e, o, a), m.isNaN), i >= 0 ? i + o : -1; for (i = n > 0 ? o : a - 1; i >= 0 && a > i; i += n)if (e[i] === u) return i; return -1 } } function e(n, t) { var r = I.length, e = n.constructor, u = m.isFunction(e) && e.prototype || a, i = "constructor"; for (m.has(n, i) && !m.contains(t, i) && t.push(i); r--;)i = I[r], i in n && n[i] !== u[i] && !m.contains(t, i) && t.push(i) } var u = this, i = u._, o = Array.prototype, a = Object.prototype, c = Function.prototype, f = o.push, l = o.slice, s = a.toString, p = a.hasOwnProperty, h = Array.isArray, v = Object.keys, g = c.bind, y = Object.create, d = function () { }, m = function (n) { return n instanceof m ? n : this instanceof m ? void (this._wrapped = n) : new m(n) }; "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = m), exports._ = m) : u._ = m, m.VERSION = "1.8.3"; var b = function (n, t, r) { if (t === void 0) return n; switch (null == r ? 3 : r) { case 1: return function (r) { return n.call(t, r) }; case 2: return function (r, e) { return n.call(t, r, e) }; case 3: return function (r, e, u) { return n.call(t, r, e, u) }; case 4: return function (r, e, u, i) { return n.call(t, r, e, u, i) } }return function () { return n.apply(t, arguments) } }, x = function (n, t, r) { return null == n ? m.identity : m.isFunction(n) ? b(n, t, r) : m.isObject(n) ? m.matcher(n) : m.property(n) }; m.iteratee = function (n, t) { return x(n, t, 1 / 0) }; var _ = function (n, t) { return function (r) { var e = arguments.length; if (2 > e || null == r) return r; for (var u = 1; e > u; u++)for (var i = arguments[u], o = n(i), a = o.length, c = 0; a > c; c++) { var f = o[c]; t && r[f] !== void 0 || (r[f] = i[f]) } return r } }, j = function (n) { if (!m.isObject(n)) return {}; if (y) return y(n); d.prototype = n; var t = new d; return d.prototype = null, t }, w = function (n) { return function (t) { return null == t ? void 0 : t[n] } }, A = Math.pow(2, 53) - 1, O = w("length"), k = function (n) { var t = O(n); return "number" == typeof t && t >= 0 && A >= t }; m.each = m.forEach = function (n, t, r) { t = b(t, r); var e, u; if (k(n)) for (e = 0, u = n.length; u > e; e++)t(n[e], e, n); else { var i = m.keys(n); for (e = 0, u = i.length; u > e; e++)t(n[i[e]], i[e], n) } return n }, m.map = m.collect = function (n, t, r) { t = x(t, r); for (var e = !k(n) && m.keys(n), u = (e || n).length, i = Array(u), o = 0; u > o; o++) { var a = e ? e[o] : o; i[o] = t(n[a], a, n) } return i }, m.reduce = m.foldl = m.inject = n(1), m.reduceRight = m.foldr = n(-1), m.find = m.detect = function (n, t, r) { var e; return e = k(n) ? m.findIndex(n, t, r) : m.findKey(n, t, r), e !== void 0 && e !== -1 ? n[e] : void 0 }, m.filter = m.select = function (n, t, r) { var e = []; return t = x(t, r), m.each(n, function (n, r, u) { t(n, r, u) && e.push(n) }), e }, m.reject = function (n, t, r) { return m.filter(n, m.negate(x(t)), r) }, m.every = m.all = function (n, t, r) { t = x(t, r); for (var e = !k(n) && m.keys(n), u = (e || n).length, i = 0; u > i; i++) { var o = e ? e[i] : i; if (!t(n[o], o, n)) return !1 } return !0 }, m.some = m.any = function (n, t, r) { t = x(t, r); for (var e = !k(n) && m.keys(n), u = (e || n).length, i = 0; u > i; i++) { var o = e ? e[i] : i; if (t(n[o], o, n)) return !0 } return !1 }, m.contains = m.includes = m.include = function (n, t, r, e) { return k(n) || (n = m.values(n)), ("number" != typeof r || e) && (r = 0), m.indexOf(n, t, r) >= 0 }, m.invoke = function (n, t) { var r = l.call(arguments, 2), e = m.isFunction(t); return m.map(n, function (n) { var u = e ? t : n[t]; return null == u ? u : u.apply(n, r) }) }, m.pluck = function (n, t) { return m.map(n, m.property(t)) }, m.where = function (n, t) { return m.filter(n, m.matcher(t)) }, m.findWhere = function (n, t) { return m.find(n, m.matcher(t)) }, m.max = function (n, t, r) { var e, u, i = -1 / 0, o = -1 / 0; if (null == t && null != n) { n = k(n) ? n : m.values(n); for (var a = 0, c = n.length; c > a; a++)e = n[a], e > i && (i = e) } else t = x(t, r), m.each(n, function (n, r, e) { u = t(n, r, e), (u > o || u === -1 / 0 && i === -1 / 0) && (i = n, o = u) }); return i }, m.min = function (n, t, r) { var e, u, i = 1 / 0, o = 1 / 0; if (null == t && null != n) { n = k(n) ? n : m.values(n); for (var a = 0, c = n.length; c > a; a++)e = n[a], i > e && (i = e) } else t = x(t, r), m.each(n, function (n, r, e) { u = t(n, r, e), (o > u || 1 / 0 === u && 1 / 0 === i) && (i = n, o = u) }); return i }, m.shuffle = function (n) { for (var t, r = k(n) ? n : m.values(n), e = r.length, u = Array(e), i = 0; e > i; i++)t = m.random(0, i), t !== i && (u[i] = u[t]), u[t] = r[i]; return u }, m.sample = function (n, t, r) { return null == t || r ? (k(n) || (n = m.values(n)), n[m.random(n.length - 1)]) : m.shuffle(n).slice(0, Math.max(0, t)) }, m.sortBy = function (n, t, r) { return t = x(t, r), m.pluck(m.map(n, function (n, r, e) { return { value: n, index: r, criteria: t(n, r, e) } }).sort(function (n, t) { var r = n.criteria, e = t.criteria; if (r !== e) { if (r > e || r === void 0) return 1; if (e > r || e === void 0) return -1 } return n.index - t.index }), "value") }; var F = function (n) { return function (t, r, e) { var u = {}; return r = x(r, e), m.each(t, function (e, i) { var o = r(e, i, t); n(u, e, o) }), u } }; m.groupBy = F(function (n, t, r) { m.has(n, r) ? n[r].push(t) : n[r] = [t] }), m.indexBy = F(function (n, t, r) { n[r] = t }), m.countBy = F(function (n, t, r) { m.has(n, r) ? n[r]++ : n[r] = 1 }), m.toArray = function (n) { return n ? m.isArray(n) ? l.call(n) : k(n) ? m.map(n, m.identity) : m.values(n) : [] }, m.size = function (n) { return null == n ? 0 : k(n) ? n.length : m.keys(n).length }, m.partition = function (n, t, r) { t = x(t, r); var e = [], u = []; return m.each(n, function (n, r, i) { (t(n, r, i) ? e : u).push(n) }), [e, u] }, m.first = m.head = m.take = function (n, t, r) { return null == n ? void 0 : null == t || r ? n[0] : m.initial(n, n.length - t) }, m.initial = function (n, t, r) { return l.call(n, 0, Math.max(0, n.length - (null == t || r ? 1 : t))) }, m.last = function (n, t, r) { return null == n ? void 0 : null == t || r ? n[n.length - 1] : m.rest(n, Math.max(0, n.length - t)) }, m.rest = m.tail = m.drop = function (n, t, r) { return l.call(n, null == t || r ? 1 : t) }, m.compact = function (n) { return m.filter(n, m.identity) }; var S = function (n, t, r, e) { for (var u = [], i = 0, o = e || 0, a = O(n); a > o; o++) { var c = n[o]; if (k(c) && (m.isArray(c) || m.isArguments(c))) { t || (c = S(c, t, r)); var f = 0, l = c.length; for (u.length += l; l > f;)u[i++] = c[f++] } else r || (u[i++] = c) } return u }; m.flatten = function (n, t) { return S(n, t, !1) }, m.without = function (n) { return m.difference(n, l.call(arguments, 1)) }, m.uniq = m.unique = function (n, t, r, e) { m.isBoolean(t) || (e = r, r = t, t = !1), null != r && (r = x(r, e)); for (var u = [], i = [], o = 0, a = O(n); a > o; o++) { var c = n[o], f = r ? r(c, o, n) : c; t ? (o && i === f || u.push(c), i = f) : r ? m.contains(i, f) || (i.push(f), u.push(c)) : m.contains(u, c) || u.push(c) } return u }, m.union = function () { return m.uniq(S(arguments, !0, !0)) }, m.intersection = function (n) { for (var t = [], r = arguments.length, e = 0, u = O(n); u > e; e++) { var i = n[e]; if (!m.contains(t, i)) { for (var o = 1; r > o && m.contains(arguments[o], i); o++); o === r && t.push(i) } } return t }, m.difference = function (n) { var t = S(arguments, !0, !0, 1); return m.filter(n, function (n) { return !m.contains(t, n) }) }, m.zip = function () { return m.unzip(arguments) }, m.unzip = function (n) { for (var t = n && m.max(n, O).length || 0, r = Array(t), e = 0; t > e; e++)r[e] = m.pluck(n, e); return r }, m.object = function (n, t) { for (var r = {}, e = 0, u = O(n); u > e; e++)t ? r[n[e]] = t[e] : r[n[e][0]] = n[e][1]; return r }, m.findIndex = t(1), m.findLastIndex = t(-1), m.sortedIndex = function (n, t, r, e) { r = x(r, e, 1); for (var u = r(t), i = 0, o = O(n); o > i;) { var a = Math.floor((i + o) / 2); r(n[a]) < u ? i = a + 1 : o = a } return i }, m.indexOf = r(1, m.findIndex, m.sortedIndex), m.lastIndexOf = r(-1, m.findLastIndex), m.range = function (n, t, r) { null == t && (t = n || 0, n = 0), r = r || 1; for (var e = Math.max(Math.ceil((t - n) / r), 0), u = Array(e), i = 0; e > i; i++, n += r)u[i] = n; return u }; var E = function (n, t, r, e, u) { if (!(e instanceof t)) return n.apply(r, u); var i = j(n.prototype), o = n.apply(i, u); return m.isObject(o) ? o : i }; m.bind = function (n, t) { if (g && n.bind === g) return g.apply(n, l.call(arguments, 1)); if (!m.isFunction(n)) throw new TypeError("Bind must be called on a function"); var r = l.call(arguments, 2), e = function () { return E(n, e, t, this, r.concat(l.call(arguments))) }; return e }, m.partial = function (n) { var t = l.call(arguments, 1), r = function () { for (var e = 0, u = t.length, i = Array(u), o = 0; u > o; o++)i[o] = t[o] === m ? arguments[e++] : t[o]; for (; e < arguments.length;)i.push(arguments[e++]); return E(n, r, this, this, i) }; return r }, m.bindAll = function (n) { var t, r, e = arguments.length; if (1 >= e) throw new Error("bindAll must be passed function names"); for (t = 1; e > t; t++)r = arguments[t], n[r] = m.bind(n[r], n); return n }, m.memoize = function (n, t) { var r = function (e) { var u = r.cache, i = "" + (t ? t.apply(this, arguments) : e); return m.has(u, i) || (u[i] = n.apply(this, arguments)), u[i] }; return r.cache = {}, r }, m.delay = function (n, t) { var r = l.call(arguments, 2); return setTimeout(function () { return n.apply(null, r) }, t) }, m.defer = m.partial(m.delay, m, 1), m.throttle = function (n, t, r) { var e, u, i, o = null, a = 0; r || (r = {}); var c = function () { a = r.leading === !1 ? 0 : m.now(), o = null, i = n.apply(e, u), o || (e = u = null) }; return function () { var f = m.now(); a || r.leading !== !1 || (a = f); var l = t - (f - a); return e = this, u = arguments, 0 >= l || l > t ? (o && (clearTimeout(o), o = null), a = f, i = n.apply(e, u), o || (e = u = null)) : o || r.trailing === !1 || (o = setTimeout(c, l)), i } }, m.debounce = function (n, t, r) { var e, u, i, o, a, c = function () { var f = m.now() - o; t > f && f >= 0 ? e = setTimeout(c, t - f) : (e = null, r || (a = n.apply(i, u), e || (i = u = null))) }; return function () { i = this, u = arguments, o = m.now(); var f = r && !e; return e || (e = setTimeout(c, t)), f && (a = n.apply(i, u), i = u = null), a } }, m.wrap = function (n, t) { return m.partial(t, n) }, m.negate = function (n) { return function () { return !n.apply(this, arguments) } }, m.compose = function () { var n = arguments, t = n.length - 1; return function () { for (var r = t, e = n[t].apply(this, arguments); r--;)e = n[r].call(this, e); return e } }, m.after = function (n, t) { return function () { return --n < 1 ? t.apply(this, arguments) : void 0 } }, m.before = function (n, t) { var r; return function () { return --n > 0 && (r = t.apply(this, arguments)), 1 >= n && (t = null), r } }, m.once = m.partial(m.before, 2); var M = !{ toString: null }.propertyIsEnumerable("toString"), I = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"]; m.keys = function (n) { if (!m.isObject(n)) return []; if (v) return v(n); var t = []; for (var r in n) m.has(n, r) && t.push(r); return M && e(n, t), t }, m.allKeys = function (n) { if (!m.isObject(n)) return []; var t = []; for (var r in n) t.push(r); return M && e(n, t), t }, m.values = function (n) { for (var t = m.keys(n), r = t.length, e = Array(r), u = 0; r > u; u++)e[u] = n[t[u]]; return e }, m.mapObject = function (n, t, r) { t = x(t, r); for (var e, u = m.keys(n), i = u.length, o = {}, a = 0; i > a; a++)e = u[a], o[e] = t(n[e], e, n); return o }, m.pairs = function (n) { for (var t = m.keys(n), r = t.length, e = Array(r), u = 0; r > u; u++)e[u] = [t[u], n[t[u]]]; return e }, m.invert = function (n) { for (var t = {}, r = m.keys(n), e = 0, u = r.length; u > e; e++)t[n[r[e]]] = r[e]; return t }, m.functions = m.methods = function (n) { var t = []; for (var r in n) m.isFunction(n[r]) && t.push(r); return t.sort() }, m.extend = _(m.allKeys), m.extendOwn = m.assign = _(m.keys), m.findKey = function (n, t, r) { t = x(t, r); for (var e, u = m.keys(n), i = 0, o = u.length; o > i; i++)if (e = u[i], t(n[e], e, n)) return e }, m.pick = function (n, t, r) { var e, u, i = {}, o = n; if (null == o) return i; m.isFunction(t) ? (u = m.allKeys(o), e = b(t, r)) : (u = S(arguments, !1, !1, 1), e = function (n, t, r) { return t in r }, o = Object(o)); for (var a = 0, c = u.length; c > a; a++) { var f = u[a], l = o[f]; e(l, f, o) && (i[f] = l) } return i }, m.omit = function (n, t, r) { if (m.isFunction(t)) t = m.negate(t); else { var e = m.map(S(arguments, !1, !1, 1), String); t = function (n, t) { return !m.contains(e, t) } } return m.pick(n, t, r) }, m.defaults = _(m.allKeys, !0), m.create = function (n, t) { var r = j(n); return t && m.extendOwn(r, t), r }, m.clone = function (n) { return m.isObject(n) ? m.isArray(n) ? n.slice() : m.extend({}, n) : n }, m.tap = function (n, t) { return t(n), n }, m.isMatch = function (n, t) { var r = m.keys(t), e = r.length; if (null == n) return !e; for (var u = Object(n), i = 0; e > i; i++) { var o = r[i]; if (t[o] !== u[o] || !(o in u)) return !1 } return !0 }; var N = function (n, t, r, e) { if (n === t) return 0 !== n || 1 / n === 1 / t; if (null == n || null == t) return n === t; n instanceof m && (n = n._wrapped), t instanceof m && (t = t._wrapped); var u = s.call(n); if (u !== s.call(t)) return !1; switch (u) { case "[object RegExp]": case "[object String]": return "" + n == "" + t; case "[object Number]": return +n !== +n ? +t !== +t : 0 === +n ? 1 / +n === 1 / t : +n === +t; case "[object Date]": case "[object Boolean]": return +n === +t }var i = "[object Array]" === u; if (!i) { if ("object" != typeof n || "object" != typeof t) return !1; var o = n.constructor, a = t.constructor; if (o !== a && !(m.isFunction(o) && o instanceof o && m.isFunction(a) && a instanceof a) && "constructor" in n && "constructor" in t) return !1 } r = r || [], e = e || []; for (var c = r.length; c--;)if (r[c] === n) return e[c] === t; if (r.push(n), e.push(t), i) { if (c = n.length, c !== t.length) return !1; for (; c--;)if (!N(n[c], t[c], r, e)) return !1 } else { var f, l = m.keys(n); if (c = l.length, m.keys(t).length !== c) return !1; for (; c--;)if (f = l[c], !m.has(t, f) || !N(n[f], t[f], r, e)) return !1 } return r.pop(), e.pop(), !0 }; m.isEqual = function (n, t) { return N(n, t) }, m.isEmpty = function (n) { return null == n ? !0 : k(n) && (m.isArray(n) || m.isString(n) || m.isArguments(n)) ? 0 === n.length : 0 === m.keys(n).length }, m.isElement = function (n) { return !(!n || 1 !== n.nodeType) }, m.isArray = h || function (n) { return "[object Array]" === s.call(n) }, m.isObject = function (n) { var t = typeof n; return "function" === t || "object" === t && !!n }, m.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function (n) { m["is" + n] = function (t) { return s.call(t) === "[object " + n + "]" } }), m.isArguments(arguments) || (m.isArguments = function (n) { return m.has(n, "callee") }), "function" != typeof /./ && "object" != typeof Int8Array && (m.isFunction = function (n) { return "function" == typeof n || !1 }), m.isFinite = function (n) { return isFinite(n) && !isNaN(parseFloat(n)) }, m.isNaN = function (n) { return m.isNumber(n) && n !== +n }, m.isBoolean = function (n) { return n === !0 || n === !1 || "[object Boolean]" === s.call(n) }, m.isNull = function (n) { return null === n }, m.isUndefined = function (n) { return n === void 0 }, m.has = function (n, t) { return null != n && p.call(n, t) }, m.noConflict = function () { return u._ = i, this }, m.identity = function (n) { return n }, m.constant = function (n) { return function () { return n } }, m.noop = function () { }, m.property = w, m.propertyOf = function (n) { return null == n ? function () { } : function (t) { return n[t] } }, m.matcher = m.matches = function (n) { return n = m.extendOwn({}, n), function (t) { return m.isMatch(t, n) } }, m.times = function (n, t, r) { var e = Array(Math.max(0, n)); t = b(t, r, 1); for (var u = 0; n > u; u++)e[u] = t(u); return e }, m.random = function (n, t) { return null == t && (t = n, n = 0), n + Math.floor(Math.random() * (t - n + 1)) }, m.now = Date.now || function () { return (new Date).getTime() }; var B = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, T = m.invert(B), R = function (n) { var t = function (t) { return n[t] }, r = "(?:" + m.keys(n).join("|") + ")", e = RegExp(r), u = RegExp(r, "g"); return function (n) { return n = null == n ? "" : "" + n, e.test(n) ? n.replace(u, t) : n } }; m.escape = R(B), m.unescape = R(T), m.result = function (n, t, r) { var e = null == n ? void 0 : n[t]; return e === void 0 && (e = r), m.isFunction(e) ? e.call(n) : e }; var q = 0; m.uniqueId = function (n) { var t = ++q + ""; return n ? n + t : t }, m.templateSettings = { evaluate: /<%([\s\S]+?)%>/g, interpolate: /<%=([\s\S]+?)%>/g, escape: /<%-([\s\S]+?)%>/g }; var K = /(.)^/, z = { "'": "'", "\\": "\\", "\r": "r", "\n": "n", "\u2028": "u2028", "\u2029": "u2029" }, D = /\\|'|\r|\n|\u2028|\u2029/g, L = function (n) { return "\\" + z[n] }; m.template = function (n, t, r) { !t && r && (t = r), t = m.defaults({}, t, m.templateSettings); var e = RegExp([(t.escape || K).source, (t.interpolate || K).source, (t.evaluate || K).source].join("|") + "|$", "g"), u = 0, i = "__p+='"; n.replace(e, function (t, r, e, o, a) { return i += n.slice(u, a).replace(D, L), u = a + t.length, r ? i += "'+\n((__t=(" + r + "))==null?'':_.escape(__t))+\n'" : e ? i += "'+\n((__t=(" + e + "))==null?'':__t)+\n'" : o && (i += "';\n" + o + "\n__p+='"), t }), i += "';\n", t.variable || (i = "with(obj||{}){\n" + i + "}\n"), i = "var __t,__p='',__j=Array.prototype.join," + "print=function(){__p+=__j.call(arguments,'');};\n" + i + "return __p;\n"; try { var o = new Function(t.variable || "obj", "_", i) } catch (a) { throw a.source = i, a } var c = function (n) { return o.call(this, n, m) }, f = t.variable || "obj"; return c.source = "function(" + f + "){\n" + i + "}", c }, m.chain = function (n) { var t = m(n); return t._chain = !0, t }; var P = function (n, t) { return n._chain ? m(t).chain() : t }; m.mixin = function (n) { m.each(m.functions(n), function (t) { var r = m[t] = n[t]; m.prototype[t] = function () { var n = [this._wrapped]; return f.apply(n, arguments), P(this, r.apply(m, n)) } }) }, m.mixin(m), m.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function (n) { var t = o[n]; m.prototype[n] = function () { var r = this._wrapped; return t.apply(r, arguments), "shift" !== n && "splice" !== n || 0 !== r.length || delete r[0], P(this, r) } }), m.each(["concat", "join", "slice"], function (n) { var t = o[n]; m.prototype[n] = function () { return P(this, t.apply(this._wrapped, arguments)) } }), m.prototype.value = function () { return this._wrapped }, m.prototype.valueOf = m.prototype.toJSON = m.prototype.value, m.prototype.toString = function () { return "" + this._wrapped }, "function" == typeof define && define.amd && define("underscore", [], function () { return m }) }).call(this);
        //# sourceMappingURL=underscore-min.map

        jQuery.fn.topLink = function (settings) {
            settings = jQuery.extend({
                min: 1,
                fadeSpeed: 300
            }, settings);
            $(this).bind("click", function () {
                var body = (window.opera) ? (document.compatMode == "CSS1Compat" ? $("html") : $("body")) : $("html,body");
                body.animate({ scrollTop: $($(this).attr("href")).offset().top - 10 }, 400);
                return false;
            })
            return this.each(function () {
                var el = $(this);
                el.hide();
                $(window).scroll(function () {
                    if ($(window).scrollTop() >= settings.min) {
                        el.fadeIn(settings.fadeSpeed);
                    }
                    else {
                        el.fadeOut(settings.fadeSpeed);
                    }
                });
            });
        };

        (function ($) {

            // Creating a jQuery plugin:

            $.generateFile = function (options) {

                options = options || {};

                if (!options.script || !options.filename || !options.content) {
                    throw new Error("Please enter all the required config options!");
                }

                // Creating a 1 by 1 px invisible iframe:

                var iframe = $('body').find('iframe#downloadframe');
                if (iframe.length) {
                    iframe = iframe.eq(0);
                } else {
                    iframe = $('<iframe>', {
                        id: 'downloadframe',
                        width: 1,
                        height: 1,
                        frameborder: 0,
                        css: {
                            display: 'none'
                        }
                    }).appendTo('body');
                }
                var formHTML = '<form action="" method="post">' +
                    '<input type="hidden" name="filename" />' +
                    '<input type="hidden" name="content" />' +
                    '</form>';

                // Giving IE a chance to build the DOM in
                // the iframe with a short timeout:

                setTimeout(function () {

                    // The body element of the iframe document:
                    var body = (iframe.prop('contentDocument') !== undefined) ?
                        iframe.prop('contentDocument').body :
                        iframe.prop('document').body;	// IE

                    body = $(body);

                    // Adding the form to the body:

                    body.html(formHTML);

                    var form = body.find('form');

                    form.attr('action', options.script);
                    form.find('input[name=filename]').val(options.filename);
                    form.find('input[name=content]').val(options.content);

                    form.submit();
                }, 50);
            };

        })(jQuery);

        /*
         * Facebox (for jQuery)
         * version: 1.2 (05/05/2008)
         * @requires jQuery v1.2 or later
         *
         * Examples at http://famspam.com/facebox/
         *
         * Licensed under the MIT:
         *   http://www.opensource.org/licenses/mit-license.php
         *
         * Copyright 2007, 2008 Chris Wanstrath [ chris@ozmm.org ]
         *
         * Usage:
         *
         *  jQuery(document).ready(function() {
         *    jQuery('a[rel*=facebox]').facebox()
         *  })
         *
         *  <a href="#terms" rel="facebox">Terms</a>
         *    Loads the #terms div in the box
         *
         *  <a href="terms.html" rel="facebox">Terms</a>
         *    Loads the terms.html page in the box
         *
         *  <a href="terms.png" rel="facebox">Terms</a>
         *    Loads the terms.png image in the box
         *
         *
         *  You can also use it programmatically:
         *
         *    jQuery.facebox('some html')
         *    jQuery.facebox('some html', 'my-groovy-style')
         *
         *  The above will open a facebox with "some html" as the content.
         *
         *    jQuery.facebox(function($) {
         *      $.get('blah.html', function(data) { $.facebox(data) })
         *    })
         *
         *  The above will show a loading screen before the passed function is called,
         *  allowing for a better ajaxy experience.
         *
         *  The facebox function can also display an ajax page, an image, or the contents of a div:
         *
         *    jQuery.facebox({ ajax: 'remote.html' })
         *    jQuery.facebox({ ajax: 'remote.html' }, 'my-groovy-style')
         *    jQuery.facebox({ image: 'stairs.jpg' })
         *    jQuery.facebox({ image: 'stairs.jpg' }, 'my-groovy-style')
         *    jQuery.facebox({ div: '#box' })
         *    jQuery.facebox({ div: '#box' }, 'my-groovy-style')
         *
         *  Want to close the facebox?  Trigger the 'close.facebox' document event:
         *
         *    jQuery(document).trigger('close.facebox')
         *
         *  Facebox also has a bunch of other hooks:
         *
         *    loading.facebox
         *    beforeReveal.facebox
         *    reveal.facebox (aliased as 'afterReveal.facebox')
         *    init.facebox
         *    afterClose.facebox
         *
         *  Simply bind a function to any of these hooks:
         *
         *   $(document).bind('reveal.facebox', function() { ...stuff to do after the facebox and contents are revealed... })
         *
         */
        (function ($) {
            $.facebox = function (data, klass) {
                $.facebox.loading()

                if (data.ajax) fillFaceboxFromAjax(data.ajax, klass)
                else if (data.image) fillFaceboxFromImage(data.image, klass)
                else if (data.div) fillFaceboxFromHref(data.div, klass)
                else if ($.isFunction(data)) data.call($)
                else $.facebox.reveal(data, klass)
            }

            /*
             * Public, $.facebox methods
             */

            $.extend($.facebox, {
                settings: {
                    opacity: 0.2,
                    overlay: true,
                    loadingImage: '/facebox/loading.gif',
                    closeImage: '/facebox/closelabel.png',
                    imageTypes: ['png', 'jpg', 'jpeg', 'gif'],
                    faceboxHtml: '\
    <div id="facebox" style="display:none;"> \
      <div class="popup"> \
        <div class="content"> \
        </div> \
        <a href="#" class="close"><img src="/facebox/closelabel.png" title="close" class="close_image" /></a> \
      </div> \
    </div>'
                },

                loading: function () {
                    init()
                    if ($('#facebox .loading').length == 1) return true
                    showOverlay()

                    $('#facebox .content').empty()
                    $('#facebox .body').children().hide().end().
                        append('<div class="loading"><img src="' + $.facebox.settings.loadingImage + '"/></div>')

                    $('#facebox').css({
                        top: getPageScroll()[1] + (getPageHeight() / 10),
                        left: $(window).width() / 2 - 205
                    }).show()

                    $(document).bind('keydown.facebox', function (e) {
                        if (e.keyCode == 27) $.facebox.close()
                        return true
                    })
                    $(document).trigger('loading.facebox')
                },

                reveal: function (data, klass) {
                    $(document).trigger('beforeReveal.facebox')
                    if (klass) $('#facebox .content').addClass(klass)
                    $('#facebox .content').append(data)
                    $('#facebox .loading').remove()
                    $('#facebox .body').children().fadeIn('normal')
                    $('#facebox').css('left', $(window).width() / 2 - ($('#facebox .popup').width() / 2))
                    $(document).trigger('reveal.facebox').trigger('afterReveal.facebox')
                },

                close: function () {
                    $(document).trigger('close.facebox')
                    return false
                }
            })

            /*
             * Public, $.fn methods
             */

            $.fn.facebox = function (settings) {
                if ($(this).length == 0) return

                init(settings)

                function clickHandler() {
                    $.facebox.loading(true)

                    // support for rel="facebox.inline_popup" syntax, to add a class
                    // also supports deprecated "facebox[.inline_popup]" syntax
                    var klass = this.rel.match(/facebox\[?\.(\w+)\]?/)
                    if (klass) klass = klass[1]

                    fillFaceboxFromHref(this.href, klass)
                    return false
                }

                return this.bind('click.facebox', clickHandler)
            }

            /*
             * Private methods
             */

            // called one time to setup facebox on this page
            function init(settings) {
                if ($.facebox.settings.inited) return true
                else $.facebox.settings.inited = true

                $(document).trigger('init.facebox')
                makeCompatible()

                var imageTypes = $.facebox.settings.imageTypes.join('|')
                $.facebox.settings.imageTypesRegexp = new RegExp('\.(' + imageTypes + ')$', 'i')

                if (settings) $.extend($.facebox.settings, settings)
                $('body').append($.facebox.settings.faceboxHtml)

                var preload = [new Image(), new Image()]
                preload[0].src = $.facebox.settings.closeImage
                preload[1].src = $.facebox.settings.loadingImage

                $('#facebox').find('.b:first, .bl').each(function () {
                    preload.push(new Image())
                    preload.slice(-1).src = $(this).css('background-image').replace(/url\((.+)\)/, '$1')
                })

                $('#facebox .close').click($.facebox.close)
                $('#facebox .close_image').attr('src', $.facebox.settings.closeImage)
            }

            // getPageScroll() by quirksmode.com
            function getPageScroll() {
                var xScroll, yScroll;
                if (self.pageYOffset) {
                    yScroll = self.pageYOffset;
                    xScroll = self.pageXOffset;
                } else if (document.documentElement && document.documentElement.scrollTop) {	 // Explorer 6 Strict
                    yScroll = document.documentElement.scrollTop;
                    xScroll = document.documentElement.scrollLeft;
                } else if (document.body) {// all other Explorers
                    yScroll = document.body.scrollTop;
                    xScroll = document.body.scrollLeft;
                }
                return new Array(xScroll, yScroll)
            }

            // Adapted from getPageSize() by quirksmode.com
            function getPageHeight() {
                var windowHeight
                if (self.innerHeight) {	// all except Explorer
                    windowHeight = self.innerHeight;
                } else if (document.documentElement && document.documentElement.clientHeight) { // Explorer 6 Strict Mode
                    windowHeight = document.documentElement.clientHeight;
                } else if (document.body) { // other Explorers
                    windowHeight = document.body.clientHeight;
                }
                return windowHeight
            }

            // Backwards compatibility
            function makeCompatible() {
                var $s = $.facebox.settings

                $s.loadingImage = $s.loading_image || $s.loadingImage
                $s.closeImage = $s.close_image || $s.closeImage
                $s.imageTypes = $s.image_types || $s.imageTypes
                $s.faceboxHtml = $s.facebox_html || $s.faceboxHtml
            }

            // Figures out what you want to display and displays it
            // formats are:
            //     div: #id
            //   image: blah.extension
            //    ajax: anything else
            function fillFaceboxFromHref(href, klass) {
                // div
                if (href.match(/#/)) {
                    var url = window.location.href.split('#')[0]
                    var target = href.replace(url, '')
                    if (target == '#') return
                    $.facebox.reveal($(target).html(), klass)

                    // image
                } else if (href.match($.facebox.settings.imageTypesRegexp)) {
                    fillFaceboxFromImage(href, klass)
                    // ajax
                } else {
                    fillFaceboxFromAjax(href, klass)
                }
            }

            function fillFaceboxFromImage(href, klass) {
                var image = new Image()
                image.onload = function () {
                    $.facebox.reveal('<div class="image"><img src="' + image.src + '" /></div>', klass)
                }
                image.src = href
            }

            function fillFaceboxFromAjax(href, klass) {
                $.get(href, function (data) { $.facebox.reveal(data, klass) })
            }

            function skipOverlay() {
                return $.facebox.settings.overlay == false || $.facebox.settings.opacity === null
            }

            function showOverlay() {
                if (skipOverlay()) return

                if ($('#facebox_overlay').length == 0)
                    $("body").append('<div id="facebox_overlay" class="facebox_hide"></div>')

                $('#facebox_overlay').hide().addClass("facebox_overlayBG")
                    .css('opacity', $.facebox.settings.opacity)
                    .click(function () { $(document).trigger('close.facebox') })
                    .fadeIn(200)
                return false
            }

            function hideOverlay() {
                if (skipOverlay()) return

                $('#facebox_overlay').fadeOut(200, function () {
                    $("#facebox_overlay").removeClass("facebox_overlayBG")
                    $("#facebox_overlay").addClass("facebox_hide")
                    $("#facebox_overlay").remove()
                })

                return false
            }

            /*
             * Bindings
             */

            $(document).bind('close.facebox', function () {
                $(document).unbind('keydown.facebox')
                $('#facebox').fadeOut(function () {
                    $('#facebox .content').removeClass().addClass('content')
                    $('#facebox .loading').remove()
                    $(document).trigger('afterClose.facebox')
                })
                hideOverlay()
            })

        })(jQuery);

        /*!
         * clipboard.js v1.6.1
         * https://zenorocha.github.io/clipboard.js
         *
         * Licensed MIT © Zeno Rocha
         */
        !function (e) { if ("object" == typeof exports && "undefined" != typeof module) module.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else { var t; t = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, t.Clipboard = e() } }(function () { var e, t, n; return function e(t, n, o) { function i(a, c) { if (!n[a]) { if (!t[a]) { var l = "function" == typeof require && require; if (!c && l) return l(a, !0); if (r) return r(a, !0); var u = new Error("Cannot find module '" + a + "'"); throw u.code = "MODULE_NOT_FOUND", u } var s = n[a] = { exports: {} }; t[a][0].call(s.exports, function (e) { var n = t[a][1][e]; return i(n ? n : e) }, s, s.exports, e, t, n, o) } return n[a].exports } for (var r = "function" == typeof require && require, a = 0; a < o.length; a++)i(o[a]); return i }({ 1: [function (e, t, n) { function o(e, t) { for (; e && e.nodeType !== i;) { if (e.matches(t)) return e; e = e.parentNode } } var i = 9; if ("undefined" != typeof Element && !Element.prototype.matches) { var r = Element.prototype; r.matches = r.matchesSelector || r.mozMatchesSelector || r.msMatchesSelector || r.oMatchesSelector || r.webkitMatchesSelector } t.exports = o }, {}], 2: [function (e, t, n) { function o(e, t, n, o, r) { var a = i.apply(this, arguments); return e.addEventListener(n, a, r), { destroy: function () { e.removeEventListener(n, a, r) } } } function i(e, t, n, o) { return function (n) { n.delegateTarget = r(n.target, t), n.delegateTarget && o.call(e, n) } } var r = e("./closest"); t.exports = o }, { "./closest": 1 }], 3: [function (e, t, n) { n.node = function (e) { return void 0 !== e && e instanceof HTMLElement && 1 === e.nodeType }, n.nodeList = function (e) { var t = Object.prototype.toString.call(e); return void 0 !== e && ("[object NodeList]" === t || "[object HTMLCollection]" === t) && "length" in e && (0 === e.length || n.node(e[0])) }, n.string = function (e) { return "string" == typeof e || e instanceof String }, n.fn = function (e) { var t = Object.prototype.toString.call(e); return "[object Function]" === t } }, {}], 4: [function (e, t, n) { function o(e, t, n) { if (!e && !t && !n) throw new Error("Missing required arguments"); if (!c.string(t)) throw new TypeError("Second argument must be a String"); if (!c.fn(n)) throw new TypeError("Third argument must be a Function"); if (c.node(e)) return i(e, t, n); if (c.nodeList(e)) return r(e, t, n); if (c.string(e)) return a(e, t, n); throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList") } function i(e, t, n) { return e.addEventListener(t, n), { destroy: function () { e.removeEventListener(t, n) } } } function r(e, t, n) { return Array.prototype.forEach.call(e, function (e) { e.addEventListener(t, n) }), { destroy: function () { Array.prototype.forEach.call(e, function (e) { e.removeEventListener(t, n) }) } } } function a(e, t, n) { return l(document.body, e, t, n) } var c = e("./is"), l = e("delegate"); t.exports = o }, { "./is": 3, delegate: 2 }], 5: [function (e, t, n) { function o(e) { var t; if ("SELECT" === e.nodeName) e.focus(), t = e.value; else if ("INPUT" === e.nodeName || "TEXTAREA" === e.nodeName) { var n = e.hasAttribute("readonly"); n || e.setAttribute("readonly", ""), e.select(), e.setSelectionRange(0, e.value.length), n || e.removeAttribute("readonly"), t = e.value } else { e.hasAttribute("contenteditable") && e.focus(); var o = window.getSelection(), i = document.createRange(); i.selectNodeContents(e), o.removeAllRanges(), o.addRange(i), t = o.toString() } return t } t.exports = o }, {}], 6: [function (e, t, n) { function o() { } o.prototype = { on: function (e, t, n) { var o = this.e || (this.e = {}); return (o[e] || (o[e] = [])).push({ fn: t, ctx: n }), this }, once: function (e, t, n) { function o() { i.off(e, o), t.apply(n, arguments) } var i = this; return o._ = t, this.on(e, o, n) }, emit: function (e) { var t = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[e] || []).slice(), o = 0, i = n.length; for (o; o < i; o++)n[o].fn.apply(n[o].ctx, t); return this }, off: function (e, t) { var n = this.e || (this.e = {}), o = n[e], i = []; if (o && t) for (var r = 0, a = o.length; r < a; r++)o[r].fn !== t && o[r].fn._ !== t && i.push(o[r]); return i.length ? n[e] = i : delete n[e], this } }, t.exports = o }, {}], 7: [function (t, n, o) { !function (i, r) { if ("function" == typeof e && e.amd) e(["module", "select"], r); else if ("undefined" != typeof o) r(n, t("select")); else { var a = { exports: {} }; r(a, i.select), i.clipboardAction = a.exports } }(this, function (e, t) { "use strict"; function n(e) { return e && e.__esModule ? e : { default: e } } function o(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } var i = n(t), r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, a = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var o = t[n]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o) } } return function (t, n, o) { return n && e(t.prototype, n), o && e(t, o), t } }(), c = function () { function e(t) { o(this, e), this.resolveOptions(t), this.initSelection() } return a(e, [{ key: "resolveOptions", value: function e() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; this.action = t.action, this.emitter = t.emitter, this.target = t.target, this.text = t.text, this.trigger = t.trigger, this.selectedText = "" } }, { key: "initSelection", value: function e() { this.text ? this.selectFake() : this.target && this.selectTarget() } }, { key: "selectFake", value: function e() { var t = this, n = "rtl" == document.documentElement.getAttribute("dir"); this.removeFake(), this.fakeHandlerCallback = function () { return t.removeFake() }, this.fakeHandler = document.body.addEventListener("click", this.fakeHandlerCallback) || !0, this.fakeElem = document.createElement("textarea"), this.fakeElem.style.fontSize = "12pt", this.fakeElem.style.border = "0", this.fakeElem.style.padding = "0", this.fakeElem.style.margin = "0", this.fakeElem.style.position = "absolute", this.fakeElem.style[n ? "right" : "left"] = "-9999px"; var o = window.pageYOffset || document.documentElement.scrollTop; this.fakeElem.style.top = o + "px", this.fakeElem.setAttribute("readonly", ""), this.fakeElem.value = this.text, document.body.appendChild(this.fakeElem), this.selectedText = (0, i.default)(this.fakeElem), this.copyText() } }, { key: "removeFake", value: function e() { this.fakeHandler && (document.body.removeEventListener("click", this.fakeHandlerCallback), this.fakeHandler = null, this.fakeHandlerCallback = null), this.fakeElem && (document.body.removeChild(this.fakeElem), this.fakeElem = null) } }, { key: "selectTarget", value: function e() { this.selectedText = (0, i.default)(this.target), this.copyText() } }, { key: "copyText", value: function e() { var t = void 0; try { t = document.execCommand(this.action) } catch (e) { t = !1 } this.handleResult(t) } }, { key: "handleResult", value: function e(t) { this.emitter.emit(t ? "success" : "error", { action: this.action, text: this.selectedText, trigger: this.trigger, clearSelection: this.clearSelection.bind(this) }) } }, { key: "clearSelection", value: function e() { this.target && this.target.blur(), window.getSelection().removeAllRanges() } }, { key: "destroy", value: function e() { this.removeFake() } }, { key: "action", set: function e() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "copy"; if (this._action = t, "copy" !== this._action && "cut" !== this._action) throw new Error('Invalid "action" value, use either "copy" or "cut"') }, get: function e() { return this._action } }, { key: "target", set: function e(t) { if (void 0 !== t) { if (!t || "object" !== ("undefined" == typeof t ? "undefined" : r(t)) || 1 !== t.nodeType) throw new Error('Invalid "target" value, use a valid Element'); if ("copy" === this.action && t.hasAttribute("disabled")) throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute'); if ("cut" === this.action && (t.hasAttribute("readonly") || t.hasAttribute("disabled"))) throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes'); this._target = t } }, get: function e() { return this._target } }]), e }(); e.exports = c }) }, { select: 5 }], 8: [function (t, n, o) { !function (i, r) { if ("function" == typeof e && e.amd) e(["module", "./clipboard-action", "tiny-emitter", "good-listener"], r); else if ("undefined" != typeof o) r(n, t("./clipboard-action"), t("tiny-emitter"), t("good-listener")); else { var a = { exports: {} }; r(a, i.clipboardAction, i.tinyEmitter, i.goodListener), i.clipboard = a.exports } }(this, function (e, t, n, o) { "use strict"; function i(e) { return e && e.__esModule ? e : { default: e } } function r(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function a(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t } function c(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } function l(e, t) { var n = "data-clipboard-" + e; if (t.hasAttribute(n)) return t.getAttribute(n) } var u = i(t), s = i(n), f = i(o), d = function () { function e(e, t) { for (var n = 0; n < t.length; n++) { var o = t[n]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o) } } return function (t, n, o) { return n && e(t.prototype, n), o && e(t, o), t } }(), h = function (e) { function t(e, n) { r(this, t); var o = a(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)); return o.resolveOptions(n), o.listenClick(e), o } return c(t, e), d(t, [{ key: "resolveOptions", value: function e() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; this.action = "function" == typeof t.action ? t.action : this.defaultAction, this.target = "function" == typeof t.target ? t.target : this.defaultTarget, this.text = "function" == typeof t.text ? t.text : this.defaultText } }, { key: "listenClick", value: function e(t) { var n = this; this.listener = (0, f.default)(t, "click", function (e) { return n.onClick(e) }) } }, { key: "onClick", value: function e(t) { var n = t.delegateTarget || t.currentTarget; this.clipboardAction && (this.clipboardAction = null), this.clipboardAction = new u.default({ action: this.action(n), target: this.target(n), text: this.text(n), trigger: n, emitter: this }) } }, { key: "defaultAction", value: function e(t) { return l("action", t) } }, { key: "defaultTarget", value: function e(t) { var n = l("target", t); if (n) return document.querySelector(n) } }, { key: "defaultText", value: function e(t) { return l("text", t) } }, { key: "destroy", value: function e() { this.listener.destroy(), this.clipboardAction && (this.clipboardAction.destroy(), this.clipboardAction = null) } }], [{ key: "isSupported", value: function e() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ["copy", "cut"], n = "string" == typeof t ? [t] : t, o = !!document.queryCommandSupported; return n.forEach(function (e) { o = o && !!document.queryCommandSupported(e) }), o } }]), t }(s.default); e.exports = h }) }, { "./clipboard-action": 7, "good-listener": 4, "tiny-emitter": 6 }] }, {}, [8])(8) });

        /**
         * @name		jQuery FullScreen Plugin
         * @author		Martin Angelov
         * @version 	1.0
         * @url			http://tutorialzine.com/2012/02/enhance-your-website-fullscreen-api/
         * @license		MIT License
         */

        (function ($) {

            // Adding a new test to the jQuery support object
            $.support.fullscreen = supportFullScreen();

            // Creating the plugin
            $.fn.fullScreen = function (props) {

                if (!$.support.fullscreen || this.length != 1) {

                    // The plugin can be called only
                    // on one element at a time

                    return this;
                }

                if (fullScreenStatus()) {
                    // if we are already in fullscreen, exit
                    cancelFullScreen();
                    return this;
                }

                // You can potentially pas two arguments a color
                // for the background and a callback function

                var options = $.extend({
                    'background': '#111',
                    'callback': function () { }
                }, props);

                // This temporary div is the element that is
                // actually going to be enlarged in full screen

                var fs = $('<div>', {
                    'css': {
                        'overflow-y': 'auto',
                        'background': options.background,
                        'width': '100%',
                        'height': '100%'
                    }
                });

                var elem = this;

                // You can use the .fullScreen class to
                // apply styling to your element
                elem.addClass('fullScreen');

                // Inserting our element in the temporary
                // div, after which we zoom it in fullscreen
                fs.insertBefore(elem);
                fs.append(elem);
                requestFullScreen(fs.get(0));

                fs.click(function (e) {
                    if (e.target == this) {
                        // If the black bar was clicked
                        cancelFullScreen();
                    }
                });

                elem.cancel = function () {
                    cancelFullScreen();
                    return elem;
                };

                onFullScreenEvent(function (fullScreen) {

                    if (!fullScreen) {

                        // We have exited full screen.
                        // Remove the class and destroy
                        // the temporary div

                        elem.removeClass('fullScreen').insertBefore(fs);
                        fs.remove();
                    }

                    // Calling the user supplied callback
                    options.callback(fullScreen);
                });

                return elem;
            };


            // These helper functions available only to our plugin scope.


            function supportFullScreen() {
                var doc = document.documentElement;

                return ('requestFullscreen' in doc) ||
                    ('mozRequestFullScreen' in doc && document.mozFullScreenEnabled) ||
                    ('webkitRequestFullScreen' in doc);
            }

            function requestFullScreen(elem) {

                if (elem.requestFullscreen) {
                    elem.requestFullscreen();
                }
                else if (elem.mozRequestFullScreen) {
                    elem.mozRequestFullScreen();
                }
                else if (elem.webkitRequestFullScreen) {
                    elem.webkitRequestFullScreen();
                }
            }

            function fullScreenStatus() {
                return document.fullscreen ||
                    document.mozFullScreen ||
                    document.webkitIsFullScreen;
            }

            function cancelFullScreen() {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
                else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                }
                else if (document.webkitCancelFullScreen) {
                    document.webkitCancelFullScreen();
                }
            }

            function onFullScreenEvent(callback) {
                $(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange", function () {
                    // The full screen status is automatically
                    // passed to our callback as an argument.
                    callback(fullScreenStatus());
                });
            }

        })(jQuery);

        // tipsy, facebook style tooltips for jquery
        // version 1.0.0a
        // (c) 2008-2010 jason frame [jason@onehackoranother.com]
        // released under the MIT license

        (function ($) {

            function maybeCall(thing, ctx) {
                return (typeof thing == 'function') ? (thing.call(ctx)) : thing;
            };

            function Tipsy(element, options) {
                this.$element = $(element);
                this.options = options;
                this.enabled = true;
                this.fixTitle();
            };

            Tipsy.prototype = {
                show: function () {
                    var title = this.getTitle();
                    if (title && this.enabled) {
                        var $tip = this.tip();

                        $tip.find('.tipsy-inner')[this.options.html ? 'html' : 'text'](title);
                        $tip[0].className = 'tipsy'; // reset classname in case of dynamic gravity
                        $tip.remove().css({ top: 0, left: 0, visibility: 'hidden', display: 'block' }).prependTo(document.body);

                        var pos = $.extend({}, this.$element.offset(), {
                            width: this.$element[0].offsetWidth,
                            height: this.$element[0].offsetHeight
                        });

                        var actualWidth = $tip[0].offsetWidth,
                            actualHeight = $tip[0].offsetHeight,
                            gravity = maybeCall(this.options.gravity, this.$element[0]);

                        var tp;
                        switch (gravity.charAt(0)) {
                            case 'n':
                                tp = { top: pos.top + pos.height + this.options.offset, left: pos.left + pos.width / 2 - actualWidth / 2 };
                                break;
                            case 's':
                                tp = { top: pos.top - actualHeight - this.options.offset, left: pos.left + pos.width / 2 - actualWidth / 2 };
                                break;
                            case 'e':
                                tp = { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth - this.options.offset };
                                break;
                            case 'w':
                                tp = { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width + this.options.offset };
                                break;
                        }

                        if (gravity.length == 2) {
                            if (gravity.charAt(1) == 'w') {
                                tp.left = pos.left + pos.width / 2 - 15;
                            } else {
                                tp.left = pos.left + pos.width / 2 - actualWidth + 15;
                            }
                        }

                        $tip.css(tp).addClass('tipsy-' + gravity);
                        $tip.find('.tipsy-arrow')[0].className = 'tipsy-arrow tipsy-arrow-' + gravity.charAt(0);
                        if (this.options.className) {
                            $tip.addClass(maybeCall(this.options.className, this.$element[0]));
                        }

                        if (this.options.fade) {
                            $tip.stop().css({ opacity: 0, display: 'block', visibility: 'visible' }).animate({ opacity: this.options.opacity });
                        } else {
                            $tip.css({ visibility: 'visible', opacity: this.options.opacity });
                        }
                    }
                },

                hide: function () {
                    if (this.options.fade) {
                        this.tip().stop().fadeOut(function () { $(this).remove(); });
                    } else {
                        this.tip().remove();
                    }
                },

                fixTitle: function () {
                    var $e = this.$element;
                    if ($e.attr('title') || typeof ($e.attr('original-title')) != 'string') {
                        $e.attr('original-title', $e.attr('title') || '').removeAttr('title');
                    }
                },

                getTitle: function () {
                    var title, $e = this.$element, o = this.options;
                    this.fixTitle();
                    var title, o = this.options;
                    if (typeof o.title == 'string') {
                        title = $e.attr(o.title == 'title' ? 'original-title' : o.title);
                    } else if (typeof o.title == 'function') {
                        title = o.title.call($e[0]);
                    }
                    title = ('' + title).replace(/(^\s*|\s*$)/, "");
                    return title || o.fallback;
                },

                tip: function () {
                    if (!this.$tip) {
                        this.$tip = $('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>');
                    }
                    return this.$tip;
                },

                validate: function () {
                    if (!this.$element[0].parentNode) {
                        this.hide();
                        this.$element = null;
                        this.options = null;
                    }
                },

                enable: function () { this.enabled = true; },
                disable: function () { this.enabled = false; },
                toggleEnabled: function () { this.enabled = !this.enabled; }
            };

            $.fn.tipsy = function (options) {

                if (options === true) {
                    return this.data('tipsy');
                } else if (typeof options == 'string') {
                    var tipsy = this.data('tipsy');
                    if (tipsy) tipsy[options]();
                    return this;
                }

                options = $.extend({}, $.fn.tipsy.defaults, options);

                function get(ele) {
                    var tipsy = $.data(ele, 'tipsy');
                    if (!tipsy) {
                        tipsy = new Tipsy(ele, $.fn.tipsy.elementOptions(ele, options));
                        $.data(ele, 'tipsy', tipsy);
                    }
                    return tipsy;
                }

                function enter() {
                    var tipsy = get(this);
                    tipsy.hoverState = 'in';
                    if (options.delayIn == 0) {
                        tipsy.show();
                    } else {
                        tipsy.fixTitle();
                        setTimeout(function () { if (tipsy.hoverState == 'in') tipsy.show(); }, options.delayIn);
                    }
                };

                function leave() {
                    var tipsy = get(this);
                    tipsy.hoverState = 'out';
                    if (options.delayOut == 0) {
                        tipsy.hide();
                    } else {
                        setTimeout(function () { if (tipsy.hoverState == 'out') tipsy.hide(); }, options.delayOut);
                    }
                };

                if (!options.live) this.each(function () { get(this); });

                if (options.trigger != 'manual') {
                    var binder = options.live ? 'live' : 'bind',
                        eventIn = options.trigger == 'hover' ? 'mouseenter' : 'focus',
                        eventOut = options.trigger == 'hover' ? 'mouseleave' : 'blur';
                    this[binder](eventIn, enter)[binder](eventOut, leave);
                }

                return this;

            };

            $.fn.tipsy.defaults = {
                className: null,
                delayIn: 0,
                delayOut: 0,
                fade: false,
                fallback: '',
                gravity: 'n',
                html: false,
                live: false,
                offset: 0,
                opacity: 0.8,
                title: 'title',
                trigger: 'hover'
            };

            // Overwrite this method to provide options on a per-element basis.
            // For example, you could store the gravity in a 'tipsy-gravity' attribute:
            // return $.extend({}, options, {gravity: $(ele).attr('tipsy-gravity') || 'n' });
            // (remember - do not modify 'options' in place!)
            $.fn.tipsy.elementOptions = function (ele, options) {
                return $.metadata ? $.extend({}, options, $(ele).metadata()) : options;
            };

            $.fn.tipsy.autoNS = function () {
                return $(this).offset().top > ($(document).scrollTop() + $(window).height() / 2) ? 's' : 'n';
            };

            $.fn.tipsy.autoWE = function () {
                return $(this).offset().left > ($(document).scrollLeft() + $(window).width() / 2) ? 'e' : 'w';
            };

            /**
             * yields a closure of the supplied parameters, producing a function that takes
             * no arguments and is suitable for use as an autogravity function like so:
             *
             * @param margin (int) - distance from the viewable region edge that an
             *        element should be before setting its tooltip's gravity to be away
             *        from that edge.
             * @param prefer (string, e.g. 'n', 'sw', 'w') - the direction to prefer
             *        if there are no viewable region edges effecting the tooltip's
             *        gravity. It will try to vary from this minimally, for example,
             *        if 'sw' is preferred and an element is near the right viewable 
             *        region edge, but not the top edge, it will set the gravity for
             *        that element's tooltip to be 'se', preserving the southern
             *        component.
             */
            $.fn.tipsy.autoBounds = function (margin, prefer) {
                return function () {
                    var dir = { ns: prefer[0], ew: (prefer.length > 1 ? prefer[1] : false) },
                        boundTop = $(document).scrollTop() + margin,
                        boundLeft = $(document).scrollLeft() + margin,
                        $this = $(this);

                    if ($this.offset().top < boundTop) dir.ns = 'n';
                    if ($this.offset().left < boundLeft) dir.ew = 'w';
                    if ($(window).width() + $(document).scrollLeft() - $this.offset().left < margin) dir.ew = 'e';
                    if ($(window).height() + $(document).scrollTop() - $this.offset().top < margin) dir.ns = 's';

                    return dir.ns + (dir.ew ? dir.ew : '');
                }
            };

        })(jQuery);

        (function (a) { a.isScrollToFixed = function (b) { return !!a(b).data("ScrollToFixed") }; a.ScrollToFixed = function (d, i) { var l = this; l.$el = a(d); l.el = d; l.$el.data("ScrollToFixed", l); var c = false; var G = l.$el; var H; var E; var e; var y; var D = 0; var q = 0; var j = -1; var f = -1; var t = null; var z; var g; function u() { G.trigger("preUnfixed.ScrollToFixed"); k(); G.trigger("unfixed.ScrollToFixed"); f = -1; D = G.offset().top; q = G.offset().left; if (l.options.offsets) { q += (G.offset().left - G.position().left) } if (j == -1) { j = q } H = G.css("position"); c = true; if (l.options.bottom != -1) { G.trigger("preFixed.ScrollToFixed"); w(); G.trigger("fixed.ScrollToFixed") } } function n() { var I = l.options.limit; if (!I) { return 0 } if (typeof (I) === "function") { return I.apply(G) } return I } function p() { return H === "fixed" } function x() { return H === "absolute" } function h() { return !(p() || x()) } function w() { if (!p()) { t.css({ display: G.css("display"), width: G.outerWidth(true), height: G.outerHeight(true), "float": G.css("float") }); cssOptions = { "z-index": l.options.zIndex, position: "fixed", top: l.options.bottom == -1 ? s() : "", bottom: l.options.bottom == -1 ? "" : l.options.bottom, "margin-left": "0px" }; if (!l.options.dontSetWidth) { cssOptions.width = G.width() } G.css(cssOptions); G.addClass(l.options.baseClassName); if (l.options.className) { G.addClass(l.options.className) } H = "fixed" } } function b() { var J = n(); var I = q; if (l.options.removeOffsets) { I = ""; J = J - D } cssOptions = { position: "absolute", top: J, left: I, "margin-left": "0px", bottom: "" }; if (!l.options.dontSetWidth) { cssOptions.width = G.width() } G.css(cssOptions); H = "absolute" } function k() { if (!h()) { f = -1; t.css("display", "none"); G.css({ "z-index": y, width: "", position: E, left: "", top: e, "margin-left": "" }); G.removeClass("scroll-to-fixed-fixed"); if (l.options.className) { G.removeClass(l.options.className) } H = null } } function v(I) { if (I != f) { G.css("left", q - I); f = I } } function s() { var I = l.options.marginTop; if (!I) { return 0 } if (typeof (I) === "function") { return I.apply(G) } return I } function A() { if (!a.isScrollToFixed(G)) { return } var K = c; if (!c) { u() } else { if (h()) { D = G.offset().top; q = G.offset().left } } var I = a(window).scrollLeft(); var L = a(window).scrollTop(); var J = n(); if (l.options.minWidth && a(window).width() < l.options.minWidth) { if (!h() || !K) { o(); G.trigger("preUnfixed.ScrollToFixed"); k(); G.trigger("unfixed.ScrollToFixed") } } else { if (l.options.maxWidth && a(window).width() > l.options.maxWidth) { if (!h() || !K) { o(); G.trigger("preUnfixed.ScrollToFixed"); k(); G.trigger("unfixed.ScrollToFixed") } } else { if (l.options.bottom == -1) { if (J > 0 && L >= J - s()) { if (!x() || !K) { o(); G.trigger("preAbsolute.ScrollToFixed"); b(); G.trigger("unfixed.ScrollToFixed") } } else { if (L >= D - s()) { if (!p() || !K) { o(); G.trigger("preFixed.ScrollToFixed"); w(); f = -1; G.trigger("fixed.ScrollToFixed") } v(I) } else { if (!h() || !K) { o(); G.trigger("preUnfixed.ScrollToFixed"); k(); G.trigger("unfixed.ScrollToFixed") } } } } else { if (J > 0) { if (L + a(window).height() - G.outerHeight(true) >= J - (s() || -m())) { if (p()) { o(); G.trigger("preUnfixed.ScrollToFixed"); if (E === "absolute") { b() } else { k() } G.trigger("unfixed.ScrollToFixed") } } else { if (!p()) { o(); G.trigger("preFixed.ScrollToFixed"); w() } v(I); G.trigger("fixed.ScrollToFixed") } } else { v(I) } } } } } function m() { if (!l.options.bottom) { return 0 } return l.options.bottom } function o() { var I = G.css("position"); if (I == "absolute") { G.trigger("postAbsolute.ScrollToFixed") } else { if (I == "fixed") { G.trigger("postFixed.ScrollToFixed") } else { G.trigger("postUnfixed.ScrollToFixed") } } } var C = function (I) { if (G.is(":visible")) { c = false; A() } }; var F = function (I) { (!!window.requestAnimationFrame) ? requestAnimationFrame(A) : A() }; var B = function () { var J = document.body; if (document.createElement && J && J.appendChild && J.removeChild) { var L = document.createElement("div"); if (!L.getBoundingClientRect) { return null } L.innerHTML = "x"; L.style.cssText = "position:fixed;top:100px;"; J.appendChild(L); var M = J.style.height, N = J.scrollTop; J.style.height = "3000px"; J.scrollTop = 500; var I = L.getBoundingClientRect().top; J.style.height = M; var K = (I === 100); J.removeChild(L); J.scrollTop = N; return K } return null }; var r = function (I) { I = I || window.event; if (I.preventDefault) { I.preventDefault() } I.returnValue = false }; l.init = function () { l.options = a.extend({}, a.ScrollToFixed.defaultOptions, i); y = G.css("z-index"); l.$el.css("z-index", l.options.zIndex); t = a("<div />"); H = G.css("position"); E = G.css("position"); e = G.css("top"); if (h()) { l.$el.after(t) } a(window).bind("resize.ScrollToFixed", C); a(window).bind("scroll.ScrollToFixed", F); if ("ontouchmove" in window) { a(window).bind("touchmove.ScrollToFixed", A) } if (l.options.preFixed) { G.bind("preFixed.ScrollToFixed", l.options.preFixed) } if (l.options.postFixed) { G.bind("postFixed.ScrollToFixed", l.options.postFixed) } if (l.options.preUnfixed) { G.bind("preUnfixed.ScrollToFixed", l.options.preUnfixed) } if (l.options.postUnfixed) { G.bind("postUnfixed.ScrollToFixed", l.options.postUnfixed) } if (l.options.preAbsolute) { G.bind("preAbsolute.ScrollToFixed", l.options.preAbsolute) } if (l.options.postAbsolute) { G.bind("postAbsolute.ScrollToFixed", l.options.postAbsolute) } if (l.options.fixed) { G.bind("fixed.ScrollToFixed", l.options.fixed) } if (l.options.unfixed) { G.bind("unfixed.ScrollToFixed", l.options.unfixed) } if (l.options.spacerClass) { t.addClass(l.options.spacerClass) } G.bind("resize.ScrollToFixed", function () { t.height(G.height()) }); G.bind("scroll.ScrollToFixed", function () { G.trigger("preUnfixed.ScrollToFixed"); k(); G.trigger("unfixed.ScrollToFixed"); A() }); G.bind("detach.ScrollToFixed", function (I) { r(I); G.trigger("preUnfixed.ScrollToFixed"); k(); G.trigger("unfixed.ScrollToFixed"); a(window).unbind("resize.ScrollToFixed", C); a(window).unbind("scroll.ScrollToFixed", F); G.unbind(".ScrollToFixed"); t.remove(); l.$el.removeData("ScrollToFixed") }); C() }; l.init() }; a.ScrollToFixed.defaultOptions = { marginTop: 0, limit: 0, bottom: -1, zIndex: 1000, baseClassName: "scroll-to-fixed-fixed" }; a.fn.scrollToFixed = function (b) { return this.each(function () { (new a.ScrollToFixed(this, b)) }) } })(jQuery);

        /* mousetrap v1.1.1 craig.is/killing/mice */
        window.Mousetrap = function () {
            function o(a, c, b) { if (a.addEventListener) return a.addEventListener(c, b, !1); a.attachEvent("on" + c, b) } function u(a) { return "keypress" == a.type ? String.fromCharCode(a.which) : h[a.which] ? h[a.which] : v[a.which] ? v[a.which] : String.fromCharCode(a.which).toLowerCase() } function p(a) { var a = a || {}, c = !1, b; for (b in l) a[b] ? c = !0 : l[b] = 0; c || (n = !1) } function w(a, c, b, d, C) {
                var g, e, f = []; if (!j[a]) return []; "keyup" == b && q(a) && (c = [a]); for (g = 0; g < j[a].length; ++g)if (e = j[a][g], !(e.seq && l[e.seq] != e.level) && b ==
                    e.action && ("keypress" === b || c.sort().join(",") === e.modifiers.sort().join(","))) d && e.combo == C && j[a].splice(g, 1), f.push(e); return f
            } function r(a, c) { !1 === a(c) && (c.preventDefault && c.preventDefault(), c.stopPropagation && c.stopPropagation(), c.returnValue = !1, c.cancelBubble = !0) } function s(a) {
                a.which = "number" == typeof a.which ? a.which : a.keyCode; var c = u(a); if (c) if ("keyup" === a.type && t === c) t = !1; else {
                    var b = a.target || a.srcElement, d = b.tagName; if (!(-1 < (" " + b.className + " ").indexOf(" mousetrap ") ? 0 : "INPUT" == d || "SELECT" ==
                        d || "TEXTAREA" == d)) { b = []; a.shiftKey && b.push("shift"); a.altKey && b.push("alt"); a.ctrlKey && b.push("ctrl"); a.metaKey && b.push("meta"); for (var b = w(c, b, a.type), f = {}, g = !1, d = 0; d < b.length; ++d)b[d].seq ? (g = !0, f[b[d].seq] = 1, r(b[d].callback, a)) : !g && !n && r(b[d].callback, a); a.type == n && !q(c) && p(f) }
                }
            } function q(a) { return "shift" == a || "ctrl" == a || "alt" == a || "meta" == a } function x(a, c, b) {
                if (!b) { if (!k) { k = {}; for (var d in h) 95 < d && 112 > d || h.hasOwnProperty(d) && (k[h[d]] = d) } b = k[a] ? "keydown" : "keypress" } "keypress" === b && c.length && (b = "keydown");
                return b
            } function y(a, c, b, d, f) {
                var a = a.replace(/\s+/g, " "), g = a.split(" "), e, h, i = []; if (1 < g.length) { var k = a, m = b; l[k] = 0; m || (m = x(g[0], [])); a = function () { n = m; ++l[k]; clearTimeout(z); z = setTimeout(p, 1E3) }; b = function (a) { r(c, a); "keyup" !== m && (t = u(a)); setTimeout(p, 10) }; for (d = 0; d < g.length; ++d)y(g[d], d < g.length - 1 ? a : b, m, k, d) } else {
                    h = "+" === a ? ["+"] : a.split("+"); for (g = 0; g < h.length; ++g)e = h[g], A[e] && (e = A[e]), b && ("keypress" != b && B[e]) && (e = B[e], i.push("shift")), q(e) && i.push(e); b = x(e, i, b); j[e] || (j[e] = []); w(e, i, b, !d, a); j[e][d ?
                        "unshift" : "push"]({ callback: c, modifiers: i, action: b, seq: d, level: f, combo: a })
                }
            } for (var h = { 8: "backspace", 9: "tab", 13: "enter", 16: "shift", 17: "ctrl", 18: "alt", 20: "capslock", 27: "esc", 32: "space", 33: "pageup", 34: "pagedown", 35: "end", 36: "home", 37: "left", 38: "up", 39: "right", 40: "down", 45: "ins", 46: "del", 91: "meta", 93: "meta", 224: "meta" }, v = { 106: "*", 107: "+", 109: "-", 110: ".", 111: "/", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\", 221: "]", 222: "'" }, B = {
                "~": "`", "!": "1", "@": "2", "#": "3", $: "4", "%": "5", "^": "6",
                "&": "7", "*": "8", "(": "9", ")": "0", _: "-", "+": "=", ":": ";", '"': "'", "<": ",", ">": ".", "?": "/", "|": "\\"
            }, A = { option: "alt", command: "meta", "return": "enter", escape: "esc" }, k, j = {}, i = {}, l = {}, z, t = !1, n = !1, f = 1; 20 > f; ++f)h[111 + f] = "f" + f; for (f = 96; 106 > f; ++f)h[f] = f - 96; o(document, "keypress", s); o(document, "keydown", s); o(document, "keyup", s); return {
                bind: function (a, c, b) { for (var d = a instanceof Array ? a : [a], f = 0; f < d.length; ++f)y(d[f], c, b); i[a + ":" + b] = c }, unbind: function (a, c) { i[a + ":" + c] && (delete i[a + ":" + c], this.bind(a, function () { }, c)) },
                trigger: function (a, c) { i[a + ":" + c]() }, reset: function () { j = {}; i = {} }
            }
        }();

        /**
         * Swiper 5.4.1
         * Most modern mobile touch slider and framework with hardware accelerated transitions
         * http://swiperjs.com
         *
         * Copyright 2014-2020 Vladimir Kharlampidi
         *
         * Released under the MIT License
         *
         * Released on: May 20, 2020
         */

        !function (e, t) { "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : (e = e || self).Swiper = t() }(this, (function () { "use strict"; function e(e) { return null !== e && "object" == typeof e && "constructor" in e && e.constructor === Object } function t(i, s) { void 0 === i && (i = {}), void 0 === s && (s = {}), Object.keys(s).forEach((function (a) { void 0 === i[a] ? i[a] = s[a] : e(s[a]) && e(i[a]) && Object.keys(s[a]).length > 0 && t(i[a], s[a]) })) } var i = "undefined" != typeof document ? document : {}, s = { body: {}, addEventListener: function () { }, removeEventListener: function () { }, activeElement: { blur: function () { }, nodeName: "" }, querySelector: function () { return null }, querySelectorAll: function () { return [] }, getElementById: function () { return null }, createEvent: function () { return { initEvent: function () { } } }, createElement: function () { return { children: [], childNodes: [], style: {}, setAttribute: function () { }, getElementsByTagName: function () { return [] } } }, createElementNS: function () { return {} }, importNode: function () { return null }, location: { hash: "", host: "", hostname: "", href: "", origin: "", pathname: "", protocol: "", search: "" } }; t(i, s); var a = "undefined" != typeof window ? window : {}; t(a, { document: s, navigator: { userAgent: "" }, location: { hash: "", host: "", hostname: "", href: "", origin: "", pathname: "", protocol: "", search: "" }, history: { replaceState: function () { }, pushState: function () { }, go: function () { }, back: function () { } }, CustomEvent: function () { return this }, addEventListener: function () { }, removeEventListener: function () { }, getComputedStyle: function () { return { getPropertyValue: function () { return "" } } }, Image: function () { }, Date: function () { }, screen: {}, setTimeout: function () { }, clearTimeout: function () { }, matchMedia: function () { return {} } }); var r = function (e) { for (var t = 0; t < e.length; t += 1)this[t] = e[t]; return this.length = e.length, this }; function n(e, t) { var s = [], n = 0; if (e && !t && e instanceof r) return e; if (e) if ("string" == typeof e) { var o, l, d = e.trim(); if (d.indexOf("<") >= 0 && d.indexOf(">") >= 0) { var h = "div"; for (0 === d.indexOf("<li") && (h = "ul"), 0 === d.indexOf("<tr") && (h = "tbody"), 0 !== d.indexOf("<td") && 0 !== d.indexOf("<th") || (h = "tr"), 0 === d.indexOf("<tbody") && (h = "table"), 0 === d.indexOf("<option") && (h = "select"), (l = i.createElement(h)).innerHTML = d, n = 0; n < l.childNodes.length; n += 1)s.push(l.childNodes[n]) } else for (o = t || "#" !== e[0] || e.match(/[ .<>:~]/) ? (t || i).querySelectorAll(e.trim()) : [i.getElementById(e.trim().split("#")[1])], n = 0; n < o.length; n += 1)o[n] && s.push(o[n]) } else if (e.nodeType || e === a || e === i) s.push(e); else if (e.length > 0 && e[0].nodeType) for (n = 0; n < e.length; n += 1)s.push(e[n]); return new r(s) } function o(e) { for (var t = [], i = 0; i < e.length; i += 1)-1 === t.indexOf(e[i]) && t.push(e[i]); return t } n.fn = r.prototype, n.Class = r, n.Dom7 = r; var l = { addClass: function (e) { if (void 0 === e) return this; for (var t = e.split(" "), i = 0; i < t.length; i += 1)for (var s = 0; s < this.length; s += 1)void 0 !== this[s] && void 0 !== this[s].classList && this[s].classList.add(t[i]); return this }, removeClass: function (e) { for (var t = e.split(" "), i = 0; i < t.length; i += 1)for (var s = 0; s < this.length; s += 1)void 0 !== this[s] && void 0 !== this[s].classList && this[s].classList.remove(t[i]); return this }, hasClass: function (e) { return !!this[0] && this[0].classList.contains(e) }, toggleClass: function (e) { for (var t = e.split(" "), i = 0; i < t.length; i += 1)for (var s = 0; s < this.length; s += 1)void 0 !== this[s] && void 0 !== this[s].classList && this[s].classList.toggle(t[i]); return this }, attr: function (e, t) { var i = arguments; if (1 === arguments.length && "string" == typeof e) return this[0] ? this[0].getAttribute(e) : void 0; for (var s = 0; s < this.length; s += 1)if (2 === i.length) this[s].setAttribute(e, t); else for (var a in e) this[s][a] = e[a], this[s].setAttribute(a, e[a]); return this }, removeAttr: function (e) { for (var t = 0; t < this.length; t += 1)this[t].removeAttribute(e); return this }, data: function (e, t) { var i; if (void 0 !== t) { for (var s = 0; s < this.length; s += 1)(i = this[s]).dom7ElementDataStorage || (i.dom7ElementDataStorage = {}), i.dom7ElementDataStorage[e] = t; return this } if (i = this[0]) { if (i.dom7ElementDataStorage && e in i.dom7ElementDataStorage) return i.dom7ElementDataStorage[e]; var a = i.getAttribute("data-" + e); return a || void 0 } }, transform: function (e) { for (var t = 0; t < this.length; t += 1) { var i = this[t].style; i.webkitTransform = e, i.transform = e } return this }, transition: function (e) { "string" != typeof e && (e += "ms"); for (var t = 0; t < this.length; t += 1) { var i = this[t].style; i.webkitTransitionDuration = e, i.transitionDuration = e } return this }, on: function () { for (var e, t = [], i = arguments.length; i--;)t[i] = arguments[i]; var s = t[0], a = t[1], r = t[2], o = t[3]; function l(e) { var t = e.target; if (t) { var i = e.target.dom7EventData || []; if (i.indexOf(e) < 0 && i.unshift(e), n(t).is(a)) r.apply(t, i); else for (var s = n(t).parents(), o = 0; o < s.length; o += 1)n(s[o]).is(a) && r.apply(s[o], i) } } function d(e) { var t = e && e.target && e.target.dom7EventData || []; t.indexOf(e) < 0 && t.unshift(e), r.apply(this, t) } "function" == typeof t[1] && (s = (e = t)[0], r = e[1], o = e[2], a = void 0), o || (o = !1); for (var h, p = s.split(" "), c = 0; c < this.length; c += 1) { var u = this[c]; if (a) for (h = 0; h < p.length; h += 1) { var v = p[h]; u.dom7LiveListeners || (u.dom7LiveListeners = {}), u.dom7LiveListeners[v] || (u.dom7LiveListeners[v] = []), u.dom7LiveListeners[v].push({ listener: r, proxyListener: l }), u.addEventListener(v, l, o) } else for (h = 0; h < p.length; h += 1) { var f = p[h]; u.dom7Listeners || (u.dom7Listeners = {}), u.dom7Listeners[f] || (u.dom7Listeners[f] = []), u.dom7Listeners[f].push({ listener: r, proxyListener: d }), u.addEventListener(f, d, o) } } return this }, off: function () { for (var e, t = [], i = arguments.length; i--;)t[i] = arguments[i]; var s = t[0], a = t[1], r = t[2], n = t[3]; "function" == typeof t[1] && (s = (e = t)[0], r = e[1], n = e[2], a = void 0), n || (n = !1); for (var o = s.split(" "), l = 0; l < o.length; l += 1)for (var d = o[l], h = 0; h < this.length; h += 1) { var p = this[h], c = void 0; if (!a && p.dom7Listeners ? c = p.dom7Listeners[d] : a && p.dom7LiveListeners && (c = p.dom7LiveListeners[d]), c && c.length) for (var u = c.length - 1; u >= 0; u -= 1) { var v = c[u]; r && v.listener === r || r && v.listener && v.listener.dom7proxy && v.listener.dom7proxy === r ? (p.removeEventListener(d, v.proxyListener, n), c.splice(u, 1)) : r || (p.removeEventListener(d, v.proxyListener, n), c.splice(u, 1)) } } return this }, trigger: function () { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; for (var s = e[0].split(" "), r = e[1], n = 0; n < s.length; n += 1)for (var o = s[n], l = 0; l < this.length; l += 1) { var d = this[l], h = void 0; try { h = new a.CustomEvent(o, { detail: r, bubbles: !0, cancelable: !0 }) } catch (e) { (h = i.createEvent("Event")).initEvent(o, !0, !0), h.detail = r } d.dom7EventData = e.filter((function (e, t) { return t > 0 })), d.dispatchEvent(h), d.dom7EventData = [], delete d.dom7EventData } return this }, transitionEnd: function (e) { var t, i = ["webkitTransitionEnd", "transitionend"], s = this; function a(r) { if (r.target === this) for (e.call(this, r), t = 0; t < i.length; t += 1)s.off(i[t], a) } if (e) for (t = 0; t < i.length; t += 1)s.on(i[t], a); return this }, outerWidth: function (e) { if (this.length > 0) { if (e) { var t = this.styles(); return this[0].offsetWidth + parseFloat(t.getPropertyValue("margin-right")) + parseFloat(t.getPropertyValue("margin-left")) } return this[0].offsetWidth } return null }, outerHeight: function (e) { if (this.length > 0) { if (e) { var t = this.styles(); return this[0].offsetHeight + parseFloat(t.getPropertyValue("margin-top")) + parseFloat(t.getPropertyValue("margin-bottom")) } return this[0].offsetHeight } return null }, offset: function () { if (this.length > 0) { var e = this[0], t = e.getBoundingClientRect(), s = i.body, r = e.clientTop || s.clientTop || 0, n = e.clientLeft || s.clientLeft || 0, o = e === a ? a.scrollY : e.scrollTop, l = e === a ? a.scrollX : e.scrollLeft; return { top: t.top + o - r, left: t.left + l - n } } return null }, css: function (e, t) { var i; if (1 === arguments.length) { if ("string" != typeof e) { for (i = 0; i < this.length; i += 1)for (var s in e) this[i].style[s] = e[s]; return this } if (this[0]) return a.getComputedStyle(this[0], null).getPropertyValue(e) } if (2 === arguments.length && "string" == typeof e) { for (i = 0; i < this.length; i += 1)this[i].style[e] = t; return this } return this }, each: function (e) { if (!e) return this; for (var t = 0; t < this.length; t += 1)if (!1 === e.call(this[t], t, this[t])) return this; return this }, html: function (e) { if (void 0 === e) return this[0] ? this[0].innerHTML : void 0; for (var t = 0; t < this.length; t += 1)this[t].innerHTML = e; return this }, text: function (e) { if (void 0 === e) return this[0] ? this[0].textContent.trim() : null; for (var t = 0; t < this.length; t += 1)this[t].textContent = e; return this }, is: function (e) { var t, s, o = this[0]; if (!o || void 0 === e) return !1; if ("string" == typeof e) { if (o.matches) return o.matches(e); if (o.webkitMatchesSelector) return o.webkitMatchesSelector(e); if (o.msMatchesSelector) return o.msMatchesSelector(e); for (t = n(e), s = 0; s < t.length; s += 1)if (t[s] === o) return !0; return !1 } if (e === i) return o === i; if (e === a) return o === a; if (e.nodeType || e instanceof r) { for (t = e.nodeType ? [e] : e, s = 0; s < t.length; s += 1)if (t[s] === o) return !0; return !1 } return !1 }, index: function () { var e, t = this[0]; if (t) { for (e = 0; null !== (t = t.previousSibling);)1 === t.nodeType && (e += 1); return e } }, eq: function (e) { if (void 0 === e) return this; var t, i = this.length; return new r(e > i - 1 ? [] : e < 0 ? (t = i + e) < 0 ? [] : [this[t]] : [this[e]]) }, append: function () { for (var e, t = [], s = arguments.length; s--;)t[s] = arguments[s]; for (var a = 0; a < t.length; a += 1) { e = t[a]; for (var n = 0; n < this.length; n += 1)if ("string" == typeof e) { var o = i.createElement("div"); for (o.innerHTML = e; o.firstChild;)this[n].appendChild(o.firstChild) } else if (e instanceof r) for (var l = 0; l < e.length; l += 1)this[n].appendChild(e[l]); else this[n].appendChild(e) } return this }, prepend: function (e) { var t, s; for (t = 0; t < this.length; t += 1)if ("string" == typeof e) { var a = i.createElement("div"); for (a.innerHTML = e, s = a.childNodes.length - 1; s >= 0; s -= 1)this[t].insertBefore(a.childNodes[s], this[t].childNodes[0]) } else if (e instanceof r) for (s = 0; s < e.length; s += 1)this[t].insertBefore(e[s], this[t].childNodes[0]); else this[t].insertBefore(e, this[t].childNodes[0]); return this }, next: function (e) { return this.length > 0 ? e ? this[0].nextElementSibling && n(this[0].nextElementSibling).is(e) ? new r([this[0].nextElementSibling]) : new r([]) : this[0].nextElementSibling ? new r([this[0].nextElementSibling]) : new r([]) : new r([]) }, nextAll: function (e) { var t = [], i = this[0]; if (!i) return new r([]); for (; i.nextElementSibling;) { var s = i.nextElementSibling; e ? n(s).is(e) && t.push(s) : t.push(s), i = s } return new r(t) }, prev: function (e) { if (this.length > 0) { var t = this[0]; return e ? t.previousElementSibling && n(t.previousElementSibling).is(e) ? new r([t.previousElementSibling]) : new r([]) : t.previousElementSibling ? new r([t.previousElementSibling]) : new r([]) } return new r([]) }, prevAll: function (e) { var t = [], i = this[0]; if (!i) return new r([]); for (; i.previousElementSibling;) { var s = i.previousElementSibling; e ? n(s).is(e) && t.push(s) : t.push(s), i = s } return new r(t) }, parent: function (e) { for (var t = [], i = 0; i < this.length; i += 1)null !== this[i].parentNode && (e ? n(this[i].parentNode).is(e) && t.push(this[i].parentNode) : t.push(this[i].parentNode)); return n(o(t)) }, parents: function (e) { for (var t = [], i = 0; i < this.length; i += 1)for (var s = this[i].parentNode; s;)e ? n(s).is(e) && t.push(s) : t.push(s), s = s.parentNode; return n(o(t)) }, closest: function (e) { var t = this; return void 0 === e ? new r([]) : (t.is(e) || (t = t.parents(e).eq(0)), t) }, find: function (e) { for (var t = [], i = 0; i < this.length; i += 1)for (var s = this[i].querySelectorAll(e), a = 0; a < s.length; a += 1)t.push(s[a]); return new r(t) }, children: function (e) { for (var t = [], i = 0; i < this.length; i += 1)for (var s = this[i].childNodes, a = 0; a < s.length; a += 1)e ? 1 === s[a].nodeType && n(s[a]).is(e) && t.push(s[a]) : 1 === s[a].nodeType && t.push(s[a]); return new r(o(t)) }, filter: function (e) { for (var t = [], i = 0; i < this.length; i += 1)e.call(this[i], i, this[i]) && t.push(this[i]); return new r(t) }, remove: function () { for (var e = 0; e < this.length; e += 1)this[e].parentNode && this[e].parentNode.removeChild(this[e]); return this }, add: function () { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; var i, s, a = this; for (i = 0; i < e.length; i += 1) { var r = n(e[i]); for (s = 0; s < r.length; s += 1)a[a.length] = r[s], a.length += 1 } return a }, styles: function () { return this[0] ? a.getComputedStyle(this[0], null) : {} } }; Object.keys(l).forEach((function (e) { n.fn[e] = n.fn[e] || l[e] })); var d = { deleteProps: function (e) { var t = e; Object.keys(t).forEach((function (e) { try { t[e] = null } catch (e) { } try { delete t[e] } catch (e) { } })) }, nextTick: function (e, t) { return void 0 === t && (t = 0), setTimeout(e, t) }, now: function () { return Date.now() }, getTranslate: function (e, t) { var i, s, r; void 0 === t && (t = "x"); var n = a.getComputedStyle(e, null); return a.WebKitCSSMatrix ? ((s = n.transform || n.webkitTransform).split(",").length > 6 && (s = s.split(", ").map((function (e) { return e.replace(",", ".") })).join(", ")), r = new a.WebKitCSSMatrix("none" === s ? "" : s)) : i = (r = n.MozTransform || n.OTransform || n.MsTransform || n.msTransform || n.transform || n.getPropertyValue("transform").replace("translate(", "matrix(1, 0, 0, 1,")).toString().split(","), "x" === t && (s = a.WebKitCSSMatrix ? r.m41 : 16 === i.length ? parseFloat(i[12]) : parseFloat(i[4])), "y" === t && (s = a.WebKitCSSMatrix ? r.m42 : 16 === i.length ? parseFloat(i[13]) : parseFloat(i[5])), s || 0 }, parseUrlQuery: function (e) { var t, i, s, r, n = {}, o = e || a.location.href; if ("string" == typeof o && o.length) for (r = (i = (o = o.indexOf("?") > -1 ? o.replace(/\S*\?/, "") : "").split("&").filter((function (e) { return "" !== e }))).length, t = 0; t < r; t += 1)s = i[t].replace(/#\S+/g, "").split("="), n[decodeURIComponent(s[0])] = void 0 === s[1] ? void 0 : decodeURIComponent(s[1]) || ""; return n }, isObject: function (e) { return "object" == typeof e && null !== e && e.constructor && e.constructor === Object }, extend: function () { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; for (var i = Object(e[0]), s = 1; s < e.length; s += 1) { var a = e[s]; if (null != a) for (var r = Object.keys(Object(a)), n = 0, o = r.length; n < o; n += 1) { var l = r[n], h = Object.getOwnPropertyDescriptor(a, l); void 0 !== h && h.enumerable && (d.isObject(i[l]) && d.isObject(a[l]) ? d.extend(i[l], a[l]) : !d.isObject(i[l]) && d.isObject(a[l]) ? (i[l] = {}, d.extend(i[l], a[l])) : i[l] = a[l]) } } return i } }, h = { touch: !!("ontouchstart" in a || a.DocumentTouch && i instanceof a.DocumentTouch), pointerEvents: !!a.PointerEvent && "maxTouchPoints" in a.navigator && a.navigator.maxTouchPoints >= 0, observer: "MutationObserver" in a || "WebkitMutationObserver" in a, passiveListener: function () { var e = !1; try { var t = Object.defineProperty({}, "passive", { get: function () { e = !0 } }); a.addEventListener("testPassiveListener", null, t) } catch (e) { } return e }(), gestures: "ongesturestart" in a }, p = function (e) { void 0 === e && (e = {}); var t = this; t.params = e, t.eventsListeners = {}, t.params && t.params.on && Object.keys(t.params.on).forEach((function (e) { t.on(e, t.params.on[e]) })) }, c = { components: { configurable: !0 } }; p.prototype.on = function (e, t, i) { var s = this; if ("function" != typeof t) return s; var a = i ? "unshift" : "push"; return e.split(" ").forEach((function (e) { s.eventsListeners[e] || (s.eventsListeners[e] = []), s.eventsListeners[e][a](t) })), s }, p.prototype.once = function (e, t, i) { var s = this; if ("function" != typeof t) return s; function a() { for (var i = [], r = arguments.length; r--;)i[r] = arguments[r]; s.off(e, a), a.f7proxy && delete a.f7proxy, t.apply(s, i) } return a.f7proxy = t, s.on(e, a, i) }, p.prototype.off = function (e, t) { var i = this; return i.eventsListeners ? (e.split(" ").forEach((function (e) { void 0 === t ? i.eventsListeners[e] = [] : i.eventsListeners[e] && i.eventsListeners[e].length && i.eventsListeners[e].forEach((function (s, a) { (s === t || s.f7proxy && s.f7proxy === t) && i.eventsListeners[e].splice(a, 1) })) })), i) : i }, p.prototype.emit = function () { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; var i, s, a, r = this; if (!r.eventsListeners) return r; "string" == typeof e[0] || Array.isArray(e[0]) ? (i = e[0], s = e.slice(1, e.length), a = r) : (i = e[0].events, s = e[0].data, a = e[0].context || r); var n = Array.isArray(i) ? i : i.split(" "); return n.forEach((function (e) { if (r.eventsListeners && r.eventsListeners[e]) { var t = []; r.eventsListeners[e].forEach((function (e) { t.push(e) })), t.forEach((function (e) { e.apply(a, s) })) } })), r }, p.prototype.useModulesParams = function (e) { var t = this; t.modules && Object.keys(t.modules).forEach((function (i) { var s = t.modules[i]; s.params && d.extend(e, s.params) })) }, p.prototype.useModules = function (e) { void 0 === e && (e = {}); var t = this; t.modules && Object.keys(t.modules).forEach((function (i) { var s = t.modules[i], a = e[i] || {}; s.instance && Object.keys(s.instance).forEach((function (e) { var i = s.instance[e]; t[e] = "function" == typeof i ? i.bind(t) : i })), s.on && t.on && Object.keys(s.on).forEach((function (e) { t.on(e, s.on[e]) })), s.create && s.create.bind(t)(a) })) }, c.components.set = function (e) { this.use && this.use(e) }, p.installModule = function (e) { for (var t = [], i = arguments.length - 1; i-- > 0;)t[i] = arguments[i + 1]; var s = this; s.prototype.modules || (s.prototype.modules = {}); var a = e.name || Object.keys(s.prototype.modules).length + "_" + d.now(); return s.prototype.modules[a] = e, e.proto && Object.keys(e.proto).forEach((function (t) { s.prototype[t] = e.proto[t] })), e.static && Object.keys(e.static).forEach((function (t) { s[t] = e.static[t] })), e.install && e.install.apply(s, t), s }, p.use = function (e) { for (var t = [], i = arguments.length - 1; i-- > 0;)t[i] = arguments[i + 1]; var s = this; return Array.isArray(e) ? (e.forEach((function (e) { return s.installModule(e) })), s) : s.installModule.apply(s, [e].concat(t)) }, Object.defineProperties(p, c); var u = { updateSize: function () { var e, t, i = this.$el; e = void 0 !== this.params.width ? this.params.width : i[0].clientWidth, t = void 0 !== this.params.height ? this.params.height : i[0].clientHeight, 0 === e && this.isHorizontal() || 0 === t && this.isVertical() || (e = e - parseInt(i.css("padding-left"), 10) - parseInt(i.css("padding-right"), 10), t = t - parseInt(i.css("padding-top"), 10) - parseInt(i.css("padding-bottom"), 10), d.extend(this, { width: e, height: t, size: this.isHorizontal() ? e : t })) }, updateSlides: function () { var e = this.params, t = this.$wrapperEl, i = this.size, s = this.rtlTranslate, r = this.wrongRTL, n = this.virtual && e.virtual.enabled, o = n ? this.virtual.slides.length : this.slides.length, l = t.children("." + this.params.slideClass), h = n ? this.virtual.slides.length : l.length, p = [], c = [], u = []; function v(t) { return !e.cssMode || t !== l.length - 1 } var f = e.slidesOffsetBefore; "function" == typeof f && (f = e.slidesOffsetBefore.call(this)); var m = e.slidesOffsetAfter; "function" == typeof m && (m = e.slidesOffsetAfter.call(this)); var g = this.snapGrid.length, b = this.snapGrid.length, w = e.spaceBetween, y = -f, x = 0, E = 0; if (void 0 !== i) { var T, S; "string" == typeof w && w.indexOf("%") >= 0 && (w = parseFloat(w.replace("%", "")) / 100 * i), this.virtualSize = -w, s ? l.css({ marginLeft: "", marginTop: "" }) : l.css({ marginRight: "", marginBottom: "" }), e.slidesPerColumn > 1 && (T = Math.floor(h / e.slidesPerColumn) === h / this.params.slidesPerColumn ? h : Math.ceil(h / e.slidesPerColumn) * e.slidesPerColumn, "auto" !== e.slidesPerView && "row" === e.slidesPerColumnFill && (T = Math.max(T, e.slidesPerView * e.slidesPerColumn))); for (var C, M = e.slidesPerColumn, P = T / M, z = Math.floor(h / e.slidesPerColumn), k = 0; k < h; k += 1) { S = 0; var $ = l.eq(k); if (e.slidesPerColumn > 1) { var L = void 0, I = void 0, O = void 0; if ("row" === e.slidesPerColumnFill && e.slidesPerGroup > 1) { var D = Math.floor(k / (e.slidesPerGroup * e.slidesPerColumn)), A = k - e.slidesPerColumn * e.slidesPerGroup * D, G = 0 === D ? e.slidesPerGroup : Math.min(Math.ceil((h - D * M * e.slidesPerGroup) / M), e.slidesPerGroup); L = (I = A - (O = Math.floor(A / G)) * G + D * e.slidesPerGroup) + O * T / M, $.css({ "-webkit-box-ordinal-group": L, "-moz-box-ordinal-group": L, "-ms-flex-order": L, "-webkit-order": L, order: L }) } else "column" === e.slidesPerColumnFill ? (O = k - (I = Math.floor(k / M)) * M, (I > z || I === z && O === M - 1) && (O += 1) >= M && (O = 0, I += 1)) : I = k - (O = Math.floor(k / P)) * P; $.css("margin-" + (this.isHorizontal() ? "top" : "left"), 0 !== O && e.spaceBetween && e.spaceBetween + "px") } if ("none" !== $.css("display")) { if ("auto" === e.slidesPerView) { var H = a.getComputedStyle($[0], null), B = $[0].style.transform, N = $[0].style.webkitTransform; if (B && ($[0].style.transform = "none"), N && ($[0].style.webkitTransform = "none"), e.roundLengths) S = this.isHorizontal() ? $.outerWidth(!0) : $.outerHeight(!0); else if (this.isHorizontal()) { var X = parseFloat(H.getPropertyValue("width")), V = parseFloat(H.getPropertyValue("padding-left")), Y = parseFloat(H.getPropertyValue("padding-right")), F = parseFloat(H.getPropertyValue("margin-left")), W = parseFloat(H.getPropertyValue("margin-right")), R = H.getPropertyValue("box-sizing"); S = R && "border-box" === R ? X + F + W : X + V + Y + F + W } else { var q = parseFloat(H.getPropertyValue("height")), j = parseFloat(H.getPropertyValue("padding-top")), K = parseFloat(H.getPropertyValue("padding-bottom")), U = parseFloat(H.getPropertyValue("margin-top")), _ = parseFloat(H.getPropertyValue("margin-bottom")), Z = H.getPropertyValue("box-sizing"); S = Z && "border-box" === Z ? q + U + _ : q + j + K + U + _ } B && ($[0].style.transform = B), N && ($[0].style.webkitTransform = N), e.roundLengths && (S = Math.floor(S)) } else S = (i - (e.slidesPerView - 1) * w) / e.slidesPerView, e.roundLengths && (S = Math.floor(S)), l[k] && (this.isHorizontal() ? l[k].style.width = S + "px" : l[k].style.height = S + "px"); l[k] && (l[k].swiperSlideSize = S), u.push(S), e.centeredSlides ? (y = y + S / 2 + x / 2 + w, 0 === x && 0 !== k && (y = y - i / 2 - w), 0 === k && (y = y - i / 2 - w), Math.abs(y) < .001 && (y = 0), e.roundLengths && (y = Math.floor(y)), E % e.slidesPerGroup == 0 && p.push(y), c.push(y)) : (e.roundLengths && (y = Math.floor(y)), (E - Math.min(this.params.slidesPerGroupSkip, E)) % this.params.slidesPerGroup == 0 && p.push(y), c.push(y), y = y + S + w), this.virtualSize += S + w, x = S, E += 1 } } if (this.virtualSize = Math.max(this.virtualSize, i) + m, s && r && ("slide" === e.effect || "coverflow" === e.effect) && t.css({ width: this.virtualSize + e.spaceBetween + "px" }), e.setWrapperSize && (this.isHorizontal() ? t.css({ width: this.virtualSize + e.spaceBetween + "px" }) : t.css({ height: this.virtualSize + e.spaceBetween + "px" })), e.slidesPerColumn > 1 && (this.virtualSize = (S + e.spaceBetween) * T, this.virtualSize = Math.ceil(this.virtualSize / e.slidesPerColumn) - e.spaceBetween, this.isHorizontal() ? t.css({ width: this.virtualSize + e.spaceBetween + "px" }) : t.css({ height: this.virtualSize + e.spaceBetween + "px" }), e.centeredSlides)) { C = []; for (var Q = 0; Q < p.length; Q += 1) { var J = p[Q]; e.roundLengths && (J = Math.floor(J)), p[Q] < this.virtualSize + p[0] && C.push(J) } p = C } if (!e.centeredSlides) { C = []; for (var ee = 0; ee < p.length; ee += 1) { var te = p[ee]; e.roundLengths && (te = Math.floor(te)), p[ee] <= this.virtualSize - i && C.push(te) } p = C, Math.floor(this.virtualSize - i) - Math.floor(p[p.length - 1]) > 1 && p.push(this.virtualSize - i) } if (0 === p.length && (p = [0]), 0 !== e.spaceBetween && (this.isHorizontal() ? s ? l.filter(v).css({ marginLeft: w + "px" }) : l.filter(v).css({ marginRight: w + "px" }) : l.filter(v).css({ marginBottom: w + "px" })), e.centeredSlides && e.centeredSlidesBounds) { var ie = 0; u.forEach((function (t) { ie += t + (e.spaceBetween ? e.spaceBetween : 0) })); var se = (ie -= e.spaceBetween) - i; p = p.map((function (e) { return e < 0 ? -f : e > se ? se + m : e })) } if (e.centerInsufficientSlides) { var ae = 0; if (u.forEach((function (t) { ae += t + (e.spaceBetween ? e.spaceBetween : 0) })), (ae -= e.spaceBetween) < i) { var re = (i - ae) / 2; p.forEach((function (e, t) { p[t] = e - re })), c.forEach((function (e, t) { c[t] = e + re })) } } d.extend(this, { slides: l, snapGrid: p, slidesGrid: c, slidesSizesGrid: u }), h !== o && this.emit("slidesLengthChange"), p.length !== g && (this.params.watchOverflow && this.checkOverflow(), this.emit("snapGridLengthChange")), c.length !== b && this.emit("slidesGridLengthChange"), (e.watchSlidesProgress || e.watchSlidesVisibility) && this.updateSlidesOffset() } }, updateAutoHeight: function (e) { var t, i = [], s = 0; if ("number" == typeof e ? this.setTransition(e) : !0 === e && this.setTransition(this.params.speed), "auto" !== this.params.slidesPerView && this.params.slidesPerView > 1) if (this.params.centeredSlides) this.visibleSlides.each((function (e, t) { i.push(t) })); else for (t = 0; t < Math.ceil(this.params.slidesPerView); t += 1) { var a = this.activeIndex + t; if (a > this.slides.length) break; i.push(this.slides.eq(a)[0]) } else i.push(this.slides.eq(this.activeIndex)[0]); for (t = 0; t < i.length; t += 1)if (void 0 !== i[t]) { var r = i[t].offsetHeight; s = r > s ? r : s } s && this.$wrapperEl.css("height", s + "px") }, updateSlidesOffset: function () { for (var e = this.slides, t = 0; t < e.length; t += 1)e[t].swiperSlideOffset = this.isHorizontal() ? e[t].offsetLeft : e[t].offsetTop }, updateSlidesProgress: function (e) { void 0 === e && (e = this && this.translate || 0); var t = this.params, i = this.slides, s = this.rtlTranslate; if (0 !== i.length) { void 0 === i[0].swiperSlideOffset && this.updateSlidesOffset(); var a = -e; s && (a = e), i.removeClass(t.slideVisibleClass), this.visibleSlidesIndexes = [], this.visibleSlides = []; for (var r = 0; r < i.length; r += 1) { var o = i[r], l = (a + (t.centeredSlides ? this.minTranslate() : 0) - o.swiperSlideOffset) / (o.swiperSlideSize + t.spaceBetween); if (t.watchSlidesVisibility || t.centeredSlides && t.autoHeight) { var d = -(a - o.swiperSlideOffset), h = d + this.slidesSizesGrid[r]; (d >= 0 && d < this.size - 1 || h > 1 && h <= this.size || d <= 0 && h >= this.size) && (this.visibleSlides.push(o), this.visibleSlidesIndexes.push(r), i.eq(r).addClass(t.slideVisibleClass)) } o.progress = s ? -l : l } this.visibleSlides = n(this.visibleSlides) } }, updateProgress: function (e) { if (void 0 === e) { var t = this.rtlTranslate ? -1 : 1; e = this && this.translate && this.translate * t || 0 } var i = this.params, s = this.maxTranslate() - this.minTranslate(), a = this.progress, r = this.isBeginning, n = this.isEnd, o = r, l = n; 0 === s ? (a = 0, r = !0, n = !0) : (r = (a = (e - this.minTranslate()) / s) <= 0, n = a >= 1), d.extend(this, { progress: a, isBeginning: r, isEnd: n }), (i.watchSlidesProgress || i.watchSlidesVisibility || i.centeredSlides && i.autoHeight) && this.updateSlidesProgress(e), r && !o && this.emit("reachBeginning toEdge"), n && !l && this.emit("reachEnd toEdge"), (o && !r || l && !n) && this.emit("fromEdge"), this.emit("progress", a) }, updateSlidesClasses: function () { var e, t = this.slides, i = this.params, s = this.$wrapperEl, a = this.activeIndex, r = this.realIndex, n = this.virtual && i.virtual.enabled; t.removeClass(i.slideActiveClass + " " + i.slideNextClass + " " + i.slidePrevClass + " " + i.slideDuplicateActiveClass + " " + i.slideDuplicateNextClass + " " + i.slideDuplicatePrevClass), (e = n ? this.$wrapperEl.find("." + i.slideClass + '[data-swiper-slide-index="' + a + '"]') : t.eq(a)).addClass(i.slideActiveClass), i.loop && (e.hasClass(i.slideDuplicateClass) ? s.children("." + i.slideClass + ":not(." + i.slideDuplicateClass + ')[data-swiper-slide-index="' + r + '"]').addClass(i.slideDuplicateActiveClass) : s.children("." + i.slideClass + "." + i.slideDuplicateClass + '[data-swiper-slide-index="' + r + '"]').addClass(i.slideDuplicateActiveClass)); var o = e.nextAll("." + i.slideClass).eq(0).addClass(i.slideNextClass); i.loop && 0 === o.length && (o = t.eq(0)).addClass(i.slideNextClass); var l = e.prevAll("." + i.slideClass).eq(0).addClass(i.slidePrevClass); i.loop && 0 === l.length && (l = t.eq(-1)).addClass(i.slidePrevClass), i.loop && (o.hasClass(i.slideDuplicateClass) ? s.children("." + i.slideClass + ":not(." + i.slideDuplicateClass + ')[data-swiper-slide-index="' + o.attr("data-swiper-slide-index") + '"]').addClass(i.slideDuplicateNextClass) : s.children("." + i.slideClass + "." + i.slideDuplicateClass + '[data-swiper-slide-index="' + o.attr("data-swiper-slide-index") + '"]').addClass(i.slideDuplicateNextClass), l.hasClass(i.slideDuplicateClass) ? s.children("." + i.slideClass + ":not(." + i.slideDuplicateClass + ')[data-swiper-slide-index="' + l.attr("data-swiper-slide-index") + '"]').addClass(i.slideDuplicatePrevClass) : s.children("." + i.slideClass + "." + i.slideDuplicateClass + '[data-swiper-slide-index="' + l.attr("data-swiper-slide-index") + '"]').addClass(i.slideDuplicatePrevClass)) }, updateActiveIndex: function (e) { var t, i = this.rtlTranslate ? this.translate : -this.translate, s = this.slidesGrid, a = this.snapGrid, r = this.params, n = this.activeIndex, o = this.realIndex, l = this.snapIndex, h = e; if (void 0 === h) { for (var p = 0; p < s.length; p += 1)void 0 !== s[p + 1] ? i >= s[p] && i < s[p + 1] - (s[p + 1] - s[p]) / 2 ? h = p : i >= s[p] && i < s[p + 1] && (h = p + 1) : i >= s[p] && (h = p); r.normalizeSlideIndex && (h < 0 || void 0 === h) && (h = 0) } if (a.indexOf(i) >= 0) t = a.indexOf(i); else { var c = Math.min(r.slidesPerGroupSkip, h); t = c + Math.floor((h - c) / r.slidesPerGroup) } if (t >= a.length && (t = a.length - 1), h !== n) { var u = parseInt(this.slides.eq(h).attr("data-swiper-slide-index") || h, 10); d.extend(this, { snapIndex: t, realIndex: u, previousIndex: n, activeIndex: h }), this.emit("activeIndexChange"), this.emit("snapIndexChange"), o !== u && this.emit("realIndexChange"), (this.initialized || this.params.runCallbacksOnInit) && this.emit("slideChange") } else t !== l && (this.snapIndex = t, this.emit("snapIndexChange")) }, updateClickedSlide: function (e) { var t = this.params, i = n(e.target).closest("." + t.slideClass)[0], s = !1; if (i) for (var a = 0; a < this.slides.length; a += 1)this.slides[a] === i && (s = !0); if (!i || !s) return this.clickedSlide = void 0, void (this.clickedIndex = void 0); this.clickedSlide = i, this.virtual && this.params.virtual.enabled ? this.clickedIndex = parseInt(n(i).attr("data-swiper-slide-index"), 10) : this.clickedIndex = n(i).index(), t.slideToClickedSlide && void 0 !== this.clickedIndex && this.clickedIndex !== this.activeIndex && this.slideToClickedSlide() } }; var v = { getTranslate: function (e) { void 0 === e && (e = this.isHorizontal() ? "x" : "y"); var t = this.params, i = this.rtlTranslate, s = this.translate, a = this.$wrapperEl; if (t.virtualTranslate) return i ? -s : s; if (t.cssMode) return s; var r = d.getTranslate(a[0], e); return i && (r = -r), r || 0 }, setTranslate: function (e, t) { var i = this.rtlTranslate, s = this.params, a = this.$wrapperEl, r = this.wrapperEl, n = this.progress, o = 0, l = 0; this.isHorizontal() ? o = i ? -e : e : l = e, s.roundLengths && (o = Math.floor(o), l = Math.floor(l)), s.cssMode ? r[this.isHorizontal() ? "scrollLeft" : "scrollTop"] = this.isHorizontal() ? -o : -l : s.virtualTranslate || a.transform("translate3d(" + o + "px, " + l + "px, 0px)"), this.previousTranslate = this.translate, this.translate = this.isHorizontal() ? o : l; var d = this.maxTranslate() - this.minTranslate(); (0 === d ? 0 : (e - this.minTranslate()) / d) !== n && this.updateProgress(e), this.emit("setTranslate", this.translate, t) }, minTranslate: function () { return -this.snapGrid[0] }, maxTranslate: function () { return -this.snapGrid[this.snapGrid.length - 1] }, translateTo: function (e, t, i, s, a) { var r; void 0 === e && (e = 0), void 0 === t && (t = this.params.speed), void 0 === i && (i = !0), void 0 === s && (s = !0); var n = this, o = n.params, l = n.wrapperEl; if (n.animating && o.preventInteractionOnTransition) return !1; var d, h = n.minTranslate(), p = n.maxTranslate(); if (d = s && e > h ? h : s && e < p ? p : e, n.updateProgress(d), o.cssMode) { var c = n.isHorizontal(); return 0 === t ? l[c ? "scrollLeft" : "scrollTop"] = -d : l.scrollTo ? l.scrollTo(((r = {})[c ? "left" : "top"] = -d, r.behavior = "smooth", r)) : l[c ? "scrollLeft" : "scrollTop"] = -d, !0 } return 0 === t ? (n.setTransition(0), n.setTranslate(d), i && (n.emit("beforeTransitionStart", t, a), n.emit("transitionEnd"))) : (n.setTransition(t), n.setTranslate(d), i && (n.emit("beforeTransitionStart", t, a), n.emit("transitionStart")), n.animating || (n.animating = !0, n.onTranslateToWrapperTransitionEnd || (n.onTranslateToWrapperTransitionEnd = function (e) { n && !n.destroyed && e.target === this && (n.$wrapperEl[0].removeEventListener("transitionend", n.onTranslateToWrapperTransitionEnd), n.$wrapperEl[0].removeEventListener("webkitTransitionEnd", n.onTranslateToWrapperTransitionEnd), n.onTranslateToWrapperTransitionEnd = null, delete n.onTranslateToWrapperTransitionEnd, i && n.emit("transitionEnd")) }), n.$wrapperEl[0].addEventListener("transitionend", n.onTranslateToWrapperTransitionEnd), n.$wrapperEl[0].addEventListener("webkitTransitionEnd", n.onTranslateToWrapperTransitionEnd))), !0 } }; var f = { setTransition: function (e, t) { this.params.cssMode || this.$wrapperEl.transition(e), this.emit("setTransition", e, t) }, transitionStart: function (e, t) { void 0 === e && (e = !0); var i = this.activeIndex, s = this.params, a = this.previousIndex; if (!s.cssMode) { s.autoHeight && this.updateAutoHeight(); var r = t; if (r || (r = i > a ? "next" : i < a ? "prev" : "reset"), this.emit("transitionStart"), e && i !== a) { if ("reset" === r) return void this.emit("slideResetTransitionStart"); this.emit("slideChangeTransitionStart"), "next" === r ? this.emit("slideNextTransitionStart") : this.emit("slidePrevTransitionStart") } } }, transitionEnd: function (e, t) { void 0 === e && (e = !0); var i = this.activeIndex, s = this.previousIndex, a = this.params; if (this.animating = !1, !a.cssMode) { this.setTransition(0); var r = t; if (r || (r = i > s ? "next" : i < s ? "prev" : "reset"), this.emit("transitionEnd"), e && i !== s) { if ("reset" === r) return void this.emit("slideResetTransitionEnd"); this.emit("slideChangeTransitionEnd"), "next" === r ? this.emit("slideNextTransitionEnd") : this.emit("slidePrevTransitionEnd") } } } }; var m = { slideTo: function (e, t, i, s) { var a; void 0 === e && (e = 0), void 0 === t && (t = this.params.speed), void 0 === i && (i = !0); var r = this, n = e; n < 0 && (n = 0); var o = r.params, l = r.snapGrid, d = r.slidesGrid, h = r.previousIndex, p = r.activeIndex, c = r.rtlTranslate, u = r.wrapperEl; if (r.animating && o.preventInteractionOnTransition) return !1; var v = Math.min(r.params.slidesPerGroupSkip, n), f = v + Math.floor((n - v) / r.params.slidesPerGroup); f >= l.length && (f = l.length - 1), (p || o.initialSlide || 0) === (h || 0) && i && r.emit("beforeSlideChangeStart"); var m, g = -l[f]; if (r.updateProgress(g), o.normalizeSlideIndex) for (var b = 0; b < d.length; b += 1)-Math.floor(100 * g) >= Math.floor(100 * d[b]) && (n = b); if (r.initialized && n !== p) { if (!r.allowSlideNext && g < r.translate && g < r.minTranslate()) return !1; if (!r.allowSlidePrev && g > r.translate && g > r.maxTranslate() && (p || 0) !== n) return !1 } if (m = n > p ? "next" : n < p ? "prev" : "reset", c && -g === r.translate || !c && g === r.translate) return r.updateActiveIndex(n), o.autoHeight && r.updateAutoHeight(), r.updateSlidesClasses(), "slide" !== o.effect && r.setTranslate(g), "reset" !== m && (r.transitionStart(i, m), r.transitionEnd(i, m)), !1; if (o.cssMode) { var w = r.isHorizontal(), y = -g; return c && (y = u.scrollWidth - u.offsetWidth - y), 0 === t ? u[w ? "scrollLeft" : "scrollTop"] = y : u.scrollTo ? u.scrollTo(((a = {})[w ? "left" : "top"] = y, a.behavior = "smooth", a)) : u[w ? "scrollLeft" : "scrollTop"] = y, !0 } return 0 === t ? (r.setTransition(0), r.setTranslate(g), r.updateActiveIndex(n), r.updateSlidesClasses(), r.emit("beforeTransitionStart", t, s), r.transitionStart(i, m), r.transitionEnd(i, m)) : (r.setTransition(t), r.setTranslate(g), r.updateActiveIndex(n), r.updateSlidesClasses(), r.emit("beforeTransitionStart", t, s), r.transitionStart(i, m), r.animating || (r.animating = !0, r.onSlideToWrapperTransitionEnd || (r.onSlideToWrapperTransitionEnd = function (e) { r && !r.destroyed && e.target === this && (r.$wrapperEl[0].removeEventListener("transitionend", r.onSlideToWrapperTransitionEnd), r.$wrapperEl[0].removeEventListener("webkitTransitionEnd", r.onSlideToWrapperTransitionEnd), r.onSlideToWrapperTransitionEnd = null, delete r.onSlideToWrapperTransitionEnd, r.transitionEnd(i, m)) }), r.$wrapperEl[0].addEventListener("transitionend", r.onSlideToWrapperTransitionEnd), r.$wrapperEl[0].addEventListener("webkitTransitionEnd", r.onSlideToWrapperTransitionEnd))), !0 }, slideToLoop: function (e, t, i, s) { void 0 === e && (e = 0), void 0 === t && (t = this.params.speed), void 0 === i && (i = !0); var a = e; return this.params.loop && (a += this.loopedSlides), this.slideTo(a, t, i, s) }, slideNext: function (e, t, i) { void 0 === e && (e = this.params.speed), void 0 === t && (t = !0); var s = this.params, a = this.animating, r = this.activeIndex < s.slidesPerGroupSkip ? 1 : s.slidesPerGroup; if (s.loop) { if (a) return !1; this.loopFix(), this._clientLeft = this.$wrapperEl[0].clientLeft } return this.slideTo(this.activeIndex + r, e, t, i) }, slidePrev: function (e, t, i) { void 0 === e && (e = this.params.speed), void 0 === t && (t = !0); var s = this.params, a = this.animating, r = this.snapGrid, n = this.slidesGrid, o = this.rtlTranslate; if (s.loop) { if (a) return !1; this.loopFix(), this._clientLeft = this.$wrapperEl[0].clientLeft } function l(e) { return e < 0 ? -Math.floor(Math.abs(e)) : Math.floor(e) } var d, h = l(o ? this.translate : -this.translate), p = r.map((function (e) { return l(e) })), c = (n.map((function (e) { return l(e) })), r[p.indexOf(h)], r[p.indexOf(h) - 1]); return void 0 === c && s.cssMode && r.forEach((function (e) { !c && h >= e && (c = e) })), void 0 !== c && (d = n.indexOf(c)) < 0 && (d = this.activeIndex - 1), this.slideTo(d, e, t, i) }, slideReset: function (e, t, i) { return void 0 === e && (e = this.params.speed), void 0 === t && (t = !0), this.slideTo(this.activeIndex, e, t, i) }, slideToClosest: function (e, t, i, s) { void 0 === e && (e = this.params.speed), void 0 === t && (t = !0), void 0 === s && (s = .5); var a = this.activeIndex, r = Math.min(this.params.slidesPerGroupSkip, a), n = r + Math.floor((a - r) / this.params.slidesPerGroup), o = this.rtlTranslate ? this.translate : -this.translate; if (o >= this.snapGrid[n]) { var l = this.snapGrid[n]; o - l > (this.snapGrid[n + 1] - l) * s && (a += this.params.slidesPerGroup) } else { var d = this.snapGrid[n - 1]; o - d <= (this.snapGrid[n] - d) * s && (a -= this.params.slidesPerGroup) } return a = Math.max(a, 0), a = Math.min(a, this.slidesGrid.length - 1), this.slideTo(a, e, t, i) }, slideToClickedSlide: function () { var e, t = this, i = t.params, s = t.$wrapperEl, a = "auto" === i.slidesPerView ? t.slidesPerViewDynamic() : i.slidesPerView, r = t.clickedIndex; if (i.loop) { if (t.animating) return; e = parseInt(n(t.clickedSlide).attr("data-swiper-slide-index"), 10), i.centeredSlides ? r < t.loopedSlides - a / 2 || r > t.slides.length - t.loopedSlides + a / 2 ? (t.loopFix(), r = s.children("." + i.slideClass + '[data-swiper-slide-index="' + e + '"]:not(.' + i.slideDuplicateClass + ")").eq(0).index(), d.nextTick((function () { t.slideTo(r) }))) : t.slideTo(r) : r > t.slides.length - a ? (t.loopFix(), r = s.children("." + i.slideClass + '[data-swiper-slide-index="' + e + '"]:not(.' + i.slideDuplicateClass + ")").eq(0).index(), d.nextTick((function () { t.slideTo(r) }))) : t.slideTo(r) } else t.slideTo(r) } }; var g = { loopCreate: function () { var e = this, t = e.params, s = e.$wrapperEl; s.children("." + t.slideClass + "." + t.slideDuplicateClass).remove(); var a = s.children("." + t.slideClass); if (t.loopFillGroupWithBlank) { var r = t.slidesPerGroup - a.length % t.slidesPerGroup; if (r !== t.slidesPerGroup) { for (var o = 0; o < r; o += 1) { var l = n(i.createElement("div")).addClass(t.slideClass + " " + t.slideBlankClass); s.append(l) } a = s.children("." + t.slideClass) } } "auto" !== t.slidesPerView || t.loopedSlides || (t.loopedSlides = a.length), e.loopedSlides = Math.ceil(parseFloat(t.loopedSlides || t.slidesPerView, 10)), e.loopedSlides += t.loopAdditionalSlides, e.loopedSlides > a.length && (e.loopedSlides = a.length); var d = [], h = []; a.each((function (t, i) { var s = n(i); t < e.loopedSlides && h.push(i), t < a.length && t >= a.length - e.loopedSlides && d.push(i), s.attr("data-swiper-slide-index", t) })); for (var p = 0; p < h.length; p += 1)s.append(n(h[p].cloneNode(!0)).addClass(t.slideDuplicateClass)); for (var c = d.length - 1; c >= 0; c -= 1)s.prepend(n(d[c].cloneNode(!0)).addClass(t.slideDuplicateClass)) }, loopFix: function () { this.emit("beforeLoopFix"); var e, t = this.activeIndex, i = this.slides, s = this.loopedSlides, a = this.allowSlidePrev, r = this.allowSlideNext, n = this.snapGrid, o = this.rtlTranslate; this.allowSlidePrev = !0, this.allowSlideNext = !0; var l = -n[t] - this.getTranslate(); if (t < s) e = i.length - 3 * s + t, e += s, this.slideTo(e, 0, !1, !0) && 0 !== l && this.setTranslate((o ? -this.translate : this.translate) - l); else if (t >= i.length - s) { e = -i.length + t + s, e += s, this.slideTo(e, 0, !1, !0) && 0 !== l && this.setTranslate((o ? -this.translate : this.translate) - l) } this.allowSlidePrev = a, this.allowSlideNext = r, this.emit("loopFix") }, loopDestroy: function () { var e = this.$wrapperEl, t = this.params, i = this.slides; e.children("." + t.slideClass + "." + t.slideDuplicateClass + ",." + t.slideClass + "." + t.slideBlankClass).remove(), i.removeAttr("data-swiper-slide-index") } }; var b = { setGrabCursor: function (e) { if (!(h.touch || !this.params.simulateTouch || this.params.watchOverflow && this.isLocked || this.params.cssMode)) { var t = this.el; t.style.cursor = "move", t.style.cursor = e ? "-webkit-grabbing" : "-webkit-grab", t.style.cursor = e ? "-moz-grabbin" : "-moz-grab", t.style.cursor = e ? "grabbing" : "grab" } }, unsetGrabCursor: function () { h.touch || this.params.watchOverflow && this.isLocked || this.params.cssMode || (this.el.style.cursor = "") } }; var w, y, x, E, T, S, C, M, P, z, k, $, L, I, O, D = { appendSlide: function (e) { var t = this.$wrapperEl, i = this.params; if (i.loop && this.loopDestroy(), "object" == typeof e && "length" in e) for (var s = 0; s < e.length; s += 1)e[s] && t.append(e[s]); else t.append(e); i.loop && this.loopCreate(), i.observer && h.observer || this.update() }, prependSlide: function (e) { var t = this.params, i = this.$wrapperEl, s = this.activeIndex; t.loop && this.loopDestroy(); var a = s + 1; if ("object" == typeof e && "length" in e) { for (var r = 0; r < e.length; r += 1)e[r] && i.prepend(e[r]); a = s + e.length } else i.prepend(e); t.loop && this.loopCreate(), t.observer && h.observer || this.update(), this.slideTo(a, 0, !1) }, addSlide: function (e, t) { var i = this.$wrapperEl, s = this.params, a = this.activeIndex; s.loop && (a -= this.loopedSlides, this.loopDestroy(), this.slides = i.children("." + s.slideClass)); var r = this.slides.length; if (e <= 0) this.prependSlide(t); else if (e >= r) this.appendSlide(t); else { for (var n = a > e ? a + 1 : a, o = [], l = r - 1; l >= e; l -= 1) { var d = this.slides.eq(l); d.remove(), o.unshift(d) } if ("object" == typeof t && "length" in t) { for (var p = 0; p < t.length; p += 1)t[p] && i.append(t[p]); n = a > e ? a + t.length : a } else i.append(t); for (var c = 0; c < o.length; c += 1)i.append(o[c]); s.loop && this.loopCreate(), s.observer && h.observer || this.update(), s.loop ? this.slideTo(n + this.loopedSlides, 0, !1) : this.slideTo(n, 0, !1) } }, removeSlide: function (e) { var t = this.params, i = this.$wrapperEl, s = this.activeIndex; t.loop && (s -= this.loopedSlides, this.loopDestroy(), this.slides = i.children("." + t.slideClass)); var a, r = s; if ("object" == typeof e && "length" in e) { for (var n = 0; n < e.length; n += 1)a = e[n], this.slides[a] && this.slides.eq(a).remove(), a < r && (r -= 1); r = Math.max(r, 0) } else a = e, this.slides[a] && this.slides.eq(a).remove(), a < r && (r -= 1), r = Math.max(r, 0); t.loop && this.loopCreate(), t.observer && h.observer || this.update(), t.loop ? this.slideTo(r + this.loopedSlides, 0, !1) : this.slideTo(r, 0, !1) }, removeAllSlides: function () { for (var e = [], t = 0; t < this.slides.length; t += 1)e.push(t); this.removeSlide(e) } }, A = (w = a.navigator.platform, y = a.navigator.userAgent, x = { ios: !1, android: !1, androidChrome: !1, desktop: !1, iphone: !1, ipod: !1, ipad: !1, edge: !1, ie: !1, firefox: !1, macos: !1, windows: !1, cordova: !(!a.cordova && !a.phonegap), phonegap: !(!a.cordova && !a.phonegap), electron: !1 }, E = a.screen.width, T = a.screen.height, S = y.match(/(Android);?[\s\/]+([\d.]+)?/), C = y.match(/(iPad).*OS\s([\d_]+)/), M = y.match(/(iPod)(.*OS\s([\d_]+))?/), P = !C && y.match(/(iPhone\sOS|iOS)\s([\d_]+)/), z = y.indexOf("MSIE ") >= 0 || y.indexOf("Trident/") >= 0, k = y.indexOf("Edge/") >= 0, $ = y.indexOf("Gecko/") >= 0 && y.indexOf("Firefox/") >= 0, L = "Win32" === w, I = y.toLowerCase().indexOf("electron") >= 0, O = "MacIntel" === w, !C && O && h.touch && (1024 === E && 1366 === T || 834 === E && 1194 === T || 834 === E && 1112 === T || 768 === E && 1024 === T) && (C = y.match(/(Version)\/([\d.]+)/), O = !1), x.ie = z, x.edge = k, x.firefox = $, S && !L && (x.os = "android", x.osVersion = S[2], x.android = !0, x.androidChrome = y.toLowerCase().indexOf("chrome") >= 0), (C || P || M) && (x.os = "ios", x.ios = !0), P && !M && (x.osVersion = P[2].replace(/_/g, "."), x.iphone = !0), C && (x.osVersion = C[2].replace(/_/g, "."), x.ipad = !0), M && (x.osVersion = M[3] ? M[3].replace(/_/g, ".") : null, x.ipod = !0), x.ios && x.osVersion && y.indexOf("Version/") >= 0 && "10" === x.osVersion.split(".")[0] && (x.osVersion = y.toLowerCase().split("version/")[1].split(" ")[0]), x.webView = !(!(P || C || M) || !y.match(/.*AppleWebKit(?!.*Safari)/i) && !a.navigator.standalone) || a.matchMedia && a.matchMedia("(display-mode: standalone)").matches, x.webview = x.webView, x.standalone = x.webView, x.desktop = !(x.ios || x.android) || I, x.desktop && (x.electron = I, x.macos = O, x.windows = L, x.macos && (x.os = "macos"), x.windows && (x.os = "windows")), x.pixelRatio = a.devicePixelRatio || 1, x); function G(e) { var t = this.touchEventsData, s = this.params, r = this.touches; if (!this.animating || !s.preventInteractionOnTransition) { var o = e; o.originalEvent && (o = o.originalEvent); var l = n(o.target); if (("wrapper" !== s.touchEventsTarget || l.closest(this.wrapperEl).length) && (t.isTouchEvent = "touchstart" === o.type, (t.isTouchEvent || !("which" in o) || 3 !== o.which) && !(!t.isTouchEvent && "button" in o && o.button > 0 || t.isTouched && t.isMoved))) if (s.noSwiping && l.closest(s.noSwipingSelector ? s.noSwipingSelector : "." + s.noSwipingClass)[0]) this.allowClick = !0; else if (!s.swipeHandler || l.closest(s.swipeHandler)[0]) { r.currentX = "touchstart" === o.type ? o.targetTouches[0].pageX : o.pageX, r.currentY = "touchstart" === o.type ? o.targetTouches[0].pageY : o.pageY; var h = r.currentX, p = r.currentY, c = s.edgeSwipeDetection || s.iOSEdgeSwipeDetection, u = s.edgeSwipeThreshold || s.iOSEdgeSwipeThreshold; if (!c || !(h <= u || h >= a.screen.width - u)) { if (d.extend(t, { isTouched: !0, isMoved: !1, allowTouchCallbacks: !0, isScrolling: void 0, startMoving: void 0 }), r.startX = h, r.startY = p, t.touchStartTime = d.now(), this.allowClick = !0, this.updateSize(), this.swipeDirection = void 0, s.threshold > 0 && (t.allowThresholdMove = !1), "touchstart" !== o.type) { var v = !0; l.is(t.formElements) && (v = !1), i.activeElement && n(i.activeElement).is(t.formElements) && i.activeElement !== l[0] && i.activeElement.blur(); var f = v && this.allowTouchMove && s.touchStartPreventDefault; (s.touchStartForcePreventDefault || f) && o.preventDefault() } this.emit("touchStart", o) } } } } function H(e) { var t = this.touchEventsData, s = this.params, a = this.touches, r = this.rtlTranslate, o = e; if (o.originalEvent && (o = o.originalEvent), t.isTouched) { if (!t.isTouchEvent || "touchmove" === o.type) { var l = "touchmove" === o.type && o.targetTouches && (o.targetTouches[0] || o.changedTouches[0]), h = "touchmove" === o.type ? l.pageX : o.pageX, p = "touchmove" === o.type ? l.pageY : o.pageY; if (o.preventedByNestedSwiper) return a.startX = h, void (a.startY = p); if (!this.allowTouchMove) return this.allowClick = !1, void (t.isTouched && (d.extend(a, { startX: h, startY: p, currentX: h, currentY: p }), t.touchStartTime = d.now())); if (t.isTouchEvent && s.touchReleaseOnEdges && !s.loop) if (this.isVertical()) { if (p < a.startY && this.translate <= this.maxTranslate() || p > a.startY && this.translate >= this.minTranslate()) return t.isTouched = !1, void (t.isMoved = !1) } else if (h < a.startX && this.translate <= this.maxTranslate() || h > a.startX && this.translate >= this.minTranslate()) return; if (t.isTouchEvent && i.activeElement && o.target === i.activeElement && n(o.target).is(t.formElements)) return t.isMoved = !0, void (this.allowClick = !1); if (t.allowTouchCallbacks && this.emit("touchMove", o), !(o.targetTouches && o.targetTouches.length > 1)) { a.currentX = h, a.currentY = p; var c = a.currentX - a.startX, u = a.currentY - a.startY; if (!(this.params.threshold && Math.sqrt(Math.pow(c, 2) + Math.pow(u, 2)) < this.params.threshold)) { var v; if (void 0 === t.isScrolling) this.isHorizontal() && a.currentY === a.startY || this.isVertical() && a.currentX === a.startX ? t.isScrolling = !1 : c * c + u * u >= 25 && (v = 180 * Math.atan2(Math.abs(u), Math.abs(c)) / Math.PI, t.isScrolling = this.isHorizontal() ? v > s.touchAngle : 90 - v > s.touchAngle); if (t.isScrolling && this.emit("touchMoveOpposite", o), void 0 === t.startMoving && (a.currentX === a.startX && a.currentY === a.startY || (t.startMoving = !0)), t.isScrolling) t.isTouched = !1; else if (t.startMoving) { this.allowClick = !1, !s.cssMode && o.cancelable && o.preventDefault(), s.touchMoveStopPropagation && !s.nested && o.stopPropagation(), t.isMoved || (s.loop && this.loopFix(), t.startTranslate = this.getTranslate(), this.setTransition(0), this.animating && this.$wrapperEl.trigger("webkitTransitionEnd transitionend"), t.allowMomentumBounce = !1, !s.grabCursor || !0 !== this.allowSlideNext && !0 !== this.allowSlidePrev || this.setGrabCursor(!0), this.emit("sliderFirstMove", o)), this.emit("sliderMove", o), t.isMoved = !0; var f = this.isHorizontal() ? c : u; a.diff = f, f *= s.touchRatio, r && (f = -f), this.swipeDirection = f > 0 ? "prev" : "next", t.currentTranslate = f + t.startTranslate; var m = !0, g = s.resistanceRatio; if (s.touchReleaseOnEdges && (g = 0), f > 0 && t.currentTranslate > this.minTranslate() ? (m = !1, s.resistance && (t.currentTranslate = this.minTranslate() - 1 + Math.pow(-this.minTranslate() + t.startTranslate + f, g))) : f < 0 && t.currentTranslate < this.maxTranslate() && (m = !1, s.resistance && (t.currentTranslate = this.maxTranslate() + 1 - Math.pow(this.maxTranslate() - t.startTranslate - f, g))), m && (o.preventedByNestedSwiper = !0), !this.allowSlideNext && "next" === this.swipeDirection && t.currentTranslate < t.startTranslate && (t.currentTranslate = t.startTranslate), !this.allowSlidePrev && "prev" === this.swipeDirection && t.currentTranslate > t.startTranslate && (t.currentTranslate = t.startTranslate), s.threshold > 0) { if (!(Math.abs(f) > s.threshold || t.allowThresholdMove)) return void (t.currentTranslate = t.startTranslate); if (!t.allowThresholdMove) return t.allowThresholdMove = !0, a.startX = a.currentX, a.startY = a.currentY, t.currentTranslate = t.startTranslate, void (a.diff = this.isHorizontal() ? a.currentX - a.startX : a.currentY - a.startY) } s.followFinger && !s.cssMode && ((s.freeMode || s.watchSlidesProgress || s.watchSlidesVisibility) && (this.updateActiveIndex(), this.updateSlidesClasses()), s.freeMode && (0 === t.velocities.length && t.velocities.push({ position: a[this.isHorizontal() ? "startX" : "startY"], time: t.touchStartTime }), t.velocities.push({ position: a[this.isHorizontal() ? "currentX" : "currentY"], time: d.now() })), this.updateProgress(t.currentTranslate), this.setTranslate(t.currentTranslate)) } } } } } else t.startMoving && t.isScrolling && this.emit("touchMoveOpposite", o) } function B(e) { var t = this, i = t.touchEventsData, s = t.params, a = t.touches, r = t.rtlTranslate, n = t.$wrapperEl, o = t.slidesGrid, l = t.snapGrid, h = e; if (h.originalEvent && (h = h.originalEvent), i.allowTouchCallbacks && t.emit("touchEnd", h), i.allowTouchCallbacks = !1, !i.isTouched) return i.isMoved && s.grabCursor && t.setGrabCursor(!1), i.isMoved = !1, void (i.startMoving = !1); s.grabCursor && i.isMoved && i.isTouched && (!0 === t.allowSlideNext || !0 === t.allowSlidePrev) && t.setGrabCursor(!1); var p, c = d.now(), u = c - i.touchStartTime; if (t.allowClick && (t.updateClickedSlide(h), t.emit("tap click", h), u < 300 && c - i.lastClickTime < 300 && t.emit("doubleTap doubleClick", h)), i.lastClickTime = d.now(), d.nextTick((function () { t.destroyed || (t.allowClick = !0) })), !i.isTouched || !i.isMoved || !t.swipeDirection || 0 === a.diff || i.currentTranslate === i.startTranslate) return i.isTouched = !1, i.isMoved = !1, void (i.startMoving = !1); if (i.isTouched = !1, i.isMoved = !1, i.startMoving = !1, p = s.followFinger ? r ? t.translate : -t.translate : -i.currentTranslate, !s.cssMode) if (s.freeMode) { if (p < -t.minTranslate()) return void t.slideTo(t.activeIndex); if (p > -t.maxTranslate()) return void (t.slides.length < l.length ? t.slideTo(l.length - 1) : t.slideTo(t.slides.length - 1)); if (s.freeModeMomentum) { if (i.velocities.length > 1) { var v = i.velocities.pop(), f = i.velocities.pop(), m = v.position - f.position, g = v.time - f.time; t.velocity = m / g, t.velocity /= 2, Math.abs(t.velocity) < s.freeModeMinimumVelocity && (t.velocity = 0), (g > 150 || d.now() - v.time > 300) && (t.velocity = 0) } else t.velocity = 0; t.velocity *= s.freeModeMomentumVelocityRatio, i.velocities.length = 0; var b = 1e3 * s.freeModeMomentumRatio, w = t.velocity * b, y = t.translate + w; r && (y = -y); var x, E, T = !1, S = 20 * Math.abs(t.velocity) * s.freeModeMomentumBounceRatio; if (y < t.maxTranslate()) s.freeModeMomentumBounce ? (y + t.maxTranslate() < -S && (y = t.maxTranslate() - S), x = t.maxTranslate(), T = !0, i.allowMomentumBounce = !0) : y = t.maxTranslate(), s.loop && s.centeredSlides && (E = !0); else if (y > t.minTranslate()) s.freeModeMomentumBounce ? (y - t.minTranslate() > S && (y = t.minTranslate() + S), x = t.minTranslate(), T = !0, i.allowMomentumBounce = !0) : y = t.minTranslate(), s.loop && s.centeredSlides && (E = !0); else if (s.freeModeSticky) { for (var C, M = 0; M < l.length; M += 1)if (l[M] > -y) { C = M; break } y = -(y = Math.abs(l[C] - y) < Math.abs(l[C - 1] - y) || "next" === t.swipeDirection ? l[C] : l[C - 1]) } if (E && t.once("transitionEnd", (function () { t.loopFix() })), 0 !== t.velocity) { if (b = r ? Math.abs((-y - t.translate) / t.velocity) : Math.abs((y - t.translate) / t.velocity), s.freeModeSticky) { var P = Math.abs((r ? -y : y) - t.translate), z = t.slidesSizesGrid[t.activeIndex]; b = P < z ? s.speed : P < 2 * z ? 1.5 * s.speed : 2.5 * s.speed } } else if (s.freeModeSticky) return void t.slideToClosest(); s.freeModeMomentumBounce && T ? (t.updateProgress(x), t.setTransition(b), t.setTranslate(y), t.transitionStart(!0, t.swipeDirection), t.animating = !0, n.transitionEnd((function () { t && !t.destroyed && i.allowMomentumBounce && (t.emit("momentumBounce"), t.setTransition(s.speed), setTimeout((function () { t.setTranslate(x), n.transitionEnd((function () { t && !t.destroyed && t.transitionEnd() })) }), 0)) }))) : t.velocity ? (t.updateProgress(y), t.setTransition(b), t.setTranslate(y), t.transitionStart(!0, t.swipeDirection), t.animating || (t.animating = !0, n.transitionEnd((function () { t && !t.destroyed && t.transitionEnd() })))) : t.updateProgress(y), t.updateActiveIndex(), t.updateSlidesClasses() } else if (s.freeModeSticky) return void t.slideToClosest(); (!s.freeModeMomentum || u >= s.longSwipesMs) && (t.updateProgress(), t.updateActiveIndex(), t.updateSlidesClasses()) } else { for (var k = 0, $ = t.slidesSizesGrid[0], L = 0; L < o.length; L += L < s.slidesPerGroupSkip ? 1 : s.slidesPerGroup) { var I = L < s.slidesPerGroupSkip - 1 ? 1 : s.slidesPerGroup; void 0 !== o[L + I] ? p >= o[L] && p < o[L + I] && (k = L, $ = o[L + I] - o[L]) : p >= o[L] && (k = L, $ = o[o.length - 1] - o[o.length - 2]) } var O = (p - o[k]) / $, D = k < s.slidesPerGroupSkip - 1 ? 1 : s.slidesPerGroup; if (u > s.longSwipesMs) { if (!s.longSwipes) return void t.slideTo(t.activeIndex); "next" === t.swipeDirection && (O >= s.longSwipesRatio ? t.slideTo(k + D) : t.slideTo(k)), "prev" === t.swipeDirection && (O > 1 - s.longSwipesRatio ? t.slideTo(k + D) : t.slideTo(k)) } else { if (!s.shortSwipes) return void t.slideTo(t.activeIndex); t.navigation && (h.target === t.navigation.nextEl || h.target === t.navigation.prevEl) ? h.target === t.navigation.nextEl ? t.slideTo(k + D) : t.slideTo(k) : ("next" === t.swipeDirection && t.slideTo(k + D), "prev" === t.swipeDirection && t.slideTo(k)) } } } function N() { var e = this.params, t = this.el; if (!t || 0 !== t.offsetWidth) { e.breakpoints && this.setBreakpoint(); var i = this.allowSlideNext, s = this.allowSlidePrev, a = this.snapGrid; this.allowSlideNext = !0, this.allowSlidePrev = !0, this.updateSize(), this.updateSlides(), this.updateSlidesClasses(), ("auto" === e.slidesPerView || e.slidesPerView > 1) && this.isEnd && !this.params.centeredSlides ? this.slideTo(this.slides.length - 1, 0, !1, !0) : this.slideTo(this.activeIndex, 0, !1, !0), this.autoplay && this.autoplay.running && this.autoplay.paused && this.autoplay.run(), this.allowSlidePrev = s, this.allowSlideNext = i, this.params.watchOverflow && a !== this.snapGrid && this.checkOverflow() } } function X(e) { this.allowClick || (this.params.preventClicks && e.preventDefault(), this.params.preventClicksPropagation && this.animating && (e.stopPropagation(), e.stopImmediatePropagation())) } function V() { var e = this.wrapperEl, t = this.rtlTranslate; this.previousTranslate = this.translate, this.isHorizontal() ? this.translate = t ? e.scrollWidth - e.offsetWidth - e.scrollLeft : -e.scrollLeft : this.translate = -e.scrollTop, -0 === this.translate && (this.translate = 0), this.updateActiveIndex(), this.updateSlidesClasses(); var i = this.maxTranslate() - this.minTranslate(); (0 === i ? 0 : (this.translate - this.minTranslate()) / i) !== this.progress && this.updateProgress(t ? -this.translate : this.translate), this.emit("setTranslate", this.translate, !1) } var Y = !1; function F() { } var W = { init: !0, direction: "horizontal", touchEventsTarget: "container", initialSlide: 0, speed: 300, cssMode: !1, updateOnWindowResize: !0, preventInteractionOnTransition: !1, edgeSwipeDetection: !1, edgeSwipeThreshold: 20, freeMode: !1, freeModeMomentum: !0, freeModeMomentumRatio: 1, freeModeMomentumBounce: !0, freeModeMomentumBounceRatio: 1, freeModeMomentumVelocityRatio: 1, freeModeSticky: !1, freeModeMinimumVelocity: .02, autoHeight: !1, setWrapperSize: !1, virtualTranslate: !1, effect: "slide", breakpoints: void 0, spaceBetween: 0, slidesPerView: 1, slidesPerColumn: 1, slidesPerColumnFill: "column", slidesPerGroup: 1, slidesPerGroupSkip: 0, centeredSlides: !1, centeredSlidesBounds: !1, slidesOffsetBefore: 0, slidesOffsetAfter: 0, normalizeSlideIndex: !0, centerInsufficientSlides: !1, watchOverflow: !1, roundLengths: !1, touchRatio: 1, touchAngle: 45, simulateTouch: !0, shortSwipes: !0, longSwipes: !0, longSwipesRatio: .5, longSwipesMs: 300, followFinger: !0, allowTouchMove: !0, threshold: 0, touchMoveStopPropagation: !1, touchStartPreventDefault: !0, touchStartForcePreventDefault: !1, touchReleaseOnEdges: !1, uniqueNavElements: !0, resistance: !0, resistanceRatio: .85, watchSlidesProgress: !1, watchSlidesVisibility: !1, grabCursor: !1, preventClicks: !0, preventClicksPropagation: !0, slideToClickedSlide: !1, preloadImages: !0, updateOnImagesReady: !0, loop: !1, loopAdditionalSlides: 0, loopedSlides: null, loopFillGroupWithBlank: !1, allowSlidePrev: !0, allowSlideNext: !0, swipeHandler: null, noSwiping: !0, noSwipingClass: "swiper-no-swiping", noSwipingSelector: null, passiveListeners: !0, containerModifierClass: "swiper-container-", slideClass: "swiper-slide", slideBlankClass: "swiper-slide-invisible-blank", slideActiveClass: "swiper-slide-active", slideDuplicateActiveClass: "swiper-slide-duplicate-active", slideVisibleClass: "swiper-slide-visible", slideDuplicateClass: "swiper-slide-duplicate", slideNextClass: "swiper-slide-next", slideDuplicateNextClass: "swiper-slide-duplicate-next", slidePrevClass: "swiper-slide-prev", slideDuplicatePrevClass: "swiper-slide-duplicate-prev", wrapperClass: "swiper-wrapper", runCallbacksOnInit: !0 }, R = { update: u, translate: v, transition: f, slide: m, loop: g, grabCursor: b, manipulation: D, events: { attachEvents: function () { var e = this.params, t = this.touchEvents, s = this.el, a = this.wrapperEl; this.onTouchStart = G.bind(this), this.onTouchMove = H.bind(this), this.onTouchEnd = B.bind(this), e.cssMode && (this.onScroll = V.bind(this)), this.onClick = X.bind(this); var r = !!e.nested; if (!h.touch && h.pointerEvents) s.addEventListener(t.start, this.onTouchStart, !1), i.addEventListener(t.move, this.onTouchMove, r), i.addEventListener(t.end, this.onTouchEnd, !1); else { if (h.touch) { var n = !("touchstart" !== t.start || !h.passiveListener || !e.passiveListeners) && { passive: !0, capture: !1 }; s.addEventListener(t.start, this.onTouchStart, n), s.addEventListener(t.move, this.onTouchMove, h.passiveListener ? { passive: !1, capture: r } : r), s.addEventListener(t.end, this.onTouchEnd, n), t.cancel && s.addEventListener(t.cancel, this.onTouchEnd, n), Y || (i.addEventListener("touchstart", F), Y = !0) } (e.simulateTouch && !A.ios && !A.android || e.simulateTouch && !h.touch && A.ios) && (s.addEventListener("mousedown", this.onTouchStart, !1), i.addEventListener("mousemove", this.onTouchMove, r), i.addEventListener("mouseup", this.onTouchEnd, !1)) } (e.preventClicks || e.preventClicksPropagation) && s.addEventListener("click", this.onClick, !0), e.cssMode && a.addEventListener("scroll", this.onScroll), e.updateOnWindowResize ? this.on(A.ios || A.android ? "resize orientationchange observerUpdate" : "resize observerUpdate", N, !0) : this.on("observerUpdate", N, !0) }, detachEvents: function () { var e = this.params, t = this.touchEvents, s = this.el, a = this.wrapperEl, r = !!e.nested; if (!h.touch && h.pointerEvents) s.removeEventListener(t.start, this.onTouchStart, !1), i.removeEventListener(t.move, this.onTouchMove, r), i.removeEventListener(t.end, this.onTouchEnd, !1); else { if (h.touch) { var n = !("onTouchStart" !== t.start || !h.passiveListener || !e.passiveListeners) && { passive: !0, capture: !1 }; s.removeEventListener(t.start, this.onTouchStart, n), s.removeEventListener(t.move, this.onTouchMove, r), s.removeEventListener(t.end, this.onTouchEnd, n), t.cancel && s.removeEventListener(t.cancel, this.onTouchEnd, n) } (e.simulateTouch && !A.ios && !A.android || e.simulateTouch && !h.touch && A.ios) && (s.removeEventListener("mousedown", this.onTouchStart, !1), i.removeEventListener("mousemove", this.onTouchMove, r), i.removeEventListener("mouseup", this.onTouchEnd, !1)) } (e.preventClicks || e.preventClicksPropagation) && s.removeEventListener("click", this.onClick, !0), e.cssMode && a.removeEventListener("scroll", this.onScroll), this.off(A.ios || A.android ? "resize orientationchange observerUpdate" : "resize observerUpdate", N) } }, breakpoints: { setBreakpoint: function () { var e = this.activeIndex, t = this.initialized, i = this.loopedSlides; void 0 === i && (i = 0); var s = this.params, a = this.$el, r = s.breakpoints; if (r && (!r || 0 !== Object.keys(r).length)) { var n = this.getBreakpoint(r); if (n && this.currentBreakpoint !== n) { var o = n in r ? r[n] : void 0; o && ["slidesPerView", "spaceBetween", "slidesPerGroup", "slidesPerGroupSkip", "slidesPerColumn"].forEach((function (e) { var t = o[e]; void 0 !== t && (o[e] = "slidesPerView" !== e || "AUTO" !== t && "auto" !== t ? "slidesPerView" === e ? parseFloat(t) : parseInt(t, 10) : "auto") })); var l = o || this.originalParams, h = s.slidesPerColumn > 1, p = l.slidesPerColumn > 1; h && !p ? a.removeClass(s.containerModifierClass + "multirow " + s.containerModifierClass + "multirow-column") : !h && p && (a.addClass(s.containerModifierClass + "multirow"), "column" === l.slidesPerColumnFill && a.addClass(s.containerModifierClass + "multirow-column")); var c = l.direction && l.direction !== s.direction, u = s.loop && (l.slidesPerView !== s.slidesPerView || c); c && t && this.changeDirection(), d.extend(this.params, l), d.extend(this, { allowTouchMove: this.params.allowTouchMove, allowSlideNext: this.params.allowSlideNext, allowSlidePrev: this.params.allowSlidePrev }), this.currentBreakpoint = n, u && t && (this.loopDestroy(), this.loopCreate(), this.updateSlides(), this.slideTo(e - i + this.loopedSlides, 0, !1)), this.emit("breakpoint", l) } } }, getBreakpoint: function (e) { if (e) { var t = !1, i = Object.keys(e).map((function (e) { if ("string" == typeof e && 0 === e.indexOf("@")) { var t = parseFloat(e.substr(1)); return { value: a.innerHeight * t, point: e } } return { value: e, point: e } })); i.sort((function (e, t) { return parseInt(e.value, 10) - parseInt(t.value, 10) })); for (var s = 0; s < i.length; s += 1) { var r = i[s], n = r.point; r.value <= a.innerWidth && (t = n) } return t || "max" } } }, checkOverflow: { checkOverflow: function () { var e = this.params, t = this.isLocked, i = this.slides.length > 0 && e.slidesOffsetBefore + e.spaceBetween * (this.slides.length - 1) + this.slides[0].offsetWidth * this.slides.length; e.slidesOffsetBefore && e.slidesOffsetAfter && i ? this.isLocked = i <= this.size : this.isLocked = 1 === this.snapGrid.length, this.allowSlideNext = !this.isLocked, this.allowSlidePrev = !this.isLocked, t !== this.isLocked && this.emit(this.isLocked ? "lock" : "unlock"), t && t !== this.isLocked && (this.isEnd = !1, this.navigation.update()) } }, classes: { addClasses: function () { var e = this.classNames, t = this.params, i = this.rtl, s = this.$el, a = []; a.push("initialized"), a.push(t.direction), t.freeMode && a.push("free-mode"), t.autoHeight && a.push("autoheight"), i && a.push("rtl"), t.slidesPerColumn > 1 && (a.push("multirow"), "column" === t.slidesPerColumnFill && a.push("multirow-column")), A.android && a.push("android"), A.ios && a.push("ios"), t.cssMode && a.push("css-mode"), a.forEach((function (i) { e.push(t.containerModifierClass + i) })), s.addClass(e.join(" ")) }, removeClasses: function () { var e = this.$el, t = this.classNames; e.removeClass(t.join(" ")) } }, images: { loadImage: function (e, t, i, s, r, o) { var l; function d() { o && o() } n(e).parent("picture")[0] || e.complete && r ? d() : t ? ((l = new a.Image).onload = d, l.onerror = d, s && (l.sizes = s), i && (l.srcset = i), t && (l.src = t)) : d() }, preloadImages: function () { var e = this; function t() { null != e && e && !e.destroyed && (void 0 !== e.imagesLoaded && (e.imagesLoaded += 1), e.imagesLoaded === e.imagesToLoad.length && (e.params.updateOnImagesReady && e.update(), e.emit("imagesReady"))) } e.imagesToLoad = e.$el.find("img"); for (var i = 0; i < e.imagesToLoad.length; i += 1) { var s = e.imagesToLoad[i]; e.loadImage(s, s.currentSrc || s.getAttribute("src"), s.srcset || s.getAttribute("srcset"), s.sizes || s.getAttribute("sizes"), !0, t) } } } }, q = {}, j = function (e) { function t() { for (var i, s, a, r = [], o = arguments.length; o--;)r[o] = arguments[o]; 1 === r.length && r[0].constructor && r[0].constructor === Object ? a = r[0] : (s = (i = r)[0], a = i[1]), a || (a = {}), a = d.extend({}, a), s && !a.el && (a.el = s), e.call(this, a), Object.keys(R).forEach((function (e) { Object.keys(R[e]).forEach((function (i) { t.prototype[i] || (t.prototype[i] = R[e][i]) })) })); var l = this; void 0 === l.modules && (l.modules = {}), Object.keys(l.modules).forEach((function (e) { var t = l.modules[e]; if (t.params) { var i = Object.keys(t.params)[0], s = t.params[i]; if ("object" != typeof s || null === s) return; if (!(i in a) || !("enabled" in s)) return; !0 === a[i] && (a[i] = { enabled: !0 }), "object" != typeof a[i] || "enabled" in a[i] || (a[i].enabled = !0), a[i] || (a[i] = { enabled: !1 }) } })); var p = d.extend({}, W); l.useModulesParams(p), l.params = d.extend({}, p, q, a), l.originalParams = d.extend({}, l.params), l.passedParams = d.extend({}, a), l.$ = n; var c = n(l.params.el); if (s = c[0]) { if (c.length > 1) { var u = []; return c.each((function (e, i) { var s = d.extend({}, a, { el: i }); u.push(new t(s)) })), u } var v, f, m; return s.swiper = l, c.data("swiper", l), s && s.shadowRoot && s.shadowRoot.querySelector ? (v = n(s.shadowRoot.querySelector("." + l.params.wrapperClass))).children = function (e) { return c.children(e) } : v = c.children("." + l.params.wrapperClass), d.extend(l, { $el: c, el: s, $wrapperEl: v, wrapperEl: v[0], classNames: [], slides: n(), slidesGrid: [], snapGrid: [], slidesSizesGrid: [], isHorizontal: function () { return "horizontal" === l.params.direction }, isVertical: function () { return "vertical" === l.params.direction }, rtl: "rtl" === s.dir.toLowerCase() || "rtl" === c.css("direction"), rtlTranslate: "horizontal" === l.params.direction && ("rtl" === s.dir.toLowerCase() || "rtl" === c.css("direction")), wrongRTL: "-webkit-box" === v.css("display"), activeIndex: 0, realIndex: 0, isBeginning: !0, isEnd: !1, translate: 0, previousTranslate: 0, progress: 0, velocity: 0, animating: !1, allowSlideNext: l.params.allowSlideNext, allowSlidePrev: l.params.allowSlidePrev, touchEvents: (f = ["touchstart", "touchmove", "touchend", "touchcancel"], m = ["mousedown", "mousemove", "mouseup"], h.pointerEvents && (m = ["pointerdown", "pointermove", "pointerup"]), l.touchEventsTouch = { start: f[0], move: f[1], end: f[2], cancel: f[3] }, l.touchEventsDesktop = { start: m[0], move: m[1], end: m[2] }, h.touch || !l.params.simulateTouch ? l.touchEventsTouch : l.touchEventsDesktop), touchEventsData: { isTouched: void 0, isMoved: void 0, allowTouchCallbacks: void 0, touchStartTime: void 0, isScrolling: void 0, currentTranslate: void 0, startTranslate: void 0, allowThresholdMove: void 0, formElements: "input, select, option, textarea, button, video, label", lastClickTime: d.now(), clickTimeout: void 0, velocities: [], allowMomentumBounce: void 0, isTouchEvent: void 0, startMoving: void 0 }, allowClick: !0, allowTouchMove: l.params.allowTouchMove, touches: { startX: 0, startY: 0, currentX: 0, currentY: 0, diff: 0 }, imagesToLoad: [], imagesLoaded: 0 }), l.useModules(), l.params.init && l.init(), l } } e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t; var i = { extendedDefaults: { configurable: !0 }, defaults: { configurable: !0 }, Class: { configurable: !0 }, $: { configurable: !0 } }; return t.prototype.slidesPerViewDynamic = function () { var e = this.params, t = this.slides, i = this.slidesGrid, s = this.size, a = this.activeIndex, r = 1; if (e.centeredSlides) { for (var n, o = t[a].swiperSlideSize, l = a + 1; l < t.length; l += 1)t[l] && !n && (r += 1, (o += t[l].swiperSlideSize) > s && (n = !0)); for (var d = a - 1; d >= 0; d -= 1)t[d] && !n && (r += 1, (o += t[d].swiperSlideSize) > s && (n = !0)) } else for (var h = a + 1; h < t.length; h += 1)i[h] - i[a] < s && (r += 1); return r }, t.prototype.update = function () { var e = this; if (e && !e.destroyed) { var t = e.snapGrid, i = e.params; i.breakpoints && e.setBreakpoint(), e.updateSize(), e.updateSlides(), e.updateProgress(), e.updateSlidesClasses(), e.params.freeMode ? (s(), e.params.autoHeight && e.updateAutoHeight()) : (("auto" === e.params.slidesPerView || e.params.slidesPerView > 1) && e.isEnd && !e.params.centeredSlides ? e.slideTo(e.slides.length - 1, 0, !1, !0) : e.slideTo(e.activeIndex, 0, !1, !0)) || s(), i.watchOverflow && t !== e.snapGrid && e.checkOverflow(), e.emit("update") } function s() { var t = e.rtlTranslate ? -1 * e.translate : e.translate, i = Math.min(Math.max(t, e.maxTranslate()), e.minTranslate()); e.setTranslate(i), e.updateActiveIndex(), e.updateSlidesClasses() } }, t.prototype.changeDirection = function (e, t) { void 0 === t && (t = !0); var i = this.params.direction; return e || (e = "horizontal" === i ? "vertical" : "horizontal"), e === i || "horizontal" !== e && "vertical" !== e || (this.$el.removeClass("" + this.params.containerModifierClass + i).addClass("" + this.params.containerModifierClass + e), this.params.direction = e, this.slides.each((function (t, i) { "vertical" === e ? i.style.width = "" : i.style.height = "" })), this.emit("changeDirection"), t && this.update()), this }, t.prototype.init = function () { this.initialized || (this.emit("beforeInit"), this.params.breakpoints && this.setBreakpoint(), this.addClasses(), this.params.loop && this.loopCreate(), this.updateSize(), this.updateSlides(), this.params.watchOverflow && this.checkOverflow(), this.params.grabCursor && this.setGrabCursor(), this.params.preloadImages && this.preloadImages(), this.params.loop ? this.slideTo(this.params.initialSlide + this.loopedSlides, 0, this.params.runCallbacksOnInit) : this.slideTo(this.params.initialSlide, 0, this.params.runCallbacksOnInit), this.attachEvents(), this.initialized = !0, this.emit("init")) }, t.prototype.destroy = function (e, t) { void 0 === e && (e = !0), void 0 === t && (t = !0); var i = this, s = i.params, a = i.$el, r = i.$wrapperEl, n = i.slides; return void 0 === i.params || i.destroyed || (i.emit("beforeDestroy"), i.initialized = !1, i.detachEvents(), s.loop && i.loopDestroy(), t && (i.removeClasses(), a.removeAttr("style"), r.removeAttr("style"), n && n.length && n.removeClass([s.slideVisibleClass, s.slideActiveClass, s.slideNextClass, s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")), i.emit("destroy"), Object.keys(i.eventsListeners).forEach((function (e) { i.off(e) })), !1 !== e && (i.$el[0].swiper = null, i.$el.data("swiper", null), d.deleteProps(i)), i.destroyed = !0), null }, t.extendDefaults = function (e) { d.extend(q, e) }, i.extendedDefaults.get = function () { return q }, i.defaults.get = function () { return W }, i.Class.get = function () { return e }, i.$.get = function () { return n }, Object.defineProperties(t, i), t }(p), K = { name: "device", proto: { device: A }, static: { device: A } }, U = { name: "support", proto: { support: h }, static: { support: h } }, _ = { isEdge: !!a.navigator.userAgent.match(/Edge/g), isSafari: function () { var e = a.navigator.userAgent.toLowerCase(); return e.indexOf("safari") >= 0 && e.indexOf("chrome") < 0 && e.indexOf("android") < 0 }(), isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(a.navigator.userAgent) }, Z = { name: "browser", proto: { browser: _ }, static: { browser: _ } }, Q = { name: "resize", create: function () { var e = this; d.extend(e, { resize: { resizeHandler: function () { e && !e.destroyed && e.initialized && (e.emit("beforeResize"), e.emit("resize")) }, orientationChangeHandler: function () { e && !e.destroyed && e.initialized && e.emit("orientationchange") } } }) }, on: { init: function () { a.addEventListener("resize", this.resize.resizeHandler), a.addEventListener("orientationchange", this.resize.orientationChangeHandler) }, destroy: function () { a.removeEventListener("resize", this.resize.resizeHandler), a.removeEventListener("orientationchange", this.resize.orientationChangeHandler) } } }, J = { func: a.MutationObserver || a.WebkitMutationObserver, attach: function (e, t) { void 0 === t && (t = {}); var i = this, s = new (0, J.func)((function (e) { if (1 !== e.length) { var t = function () { i.emit("observerUpdate", e[0]) }; a.requestAnimationFrame ? a.requestAnimationFrame(t) : a.setTimeout(t, 0) } else i.emit("observerUpdate", e[0]) })); s.observe(e, { attributes: void 0 === t.attributes || t.attributes, childList: void 0 === t.childList || t.childList, characterData: void 0 === t.characterData || t.characterData }), i.observer.observers.push(s) }, init: function () { if (h.observer && this.params.observer) { if (this.params.observeParents) for (var e = this.$el.parents(), t = 0; t < e.length; t += 1)this.observer.attach(e[t]); this.observer.attach(this.$el[0], { childList: this.params.observeSlideChildren }), this.observer.attach(this.$wrapperEl[0], { attributes: !1 }) } }, destroy: function () { this.observer.observers.forEach((function (e) { e.disconnect() })), this.observer.observers = [] } }, ee = { name: "observer", params: { observer: !1, observeParents: !1, observeSlideChildren: !1 }, create: function () { d.extend(this, { observer: { init: J.init.bind(this), attach: J.attach.bind(this), destroy: J.destroy.bind(this), observers: [] } }) }, on: { init: function () { this.observer.init() }, destroy: function () { this.observer.destroy() } } }, te = { update: function (e) { var t = this, i = t.params, s = i.slidesPerView, a = i.slidesPerGroup, r = i.centeredSlides, n = t.params.virtual, o = n.addSlidesBefore, l = n.addSlidesAfter, h = t.virtual, p = h.from, c = h.to, u = h.slides, v = h.slidesGrid, f = h.renderSlide, m = h.offset; t.updateActiveIndex(); var g, b, w, y = t.activeIndex || 0; g = t.rtlTranslate ? "right" : t.isHorizontal() ? "left" : "top", r ? (b = Math.floor(s / 2) + a + o, w = Math.floor(s / 2) + a + l) : (b = s + (a - 1) + o, w = a + l); var x = Math.max((y || 0) - w, 0), E = Math.min((y || 0) + b, u.length - 1), T = (t.slidesGrid[x] || 0) - (t.slidesGrid[0] || 0); function S() { t.updateSlides(), t.updateProgress(), t.updateSlidesClasses(), t.lazy && t.params.lazy.enabled && t.lazy.load() } if (d.extend(t.virtual, { from: x, to: E, offset: T, slidesGrid: t.slidesGrid }), p === x && c === E && !e) return t.slidesGrid !== v && T !== m && t.slides.css(g, T + "px"), void t.updateProgress(); if (t.params.virtual.renderExternal) return t.params.virtual.renderExternal.call(t, { offset: T, from: x, to: E, slides: function () { for (var e = [], t = x; t <= E; t += 1)e.push(u[t]); return e }() }), void S(); var C = [], M = []; if (e) t.$wrapperEl.find("." + t.params.slideClass).remove(); else for (var P = p; P <= c; P += 1)(P < x || P > E) && t.$wrapperEl.find("." + t.params.slideClass + '[data-swiper-slide-index="' + P + '"]').remove(); for (var z = 0; z < u.length; z += 1)z >= x && z <= E && (void 0 === c || e ? M.push(z) : (z > c && M.push(z), z < p && C.push(z))); M.forEach((function (e) { t.$wrapperEl.append(f(u[e], e)) })), C.sort((function (e, t) { return t - e })).forEach((function (e) { t.$wrapperEl.prepend(f(u[e], e)) })), t.$wrapperEl.children(".swiper-slide").css(g, T + "px"), S() }, renderSlide: function (e, t) { var i = this.params.virtual; if (i.cache && this.virtual.cache[t]) return this.virtual.cache[t]; var s = i.renderSlide ? n(i.renderSlide.call(this, e, t)) : n('<div class="' + this.params.slideClass + '" data-swiper-slide-index="' + t + '">' + e + "</div>"); return s.attr("data-swiper-slide-index") || s.attr("data-swiper-slide-index", t), i.cache && (this.virtual.cache[t] = s), s }, appendSlide: function (e) { if ("object" == typeof e && "length" in e) for (var t = 0; t < e.length; t += 1)e[t] && this.virtual.slides.push(e[t]); else this.virtual.slides.push(e); this.virtual.update(!0) }, prependSlide: function (e) { var t = this.activeIndex, i = t + 1, s = 1; if (Array.isArray(e)) { for (var a = 0; a < e.length; a += 1)e[a] && this.virtual.slides.unshift(e[a]); i = t + e.length, s = e.length } else this.virtual.slides.unshift(e); if (this.params.virtual.cache) { var r = this.virtual.cache, n = {}; Object.keys(r).forEach((function (e) { var t = r[e], i = t.attr("data-swiper-slide-index"); i && t.attr("data-swiper-slide-index", parseInt(i, 10) + 1), n[parseInt(e, 10) + s] = t })), this.virtual.cache = n } this.virtual.update(!0), this.slideTo(i, 0) }, removeSlide: function (e) { if (null != e) { var t = this.activeIndex; if (Array.isArray(e)) for (var i = e.length - 1; i >= 0; i -= 1)this.virtual.slides.splice(e[i], 1), this.params.virtual.cache && delete this.virtual.cache[e[i]], e[i] < t && (t -= 1), t = Math.max(t, 0); else this.virtual.slides.splice(e, 1), this.params.virtual.cache && delete this.virtual.cache[e], e < t && (t -= 1), t = Math.max(t, 0); this.virtual.update(!0), this.slideTo(t, 0) } }, removeAllSlides: function () { this.virtual.slides = [], this.params.virtual.cache && (this.virtual.cache = {}), this.virtual.update(!0), this.slideTo(0, 0) } }, ie = { name: "virtual", params: { virtual: { enabled: !1, slides: [], cache: !0, renderSlide: null, renderExternal: null, addSlidesBefore: 0, addSlidesAfter: 0 } }, create: function () { d.extend(this, { virtual: { update: te.update.bind(this), appendSlide: te.appendSlide.bind(this), prependSlide: te.prependSlide.bind(this), removeSlide: te.removeSlide.bind(this), removeAllSlides: te.removeAllSlides.bind(this), renderSlide: te.renderSlide.bind(this), slides: this.params.virtual.slides, cache: {} } }) }, on: { beforeInit: function () { if (this.params.virtual.enabled) { this.classNames.push(this.params.containerModifierClass + "virtual"); var e = { watchSlidesProgress: !0 }; d.extend(this.params, e), d.extend(this.originalParams, e), this.params.initialSlide || this.virtual.update() } }, setTranslate: function () { this.params.virtual.enabled && this.virtual.update() } } }, se = { handle: function (e) { var t = this.rtlTranslate, s = e; s.originalEvent && (s = s.originalEvent); var r = s.keyCode || s.charCode; if (!this.allowSlideNext && (this.isHorizontal() && 39 === r || this.isVertical() && 40 === r || 34 === r)) return !1; if (!this.allowSlidePrev && (this.isHorizontal() && 37 === r || this.isVertical() && 38 === r || 33 === r)) return !1; if (!(s.shiftKey || s.altKey || s.ctrlKey || s.metaKey || i.activeElement && i.activeElement.nodeName && ("input" === i.activeElement.nodeName.toLowerCase() || "textarea" === i.activeElement.nodeName.toLowerCase()))) { if (this.params.keyboard.onlyInViewport && (33 === r || 34 === r || 37 === r || 39 === r || 38 === r || 40 === r)) { var n = !1; if (this.$el.parents("." + this.params.slideClass).length > 0 && 0 === this.$el.parents("." + this.params.slideActiveClass).length) return; var o = a.innerWidth, l = a.innerHeight, d = this.$el.offset(); t && (d.left -= this.$el[0].scrollLeft); for (var h = [[d.left, d.top], [d.left + this.width, d.top], [d.left, d.top + this.height], [d.left + this.width, d.top + this.height]], p = 0; p < h.length; p += 1) { var c = h[p]; c[0] >= 0 && c[0] <= o && c[1] >= 0 && c[1] <= l && (n = !0) } if (!n) return } this.isHorizontal() ? (33 !== r && 34 !== r && 37 !== r && 39 !== r || (s.preventDefault ? s.preventDefault() : s.returnValue = !1), (34 !== r && 39 !== r || t) && (33 !== r && 37 !== r || !t) || this.slideNext(), (33 !== r && 37 !== r || t) && (34 !== r && 39 !== r || !t) || this.slidePrev()) : (33 !== r && 34 !== r && 38 !== r && 40 !== r || (s.preventDefault ? s.preventDefault() : s.returnValue = !1), 34 !== r && 40 !== r || this.slideNext(), 33 !== r && 38 !== r || this.slidePrev()), this.emit("keyPress", r) } }, enable: function () { this.keyboard.enabled || (n(i).on("keydown", this.keyboard.handle), this.keyboard.enabled = !0) }, disable: function () { this.keyboard.enabled && (n(i).off("keydown", this.keyboard.handle), this.keyboard.enabled = !1) } }, ae = { name: "keyboard", params: { keyboard: { enabled: !1, onlyInViewport: !0 } }, create: function () { d.extend(this, { keyboard: { enabled: !1, enable: se.enable.bind(this), disable: se.disable.bind(this), handle: se.handle.bind(this) } }) }, on: { init: function () { this.params.keyboard.enabled && this.keyboard.enable() }, destroy: function () { this.keyboard.enabled && this.keyboard.disable() } } }; var re = { lastScrollTime: d.now(), lastEventBeforeSnap: void 0, recentWheelEvents: [], event: function () { return a.navigator.userAgent.indexOf("firefox") > -1 ? "DOMMouseScroll" : function () { var e = "onwheel" in i; if (!e) { var t = i.createElement("div"); t.setAttribute("onwheel", "return;"), e = "function" == typeof t.onwheel } return !e && i.implementation && i.implementation.hasFeature && !0 !== i.implementation.hasFeature("", "") && (e = i.implementation.hasFeature("Events.wheel", "3.0")), e }() ? "wheel" : "mousewheel" }, normalize: function (e) { var t = 0, i = 0, s = 0, a = 0; return "detail" in e && (i = e.detail), "wheelDelta" in e && (i = -e.wheelDelta / 120), "wheelDeltaY" in e && (i = -e.wheelDeltaY / 120), "wheelDeltaX" in e && (t = -e.wheelDeltaX / 120), "axis" in e && e.axis === e.HORIZONTAL_AXIS && (t = i, i = 0), s = 10 * t, a = 10 * i, "deltaY" in e && (a = e.deltaY), "deltaX" in e && (s = e.deltaX), e.shiftKey && !s && (s = a, a = 0), (s || a) && e.deltaMode && (1 === e.deltaMode ? (s *= 40, a *= 40) : (s *= 800, a *= 800)), s && !t && (t = s < 1 ? -1 : 1), a && !i && (i = a < 1 ? -1 : 1), { spinX: t, spinY: i, pixelX: s, pixelY: a } }, handleMouseEnter: function () { this.mouseEntered = !0 }, handleMouseLeave: function () { this.mouseEntered = !1 }, handle: function (e) { var t = e, i = this, s = i.params.mousewheel; i.params.cssMode && t.preventDefault(); var a = i.$el; if ("container" !== i.params.mousewheel.eventsTarged && (a = n(i.params.mousewheel.eventsTarged)), !i.mouseEntered && !a[0].contains(t.target) && !s.releaseOnEdges) return !0; t.originalEvent && (t = t.originalEvent); var r = 0, o = i.rtlTranslate ? -1 : 1, l = re.normalize(t); if (s.forceToAxis) if (i.isHorizontal()) { if (!(Math.abs(l.pixelX) > Math.abs(l.pixelY))) return !0; r = l.pixelX * o } else { if (!(Math.abs(l.pixelY) > Math.abs(l.pixelX))) return !0; r = l.pixelY } else r = Math.abs(l.pixelX) > Math.abs(l.pixelY) ? -l.pixelX * o : -l.pixelY; if (0 === r) return !0; if (s.invert && (r = -r), i.params.freeMode) { var h = { time: d.now(), delta: Math.abs(r), direction: Math.sign(r) }, p = i.mousewheel.lastEventBeforeSnap, c = p && h.time < p.time + 500 && h.delta <= p.delta && h.direction === p.direction; if (!c) { i.mousewheel.lastEventBeforeSnap = void 0, i.params.loop && i.loopFix(); var u = i.getTranslate() + r * s.sensitivity, v = i.isBeginning, f = i.isEnd; if (u >= i.minTranslate() && (u = i.minTranslate()), u <= i.maxTranslate() && (u = i.maxTranslate()), i.setTransition(0), i.setTranslate(u), i.updateProgress(), i.updateActiveIndex(), i.updateSlidesClasses(), (!v && i.isBeginning || !f && i.isEnd) && i.updateSlidesClasses(), i.params.freeModeSticky) { clearTimeout(i.mousewheel.timeout), i.mousewheel.timeout = void 0; var m = i.mousewheel.recentWheelEvents; m.length >= 15 && m.shift(); var g = m.length ? m[m.length - 1] : void 0, b = m[0]; if (m.push(h), g && (h.delta > g.delta || h.direction !== g.direction)) m.splice(0); else if (m.length >= 15 && h.time - b.time < 500 && b.delta - h.delta >= 1 && h.delta <= 6) { var w = r > 0 ? .8 : .2; i.mousewheel.lastEventBeforeSnap = h, m.splice(0), i.mousewheel.timeout = d.nextTick((function () { i.slideToClosest(i.params.speed, !0, void 0, w) }), 0) } i.mousewheel.timeout || (i.mousewheel.timeout = d.nextTick((function () { i.mousewheel.lastEventBeforeSnap = h, m.splice(0), i.slideToClosest(i.params.speed, !0, void 0, .5) }), 500)) } if (c || i.emit("scroll", t), i.params.autoplay && i.params.autoplayDisableOnInteraction && i.autoplay.stop(), u === i.minTranslate() || u === i.maxTranslate()) return !0 } } else { var y = { time: d.now(), delta: Math.abs(r), direction: Math.sign(r), raw: e }, x = i.mousewheel.recentWheelEvents; x.length >= 2 && x.shift(); var E = x.length ? x[x.length - 1] : void 0; if (x.push(y), E ? (y.direction !== E.direction || y.delta > E.delta || y.time > E.time + 150) && i.mousewheel.animateSlider(y) : i.mousewheel.animateSlider(y), i.mousewheel.releaseScroll(y)) return !0 } return t.preventDefault ? t.preventDefault() : t.returnValue = !1, !1 }, animateSlider: function (e) { return e.delta >= 6 && d.now() - this.mousewheel.lastScrollTime < 60 || (e.direction < 0 ? this.isEnd && !this.params.loop || this.animating || (this.slideNext(), this.emit("scroll", e.raw)) : this.isBeginning && !this.params.loop || this.animating || (this.slidePrev(), this.emit("scroll", e.raw)), this.mousewheel.lastScrollTime = (new a.Date).getTime(), !1) }, releaseScroll: function (e) { var t = this.params.mousewheel; if (e.direction < 0) { if (this.isEnd && !this.params.loop && t.releaseOnEdges) return !0 } else if (this.isBeginning && !this.params.loop && t.releaseOnEdges) return !0; return !1 }, enable: function () { var e = re.event(); if (this.params.cssMode) return this.wrapperEl.removeEventListener(e, this.mousewheel.handle), !0; if (!e) return !1; if (this.mousewheel.enabled) return !1; var t = this.$el; return "container" !== this.params.mousewheel.eventsTarged && (t = n(this.params.mousewheel.eventsTarged)), t.on("mouseenter", this.mousewheel.handleMouseEnter), t.on("mouseleave", this.mousewheel.handleMouseLeave), t.on(e, this.mousewheel.handle), this.mousewheel.enabled = !0, !0 }, disable: function () { var e = re.event(); if (this.params.cssMode) return this.wrapperEl.addEventListener(e, this.mousewheel.handle), !0; if (!e) return !1; if (!this.mousewheel.enabled) return !1; var t = this.$el; return "container" !== this.params.mousewheel.eventsTarged && (t = n(this.params.mousewheel.eventsTarged)), t.off(e, this.mousewheel.handle), this.mousewheel.enabled = !1, !0 } }, ne = { update: function () { var e = this.params.navigation; if (!this.params.loop) { var t = this.navigation, i = t.$nextEl, s = t.$prevEl; s && s.length > 0 && (this.isBeginning ? s.addClass(e.disabledClass) : s.removeClass(e.disabledClass), s[this.params.watchOverflow && this.isLocked ? "addClass" : "removeClass"](e.lockClass)), i && i.length > 0 && (this.isEnd ? i.addClass(e.disabledClass) : i.removeClass(e.disabledClass), i[this.params.watchOverflow && this.isLocked ? "addClass" : "removeClass"](e.lockClass)) } }, onPrevClick: function (e) { e.preventDefault(), this.isBeginning && !this.params.loop || this.slidePrev() }, onNextClick: function (e) { e.preventDefault(), this.isEnd && !this.params.loop || this.slideNext() }, init: function () { var e, t, i = this.params.navigation; (i.nextEl || i.prevEl) && (i.nextEl && (e = n(i.nextEl), this.params.uniqueNavElements && "string" == typeof i.nextEl && e.length > 1 && 1 === this.$el.find(i.nextEl).length && (e = this.$el.find(i.nextEl))), i.prevEl && (t = n(i.prevEl), this.params.uniqueNavElements && "string" == typeof i.prevEl && t.length > 1 && 1 === this.$el.find(i.prevEl).length && (t = this.$el.find(i.prevEl))), e && e.length > 0 && e.on("click", this.navigation.onNextClick), t && t.length > 0 && t.on("click", this.navigation.onPrevClick), d.extend(this.navigation, { $nextEl: e, nextEl: e && e[0], $prevEl: t, prevEl: t && t[0] })) }, destroy: function () { var e = this.navigation, t = e.$nextEl, i = e.$prevEl; t && t.length && (t.off("click", this.navigation.onNextClick), t.removeClass(this.params.navigation.disabledClass)), i && i.length && (i.off("click", this.navigation.onPrevClick), i.removeClass(this.params.navigation.disabledClass)) } }, oe = { update: function () { var e = this.rtl, t = this.params.pagination; if (t.el && this.pagination.el && this.pagination.$el && 0 !== this.pagination.$el.length) { var i, s = this.virtual && this.params.virtual.enabled ? this.virtual.slides.length : this.slides.length, a = this.pagination.$el, r = this.params.loop ? Math.ceil((s - 2 * this.loopedSlides) / this.params.slidesPerGroup) : this.snapGrid.length; if (this.params.loop ? ((i = Math.ceil((this.activeIndex - this.loopedSlides) / this.params.slidesPerGroup)) > s - 1 - 2 * this.loopedSlides && (i -= s - 2 * this.loopedSlides), i > r - 1 && (i -= r), i < 0 && "bullets" !== this.params.paginationType && (i = r + i)) : i = void 0 !== this.snapIndex ? this.snapIndex : this.activeIndex || 0, "bullets" === t.type && this.pagination.bullets && this.pagination.bullets.length > 0) { var o, l, d, h = this.pagination.bullets; if (t.dynamicBullets && (this.pagination.bulletSize = h.eq(0)[this.isHorizontal() ? "outerWidth" : "outerHeight"](!0), a.css(this.isHorizontal() ? "width" : "height", this.pagination.bulletSize * (t.dynamicMainBullets + 4) + "px"), t.dynamicMainBullets > 1 && void 0 !== this.previousIndex && (this.pagination.dynamicBulletIndex += i - this.previousIndex, this.pagination.dynamicBulletIndex > t.dynamicMainBullets - 1 ? this.pagination.dynamicBulletIndex = t.dynamicMainBullets - 1 : this.pagination.dynamicBulletIndex < 0 && (this.pagination.dynamicBulletIndex = 0)), o = i - this.pagination.dynamicBulletIndex, d = ((l = o + (Math.min(h.length, t.dynamicMainBullets) - 1)) + o) / 2), h.removeClass(t.bulletActiveClass + " " + t.bulletActiveClass + "-next " + t.bulletActiveClass + "-next-next " + t.bulletActiveClass + "-prev " + t.bulletActiveClass + "-prev-prev " + t.bulletActiveClass + "-main"), a.length > 1) h.each((function (e, s) { var a = n(s), r = a.index(); r === i && a.addClass(t.bulletActiveClass), t.dynamicBullets && (r >= o && r <= l && a.addClass(t.bulletActiveClass + "-main"), r === o && a.prev().addClass(t.bulletActiveClass + "-prev").prev().addClass(t.bulletActiveClass + "-prev-prev"), r === l && a.next().addClass(t.bulletActiveClass + "-next").next().addClass(t.bulletActiveClass + "-next-next")) })); else { var p = h.eq(i), c = p.index(); if (p.addClass(t.bulletActiveClass), t.dynamicBullets) { for (var u = h.eq(o), v = h.eq(l), f = o; f <= l; f += 1)h.eq(f).addClass(t.bulletActiveClass + "-main"); if (this.params.loop) if (c >= h.length - t.dynamicMainBullets) { for (var m = t.dynamicMainBullets; m >= 0; m -= 1)h.eq(h.length - m).addClass(t.bulletActiveClass + "-main"); h.eq(h.length - t.dynamicMainBullets - 1).addClass(t.bulletActiveClass + "-prev") } else u.prev().addClass(t.bulletActiveClass + "-prev").prev().addClass(t.bulletActiveClass + "-prev-prev"), v.next().addClass(t.bulletActiveClass + "-next").next().addClass(t.bulletActiveClass + "-next-next"); else u.prev().addClass(t.bulletActiveClass + "-prev").prev().addClass(t.bulletActiveClass + "-prev-prev"), v.next().addClass(t.bulletActiveClass + "-next").next().addClass(t.bulletActiveClass + "-next-next") } } if (t.dynamicBullets) { var g = Math.min(h.length, t.dynamicMainBullets + 4), b = (this.pagination.bulletSize * g - this.pagination.bulletSize) / 2 - d * this.pagination.bulletSize, w = e ? "right" : "left"; h.css(this.isHorizontal() ? w : "top", b + "px") } } if ("fraction" === t.type && (a.find("." + t.currentClass).text(t.formatFractionCurrent(i + 1)), a.find("." + t.totalClass).text(t.formatFractionTotal(r))), "progressbar" === t.type) { var y; y = t.progressbarOpposite ? this.isHorizontal() ? "vertical" : "horizontal" : this.isHorizontal() ? "horizontal" : "vertical"; var x = (i + 1) / r, E = 1, T = 1; "horizontal" === y ? E = x : T = x, a.find("." + t.progressbarFillClass).transform("translate3d(0,0,0) scaleX(" + E + ") scaleY(" + T + ")").transition(this.params.speed) } "custom" === t.type && t.renderCustom ? (a.html(t.renderCustom(this, i + 1, r)), this.emit("paginationRender", this, a[0])) : this.emit("paginationUpdate", this, a[0]), a[this.params.watchOverflow && this.isLocked ? "addClass" : "removeClass"](t.lockClass) } }, render: function () { var e = this.params.pagination; if (e.el && this.pagination.el && this.pagination.$el && 0 !== this.pagination.$el.length) { var t = this.virtual && this.params.virtual.enabled ? this.virtual.slides.length : this.slides.length, i = this.pagination.$el, s = ""; if ("bullets" === e.type) { for (var a = this.params.loop ? Math.ceil((t - 2 * this.loopedSlides) / this.params.slidesPerGroup) : this.snapGrid.length, r = 0; r < a; r += 1)e.renderBullet ? s += e.renderBullet.call(this, r, e.bulletClass) : s += "<" + e.bulletElement + ' class="' + e.bulletClass + '"></' + e.bulletElement + ">"; i.html(s), this.pagination.bullets = i.find("." + e.bulletClass) } "fraction" === e.type && (s = e.renderFraction ? e.renderFraction.call(this, e.currentClass, e.totalClass) : '<span class="' + e.currentClass + '"></span> / <span class="' + e.totalClass + '"></span>', i.html(s)), "progressbar" === e.type && (s = e.renderProgressbar ? e.renderProgressbar.call(this, e.progressbarFillClass) : '<span class="' + e.progressbarFillClass + '"></span>', i.html(s)), "custom" !== e.type && this.emit("paginationRender", this.pagination.$el[0]) } }, init: function () { var e = this, t = e.params.pagination; if (t.el) { var i = n(t.el); 0 !== i.length && (e.params.uniqueNavElements && "string" == typeof t.el && i.length > 1 && 1 === e.$el.find(t.el).length && (i = e.$el.find(t.el)), "bullets" === t.type && t.clickable && i.addClass(t.clickableClass), i.addClass(t.modifierClass + t.type), "bullets" === t.type && t.dynamicBullets && (i.addClass("" + t.modifierClass + t.type + "-dynamic"), e.pagination.dynamicBulletIndex = 0, t.dynamicMainBullets < 1 && (t.dynamicMainBullets = 1)), "progressbar" === t.type && t.progressbarOpposite && i.addClass(t.progressbarOppositeClass), t.clickable && i.on("click", "." + t.bulletClass, (function (t) { t.preventDefault(); var i = n(this).index() * e.params.slidesPerGroup; e.params.loop && (i += e.loopedSlides), e.slideTo(i) })), d.extend(e.pagination, { $el: i, el: i[0] })) } }, destroy: function () { var e = this.params.pagination; if (e.el && this.pagination.el && this.pagination.$el && 0 !== this.pagination.$el.length) { var t = this.pagination.$el; t.removeClass(e.hiddenClass), t.removeClass(e.modifierClass + e.type), this.pagination.bullets && this.pagination.bullets.removeClass(e.bulletActiveClass), e.clickable && t.off("click", "." + e.bulletClass) } } }, le = { setTranslate: function () { if (this.params.scrollbar.el && this.scrollbar.el) { var e = this.scrollbar, t = this.rtlTranslate, i = this.progress, s = e.dragSize, a = e.trackSize, r = e.$dragEl, n = e.$el, o = this.params.scrollbar, l = s, d = (a - s) * i; t ? (d = -d) > 0 ? (l = s - d, d = 0) : -d + s > a && (l = a + d) : d < 0 ? (l = s + d, d = 0) : d + s > a && (l = a - d), this.isHorizontal() ? (r.transform("translate3d(" + d + "px, 0, 0)"), r[0].style.width = l + "px") : (r.transform("translate3d(0px, " + d + "px, 0)"), r[0].style.height = l + "px"), o.hide && (clearTimeout(this.scrollbar.timeout), n[0].style.opacity = 1, this.scrollbar.timeout = setTimeout((function () { n[0].style.opacity = 0, n.transition(400) }), 1e3)) } }, setTransition: function (e) { this.params.scrollbar.el && this.scrollbar.el && this.scrollbar.$dragEl.transition(e) }, updateSize: function () { if (this.params.scrollbar.el && this.scrollbar.el) { var e = this.scrollbar, t = e.$dragEl, i = e.$el; t[0].style.width = "", t[0].style.height = ""; var s, a = this.isHorizontal() ? i[0].offsetWidth : i[0].offsetHeight, r = this.size / this.virtualSize, n = r * (a / this.size); s = "auto" === this.params.scrollbar.dragSize ? a * r : parseInt(this.params.scrollbar.dragSize, 10), this.isHorizontal() ? t[0].style.width = s + "px" : t[0].style.height = s + "px", i[0].style.display = r >= 1 ? "none" : "", this.params.scrollbar.hide && (i[0].style.opacity = 0), d.extend(e, { trackSize: a, divider: r, moveDivider: n, dragSize: s }), e.$el[this.params.watchOverflow && this.isLocked ? "addClass" : "removeClass"](this.params.scrollbar.lockClass) } }, getPointerPosition: function (e) { return this.isHorizontal() ? "touchstart" === e.type || "touchmove" === e.type ? e.targetTouches[0].clientX : e.clientX : "touchstart" === e.type || "touchmove" === e.type ? e.targetTouches[0].clientY : e.clientY }, setDragPosition: function (e) { var t, i = this.scrollbar, s = this.rtlTranslate, a = i.$el, r = i.dragSize, n = i.trackSize, o = i.dragStartPos; t = (i.getPointerPosition(e) - a.offset()[this.isHorizontal() ? "left" : "top"] - (null !== o ? o : r / 2)) / (n - r), t = Math.max(Math.min(t, 1), 0), s && (t = 1 - t); var l = this.minTranslate() + (this.maxTranslate() - this.minTranslate()) * t; this.updateProgress(l), this.setTranslate(l), this.updateActiveIndex(), this.updateSlidesClasses() }, onDragStart: function (e) { var t = this.params.scrollbar, i = this.scrollbar, s = this.$wrapperEl, a = i.$el, r = i.$dragEl; this.scrollbar.isTouched = !0, this.scrollbar.dragStartPos = e.target === r[0] || e.target === r ? i.getPointerPosition(e) - e.target.getBoundingClientRect()[this.isHorizontal() ? "left" : "top"] : null, e.preventDefault(), e.stopPropagation(), s.transition(100), r.transition(100), i.setDragPosition(e), clearTimeout(this.scrollbar.dragTimeout), a.transition(0), t.hide && a.css("opacity", 1), this.params.cssMode && this.$wrapperEl.css("scroll-snap-type", "none"), this.emit("scrollbarDragStart", e) }, onDragMove: function (e) { var t = this.scrollbar, i = this.$wrapperEl, s = t.$el, a = t.$dragEl; this.scrollbar.isTouched && (e.preventDefault ? e.preventDefault() : e.returnValue = !1, t.setDragPosition(e), i.transition(0), s.transition(0), a.transition(0), this.emit("scrollbarDragMove", e)) }, onDragEnd: function (e) { var t = this.params.scrollbar, i = this.scrollbar, s = this.$wrapperEl, a = i.$el; this.scrollbar.isTouched && (this.scrollbar.isTouched = !1, this.params.cssMode && (this.$wrapperEl.css("scroll-snap-type", ""), s.transition("")), t.hide && (clearTimeout(this.scrollbar.dragTimeout), this.scrollbar.dragTimeout = d.nextTick((function () { a.css("opacity", 0), a.transition(400) }), 1e3)), this.emit("scrollbarDragEnd", e), t.snapOnRelease && this.slideToClosest()) }, enableDraggable: function () { if (this.params.scrollbar.el) { var e = this.scrollbar, t = this.touchEventsTouch, s = this.touchEventsDesktop, a = this.params, r = e.$el[0], n = !(!h.passiveListener || !a.passiveListeners) && { passive: !1, capture: !1 }, o = !(!h.passiveListener || !a.passiveListeners) && { passive: !0, capture: !1 }; h.touch ? (r.addEventListener(t.start, this.scrollbar.onDragStart, n), r.addEventListener(t.move, this.scrollbar.onDragMove, n), r.addEventListener(t.end, this.scrollbar.onDragEnd, o)) : (r.addEventListener(s.start, this.scrollbar.onDragStart, n), i.addEventListener(s.move, this.scrollbar.onDragMove, n), i.addEventListener(s.end, this.scrollbar.onDragEnd, o)) } }, disableDraggable: function () { if (this.params.scrollbar.el) { var e = this.scrollbar, t = this.touchEventsTouch, s = this.touchEventsDesktop, a = this.params, r = e.$el[0], n = !(!h.passiveListener || !a.passiveListeners) && { passive: !1, capture: !1 }, o = !(!h.passiveListener || !a.passiveListeners) && { passive: !0, capture: !1 }; h.touch ? (r.removeEventListener(t.start, this.scrollbar.onDragStart, n), r.removeEventListener(t.move, this.scrollbar.onDragMove, n), r.removeEventListener(t.end, this.scrollbar.onDragEnd, o)) : (r.removeEventListener(s.start, this.scrollbar.onDragStart, n), i.removeEventListener(s.move, this.scrollbar.onDragMove, n), i.removeEventListener(s.end, this.scrollbar.onDragEnd, o)) } }, init: function () { if (this.params.scrollbar.el) { var e = this.scrollbar, t = this.$el, i = this.params.scrollbar, s = n(i.el); this.params.uniqueNavElements && "string" == typeof i.el && s.length > 1 && 1 === t.find(i.el).length && (s = t.find(i.el)); var a = s.find("." + this.params.scrollbar.dragClass); 0 === a.length && (a = n('<div class="' + this.params.scrollbar.dragClass + '"></div>'), s.append(a)), d.extend(e, { $el: s, el: s[0], $dragEl: a, dragEl: a[0] }), i.draggable && e.enableDraggable() } }, destroy: function () { this.scrollbar.disableDraggable() } }, de = { setTransform: function (e, t) { var i = this.rtl, s = n(e), a = i ? -1 : 1, r = s.attr("data-swiper-parallax") || "0", o = s.attr("data-swiper-parallax-x"), l = s.attr("data-swiper-parallax-y"), d = s.attr("data-swiper-parallax-scale"), h = s.attr("data-swiper-parallax-opacity"); if (o || l ? (o = o || "0", l = l || "0") : this.isHorizontal() ? (o = r, l = "0") : (l = r, o = "0"), o = o.indexOf("%") >= 0 ? parseInt(o, 10) * t * a + "%" : o * t * a + "px", l = l.indexOf("%") >= 0 ? parseInt(l, 10) * t + "%" : l * t + "px", null != h) { var p = h - (h - 1) * (1 - Math.abs(t)); s[0].style.opacity = p } if (null == d) s.transform("translate3d(" + o + ", " + l + ", 0px)"); else { var c = d - (d - 1) * (1 - Math.abs(t)); s.transform("translate3d(" + o + ", " + l + ", 0px) scale(" + c + ")") } }, setTranslate: function () { var e = this, t = e.$el, i = e.slides, s = e.progress, a = e.snapGrid; t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function (t, i) { e.parallax.setTransform(i, s) })), i.each((function (t, i) { var r = i.progress; e.params.slidesPerGroup > 1 && "auto" !== e.params.slidesPerView && (r += Math.ceil(t / 2) - s * (a.length - 1)), r = Math.min(Math.max(r, -1), 1), n(i).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function (t, i) { e.parallax.setTransform(i, r) })) })) }, setTransition: function (e) { void 0 === e && (e = this.params.speed); this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function (t, i) { var s = n(i), a = parseInt(s.attr("data-swiper-parallax-duration"), 10) || e; 0 === e && (a = 0), s.transition(a) })) } }, he = { getDistanceBetweenTouches: function (e) { if (e.targetTouches.length < 2) return 1; var t = e.targetTouches[0].pageX, i = e.targetTouches[0].pageY, s = e.targetTouches[1].pageX, a = e.targetTouches[1].pageY; return Math.sqrt(Math.pow(s - t, 2) + Math.pow(a - i, 2)) }, onGestureStart: function (e) { var t = this.params.zoom, i = this.zoom, s = i.gesture; if (i.fakeGestureTouched = !1, i.fakeGestureMoved = !1, !h.gestures) { if ("touchstart" !== e.type || "touchstart" === e.type && e.targetTouches.length < 2) return; i.fakeGestureTouched = !0, s.scaleStart = he.getDistanceBetweenTouches(e) } s.$slideEl && s.$slideEl.length || (s.$slideEl = n(e.target).closest("." + this.params.slideClass), 0 === s.$slideEl.length && (s.$slideEl = this.slides.eq(this.activeIndex)), s.$imageEl = s.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"), s.$imageWrapEl = s.$imageEl.parent("." + t.containerClass), s.maxRatio = s.$imageWrapEl.attr("data-swiper-zoom") || t.maxRatio, 0 !== s.$imageWrapEl.length) ? (s.$imageEl && s.$imageEl.transition(0), this.zoom.isScaling = !0) : s.$imageEl = void 0 }, onGestureChange: function (e) { var t = this.params.zoom, i = this.zoom, s = i.gesture; if (!h.gestures) { if ("touchmove" !== e.type || "touchmove" === e.type && e.targetTouches.length < 2) return; i.fakeGestureMoved = !0, s.scaleMove = he.getDistanceBetweenTouches(e) } s.$imageEl && 0 !== s.$imageEl.length && (i.scale = h.gestures ? e.scale * i.currentScale : s.scaleMove / s.scaleStart * i.currentScale, i.scale > s.maxRatio && (i.scale = s.maxRatio - 1 + Math.pow(i.scale - s.maxRatio + 1, .5)), i.scale < t.minRatio && (i.scale = t.minRatio + 1 - Math.pow(t.minRatio - i.scale + 1, .5)), s.$imageEl.transform("translate3d(0,0,0) scale(" + i.scale + ")")) }, onGestureEnd: function (e) { var t = this.params.zoom, i = this.zoom, s = i.gesture; if (!h.gestures) { if (!i.fakeGestureTouched || !i.fakeGestureMoved) return; if ("touchend" !== e.type || "touchend" === e.type && e.changedTouches.length < 2 && !A.android) return; i.fakeGestureTouched = !1, i.fakeGestureMoved = !1 } s.$imageEl && 0 !== s.$imageEl.length && (i.scale = Math.max(Math.min(i.scale, s.maxRatio), t.minRatio), s.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale(" + i.scale + ")"), i.currentScale = i.scale, i.isScaling = !1, 1 === i.scale && (s.$slideEl = void 0)) }, onTouchStart: function (e) { var t = this.zoom, i = t.gesture, s = t.image; i.$imageEl && 0 !== i.$imageEl.length && (s.isTouched || (A.android && e.cancelable && e.preventDefault(), s.isTouched = !0, s.touchesStart.x = "touchstart" === e.type ? e.targetTouches[0].pageX : e.pageX, s.touchesStart.y = "touchstart" === e.type ? e.targetTouches[0].pageY : e.pageY)) }, onTouchMove: function (e) { var t = this.zoom, i = t.gesture, s = t.image, a = t.velocity; if (i.$imageEl && 0 !== i.$imageEl.length && (this.allowClick = !1, s.isTouched && i.$slideEl)) { s.isMoved || (s.width = i.$imageEl[0].offsetWidth, s.height = i.$imageEl[0].offsetHeight, s.startX = d.getTranslate(i.$imageWrapEl[0], "x") || 0, s.startY = d.getTranslate(i.$imageWrapEl[0], "y") || 0, i.slideWidth = i.$slideEl[0].offsetWidth, i.slideHeight = i.$slideEl[0].offsetHeight, i.$imageWrapEl.transition(0), this.rtl && (s.startX = -s.startX, s.startY = -s.startY)); var r = s.width * t.scale, n = s.height * t.scale; if (!(r < i.slideWidth && n < i.slideHeight)) { if (s.minX = Math.min(i.slideWidth / 2 - r / 2, 0), s.maxX = -s.minX, s.minY = Math.min(i.slideHeight / 2 - n / 2, 0), s.maxY = -s.minY, s.touchesCurrent.x = "touchmove" === e.type ? e.targetTouches[0].pageX : e.pageX, s.touchesCurrent.y = "touchmove" === e.type ? e.targetTouches[0].pageY : e.pageY, !s.isMoved && !t.isScaling) { if (this.isHorizontal() && (Math.floor(s.minX) === Math.floor(s.startX) && s.touchesCurrent.x < s.touchesStart.x || Math.floor(s.maxX) === Math.floor(s.startX) && s.touchesCurrent.x > s.touchesStart.x)) return void (s.isTouched = !1); if (!this.isHorizontal() && (Math.floor(s.minY) === Math.floor(s.startY) && s.touchesCurrent.y < s.touchesStart.y || Math.floor(s.maxY) === Math.floor(s.startY) && s.touchesCurrent.y > s.touchesStart.y)) return void (s.isTouched = !1) } e.cancelable && e.preventDefault(), e.stopPropagation(), s.isMoved = !0, s.currentX = s.touchesCurrent.x - s.touchesStart.x + s.startX, s.currentY = s.touchesCurrent.y - s.touchesStart.y + s.startY, s.currentX < s.minX && (s.currentX = s.minX + 1 - Math.pow(s.minX - s.currentX + 1, .8)), s.currentX > s.maxX && (s.currentX = s.maxX - 1 + Math.pow(s.currentX - s.maxX + 1, .8)), s.currentY < s.minY && (s.currentY = s.minY + 1 - Math.pow(s.minY - s.currentY + 1, .8)), s.currentY > s.maxY && (s.currentY = s.maxY - 1 + Math.pow(s.currentY - s.maxY + 1, .8)), a.prevPositionX || (a.prevPositionX = s.touchesCurrent.x), a.prevPositionY || (a.prevPositionY = s.touchesCurrent.y), a.prevTime || (a.prevTime = Date.now()), a.x = (s.touchesCurrent.x - a.prevPositionX) / (Date.now() - a.prevTime) / 2, a.y = (s.touchesCurrent.y - a.prevPositionY) / (Date.now() - a.prevTime) / 2, Math.abs(s.touchesCurrent.x - a.prevPositionX) < 2 && (a.x = 0), Math.abs(s.touchesCurrent.y - a.prevPositionY) < 2 && (a.y = 0), a.prevPositionX = s.touchesCurrent.x, a.prevPositionY = s.touchesCurrent.y, a.prevTime = Date.now(), i.$imageWrapEl.transform("translate3d(" + s.currentX + "px, " + s.currentY + "px,0)") } } }, onTouchEnd: function () { var e = this.zoom, t = e.gesture, i = e.image, s = e.velocity; if (t.$imageEl && 0 !== t.$imageEl.length) { if (!i.isTouched || !i.isMoved) return i.isTouched = !1, void (i.isMoved = !1); i.isTouched = !1, i.isMoved = !1; var a = 300, r = 300, n = s.x * a, o = i.currentX + n, l = s.y * r, d = i.currentY + l; 0 !== s.x && (a = Math.abs((o - i.currentX) / s.x)), 0 !== s.y && (r = Math.abs((d - i.currentY) / s.y)); var h = Math.max(a, r); i.currentX = o, i.currentY = d; var p = i.width * e.scale, c = i.height * e.scale; i.minX = Math.min(t.slideWidth / 2 - p / 2, 0), i.maxX = -i.minX, i.minY = Math.min(t.slideHeight / 2 - c / 2, 0), i.maxY = -i.minY, i.currentX = Math.max(Math.min(i.currentX, i.maxX), i.minX), i.currentY = Math.max(Math.min(i.currentY, i.maxY), i.minY), t.$imageWrapEl.transition(h).transform("translate3d(" + i.currentX + "px, " + i.currentY + "px,0)") } }, onTransitionEnd: function () { var e = this.zoom, t = e.gesture; t.$slideEl && this.previousIndex !== this.activeIndex && (t.$imageEl && t.$imageEl.transform("translate3d(0,0,0) scale(1)"), t.$imageWrapEl && t.$imageWrapEl.transform("translate3d(0,0,0)"), e.scale = 1, e.currentScale = 1, t.$slideEl = void 0, t.$imageEl = void 0, t.$imageWrapEl = void 0) }, toggle: function (e) { var t = this.zoom; t.scale && 1 !== t.scale ? t.out() : t.in(e) }, in: function (e) { var t, i, s, a, r, n, o, l, d, h, p, c, u, v, f, m, g = this.zoom, b = this.params.zoom, w = g.gesture, y = g.image; (w.$slideEl || (this.params.virtual && this.params.virtual.enabled && this.virtual ? w.$slideEl = this.$wrapperEl.children("." + this.params.slideActiveClass) : w.$slideEl = this.slides.eq(this.activeIndex), w.$imageEl = w.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"), w.$imageWrapEl = w.$imageEl.parent("." + b.containerClass)), w.$imageEl && 0 !== w.$imageEl.length) && (w.$slideEl.addClass("" + b.zoomedSlideClass), void 0 === y.touchesStart.x && e ? (t = "touchend" === e.type ? e.changedTouches[0].pageX : e.pageX, i = "touchend" === e.type ? e.changedTouches[0].pageY : e.pageY) : (t = y.touchesStart.x, i = y.touchesStart.y), g.scale = w.$imageWrapEl.attr("data-swiper-zoom") || b.maxRatio, g.currentScale = w.$imageWrapEl.attr("data-swiper-zoom") || b.maxRatio, e ? (f = w.$slideEl[0].offsetWidth, m = w.$slideEl[0].offsetHeight, s = w.$slideEl.offset().left + f / 2 - t, a = w.$slideEl.offset().top + m / 2 - i, o = w.$imageEl[0].offsetWidth, l = w.$imageEl[0].offsetHeight, d = o * g.scale, h = l * g.scale, u = -(p = Math.min(f / 2 - d / 2, 0)), v = -(c = Math.min(m / 2 - h / 2, 0)), (r = s * g.scale) < p && (r = p), r > u && (r = u), (n = a * g.scale) < c && (n = c), n > v && (n = v)) : (r = 0, n = 0), w.$imageWrapEl.transition(300).transform("translate3d(" + r + "px, " + n + "px,0)"), w.$imageEl.transition(300).transform("translate3d(0,0,0) scale(" + g.scale + ")")) }, out: function () { var e = this.zoom, t = this.params.zoom, i = e.gesture; i.$slideEl || (this.params.virtual && this.params.virtual.enabled && this.virtual ? i.$slideEl = this.$wrapperEl.children("." + this.params.slideActiveClass) : i.$slideEl = this.slides.eq(this.activeIndex), i.$imageEl = i.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"), i.$imageWrapEl = i.$imageEl.parent("." + t.containerClass)), i.$imageEl && 0 !== i.$imageEl.length && (e.scale = 1, e.currentScale = 1, i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"), i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"), i.$slideEl.removeClass("" + t.zoomedSlideClass), i.$slideEl = void 0) }, enable: function () { var e = this.zoom; if (!e.enabled) { e.enabled = !0; var t = !("touchstart" !== this.touchEvents.start || !h.passiveListener || !this.params.passiveListeners) && { passive: !0, capture: !1 }, i = !h.passiveListener || { passive: !1, capture: !0 }, s = "." + this.params.slideClass; h.gestures ? (this.$wrapperEl.on("gesturestart", s, e.onGestureStart, t), this.$wrapperEl.on("gesturechange", s, e.onGestureChange, t), this.$wrapperEl.on("gestureend", s, e.onGestureEnd, t)) : "touchstart" === this.touchEvents.start && (this.$wrapperEl.on(this.touchEvents.start, s, e.onGestureStart, t), this.$wrapperEl.on(this.touchEvents.move, s, e.onGestureChange, i), this.$wrapperEl.on(this.touchEvents.end, s, e.onGestureEnd, t), this.touchEvents.cancel && this.$wrapperEl.on(this.touchEvents.cancel, s, e.onGestureEnd, t)), this.$wrapperEl.on(this.touchEvents.move, "." + this.params.zoom.containerClass, e.onTouchMove, i) } }, disable: function () { var e = this.zoom; if (e.enabled) { this.zoom.enabled = !1; var t = !("touchstart" !== this.touchEvents.start || !h.passiveListener || !this.params.passiveListeners) && { passive: !0, capture: !1 }, i = !h.passiveListener || { passive: !1, capture: !0 }, s = "." + this.params.slideClass; h.gestures ? (this.$wrapperEl.off("gesturestart", s, e.onGestureStart, t), this.$wrapperEl.off("gesturechange", s, e.onGestureChange, t), this.$wrapperEl.off("gestureend", s, e.onGestureEnd, t)) : "touchstart" === this.touchEvents.start && (this.$wrapperEl.off(this.touchEvents.start, s, e.onGestureStart, t), this.$wrapperEl.off(this.touchEvents.move, s, e.onGestureChange, i), this.$wrapperEl.off(this.touchEvents.end, s, e.onGestureEnd, t), this.touchEvents.cancel && this.$wrapperEl.off(this.touchEvents.cancel, s, e.onGestureEnd, t)), this.$wrapperEl.off(this.touchEvents.move, "." + this.params.zoom.containerClass, e.onTouchMove, i) } } }, pe = { loadInSlide: function (e, t) { void 0 === t && (t = !0); var i = this, s = i.params.lazy; if (void 0 !== e && 0 !== i.slides.length) { var a = i.virtual && i.params.virtual.enabled ? i.$wrapperEl.children("." + i.params.slideClass + '[data-swiper-slide-index="' + e + '"]') : i.slides.eq(e), r = a.find("." + s.elementClass + ":not(." + s.loadedClass + "):not(." + s.loadingClass + ")"); !a.hasClass(s.elementClass) || a.hasClass(s.loadedClass) || a.hasClass(s.loadingClass) || (r = r.add(a[0])), 0 !== r.length && r.each((function (e, r) { var o = n(r); o.addClass(s.loadingClass); var l = o.attr("data-background"), d = o.attr("data-src"), h = o.attr("data-srcset"), p = o.attr("data-sizes"), c = o.parent("picture"); i.loadImage(o[0], d || l, h, p, !1, (function () { if (null != i && i && (!i || i.params) && !i.destroyed) { if (l ? (o.css("background-image", 'url("' + l + '")'), o.removeAttr("data-background")) : (h && (o.attr("srcset", h), o.removeAttr("data-srcset")), p && (o.attr("sizes", p), o.removeAttr("data-sizes")), c.length && c.children("source").each((function (e, t) { var i = n(t); i.attr("data-srcset") && (i.attr("srcset", i.attr("data-srcset")), i.removeAttr("data-srcset")) })), d && (o.attr("src", d), o.removeAttr("data-src"))), o.addClass(s.loadedClass).removeClass(s.loadingClass), a.find("." + s.preloaderClass).remove(), i.params.loop && t) { var e = a.attr("data-swiper-slide-index"); if (a.hasClass(i.params.slideDuplicateClass)) { var r = i.$wrapperEl.children('[data-swiper-slide-index="' + e + '"]:not(.' + i.params.slideDuplicateClass + ")"); i.lazy.loadInSlide(r.index(), !1) } else { var u = i.$wrapperEl.children("." + i.params.slideDuplicateClass + '[data-swiper-slide-index="' + e + '"]'); i.lazy.loadInSlide(u.index(), !1) } } i.emit("lazyImageReady", a[0], o[0]), i.params.autoHeight && i.updateAutoHeight() } })), i.emit("lazyImageLoad", a[0], o[0]) })) } }, load: function () { var e = this, t = e.$wrapperEl, i = e.params, s = e.slides, a = e.activeIndex, r = e.virtual && i.virtual.enabled, o = i.lazy, l = i.slidesPerView; function d(e) { if (r) { if (t.children("." + i.slideClass + '[data-swiper-slide-index="' + e + '"]').length) return !0 } else if (s[e]) return !0; return !1 } function h(e) { return r ? n(e).attr("data-swiper-slide-index") : n(e).index() } if ("auto" === l && (l = 0), e.lazy.initialImageLoaded || (e.lazy.initialImageLoaded = !0), e.params.watchSlidesVisibility) t.children("." + i.slideVisibleClass).each((function (t, i) { var s = r ? n(i).attr("data-swiper-slide-index") : n(i).index(); e.lazy.loadInSlide(s) })); else if (l > 1) for (var p = a; p < a + l; p += 1)d(p) && e.lazy.loadInSlide(p); else e.lazy.loadInSlide(a); if (o.loadPrevNext) if (l > 1 || o.loadPrevNextAmount && o.loadPrevNextAmount > 1) { for (var c = o.loadPrevNextAmount, u = l, v = Math.min(a + u + Math.max(c, u), s.length), f = Math.max(a - Math.max(u, c), 0), m = a + l; m < v; m += 1)d(m) && e.lazy.loadInSlide(m); for (var g = f; g < a; g += 1)d(g) && e.lazy.loadInSlide(g) } else { var b = t.children("." + i.slideNextClass); b.length > 0 && e.lazy.loadInSlide(h(b)); var w = t.children("." + i.slidePrevClass); w.length > 0 && e.lazy.loadInSlide(h(w)) } } }, ce = { LinearSpline: function (e, t) { var i, s, a, r, n, o = function (e, t) { for (s = -1, i = e.length; i - s > 1;)e[a = i + s >> 1] <= t ? s = a : i = a; return i }; return this.x = e, this.y = t, this.lastIndex = e.length - 1, this.interpolate = function (e) { return e ? (n = o(this.x, e), r = n - 1, (e - this.x[r]) * (this.y[n] - this.y[r]) / (this.x[n] - this.x[r]) + this.y[r]) : 0 }, this }, getInterpolateFunction: function (e) { this.controller.spline || (this.controller.spline = this.params.loop ? new ce.LinearSpline(this.slidesGrid, e.slidesGrid) : new ce.LinearSpline(this.snapGrid, e.snapGrid)) }, setTranslate: function (e, t) { var i, s, a = this, r = a.controller.control; function n(e) { var t = a.rtlTranslate ? -a.translate : a.translate; "slide" === a.params.controller.by && (a.controller.getInterpolateFunction(e), s = -a.controller.spline.interpolate(-t)), s && "container" !== a.params.controller.by || (i = (e.maxTranslate() - e.minTranslate()) / (a.maxTranslate() - a.minTranslate()), s = (t - a.minTranslate()) * i + e.minTranslate()), a.params.controller.inverse && (s = e.maxTranslate() - s), e.updateProgress(s), e.setTranslate(s, a), e.updateActiveIndex(), e.updateSlidesClasses() } if (Array.isArray(r)) for (var o = 0; o < r.length; o += 1)r[o] !== t && r[o] instanceof j && n(r[o]); else r instanceof j && t !== r && n(r) }, setTransition: function (e, t) { var i, s = this, a = s.controller.control; function r(t) { t.setTransition(e, s), 0 !== e && (t.transitionStart(), t.params.autoHeight && d.nextTick((function () { t.updateAutoHeight() })), t.$wrapperEl.transitionEnd((function () { a && (t.params.loop && "slide" === s.params.controller.by && t.loopFix(), t.transitionEnd()) }))) } if (Array.isArray(a)) for (i = 0; i < a.length; i += 1)a[i] !== t && a[i] instanceof j && r(a[i]); else a instanceof j && t !== a && r(a) } }, ue = { makeElFocusable: function (e) { return e.attr("tabIndex", "0"), e }, makeElNotFocusable: function (e) { return e.attr("tabIndex", "-1"), e }, addElRole: function (e, t) { return e.attr("role", t), e }, addElLabel: function (e, t) { return e.attr("aria-label", t), e }, disableEl: function (e) { return e.attr("aria-disabled", !0), e }, enableEl: function (e) { return e.attr("aria-disabled", !1), e }, onEnterKey: function (e) { var t = this.params.a11y; if (13 === e.keyCode) { var i = n(e.target); this.navigation && this.navigation.$nextEl && i.is(this.navigation.$nextEl) && (this.isEnd && !this.params.loop || this.slideNext(), this.isEnd ? this.a11y.notify(t.lastSlideMessage) : this.a11y.notify(t.nextSlideMessage)), this.navigation && this.navigation.$prevEl && i.is(this.navigation.$prevEl) && (this.isBeginning && !this.params.loop || this.slidePrev(), this.isBeginning ? this.a11y.notify(t.firstSlideMessage) : this.a11y.notify(t.prevSlideMessage)), this.pagination && i.is("." + this.params.pagination.bulletClass) && i[0].click() } }, notify: function (e) { var t = this.a11y.liveRegion; 0 !== t.length && (t.html(""), t.html(e)) }, updateNavigation: function () { if (!this.params.loop && this.navigation) { var e = this.navigation, t = e.$nextEl, i = e.$prevEl; i && i.length > 0 && (this.isBeginning ? (this.a11y.disableEl(i), this.a11y.makeElNotFocusable(i)) : (this.a11y.enableEl(i), this.a11y.makeElFocusable(i))), t && t.length > 0 && (this.isEnd ? (this.a11y.disableEl(t), this.a11y.makeElNotFocusable(t)) : (this.a11y.enableEl(t), this.a11y.makeElFocusable(t))) } }, updatePagination: function () { var e = this, t = e.params.a11y; e.pagination && e.params.pagination.clickable && e.pagination.bullets && e.pagination.bullets.length && e.pagination.bullets.each((function (i, s) { var a = n(s); e.a11y.makeElFocusable(a), e.a11y.addElRole(a, "button"), e.a11y.addElLabel(a, t.paginationBulletMessage.replace(/\{\{index\}\}/, a.index() + 1)) })) }, init: function () { this.$el.append(this.a11y.liveRegion); var e, t, i = this.params.a11y; this.navigation && this.navigation.$nextEl && (e = this.navigation.$nextEl), this.navigation && this.navigation.$prevEl && (t = this.navigation.$prevEl), e && (this.a11y.makeElFocusable(e), this.a11y.addElRole(e, "button"), this.a11y.addElLabel(e, i.nextSlideMessage), e.on("keydown", this.a11y.onEnterKey)), t && (this.a11y.makeElFocusable(t), this.a11y.addElRole(t, "button"), this.a11y.addElLabel(t, i.prevSlideMessage), t.on("keydown", this.a11y.onEnterKey)), this.pagination && this.params.pagination.clickable && this.pagination.bullets && this.pagination.bullets.length && this.pagination.$el.on("keydown", "." + this.params.pagination.bulletClass, this.a11y.onEnterKey) }, destroy: function () { var e, t; this.a11y.liveRegion && this.a11y.liveRegion.length > 0 && this.a11y.liveRegion.remove(), this.navigation && this.navigation.$nextEl && (e = this.navigation.$nextEl), this.navigation && this.navigation.$prevEl && (t = this.navigation.$prevEl), e && e.off("keydown", this.a11y.onEnterKey), t && t.off("keydown", this.a11y.onEnterKey), this.pagination && this.params.pagination.clickable && this.pagination.bullets && this.pagination.bullets.length && this.pagination.$el.off("keydown", "." + this.params.pagination.bulletClass, this.a11y.onEnterKey) } }, ve = { init: function () { if (this.params.history) { if (!a.history || !a.history.pushState) return this.params.history.enabled = !1, void (this.params.hashNavigation.enabled = !0); var e = this.history; e.initialized = !0, e.paths = ve.getPathValues(), (e.paths.key || e.paths.value) && (e.scrollToSlide(0, e.paths.value, this.params.runCallbacksOnInit), this.params.history.replaceState || a.addEventListener("popstate", this.history.setHistoryPopState)) } }, destroy: function () { this.params.history.replaceState || a.removeEventListener("popstate", this.history.setHistoryPopState) }, setHistoryPopState: function () { this.history.paths = ve.getPathValues(), this.history.scrollToSlide(this.params.speed, this.history.paths.value, !1) }, getPathValues: function () { var e = a.location.pathname.slice(1).split("/").filter((function (e) { return "" !== e })), t = e.length; return { key: e[t - 2], value: e[t - 1] } }, setHistory: function (e, t) { if (this.history.initialized && this.params.history.enabled) { var i = this.slides.eq(t), s = ve.slugify(i.attr("data-history")); a.location.pathname.includes(e) || (s = e + "/" + s); var r = a.history.state; r && r.value === s || (this.params.history.replaceState ? a.history.replaceState({ value: s }, null, s) : a.history.pushState({ value: s }, null, s)) } }, slugify: function (e) { return e.toString().replace(/\s+/g, "-").replace(/[^\w-]+/g, "").replace(/--+/g, "-").replace(/^-+/, "").replace(/-+$/, "") }, scrollToSlide: function (e, t, i) { if (t) for (var s = 0, a = this.slides.length; s < a; s += 1) { var r = this.slides.eq(s); if (ve.slugify(r.attr("data-history")) === t && !r.hasClass(this.params.slideDuplicateClass)) { var n = r.index(); this.slideTo(n, e, i) } } else this.slideTo(0, e, i) } }, fe = { onHashCange: function () { this.emit("hashChange"); var e = i.location.hash.replace("#", ""); if (e !== this.slides.eq(this.activeIndex).attr("data-hash")) { var t = this.$wrapperEl.children("." + this.params.slideClass + '[data-hash="' + e + '"]').index(); if (void 0 === t) return; this.slideTo(t) } }, setHash: function () { if (this.hashNavigation.initialized && this.params.hashNavigation.enabled) if (this.params.hashNavigation.replaceState && a.history && a.history.replaceState) a.history.replaceState(null, null, "#" + this.slides.eq(this.activeIndex).attr("data-hash") || ""), this.emit("hashSet"); else { var e = this.slides.eq(this.activeIndex), t = e.attr("data-hash") || e.attr("data-history"); i.location.hash = t || "", this.emit("hashSet") } }, init: function () { if (!(!this.params.hashNavigation.enabled || this.params.history && this.params.history.enabled)) { this.hashNavigation.initialized = !0; var e = i.location.hash.replace("#", ""); if (e) for (var t = 0, s = this.slides.length; t < s; t += 1) { var r = this.slides.eq(t); if ((r.attr("data-hash") || r.attr("data-history")) === e && !r.hasClass(this.params.slideDuplicateClass)) { var o = r.index(); this.slideTo(o, 0, this.params.runCallbacksOnInit, !0) } } this.params.hashNavigation.watchState && n(a).on("hashchange", this.hashNavigation.onHashCange) } }, destroy: function () { this.params.hashNavigation.watchState && n(a).off("hashchange", this.hashNavigation.onHashCange) } }, me = { run: function () { var e = this, t = e.slides.eq(e.activeIndex), i = e.params.autoplay.delay; t.attr("data-swiper-autoplay") && (i = t.attr("data-swiper-autoplay") || e.params.autoplay.delay), clearTimeout(e.autoplay.timeout), e.autoplay.timeout = d.nextTick((function () { e.params.autoplay.reverseDirection ? e.params.loop ? (e.loopFix(), e.slidePrev(e.params.speed, !0, !0), e.emit("autoplay")) : e.isBeginning ? e.params.autoplay.stopOnLastSlide ? e.autoplay.stop() : (e.slideTo(e.slides.length - 1, e.params.speed, !0, !0), e.emit("autoplay")) : (e.slidePrev(e.params.speed, !0, !0), e.emit("autoplay")) : e.params.loop ? (e.loopFix(), e.slideNext(e.params.speed, !0, !0), e.emit("autoplay")) : e.isEnd ? e.params.autoplay.stopOnLastSlide ? e.autoplay.stop() : (e.slideTo(0, e.params.speed, !0, !0), e.emit("autoplay")) : (e.slideNext(e.params.speed, !0, !0), e.emit("autoplay")), e.params.cssMode && e.autoplay.running && e.autoplay.run() }), i) }, start: function () { return void 0 === this.autoplay.timeout && (!this.autoplay.running && (this.autoplay.running = !0, this.emit("autoplayStart"), this.autoplay.run(), !0)) }, stop: function () { return !!this.autoplay.running && (void 0 !== this.autoplay.timeout && (this.autoplay.timeout && (clearTimeout(this.autoplay.timeout), this.autoplay.timeout = void 0), this.autoplay.running = !1, this.emit("autoplayStop"), !0)) }, pause: function (e) { this.autoplay.running && (this.autoplay.paused || (this.autoplay.timeout && clearTimeout(this.autoplay.timeout), this.autoplay.paused = !0, 0 !== e && this.params.autoplay.waitForTransition ? (this.$wrapperEl[0].addEventListener("transitionend", this.autoplay.onTransitionEnd), this.$wrapperEl[0].addEventListener("webkitTransitionEnd", this.autoplay.onTransitionEnd)) : (this.autoplay.paused = !1, this.autoplay.run()))) } }, ge = { setTranslate: function () { for (var e = this.slides, t = 0; t < e.length; t += 1) { var i = this.slides.eq(t), s = -i[0].swiperSlideOffset; this.params.virtualTranslate || (s -= this.translate); var a = 0; this.isHorizontal() || (a = s, s = 0); var r = this.params.fadeEffect.crossFade ? Math.max(1 - Math.abs(i[0].progress), 0) : 1 + Math.min(Math.max(i[0].progress, -1), 0); i.css({ opacity: r }).transform("translate3d(" + s + "px, " + a + "px, 0px)") } }, setTransition: function (e) { var t = this, i = t.slides, s = t.$wrapperEl; if (i.transition(e), t.params.virtualTranslate && 0 !== e) { var a = !1; i.transitionEnd((function () { if (!a && t && !t.destroyed) { a = !0, t.animating = !1; for (var e = ["webkitTransitionEnd", "transitionend"], i = 0; i < e.length; i += 1)s.trigger(e[i]) } })) } } }, be = { setTranslate: function () { var e, t = this.$el, i = this.$wrapperEl, s = this.slides, a = this.width, r = this.height, o = this.rtlTranslate, l = this.size, d = this.params.cubeEffect, h = this.isHorizontal(), p = this.virtual && this.params.virtual.enabled, c = 0; d.shadow && (h ? (0 === (e = i.find(".swiper-cube-shadow")).length && (e = n('<div class="swiper-cube-shadow"></div>'), i.append(e)), e.css({ height: a + "px" })) : 0 === (e = t.find(".swiper-cube-shadow")).length && (e = n('<div class="swiper-cube-shadow"></div>'), t.append(e))); for (var u = 0; u < s.length; u += 1) { var v = s.eq(u), f = u; p && (f = parseInt(v.attr("data-swiper-slide-index"), 10)); var m = 90 * f, g = Math.floor(m / 360); o && (m = -m, g = Math.floor(-m / 360)); var b = Math.max(Math.min(v[0].progress, 1), -1), w = 0, y = 0, x = 0; f % 4 == 0 ? (w = 4 * -g * l, x = 0) : (f - 1) % 4 == 0 ? (w = 0, x = 4 * -g * l) : (f - 2) % 4 == 0 ? (w = l + 4 * g * l, x = l) : (f - 3) % 4 == 0 && (w = -l, x = 3 * l + 4 * l * g), o && (w = -w), h || (y = w, w = 0); var E = "rotateX(" + (h ? 0 : -m) + "deg) rotateY(" + (h ? m : 0) + "deg) translate3d(" + w + "px, " + y + "px, " + x + "px)"; if (b <= 1 && b > -1 && (c = 90 * f + 90 * b, o && (c = 90 * -f - 90 * b)), v.transform(E), d.slideShadows) { var T = h ? v.find(".swiper-slide-shadow-left") : v.find(".swiper-slide-shadow-top"), S = h ? v.find(".swiper-slide-shadow-right") : v.find(".swiper-slide-shadow-bottom"); 0 === T.length && (T = n('<div class="swiper-slide-shadow-' + (h ? "left" : "top") + '"></div>'), v.append(T)), 0 === S.length && (S = n('<div class="swiper-slide-shadow-' + (h ? "right" : "bottom") + '"></div>'), v.append(S)), T.length && (T[0].style.opacity = Math.max(-b, 0)), S.length && (S[0].style.opacity = Math.max(b, 0)) } } if (i.css({ "-webkit-transform-origin": "50% 50% -" + l / 2 + "px", "-moz-transform-origin": "50% 50% -" + l / 2 + "px", "-ms-transform-origin": "50% 50% -" + l / 2 + "px", "transform-origin": "50% 50% -" + l / 2 + "px" }), d.shadow) if (h) e.transform("translate3d(0px, " + (a / 2 + d.shadowOffset) + "px, " + -a / 2 + "px) rotateX(90deg) rotateZ(0deg) scale(" + d.shadowScale + ")"); else { var C = Math.abs(c) - 90 * Math.floor(Math.abs(c) / 90), M = 1.5 - (Math.sin(2 * C * Math.PI / 360) / 2 + Math.cos(2 * C * Math.PI / 360) / 2), P = d.shadowScale, z = d.shadowScale / M, k = d.shadowOffset; e.transform("scale3d(" + P + ", 1, " + z + ") translate3d(0px, " + (r / 2 + k) + "px, " + -r / 2 / z + "px) rotateX(-90deg)") } var $ = _.isSafari || _.isUiWebView ? -l / 2 : 0; i.transform("translate3d(0px,0," + $ + "px) rotateX(" + (this.isHorizontal() ? 0 : c) + "deg) rotateY(" + (this.isHorizontal() ? -c : 0) + "deg)") }, setTransition: function (e) { var t = this.$el; this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e), this.params.cubeEffect.shadow && !this.isHorizontal() && t.find(".swiper-cube-shadow").transition(e) } }, we = { setTranslate: function () { for (var e = this.slides, t = this.rtlTranslate, i = 0; i < e.length; i += 1) { var s = e.eq(i), a = s[0].progress; this.params.flipEffect.limitRotation && (a = Math.max(Math.min(s[0].progress, 1), -1)); var r = -180 * a, o = 0, l = -s[0].swiperSlideOffset, d = 0; if (this.isHorizontal() ? t && (r = -r) : (d = l, l = 0, o = -r, r = 0), s[0].style.zIndex = -Math.abs(Math.round(a)) + e.length, this.params.flipEffect.slideShadows) { var h = this.isHorizontal() ? s.find(".swiper-slide-shadow-left") : s.find(".swiper-slide-shadow-top"), p = this.isHorizontal() ? s.find(".swiper-slide-shadow-right") : s.find(".swiper-slide-shadow-bottom"); 0 === h.length && (h = n('<div class="swiper-slide-shadow-' + (this.isHorizontal() ? "left" : "top") + '"></div>'), s.append(h)), 0 === p.length && (p = n('<div class="swiper-slide-shadow-' + (this.isHorizontal() ? "right" : "bottom") + '"></div>'), s.append(p)), h.length && (h[0].style.opacity = Math.max(-a, 0)), p.length && (p[0].style.opacity = Math.max(a, 0)) } s.transform("translate3d(" + l + "px, " + d + "px, 0px) rotateX(" + o + "deg) rotateY(" + r + "deg)") } }, setTransition: function (e) { var t = this, i = t.slides, s = t.activeIndex, a = t.$wrapperEl; if (i.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e), t.params.virtualTranslate && 0 !== e) { var r = !1; i.eq(s).transitionEnd((function () { if (!r && t && !t.destroyed) { r = !0, t.animating = !1; for (var e = ["webkitTransitionEnd", "transitionend"], i = 0; i < e.length; i += 1)a.trigger(e[i]) } })) } } }, ye = { setTranslate: function () { for (var e = this.width, t = this.height, i = this.slides, s = this.$wrapperEl, a = this.slidesSizesGrid, r = this.params.coverflowEffect, o = this.isHorizontal(), l = this.translate, d = o ? e / 2 - l : t / 2 - l, p = o ? r.rotate : -r.rotate, c = r.depth, u = 0, v = i.length; u < v; u += 1) { var f = i.eq(u), m = a[u], g = (d - f[0].swiperSlideOffset - m / 2) / m * r.modifier, b = o ? p * g : 0, w = o ? 0 : p * g, y = -c * Math.abs(g), x = r.stretch; "string" == typeof x && -1 !== x.indexOf("%") && (x = parseFloat(r.stretch) / 100 * m); var E = o ? 0 : x * g, T = o ? x * g : 0; Math.abs(T) < .001 && (T = 0), Math.abs(E) < .001 && (E = 0), Math.abs(y) < .001 && (y = 0), Math.abs(b) < .001 && (b = 0), Math.abs(w) < .001 && (w = 0); var S = "translate3d(" + T + "px," + E + "px," + y + "px)  rotateX(" + w + "deg) rotateY(" + b + "deg)"; if (f.transform(S), f[0].style.zIndex = 1 - Math.abs(Math.round(g)), r.slideShadows) { var C = o ? f.find(".swiper-slide-shadow-left") : f.find(".swiper-slide-shadow-top"), M = o ? f.find(".swiper-slide-shadow-right") : f.find(".swiper-slide-shadow-bottom"); 0 === C.length && (C = n('<div class="swiper-slide-shadow-' + (o ? "left" : "top") + '"></div>'), f.append(C)), 0 === M.length && (M = n('<div class="swiper-slide-shadow-' + (o ? "right" : "bottom") + '"></div>'), f.append(M)), C.length && (C[0].style.opacity = g > 0 ? g : 0), M.length && (M[0].style.opacity = -g > 0 ? -g : 0) } } (h.pointerEvents || h.prefixedPointerEvents) && (s[0].style.perspectiveOrigin = d + "px 50%") }, setTransition: function (e) { this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e) } }, xe = { init: function () { var e = this.params.thumbs, t = this.constructor; e.swiper instanceof t ? (this.thumbs.swiper = e.swiper, d.extend(this.thumbs.swiper.originalParams, { watchSlidesProgress: !0, slideToClickedSlide: !1 }), d.extend(this.thumbs.swiper.params, { watchSlidesProgress: !0, slideToClickedSlide: !1 })) : d.isObject(e.swiper) && (this.thumbs.swiper = new t(d.extend({}, e.swiper, { watchSlidesVisibility: !0, watchSlidesProgress: !0, slideToClickedSlide: !1 })), this.thumbs.swiperCreated = !0), this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass), this.thumbs.swiper.on("tap", this.thumbs.onThumbClick) }, onThumbClick: function () { var e = this.thumbs.swiper; if (e) { var t = e.clickedIndex, i = e.clickedSlide; if (!(i && n(i).hasClass(this.params.thumbs.slideThumbActiveClass) || null == t)) { var s; if (s = e.params.loop ? parseInt(n(e.clickedSlide).attr("data-swiper-slide-index"), 10) : t, this.params.loop) { var a = this.activeIndex; this.slides.eq(a).hasClass(this.params.slideDuplicateClass) && (this.loopFix(), this._clientLeft = this.$wrapperEl[0].clientLeft, a = this.activeIndex); var r = this.slides.eq(a).prevAll('[data-swiper-slide-index="' + s + '"]').eq(0).index(), o = this.slides.eq(a).nextAll('[data-swiper-slide-index="' + s + '"]').eq(0).index(); s = void 0 === r ? o : void 0 === o ? r : o - a < a - r ? o : r } this.slideTo(s) } } }, update: function (e) { var t = this.thumbs.swiper; if (t) { var i = "auto" === t.params.slidesPerView ? t.slidesPerViewDynamic() : t.params.slidesPerView, s = this.params.thumbs.autoScrollOffset, a = s && !t.params.loop; if (this.realIndex !== t.realIndex || a) { var r, n, o = t.activeIndex; if (t.params.loop) { t.slides.eq(o).hasClass(t.params.slideDuplicateClass) && (t.loopFix(), t._clientLeft = t.$wrapperEl[0].clientLeft, o = t.activeIndex); var l = t.slides.eq(o).prevAll('[data-swiper-slide-index="' + this.realIndex + '"]').eq(0).index(), d = t.slides.eq(o).nextAll('[data-swiper-slide-index="' + this.realIndex + '"]').eq(0).index(); r = void 0 === l ? d : void 0 === d ? l : d - o == o - l ? o : d - o < o - l ? d : l, n = this.activeIndex > this.previousIndex ? "next" : "prev" } else n = (r = this.realIndex) > this.previousIndex ? "next" : "prev"; a && (r += "next" === n ? s : -1 * s), t.visibleSlidesIndexes && t.visibleSlidesIndexes.indexOf(r) < 0 && (t.params.centeredSlides ? r = r > o ? r - Math.floor(i / 2) + 1 : r + Math.floor(i / 2) - 1 : r > o && (r = r - i + 1), t.slideTo(r, e ? 0 : void 0)) } var h = 1, p = this.params.thumbs.slideThumbActiveClass; if (this.params.slidesPerView > 1 && !this.params.centeredSlides && (h = this.params.slidesPerView), this.params.thumbs.multipleActiveThumbs || (h = 1), h = Math.floor(h), t.slides.removeClass(p), t.params.loop || t.params.virtual && t.params.virtual.enabled) for (var c = 0; c < h; c += 1)t.$wrapperEl.children('[data-swiper-slide-index="' + (this.realIndex + c) + '"]').addClass(p); else for (var u = 0; u < h; u += 1)t.slides.eq(this.realIndex + u).addClass(p) } } }, Ee = [K, U, Z, Q, ee, ie, ae, { name: "mousewheel", params: { mousewheel: { enabled: !1, releaseOnEdges: !1, invert: !1, forceToAxis: !1, sensitivity: 1, eventsTarged: "container" } }, create: function () { d.extend(this, { mousewheel: { enabled: !1, enable: re.enable.bind(this), disable: re.disable.bind(this), handle: re.handle.bind(this), handleMouseEnter: re.handleMouseEnter.bind(this), handleMouseLeave: re.handleMouseLeave.bind(this), animateSlider: re.animateSlider.bind(this), releaseScroll: re.releaseScroll.bind(this), lastScrollTime: d.now(), lastEventBeforeSnap: void 0, recentWheelEvents: [] } }) }, on: { init: function () { !this.params.mousewheel.enabled && this.params.cssMode && this.mousewheel.disable(), this.params.mousewheel.enabled && this.mousewheel.enable() }, destroy: function () { this.params.cssMode && this.mousewheel.enable(), this.mousewheel.enabled && this.mousewheel.disable() } } }, { name: "navigation", params: { navigation: { nextEl: null, prevEl: null, hideOnClick: !1, disabledClass: "swiper-button-disabled", hiddenClass: "swiper-button-hidden", lockClass: "swiper-button-lock" } }, create: function () { d.extend(this, { navigation: { init: ne.init.bind(this), update: ne.update.bind(this), destroy: ne.destroy.bind(this), onNextClick: ne.onNextClick.bind(this), onPrevClick: ne.onPrevClick.bind(this) } }) }, on: { init: function () { this.navigation.init(), this.navigation.update() }, toEdge: function () { this.navigation.update() }, fromEdge: function () { this.navigation.update() }, destroy: function () { this.navigation.destroy() }, click: function (e) { var t, i = this.navigation, s = i.$nextEl, a = i.$prevEl; !this.params.navigation.hideOnClick || n(e.target).is(a) || n(e.target).is(s) || (s ? t = s.hasClass(this.params.navigation.hiddenClass) : a && (t = a.hasClass(this.params.navigation.hiddenClass)), !0 === t ? this.emit("navigationShow", this) : this.emit("navigationHide", this), s && s.toggleClass(this.params.navigation.hiddenClass), a && a.toggleClass(this.params.navigation.hiddenClass)) } } }, { name: "pagination", params: { pagination: { el: null, bulletElement: "span", clickable: !1, hideOnClick: !1, renderBullet: null, renderProgressbar: null, renderFraction: null, renderCustom: null, progressbarOpposite: !1, type: "bullets", dynamicBullets: !1, dynamicMainBullets: 1, formatFractionCurrent: function (e) { return e }, formatFractionTotal: function (e) { return e }, bulletClass: "swiper-pagination-bullet", bulletActiveClass: "swiper-pagination-bullet-active", modifierClass: "swiper-pagination-", currentClass: "swiper-pagination-current", totalClass: "swiper-pagination-total", hiddenClass: "swiper-pagination-hidden", progressbarFillClass: "swiper-pagination-progressbar-fill", progressbarOppositeClass: "swiper-pagination-progressbar-opposite", clickableClass: "swiper-pagination-clickable", lockClass: "swiper-pagination-lock" } }, create: function () { d.extend(this, { pagination: { init: oe.init.bind(this), render: oe.render.bind(this), update: oe.update.bind(this), destroy: oe.destroy.bind(this), dynamicBulletIndex: 0 } }) }, on: { init: function () { this.pagination.init(), this.pagination.render(), this.pagination.update() }, activeIndexChange: function () { (this.params.loop || void 0 === this.snapIndex) && this.pagination.update() }, snapIndexChange: function () { this.params.loop || this.pagination.update() }, slidesLengthChange: function () { this.params.loop && (this.pagination.render(), this.pagination.update()) }, snapGridLengthChange: function () { this.params.loop || (this.pagination.render(), this.pagination.update()) }, destroy: function () { this.pagination.destroy() }, click: function (e) { this.params.pagination.el && this.params.pagination.hideOnClick && this.pagination.$el.length > 0 && !n(e.target).hasClass(this.params.pagination.bulletClass) && (!0 === this.pagination.$el.hasClass(this.params.pagination.hiddenClass) ? this.emit("paginationShow", this) : this.emit("paginationHide", this), this.pagination.$el.toggleClass(this.params.pagination.hiddenClass)) } } }, { name: "scrollbar", params: { scrollbar: { el: null, dragSize: "auto", hide: !1, draggable: !1, snapOnRelease: !0, lockClass: "swiper-scrollbar-lock", dragClass: "swiper-scrollbar-drag" } }, create: function () { d.extend(this, { scrollbar: { init: le.init.bind(this), destroy: le.destroy.bind(this), updateSize: le.updateSize.bind(this), setTranslate: le.setTranslate.bind(this), setTransition: le.setTransition.bind(this), enableDraggable: le.enableDraggable.bind(this), disableDraggable: le.disableDraggable.bind(this), setDragPosition: le.setDragPosition.bind(this), getPointerPosition: le.getPointerPosition.bind(this), onDragStart: le.onDragStart.bind(this), onDragMove: le.onDragMove.bind(this), onDragEnd: le.onDragEnd.bind(this), isTouched: !1, timeout: null, dragTimeout: null } }) }, on: { init: function () { this.scrollbar.init(), this.scrollbar.updateSize(), this.scrollbar.setTranslate() }, update: function () { this.scrollbar.updateSize() }, resize: function () { this.scrollbar.updateSize() }, observerUpdate: function () { this.scrollbar.updateSize() }, setTranslate: function () { this.scrollbar.setTranslate() }, setTransition: function (e) { this.scrollbar.setTransition(e) }, destroy: function () { this.scrollbar.destroy() } } }, { name: "parallax", params: { parallax: { enabled: !1 } }, create: function () { d.extend(this, { parallax: { setTransform: de.setTransform.bind(this), setTranslate: de.setTranslate.bind(this), setTransition: de.setTransition.bind(this) } }) }, on: { beforeInit: function () { this.params.parallax.enabled && (this.params.watchSlidesProgress = !0, this.originalParams.watchSlidesProgress = !0) }, init: function () { this.params.parallax.enabled && this.parallax.setTranslate() }, setTranslate: function () { this.params.parallax.enabled && this.parallax.setTranslate() }, setTransition: function (e) { this.params.parallax.enabled && this.parallax.setTransition(e) } } }, { name: "zoom", params: { zoom: { enabled: !1, maxRatio: 3, minRatio: 1, toggle: !0, containerClass: "swiper-zoom-container", zoomedSlideClass: "swiper-slide-zoomed" } }, create: function () { var e = this, t = { enabled: !1, scale: 1, currentScale: 1, isScaling: !1, gesture: { $slideEl: void 0, slideWidth: void 0, slideHeight: void 0, $imageEl: void 0, $imageWrapEl: void 0, maxRatio: 3 }, image: { isTouched: void 0, isMoved: void 0, currentX: void 0, currentY: void 0, minX: void 0, minY: void 0, maxX: void 0, maxY: void 0, width: void 0, height: void 0, startX: void 0, startY: void 0, touchesStart: {}, touchesCurrent: {} }, velocity: { x: void 0, y: void 0, prevPositionX: void 0, prevPositionY: void 0, prevTime: void 0 } }; "onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach((function (i) { t[i] = he[i].bind(e) })), d.extend(e, { zoom: t }); var i = 1; Object.defineProperty(e.zoom, "scale", { get: function () { return i }, set: function (t) { if (i !== t) { var s = e.zoom.gesture.$imageEl ? e.zoom.gesture.$imageEl[0] : void 0, a = e.zoom.gesture.$slideEl ? e.zoom.gesture.$slideEl[0] : void 0; e.emit("zoomChange", t, s, a) } i = t } }) }, on: { init: function () { this.params.zoom.enabled && this.zoom.enable() }, destroy: function () { this.zoom.disable() }, touchStart: function (e) { this.zoom.enabled && this.zoom.onTouchStart(e) }, touchEnd: function (e) { this.zoom.enabled && this.zoom.onTouchEnd(e) }, doubleTap: function (e) { this.params.zoom.enabled && this.zoom.enabled && this.params.zoom.toggle && this.zoom.toggle(e) }, transitionEnd: function () { this.zoom.enabled && this.params.zoom.enabled && this.zoom.onTransitionEnd() }, slideChange: function () { this.zoom.enabled && this.params.zoom.enabled && this.params.cssMode && this.zoom.onTransitionEnd() } } }, { name: "lazy", params: { lazy: { enabled: !1, loadPrevNext: !1, loadPrevNextAmount: 1, loadOnTransitionStart: !1, elementClass: "swiper-lazy", loadingClass: "swiper-lazy-loading", loadedClass: "swiper-lazy-loaded", preloaderClass: "swiper-lazy-preloader" } }, create: function () { d.extend(this, { lazy: { initialImageLoaded: !1, load: pe.load.bind(this), loadInSlide: pe.loadInSlide.bind(this) } }) }, on: { beforeInit: function () { this.params.lazy.enabled && this.params.preloadImages && (this.params.preloadImages = !1) }, init: function () { this.params.lazy.enabled && !this.params.loop && 0 === this.params.initialSlide && this.lazy.load() }, scroll: function () { this.params.freeMode && !this.params.freeModeSticky && this.lazy.load() }, resize: function () { this.params.lazy.enabled && this.lazy.load() }, scrollbarDragMove: function () { this.params.lazy.enabled && this.lazy.load() }, transitionStart: function () { this.params.lazy.enabled && (this.params.lazy.loadOnTransitionStart || !this.params.lazy.loadOnTransitionStart && !this.lazy.initialImageLoaded) && this.lazy.load() }, transitionEnd: function () { this.params.lazy.enabled && !this.params.lazy.loadOnTransitionStart && this.lazy.load() }, slideChange: function () { this.params.lazy.enabled && this.params.cssMode && this.lazy.load() } } }, { name: "controller", params: { controller: { control: void 0, inverse: !1, by: "slide" } }, create: function () { d.extend(this, { controller: { control: this.params.controller.control, getInterpolateFunction: ce.getInterpolateFunction.bind(this), setTranslate: ce.setTranslate.bind(this), setTransition: ce.setTransition.bind(this) } }) }, on: { update: function () { this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline) }, resize: function () { this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline) }, observerUpdate: function () { this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline) }, setTranslate: function (e, t) { this.controller.control && this.controller.setTranslate(e, t) }, setTransition: function (e, t) { this.controller.control && this.controller.setTransition(e, t) } } }, { name: "a11y", params: { a11y: { enabled: !0, notificationClass: "swiper-notification", prevSlideMessage: "Previous slide", nextSlideMessage: "Next slide", firstSlideMessage: "This is the first slide", lastSlideMessage: "This is the last slide", paginationBulletMessage: "Go to slide {{index}}" } }, create: function () { var e = this; d.extend(e, { a11y: { liveRegion: n('<span class="' + e.params.a11y.notificationClass + '" aria-live="assertive" aria-atomic="true"></span>') } }), Object.keys(ue).forEach((function (t) { e.a11y[t] = ue[t].bind(e) })) }, on: { init: function () { this.params.a11y.enabled && (this.a11y.init(), this.a11y.updateNavigation()) }, toEdge: function () { this.params.a11y.enabled && this.a11y.updateNavigation() }, fromEdge: function () { this.params.a11y.enabled && this.a11y.updateNavigation() }, paginationUpdate: function () { this.params.a11y.enabled && this.a11y.updatePagination() }, destroy: function () { this.params.a11y.enabled && this.a11y.destroy() } } }, { name: "history", params: { history: { enabled: !1, replaceState: !1, key: "slides" } }, create: function () { d.extend(this, { history: { init: ve.init.bind(this), setHistory: ve.setHistory.bind(this), setHistoryPopState: ve.setHistoryPopState.bind(this), scrollToSlide: ve.scrollToSlide.bind(this), destroy: ve.destroy.bind(this) } }) }, on: { init: function () { this.params.history.enabled && this.history.init() }, destroy: function () { this.params.history.enabled && this.history.destroy() }, transitionEnd: function () { this.history.initialized && this.history.setHistory(this.params.history.key, this.activeIndex) }, slideChange: function () { this.history.initialized && this.params.cssMode && this.history.setHistory(this.params.history.key, this.activeIndex) } } }, { name: "hash-navigation", params: { hashNavigation: { enabled: !1, replaceState: !1, watchState: !1 } }, create: function () { d.extend(this, { hashNavigation: { initialized: !1, init: fe.init.bind(this), destroy: fe.destroy.bind(this), setHash: fe.setHash.bind(this), onHashCange: fe.onHashCange.bind(this) } }) }, on: { init: function () { this.params.hashNavigation.enabled && this.hashNavigation.init() }, destroy: function () { this.params.hashNavigation.enabled && this.hashNavigation.destroy() }, transitionEnd: function () { this.hashNavigation.initialized && this.hashNavigation.setHash() }, slideChange: function () { this.hashNavigation.initialized && this.params.cssMode && this.hashNavigation.setHash() } } }, { name: "autoplay", params: { autoplay: { enabled: !1, delay: 3e3, waitForTransition: !0, disableOnInteraction: !0, stopOnLastSlide: !1, reverseDirection: !1 } }, create: function () { var e = this; d.extend(e, { autoplay: { running: !1, paused: !1, run: me.run.bind(e), start: me.start.bind(e), stop: me.stop.bind(e), pause: me.pause.bind(e), onVisibilityChange: function () { "hidden" === document.visibilityState && e.autoplay.running && e.autoplay.pause(), "visible" === document.visibilityState && e.autoplay.paused && (e.autoplay.run(), e.autoplay.paused = !1) }, onTransitionEnd: function (t) { e && !e.destroyed && e.$wrapperEl && t.target === this && (e.$wrapperEl[0].removeEventListener("transitionend", e.autoplay.onTransitionEnd), e.$wrapperEl[0].removeEventListener("webkitTransitionEnd", e.autoplay.onTransitionEnd), e.autoplay.paused = !1, e.autoplay.running ? e.autoplay.run() : e.autoplay.stop()) } } }) }, on: { init: function () { this.params.autoplay.enabled && (this.autoplay.start(), document.addEventListener("visibilitychange", this.autoplay.onVisibilityChange)) }, beforeTransitionStart: function (e, t) { this.autoplay.running && (t || !this.params.autoplay.disableOnInteraction ? this.autoplay.pause(e) : this.autoplay.stop()) }, sliderFirstMove: function () { this.autoplay.running && (this.params.autoplay.disableOnInteraction ? this.autoplay.stop() : this.autoplay.pause()) }, touchEnd: function () { this.params.cssMode && this.autoplay.paused && !this.params.autoplay.disableOnInteraction && this.autoplay.run() }, destroy: function () { this.autoplay.running && this.autoplay.stop(), document.removeEventListener("visibilitychange", this.autoplay.onVisibilityChange) } } }, { name: "effect-fade", params: { fadeEffect: { crossFade: !1 } }, create: function () { d.extend(this, { fadeEffect: { setTranslate: ge.setTranslate.bind(this), setTransition: ge.setTransition.bind(this) } }) }, on: { beforeInit: function () { if ("fade" === this.params.effect) { this.classNames.push(this.params.containerModifierClass + "fade"); var e = { slidesPerView: 1, slidesPerColumn: 1, slidesPerGroup: 1, watchSlidesProgress: !0, spaceBetween: 0, virtualTranslate: !0 }; d.extend(this.params, e), d.extend(this.originalParams, e) } }, setTranslate: function () { "fade" === this.params.effect && this.fadeEffect.setTranslate() }, setTransition: function (e) { "fade" === this.params.effect && this.fadeEffect.setTransition(e) } } }, { name: "effect-cube", params: { cubeEffect: { slideShadows: !0, shadow: !0, shadowOffset: 20, shadowScale: .94 } }, create: function () { d.extend(this, { cubeEffect: { setTranslate: be.setTranslate.bind(this), setTransition: be.setTransition.bind(this) } }) }, on: { beforeInit: function () { if ("cube" === this.params.effect) { this.classNames.push(this.params.containerModifierClass + "cube"), this.classNames.push(this.params.containerModifierClass + "3d"); var e = { slidesPerView: 1, slidesPerColumn: 1, slidesPerGroup: 1, watchSlidesProgress: !0, resistanceRatio: 0, spaceBetween: 0, centeredSlides: !1, virtualTranslate: !0 }; d.extend(this.params, e), d.extend(this.originalParams, e) } }, setTranslate: function () { "cube" === this.params.effect && this.cubeEffect.setTranslate() }, setTransition: function (e) { "cube" === this.params.effect && this.cubeEffect.setTransition(e) } } }, { name: "effect-flip", params: { flipEffect: { slideShadows: !0, limitRotation: !0 } }, create: function () { d.extend(this, { flipEffect: { setTranslate: we.setTranslate.bind(this), setTransition: we.setTransition.bind(this) } }) }, on: { beforeInit: function () { if ("flip" === this.params.effect) { this.classNames.push(this.params.containerModifierClass + "flip"), this.classNames.push(this.params.containerModifierClass + "3d"); var e = { slidesPerView: 1, slidesPerColumn: 1, slidesPerGroup: 1, watchSlidesProgress: !0, spaceBetween: 0, virtualTranslate: !0 }; d.extend(this.params, e), d.extend(this.originalParams, e) } }, setTranslate: function () { "flip" === this.params.effect && this.flipEffect.setTranslate() }, setTransition: function (e) { "flip" === this.params.effect && this.flipEffect.setTransition(e) } } }, { name: "effect-coverflow", params: { coverflowEffect: { rotate: 50, stretch: 0, depth: 100, modifier: 1, slideShadows: !0 } }, create: function () { d.extend(this, { coverflowEffect: { setTranslate: ye.setTranslate.bind(this), setTransition: ye.setTransition.bind(this) } }) }, on: { beforeInit: function () { "coverflow" === this.params.effect && (this.classNames.push(this.params.containerModifierClass + "coverflow"), this.classNames.push(this.params.containerModifierClass + "3d"), this.params.watchSlidesProgress = !0, this.originalParams.watchSlidesProgress = !0) }, setTranslate: function () { "coverflow" === this.params.effect && this.coverflowEffect.setTranslate() }, setTransition: function (e) { "coverflow" === this.params.effect && this.coverflowEffect.setTransition(e) } } }, { name: "thumbs", params: { thumbs: { swiper: null, multipleActiveThumbs: !0, autoScrollOffset: 0, slideThumbActiveClass: "swiper-slide-thumb-active", thumbsContainerClass: "swiper-container-thumbs" } }, create: function () { d.extend(this, { thumbs: { swiper: null, init: xe.init.bind(this), update: xe.update.bind(this), onThumbClick: xe.onThumbClick.bind(this) } }) }, on: { beforeInit: function () { var e = this.params.thumbs; e && e.swiper && (this.thumbs.init(), this.thumbs.update(!0)) }, slideChange: function () { this.thumbs.swiper && this.thumbs.update() }, update: function () { this.thumbs.swiper && this.thumbs.update() }, resize: function () { this.thumbs.swiper && this.thumbs.update() }, observerUpdate: function () { this.thumbs.swiper && this.thumbs.update() }, setTransition: function (e) { var t = this.thumbs.swiper; t && t.setTransition(e) }, beforeDestroy: function () { var e = this.thumbs.swiper; e && this.thumbs.swiperCreated && e && e.destroy() } } }]; return void 0 === j.use && (j.use = j.Class.use, j.installModule = j.Class.installModule), j.use(Ee), j }));
        //# sourceMappingURL=swiper.min.js.map

        function asset_wrap() {
            var i = 0;
            function asset(path) {
                i %= 4;
                i++;
                return '//s' + i + '.tool.lu/' + path;
            }
            return asset;
        }
        window.asset = asset_wrap();

        function url(path) {
            rootUrl = window.rootUrl || '//' + window.location.hostname + '/';
            return rootUrl + path;
        }

        Util = {
            escapeRegExp: function (str) {
                return String(str).replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
            },

            trim: function (str, characters) {
                characters = Util.escapeRegExp(characters);
                return String(str).replace(new RegExp('\^' + characters + '+|' + characters + '+$', 'g'), '');
            },

            ltrim: function (str, characters) {
                characters = Util.escapeRegExp(characters);
                return String(str).replace(new RegExp('^' + characters + '+'), '');
            },

            rtrim: function (str, characters) {
                characters = Util.escapeRegExp(characters);
                return String(str).replace(new RegExp(characters + '+$'), '');
            },
        };

        window.ltrim = Util.ltrim;

        function modal(html) {
            return $.facebox($('<div class="facebox-inner"/>').html(html));
        }
        $(function () {
            $.facebox.settings.closeImage = '/static/js/facebox/closelabel.png';
            $.facebox.settings.loadingImage = '/static/js/facebox/loading.gif';

            $('a[rel*=facebox]').facebox();

            if (window.console) {
                console.groupCollapsed('%c在线工具', 'color:#009a61; font-size: 28px; font-weight: 300');
                console.log('%chttps://tool.lu\n-------------\nQQ交流群(一):174157258, QQ交流群(二): 227310278', 'color:#009a61');
                console.groupEnd();
            }

            // if (top.location != self.location) top.location=self.location;

            if (typeof Waves !== 'undefined') {
                // Waves.attach('button', ['waves-light']);
                Waves.attach('button');
                Waves.init();
            }

            /* nav scroll fixed */
            var nav = $('#nav');
            nav.scrollToFixed({ zIndex: 99 });
            // $('.aside .note').scrollToFixed({
            //     marginTop: nav.outerHeight() + 10,
            //     zIndex: 99
            // });

            var clipboard = new Clipboard('.copy-btn');
            clipboard.on('success', function (e) {
                modal('已经拷贝到剪切板了！');
            });

            $('#t_fixed .js-tip').tipsy({ gravity: 'e', fade: true, fadeIn: 300, fadeOut: 300 });

            //textarea中Tab键
            $('#code').keydown(function (e) {
                if (e.which === 9 && !e.ctrlKey && !e.altKey) {
                    if (e.target.setSelectionRange) {
                        var start = e.target.selectionStart, end = e.target.selectionEnd;
                        var top = e.target.scrollTop;

                        var sel = e.target.value.substring(start, end);
                        var contain_n = false;
                        // [\r\n]+
                        if (/\r?\n|\r/.test(sel)) {
                            contain_n = true;
                        }

                        if (start !== end && contain_n) {
                            start = e.target.value.lastIndexOf("\n", start) + 1;
                        }

                        if (e.shiftKey) {
                            sel = sel.replace(/^(\t| {1,4})/gm, '');
                        } else {
                            if (contain_n) {
                                sel = sel.replace(/^/gm, '\t');
                            } else {
                                sel = '\t';
                            }
                        }
                        e.target.value = e.target.value.substring(0, start) + sel + e.target.value.substr(end);
                        // here need modify
                        e.target.setSelectionRange(start === end ? start + 1 : start, start + sel.length);
                        e.target.focus();
                        e.target.scrollTop = top;
                    } else if (e.target.createTextRange) {
                        document.selection.createRange().text = "\t";
                    }
                    if ($.browser.opera) {
                        $(this).one('keypress', function (e) {
                            return false;
                        });
                    }
                    return false;
                }
            });

            $('.js-attach-link').on('click', function (e) {
                modal("<div style=\"width: 500px;\"><p>交换链接需满足以下条件：</p><ol><li>你的网站建站时间已满1年</li><li>内容原创，版面整洁，无弹窗广告</li><li>暂时不接受个人博客类的</li><li>使用<code>window.opener.location.href</code>恶意跳转的，永久加入黑名单</li><li>3天内无来源访问的友链，程序将自动删除友链</li></ol><p>有意向交换链接，并满足以上条件者，<a target=\"_blank\" rel=\"nofollow\" href=\"//tool.lu/user/messages/2\">联系我</a></p></div>");
            });

            $('.js-fixed-summary').on('click', function (e) {
                e.preventDefault();
                $(this).removeClass('fixed-summary');
            });

            $('.js-summary-expand').on('click', function (e) {
                e.preventDefault();
                var thiz = $(this);
                var container = thiz.closest('.js-summary-container');
                container.find('.js-summary-content').removeClass('fixed-summary');
                thiz.hide();
                container.find('.js-summary-collapse').show();
            });

            $('.js-summary-collapse').on('click', function (e) {
                e.preventDefault();
                var thiz = $(this);
                var container = thiz.closest('.js-summary-container');
                container.find('.js-summary-content').addClass('fixed-summary');
                thiz.hide();
                container.find('.js-summary-expand').show();
            });

            $('a.js-track').on('click', function (e) {
                // ... 打点
                var thiz = $(this);
                var link = thiz.attr('href');
                var text = thiz.text();
                var referrer = document.URL;
                // console.log(link, text);
            });

            var loginBar = $('#js_login_bar');
            $.getJSON(loginBar.data("url"), function (data) {
                loginBar.html(data.info);
                if (data.authorized) {
                    setTimeout(checknewpm, 1000);
                    setInterval(checknewpm, 10 * 60000); // 暂定 10min 检测一次
                }
            });

            var running = false;
            $('a.collectable').on('click', function (e) {
                e.preventDefault();
                if (running) return;
                running = true;
                var collectBtn = $(this);

                $.post(collectBtn.data('url'), { slug: collectBtn.data('slug') }, function (data) {
                    if (data.status) {
                        if (collectBtn.hasClass("collect")) {
                            collectBtn.find('var').text('取消收藏');
                            collectBtn.find('i.icon').removeClass('collect').addClass('collected');
                            collectBtn.removeClass("collect").addClass("uncollect");
                            animateCollect(collectBtn);
                        } else {
                            collectBtn.find('var').text('加入收藏');
                            collectBtn.find('i.icon').removeClass('collected').addClass('collect');
                            collectBtn.removeClass("uncollect").addClass("collect");
                        }
                    } else {
                        modal(data.message);
                    }
                    running = false;
                }, 'json');
            });

            $('.js-share-wechat').on('click', function (e) {
                e.preventDefault();
                modal('<h4 style="margin-top: 0;">分享到微信朋友圈</h4><div class="text-center"><img src="' + $(this).data('image') + '" width="140" height="140"><br>使用微信“扫一扫”可分享至好友或朋友圈</div>');
            });
            $('.js-share-weibo').on('click', function (e) {
                e.preventDefault();
                window.open($(this).data('url'), "_blank", "width=615,height=505");
            });
            $('.js-share-qq').on('click', function (e) {
                e.preventDefault();
                window.open($(this).data('url'), "_blank", "width=800,height=600");
            });

            $('.js-wechat-mp').on('click', function (e) {
                e.preventDefault();
                modal('<h4 style="margin-top: 0;">关注公众号：知鸦</h4><div class="text-center"><img src="' + $(this).data('image') + '" width="140" height="140"><br>使用微信“扫一扫”关注公众号：知鸦</div>');
            });

            $('.js-days-countdown').on('click', function (e) {
                e.preventDefault();
                modal('距离' + $(this).data('targetYear') + '还有' + $(this).data('countdown') + '天，年初定的目标怎样了？');
            });
            var inWechat = /(micromessenger|webbrowser)/.test(navigator.userAgent.toLocaleLowerCase());
        });

        function animateCollect(collectBtn) {
            var toolBox = collectBtn.closest(".item");
            if (toolBox.length === 0) {
                return;
            }
            var aniEle = $('<div/>').css({
                top: toolBox.offset().top,
                left: toolBox.offset().left,
                position: "absolute",
                width: toolBox.width(),
                height: toolBox.height(),
                backgroundColor: "rgba(0, 0, 0, .05)"
            });
            $(document.body).append(aniEle);
            var navMine = $('.nav-mine');
            aniEle.animate({
                top: navMine.offset().top,
                left: navMine.offset().left,
                width: navMine.width(),
                height: navMine.height()
            }, 300, null, function () {
                aniEle.remove()
            });
        }

        function checknewpm() {
            var messsage_nav = $('.js_message_nav');
            $.get('//tool.lu/user/messages/checknew', {}, function (data) {
                if (data.new_count > 0) {
                    // noticeTitle();
                    messsage_nav.addClass('new');
                } else {
                    clearNoticeTitle();
                    messsage_nav.removeClass('new');
                }
            }, 'json');
        }

        function flash(e) {
            var e = $(e), a = 255, b = 239, c = 0, d = 1, to;
            a = 239;
            b = 191;
            c = 1;
            d = 4;
            setTimeout(function () {
                $(window).scrollTop(e.offset().top - 50);
            }, 10);
            to = setInterval(function () {
                a += c;
                b += d;
                e.css("backgroundColor", "#ff" + a.toString(16) + b.toString(16));
                if (b >= 255) {
                    clearInterval(to);
                    to = null;
                    e.css("backgroundColor", "#f3e4b1");
                }
            }, 60);
            return e.css("backgroundColor", "#ff" + a.toString(16) + b.toString(16));
        }

        var noticeTimer = null;
        var orgTitle = document.title;

        function noticeTitle() {
            var notice = {
                state: false,
                title: orgTitle,
                flash: 0,
                sleep: 15
            };
            noticeTimer = setInterval(function () {
                if (notice['flash'] < 5 || notice['flash'] > 4 && !notice['state']) {
                    document.title = (notice['state'] ? '【　　　】' : '【新消息】') + orgTitle;
                    notice['state'] = !notice['state'];
                }
                notice['flash'] = notice['flash'] < notice['sleep'] ? ++notice['flash'] : 0;
            }, 300);
        }

        function clearNoticeTitle() {
            if (noticeTimer) {
                clearInterval(noticeTimer);
                document.title = orgTitle;
                noticeTimer = null;
            }
        }

        $(function () {

            $('.gotop').on('click', function (e) {
                e.preventDefault();
                $("html,body").animate({ scrollTop: 0 }, 750);
            });

            var adSwiper = new Swiper('.ad-container', {
                keyboard: {
                    enabled: true
                },
                mousewheel: true,
                // effect: 'fade',
                // preloadImages: false,
                // lazy: true,
                pagination: {
                    el: '.swiper-pagination',
                    type: 'bullets',
                    clickable: true
                },
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false
                },
                loop: true
            });

            $('[data-toggle="dropdown"]').on('click', function (e) {
                $(this).closest('.btn-group').toggleClass('open');
            });

        });
    </script>
    <script type="text/javascript">
        /*!
 * jsoneditor.js
 *
 * @brief
 * JSONEditor is a web-based tool to view, edit, format, and validate JSON.
 * It has various modes such as a tree editor, a code editor, and a plain text
 * editor.
 *
 * Supported browsers: Chrome, Firefox, Safari, Opera, Internet Explorer 8+
 *
 * @license
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 *
 * Copyright (c) 2011-2020 Jos de Jong, http://jsoneditoronline.org
 *
 * @author  Jos de Jong, <wjosdejong@gmail.com>
 * @version 8.6.1
 * @date    2020-03-11
 */
        !function (e, t) { "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.JSONEditor = t() : e.JSONEditor = t() }(window, (function () {
            return i = {}, e.m = t = [function (e, t, i) { "use strict"; i.r(t), i.d(t, "parse", (function () { return g })), i.d(t, "repair", (function () { return p })), i.d(t, "escapeUnicodeChars", (function () { return m })), i.d(t, "validate", (function () { return f })), i.d(t, "extend", (function () { return C })), i.d(t, "clear", (function () { return I })), i.d(t, "getType", (function () { return A })), i.d(t, "isUrl", (function () { return b })), i.d(t, "isArray", (function () { return y })), i.d(t, "getAbsoluteLeft", (function () { return w })), i.d(t, "getAbsoluteTop", (function () { return S })), i.d(t, "addClassName", (function () { return x })), i.d(t, "removeAllClassNames", (function () { return k })), i.d(t, "removeClassName", (function () { return R })), i.d(t, "stripFormatting", (function () { return E })), i.d(t, "setEndOfContentEditable", (function () { return B })), i.d(t, "selectContentEditable", (function () { return G })), i.d(t, "getSelection", (function () { return T })), i.d(t, "setSelection", (function () { return Z })), i.d(t, "getSelectionOffset", (function () { return W })), i.d(t, "setSelectionOffset", (function () { return _ })), i.d(t, "getInnerText", (function () { return L })), i.d(t, "hasParentNode", (function () { return H })), i.d(t, "getInternetExplorerVersion", (function () { return $ })), i.d(t, "isFirefox", (function () { return V })), i.d(t, "addEventListener", (function () { return O })), i.d(t, "removeEventListener", (function () { return F })), i.d(t, "isChildOf", (function () { return P })), i.d(t, "parsePath", (function () { return K })), i.d(t, "stringifyPath", (function () { return M })), i.d(t, "improveSchemaError", (function () { return D })), i.d(t, "isPromise", (function () { return j })), i.d(t, "isValidValidationError", (function () { return X })), i.d(t, "insideRect", (function () { return Y })), i.d(t, "debounce", (function () { return J })), i.d(t, "textDiff", (function () { return z })), i.d(t, "getInputSelection", (function () { return U })), i.d(t, "getIndexForPosition", (function () { return Q })), i.d(t, "getPositionForPath", (function () { return q })), i.d(t, "compileJSONPointer", (function () { return ee })), i.d(t, "getColorCSS", (function () { return te })), i.d(t, "isValidColor", (function () { return ie })), i.d(t, "makeFieldTooltip", (function () { return ne })), i.d(t, "get", (function () { return re })), i.d(t, "findUniqueName", (function () { return se })), i.d(t, "getChildPaths", (function () { return oe })), i.d(t, "sort", (function () { return ae })), i.d(t, "sortObjectKeys", (function () { return le })), i.d(t, "parseString", (function () { return ce })), i.d(t, "isTimestamp", (function () { return he })), i.d(t, "formatSize", (function () { return de })), i.d(t, "limitCharacters", (function () { return ue })), i.d(t, "isObject", (function () { return ge })), i.d(t, "contains", (function () { return pe })), i.d(t, "isValidationErrorChanged", (function () { return me })), i(24); var n = i(11), r = i.n(n), s = i(22), o = i.n(s), a = i(33), l = i.n(a), c = i(1); function h(e) { return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } var d = 1e4, u = 9466848e5; function g(t) { try { return JSON.parse(t) } catch (e) { throw f(t), e } } function p(e) { var t = [], i = 0, n = e.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/); n && (e = n[3]); var r, s = { "\b": "\\b", "\f": "\\f", "\n": "\\n", "\r": "\\r", "\t": "\\t" }, o = { None: "null", True: "true", False: "false" }; function a() { return e.charAt(i) } function l() { return e.charAt(i + 1) } function c(e) { return " " === e || "\n" === e || "\r" === e || "\t" === e } function h() { for (var e = t.length - 1; 0 <= e;) { var i = t[e]; if (!c(i)) return i; e-- } return "" } function d() { for (var t = i + 1; t < e.length && c(e[t]);)t++; return e[t] } function u() { for (i += 2; i < e.length && ("*" !== a() || "/" !== l());)i++; i += 2 } function g() { for (i += 2; i < e.length && "\n" !== a();)i++ } function p(t) { var n = ""; n += '"', i++; for (var r = a(); i < e.length && r !== t;)'"' === r && "\\" !== e.charAt(i - 1) ? n += '\\"' : r in s ? n += s[r] : ("\\" === r && (i++, "'" !== (r = a()) && (n += "\\")), n += r), i++, r = a(); return r === t && (n += '"', i++), n } function m() { for (var e = "", t = a(), n = /[a-zA-Z_$\d]/; n.test(t);)e += t, i++, t = a(); return e in o ? o[e] : -1 === ["null", "true", "false"].indexOf(e) ? '"' + e + '"' : e } function f() { for (var e = a(), t = ""; /\w/.test(e);)t += e, i++, e = a(); if (0 < t.length && "(" === e) { var n; if (i++, '"' === (e = a())) n = p(e), e = a(); else for (n = ""; ")" !== e && "" !== e;)n += e, i++, e = a(); return ")" === e ? (i++, n) : t + "(" + n + e } return "string" == typeof o[t] ? o[t] : t } for (; i < e.length;) { var C = a(); "/" === C && "*" === l() ? u() : "/" === C && "/" === l() ? g() : " " === (r = C) || " " <= r && r <= " " || " " === r || " " === r || "　" === r ? (t.push(" "), i++) : "'" === C ? t.push(p(C)) : '"' === C ? t.push(p('"')) : "`" === C ? t.push(p("´")) : "‘" === C ? t.push(p("’")) : "“" === C ? t.push(p("”")) : "," === C && -1 !== ["]", "}"].indexOf(d()) ? i++ : /[a-zA-Z_$]/.test(C) && -1 !== ["{", ","].indexOf(h()) ? t.push(m()) : /\w/.test(C) ? t.push(f()) : (t.push(C), i++) } return t.join("") } function m(e) { return e.replace(/[\u007F-\uFFFF]/g, (function (e) { return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4) })) } function f(e) { void 0 !== o.a ? o.a.parse(e) : JSON.parse(e) } function C(e, t) { for (var i in t) fe(t, i) && (e[i] = t[i]); return e } function I(e) { for (var t in e) fe(e, t) && delete e[t]; return e } function A(e) { return null === e ? "null" : void 0 === e ? "undefined" : e instanceof Number || "number" == typeof e ? "number" : e instanceof String || "string" == typeof e ? "string" : e instanceof Boolean || "boolean" == typeof e ? "boolean" : e instanceof RegExp ? "regexp" : y(e) ? "array" : "object" } var v = /^https?:\/\/\S+$/; function b(e) { return ("string" == typeof e || e instanceof String) && v.test(e) } function y(e) { return "[object Array]" === Object.prototype.toString.call(e) } function w(e) { return e.getBoundingClientRect().left + window.pageXOffset || document.scrollLeft || 0 } function S(e) { return e.getBoundingClientRect().top + window.pageYOffset || document.scrollTop || 0 } function x(e, t) { var i = e.className.split(" "); -1 === i.indexOf(t) && (i.push(t), e.className = i.join(" ")) } function k(e) { e.className = "" } function R(e, t) { var i = e.className.split(" "), n = i.indexOf(t); -1 !== n && (i.splice(n, 1), e.className = i.join(" ")) } function E(e) { for (var t = e.childNodes, i = 0, n = t.length; i < n; i++) { var r = t[i]; r.style && r.removeAttribute("style"); var s = r.attributes; if (s) for (var o = s.length - 1; 0 <= o; o--) { var a = s[o]; !0 === a.specified && r.removeAttribute(a.name) } E(r) } } function B(e) { var t, i; document.createRange && ((t = document.createRange()).selectNodeContents(e), t.collapse(!1), (i = window.getSelection()).removeAllRanges(), i.addRange(t)) } function G(e) { var t, i; e && "DIV" === e.nodeName && window.getSelection && document.createRange && ((i = document.createRange()).selectNodeContents(e), (t = window.getSelection()).removeAllRanges(), t.addRange(i)) } function T() { if (window.getSelection) { var e = window.getSelection(); if (e.getRangeAt && e.rangeCount) return e.getRangeAt(0) } return null } function Z(e) { if (e && window.getSelection) { var t = window.getSelection(); t.removeAllRanges(), t.addRange(e) } } function W() { var e = T(); return e && "startOffset" in e && "endOffset" in e && e.startContainer && e.startContainer === e.endContainer ? { startOffset: e.startOffset, endOffset: e.endOffset, container: e.startContainer.parentNode } : null } function _(e) { if (document.createRange && window.getSelection && window.getSelection()) { var t = document.createRange(); e.container.firstChild || e.container.appendChild(document.createTextNode("")), t.setStart(e.container.firstChild, e.startOffset), t.setEnd(e.container.firstChild, e.endOffset), Z(t) } } function L(e, t) { if (void 0 === t && (t = { text: "", flush: function () { var e = this.text; return this.text = "", e }, set: function (e) { this.text = e } }), e.nodeValue) return t.flush() + e.nodeValue; if (e.hasChildNodes()) { for (var i = e.childNodes, n = "", r = 0, s = i.length; r < s; r++) { var o = i[r]; if ("DIV" === o.nodeName || "P" === o.nodeName) { var a = i[r - 1], l = a ? a.nodeName : void 0; l && "DIV" !== l && "P" !== l && "BR" !== l && (n += "\n", t.flush()), n += L(o, t), t.set("\n") } else "BR" === o.nodeName ? (n += t.flush(), t.set("\n")) : n += L(o, t) } return n } return "P" === e.nodeName && -1 !== $() ? t.flush() : "" } function H(e, t) { for (var i = e ? e.parentNode : void 0; i;) { if (i === t) return !0; i = i.parentNode } return !1 } function $() { if (-1 === N) { var e = -1; if ("undefined" != typeof navigator && "Microsoft Internet Explorer" === navigator.appName) { var t = navigator.userAgent; null != new RegExp("MSIE ([0-9]+[.0-9]+)").exec(t) && (e = parseFloat(RegExp.$1)) } N = e } return N } function V() { return "undefined" != typeof navigator && -1 !== navigator.userAgent.indexOf("Firefox") } var N = -1; function O(e, t, i, n) { if (e.addEventListener) return void 0 === n && (n = !1), "mousewheel" === t && V() && (t = "DOMMouseScroll"), e.addEventListener(t, i, n), i; if (e.attachEvent) { var r = function () { return i.call(e, window.event) }; return e.attachEvent("on" + t, r), r } } function F(e, t, i, n) { e.removeEventListener ? (void 0 === n && (n = !1), "mousewheel" === t && V() && (t = "DOMMouseScroll"), e.removeEventListener(t, i, n)) : e.detachEvent && e.detachEvent("on" + t, i) } function P(e, t) { for (var i = e.parentNode; i;) { if (i === t) return !0; i = i.parentNode } return !1 } function K(e) { var t = [], i = 0; function n() { for (var t = ""; void 0 !== e[i] && /[\w$]/.test(e[i]);)t += e[i], i++; if ("" === t) throw new Error("Invalid JSON path: property name expected at index " + i); return t } function r(t) { for (var n = ""; void 0 !== e[i] && e[i] !== t;)n += e[i], i++; if (e[i] !== t) throw new Error("Invalid JSON path: unexpected end, character " + t + " expected"); return n } for (; void 0 !== e[i];)if ("." === e[i]) i++, t.push(n()); else { if ("[" !== e[i]) throw new Error('Invalid JSON path: unexpected character "' + e[i] + '" at index ' + i); if ("'" === e[++i] || '"' === e[i]) { var s = e[i]; if (i++, t.push(r(s)), e[i] !== s) throw new Error("Invalid JSON path: closing quote ' expected at index " + i); i++ } else { var o = r("]").trim(); if (0 === o.length) throw new Error("Invalid JSON path: array value expected at index " + i); o = "*" === o ? o : JSON.parse(o), t.push(o) } if ("]" !== e[i]) throw new Error("Invalid JSON path: closing bracket ] expected at index " + i); i++ } return t } function M(e) { return e.map((function (e) { return "number" == typeof e ? "[" + e + "]" : "string" == typeof e && e.match(/^[A-Za-z0-9_$]+$/) ? "." + e : '["' + e + '"]' })).join("") } function D(e) { if ("enum" === e.keyword && Array.isArray(e.schema)) { var t = e.schema; if (t) { if (5 < (t = t.map((function (e) { return JSON.stringify(e) }))).length) { var i = ["(" + (t.length - 5) + " more...)"]; (t = t.slice(0, 5)).push(i) } e.message = "should be equal to one of: " + t.join(", ") } } return "additionalProperties" === e.keyword && (e.message = "should NOT have additional property: " + e.params.additionalProperty), e } function j(e) { return e && "function" == typeof e.then && "function" == typeof e["catch"] } function X(e) { return "object" === h(e) && Array.isArray(e.path) && "string" == typeof e.message } function Y(e, t, i) { var n = void 0 !== i ? i : 0; return t.left - n >= e.left && t.right + n <= e.right && t.top - n >= e.top && t.bottom + n <= e.bottom } function J(e, t, i) { var n; return function () { var r = this, s = arguments, o = i && !n; clearTimeout(n), n = setTimeout((function () { n = null, i || e.apply(r, s) }), t), o && e.apply(r, s) } } function z(e, t) { for (var i = t.length, n = 0, r = e.length, s = t.length; t.charAt(n) === e.charAt(n) && n < i;)n++; for (; t.charAt(s - 1) === e.charAt(r - 1) && n < s && 0 < r;)s--, r--; return { start: n, end: s } } function U(e) { var t, i, n, r, s, o = 0, a = 0; return "number" == typeof e.selectionStart && "number" == typeof e.selectionEnd ? (o = e.selectionStart, a = e.selectionEnd) : (i = document.selection.createRange()) && i.parentElement() === e && (r = e.value.length, t = e.value.replace(/\r\n/g, "\n"), (n = e.createTextRange()).moveToBookmark(i.getBookmark()), (s = e.createTextRange()).collapse(!1), -1 < n.compareEndPoints("StartToEnd", s) ? o = a = r : (o = -n.moveStart("character", -r), o += t.slice(0, o).split("\n").length - 1, -1 < n.compareEndPoints("EndToEnd", s) ? a = r : (a = -n.moveEnd("character", -r), a += t.slice(0, a).split("\n").length - 1))), { startIndex: o, endIndex: a, start: l(o), end: l(a) }; function l(t) { var i = e.value.substring(0, t); return { row: (i.match(/\n/g) || []).length + 1, column: i.length - i.lastIndexOf("\n") } } } function Q(e, t, i) { var n = e.value || ""; if (0 < t && 0 < i) { var r = n.split("\n", t); t = Math.min(r.length, t), i = Math.min(r[t - 1].length, i - 1); var s = 1 === t ? i : i + 1; return r.slice(0, t - 1).join("\n").length + s } return -1 } function q(e, t) { var i, n = []; if (!t || !t.length) return n; try { i = l.a.parse(e) } catch (e) { return n } return t.forEach((function (e) { var t = ee(K(e)), r = i.pointers[t]; r && n.push({ path: e, line: r.key ? r.key.line : r.value ? r.value.line : 0, column: r.key ? r.key.column : r.value ? r.value.column : 0 }) })), n } function ee(e) { return e.map((function (e) { return "/" + String(e).replace(/~/g, "~0").replace(/\//g, "~1") })).join("") } function te(e) { var t = document.createElement("div"); return t.style.color = e, t.style.color.split(/\s+/).join("").toLowerCase() || null } function ie(e) { return !!te(e) } function ne(e, t) { if (!e) return ""; var i = ""; return e.title && (i += e.title), e.description && (0 < i.length && (i += "\n"), i += e.description), e["default"] && (0 < i.length && (i += "\n\n"), i += Object(c.c)("default", void 0, t) + "\n", i += JSON.stringify(e["default"], null, 2)), Array.isArray(e.examples) && 0 < e.examples.length && (0 < i.length && (i += "\n\n"), i += Object(c.c)("examples", void 0, t) + "\n", e.examples.forEach((function (t, n) { i += JSON.stringify(t, null, 2), n !== e.examples.length - 1 && (i += "\n") }))), i } function re(e, t) { for (var i = e, n = 0; n < t.length && null != i; n++)i = i[t[n]]; return i } function se(e, t) { for (var i = e.replace(/ \(copy( \d+)?\)$/, ""), n = i, r = 1; -1 !== t.indexOf(n);)n = i + " (copy" + (1 < r ? " " + r : "") + ")", r++; return n } function oe(e, t) { var i = {}; function n(e, t, i, r) { (Array.isArray(e) || ge(e)) && !r || (t[i || ""] = !0), ge(e) && Object.keys(e).forEach((function (s) { n(e[s], t, i + "." + s, r) })) } if (Array.isArray(e)) for (var r = Math.min(e.length, d), s = 0; s < r; s++)n(e[s], i, "", t); else i[""] = !0; return Object.keys(i).sort() } function ae(e, t, i) { var n = t && "." !== t ? K(t) : [], r = "desc" === i ? -1 : 1, s = e.slice(); return s.sort((function (e, t) { var i = re(e, n), s = re(t, n); return r * (s < i ? 1 : i < s ? -1 : 0) })), s } function le(e, t) { var i = "desc" === t ? -1 : 1, n = Object.keys(e).sort((function (e, t) { return i * r()(e, t) })), s = {}; return n.forEach((function (t) { s[t] = e[t] })), s } function ce(e) { if ("" === e) return ""; var t = e.toLowerCase(); if ("null" === t) return null; if ("true" === t) return !0; if ("false" === t) return !1; var i = Number(e), n = parseFloat(e); return isNaN(i) || isNaN(n) ? e : i } function he(e, t) { return "number" == typeof t && u < t && isFinite(t) && Math.floor(t) === t && !isNaN(new Date(t).valueOf()) } function de(e) { if (e < 900) return e.toFixed() + " B"; var t = e / 1e3; if (t < 900) return t.toFixed(1) + " KB"; var i = t / 1e3; if (i < 900) return i.toFixed(1) + " MB"; var n = i / 1e3; return n < 900 ? n.toFixed(1) + " GB" : (n / 1e3).toFixed(1) + " TB" } function ue(e, t) { return e.length <= t ? e : e.slice(0, t) + "..." } function ge(e) { return "object" === h(e) && null !== e && !Array.isArray(e) } function pe(e, t) { return -1 !== e.indexOf(t) } function me(e, t) { if (!t && !e) return !1; if (t && !e || !t && e) return !0; if (t.length !== e.length) return !0; for (var i = function (i) { if (!("error" === e[i].type ? t.find((function (t) { return t.line === e[i].line })) : t.find((function (t) { return t.dataPath === e[i].dataPath && t.schemaPath === e[i].schemaPath })))) return { v: !0 } }, n = 0; n < e.length; ++n) { var r = i(n); if ("object" === h(r)) return r.v } return !1 } function fe(e, t) { return Object.prototype.hasOwnProperty.call(e, t) } }, function (e, t, i) { "use strict"; i.d(t, "a", (function () { return l })), i.d(t, "b", (function () { return c })), i.d(t, "c", (function () { return h })), i(24); var n = ["en", "pt-BR", "zh-CN", "tr", "ja", "fr-FR"], r = { en: { array: "Array", auto: "Auto", appendText: "Append", appendTitle: "Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)", appendSubmenuTitle: "Select the type of the field to be appended", appendTitleAuto: "Append a new field with type 'auto' (Ctrl+Shift+Ins)", ascending: "Ascending", ascendingTitle: "Sort the childs of this ${type} in ascending order", actionsMenu: "Click to open the actions menu (Ctrl+M)", cannotParseFieldError: "Cannot parse field into JSON", cannotParseValueError: "Cannot parse value into JSON", collapseAll: "Collapse all fields", compactTitle: "Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)", descending: "Descending", descendingTitle: "Sort the childs of this ${type} in descending order", drag: "Drag to move this field (Alt+Shift+Arrows)", duplicateKey: "duplicate key", duplicateText: "Duplicate", duplicateTitle: "Duplicate selected fields (Ctrl+D)", duplicateField: "Duplicate this field (Ctrl+D)", duplicateFieldError: "Duplicate field name", empty: "empty", expandAll: "Expand all fields", expandTitle: "Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.", formatTitle: "Format JSON data, with proper indentation and line feeds (Ctrl+\\)", insert: "Insert", insertTitle: "Insert a new field with type 'auto' before this field (Ctrl+Ins)", insertSub: "Select the type of the field to be inserted", object: "Object", ok: "Ok", redo: "Redo (Ctrl+Shift+Z)", removeText: "Remove", removeTitle: "Remove selected fields (Ctrl+Del)", removeField: "Remove this field (Ctrl+Del)", repairTitle: "Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.", searchTitle: "Search fields and values", searchNextResultTitle: "Next result (Enter)", searchPreviousResultTitle: "Previous result (Shift + Enter)", selectNode: "Select a node...", showAll: "show all", showMore: "show more", showMoreStatus: "displaying ${visibleChilds} of ${totalChilds} items.", sort: "Sort", sortTitle: "Sort the childs of this ${type}", sortTitleShort: "Sort contents", sortFieldLabel: "Field:", sortDirectionLabel: "Direction:", sortFieldTitle: "Select the nested field by which to sort the array or object", sortAscending: "Ascending", sortAscendingTitle: "Sort the selected field in ascending order", sortDescending: "Descending", sortDescendingTitle: "Sort the selected field in descending order", string: "String", transform: "Transform", transformTitle: "Filter, sort, or transform the childs of this ${type}", transformTitleShort: "Filter, sort, or transform contents", extract: "Extract", extractTitle: "Extract this ${type}", transformQueryTitle: "Enter a JMESPath query", transformWizardLabel: "Wizard", transformWizardFilter: "Filter", transformWizardSortBy: "Sort by", transformWizardSelectFields: "Select fields", transformQueryLabel: "Query", transformPreviewLabel: "Preview", type: "Type", typeTitle: "Change the type of this field", openUrl: "Ctrl+Click or Ctrl+Enter to open url in new window", undo: "Undo last action (Ctrl+Z)", validationCannotMove: "Cannot move a field into a child of itself", autoType: 'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.', objectType: 'Field type "object". An object contains an unordered set of key/value pairs.', arrayType: 'Field type "array". An array contains an ordered collection of values.', stringType: 'Field type "string". Field type is not determined from the value, but always returned as string.', modeEditorTitle: "Switch Editor Mode", modeCodeText: "Code", modeCodeTitle: "Switch to code highlighter", modeFormText: "Form", modeFormTitle: "Switch to form editor", modeTextText: "Text", modeTextTitle: "Switch to plain text editor", modeTreeText: "Tree", modeTreeTitle: "Switch to tree editor", modeViewText: "View", modeViewTitle: "Switch to tree view", modePreviewText: "Preview", modePreviewTitle: "Switch to preview mode", examples: "Examples", "default": "Default" }, "zh-CN": { array: "数组", auto: "自动", appendText: "追加", appendTitle: "在此字段后追加一个类型为“auto”的新字段 (Ctrl+Shift+Ins)", appendSubmenuTitle: "选择要追加的字段类型", appendTitleAuto: "追加类型为“auto”的新字段 (Ctrl+Shift+Ins)", ascending: "升序", ascendingTitle: "升序排列${type}的子节点", actionsMenu: "点击打开动作菜单(Ctrl+M)", cannotParseFieldError: "无法将字段解析为JSON", cannotParseValueError: "无法将值解析为JSON", collapseAll: "缩进所有字段", compactTitle: "压缩JSON数据，删除所有空格 (Ctrl+Shift+\\)", descending: "降序", descendingTitle: "降序排列${type}的子节点", drag: "拖拽移动该节点(Alt+Shift+Arrows)", duplicateKey: "重复键", duplicateText: "复制", duplicateTitle: "复制选中字段(Ctrl+D)", duplicateField: "复制该字段(Ctrl+D)", duplicateFieldError: "重复的字段名称", empty: "清空", expandAll: "展开所有字段", expandTitle: "点击 展开/收缩 该字段(Ctrl+E). \nCtrl+Click 展开/收缩 包含所有子节点.", formatTitle: "使用适当的缩进和换行符格式化JSON数据 (Ctrl+\\)", insert: "插入", insertTitle: "在此字段前插入类型为“auto”的新字段 (Ctrl+Ins)", insertSub: "选择要插入的字段类型", object: "对象", ok: "Ok", redo: "重做 (Ctrl+Shift+Z)", removeText: "移除", removeTitle: "移除选中字段 (Ctrl+Del)", removeField: "移除该字段 (Ctrl+Del)", repairTitle: "修复JSON：修复引号和转义符，删除注释和JSONP表示法，将JavaScript对象转换为JSON。", selectNode: "选择一个节点...", showAll: "展示全部", showMore: "展示更多", showMoreStatus: "显示${totalChilds}的${visibleChilds}项目.", sort: "排序", sortTitle: "排序${type}的子节点", sortTitleShort: "内容排序", sortFieldLabel: "字段：", sortDirectionLabel: "方向：", sortFieldTitle: "选择用于对数组或对象排序的嵌套字段", sortAscending: "升序排序", sortAscendingTitle: "按照该字段升序排序", sortDescending: "降序排序", sortDescendingTitle: "按照该字段降序排序", string: "字符串", transform: "变换", transformTitle: "筛选，排序，或者转换${type}的子节点", transformTitleShort: "筛选，排序，或者转换内容", extract: "提取", extractTitle: "提取这个 ${type}", transformQueryTitle: "输入JMESPath查询", transformWizardLabel: "向导", transformWizardFilter: "筛选", transformWizardSortBy: "排序", transformWizardSelectFields: "选择字段", transformQueryLabel: "查询", transformPreviewLabel: "预览", type: "类型", typeTitle: "更改字段类型", openUrl: "Ctrl+Click 或者 Ctrl+Enter 在新窗口打开链接", undo: "撤销上次动作 (Ctrl+Z)", validationCannotMove: "无法将字段移入其子节点", autoType: '字段类型 "auto". 字段类型由值自动确定 可以为 string，number，boolean，或者 null.', objectType: '字段类型 "object". 对象包含一组无序的键/值对.', arrayType: '字段类型 "array". 数组包含值的有序集合.', stringType: '字段类型 "string". 字段类型由值自动确定，但始终作为字符串返回.', modeCodeText: "代码", modeCodeTitle: "切换至代码高亮", modeFormText: "表单", modeFormTitle: "切换至表单编辑", modeTextText: "文本", modeTextTitle: "切换至文本编辑", modeTreeText: "树", modeTreeTitle: "切换至树编辑", modeViewText: "视图", modeViewTitle: "切换至树视图", modePreviewText: "预览", modePreviewTitle: "切换至预览模式", examples: "例子", "default": "缺省" }, "pt-BR": { array: "Lista", auto: "Automatico", appendText: "Adicionar", appendTitle: "Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)", appendSubmenuTitle: "Selecione o tipo do campo a ser adicionado", appendTitleAuto: "Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)", ascending: "Ascendente", ascendingTitle: "Organizar filhor do tipo ${type} em crescente", actionsMenu: "Clique para abrir o menu de ações (Ctrl+M)", cannotParseFieldError: "Não é possível analisar o campo no JSON", cannotParseValueError: "Não é possível analisar o valor em JSON", collapseAll: "Fechar todos campos", compactTitle: "Dados JSON compactos, remova todos os espaços em branco (Ctrl+Shift+\\)", descending: "Descendente", descendingTitle: "Organizar o filhos do tipo ${type} em decrescente", duplicateKey: "chave duplicada", drag: "Arraste para mover este campo (Alt+Shift+Arrows)", duplicateText: "Duplicar", duplicateTitle: "Duplicar campos selecionados (Ctrl+D)", duplicateField: "Duplicar este campo (Ctrl+D)", duplicateFieldError: "Nome do campo duplicado", empty: "vazio", expandAll: "Expandir todos campos", expandTitle: "Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.", formatTitle: "Formate dados JSON, com recuo e feeds de linha adequados (Ctrl+\\)", insert: "Inserir", insertTitle: "Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)", insertSub: "Selecionar o tipo de campo a ser inserido", object: "Objeto", ok: "Ok", redo: "Refazer (Ctrl+Shift+Z)", removeText: "Remover", removeTitle: "Remover campos selecionados (Ctrl+Del)", removeField: "Remover este campo (Ctrl+Del)", repairTitle: "Repare JSON: corrija aspas e caracteres de escape, remova comentários e notação JSONP, transforme objetos JavaScript em JSON.", selectNode: "Selecione um nódulo...", showAll: "mostrar todos", showMore: "mostrar mais", showMoreStatus: "exibindo ${visibleChilds} de ${totalChilds} itens.", sort: "Organizar", sortTitle: "Organizar os filhos deste ${type}", sortTitleShort: "Organizar os filhos", sortFieldLabel: "Campo:", sortDirectionLabel: "Direção:", sortFieldTitle: "Selecione um campo filho pelo qual ordenar o array ou objeto", sortAscending: "Ascendente", sortAscendingTitle: "Ordenar o campo selecionado por ordem ascendente", sortDescending: "Descendente", sortDescendingTitle: "Ordenar o campo selecionado por ordem descendente", string: "Texto", transform: "Transformar", transformTitle: "Filtrar, ordenar ou transformar os filhos deste ${type}", transformTitleShort: "Filtrar, ordenar ou transformar conteúdos", transformQueryTitle: "Insira uma expressão JMESPath", transformWizardLabel: "Assistente", transformWizardFilter: "Filtro", transformWizardSortBy: "Ordenar por", transformWizardSelectFields: "Selecionar campos", transformQueryLabel: "Expressão", transformPreviewLabel: "Visualizar", type: "Tipo", typeTitle: "Mudar o tipo deste campo", openUrl: "Ctrl+Click ou Ctrl+Enter para abrir link em nova janela", undo: "Desfazer último ação (Ctrl+Z)", validationCannotMove: "Não pode mover um campo como filho dele mesmo", autoType: 'Campo do tipo "auto". O tipo do campo é determinao automaticamente a partir do seu valor e pode ser texto, número, verdade/falso ou nulo.', objectType: 'Campo do tipo "objeto". Um objeto contém uma lista de pares com chave e valor.', arrayType: 'Campo do tipo "lista". Uma lista contem uma coleção de valores ordenados.', stringType: 'Campo do tipo "string". Campo do tipo nao é determinado através do seu valor, mas sempre retornara um texto.', examples: "Exemplos", "default": "Revelia" }, tr: { array: "Dizin", auto: "Otomatik", appendText: "Ekle", appendTitle: "Bu alanın altına 'otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)", appendSubmenuTitle: "Eklenecek alanın tipini seç", appendTitleAuto: "'Otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)", ascending: "Artan", ascendingTitle: "${type}'ın alt tiplerini artan düzende sırala", actionsMenu: "Aksiyon menüsünü açmak için tıklayın (Ctrl+M)", collapseAll: "Tüm alanları kapat", descending: "Azalan", descendingTitle: "${type}'ın alt tiplerini azalan düzende sırala", drag: "Bu alanı taşımak için sürükleyin (Alt+Shift+Arrows)", duplicateKey: "Var olan anahtar", duplicateText: "Aşağıya kopyala", duplicateTitle: "Seçili alanlardan bir daha oluştur (Ctrl+D)", duplicateField: "Bu alandan bir daha oluştur (Ctrl+D)", duplicateFieldError: "Duplicate field name", cannotParseFieldError: "Alan JSON'a ayrıştırılamıyor", cannotParseValueError: "JSON'a değer ayrıştırılamıyor", empty: "boş", expandAll: "Tüm alanları aç", expandTitle: "Bu alanı açmak/kapatmak için tıkla (Ctrl+E). \nAlt alanlarda dahil tüm alanları açmak için Ctrl+Click ", insert: "Ekle", insertTitle: "Bu alanın üstüne 'otomatik' tipinde yeni bir alan ekle (Ctrl+Ins)", insertSub: "Araya eklenecek alanın tipini seç", object: "Nesne", ok: "Tamam", redo: "Yeniden yap (Ctrl+Shift+Z)", removeText: "Kaldır", removeTitle: "Seçilen alanları kaldır (Ctrl+Del)", removeField: "Bu alanı kaldır (Ctrl+Del)", selectNode: "Bir nesne seç...", showAll: "tümünü göster", showMore: "daha fazla göster", showMoreStatus: "${totalChilds} alanın ${visibleChilds} alt alanları gösteriliyor", sort: "Sırala", sortTitle: "${type}'ın alt alanlarını sırala", sortTitleShort: "İçerikleri sırala", sortFieldLabel: "Alan:", sortDirectionLabel: "Yön:", sortFieldTitle: "Diziyi veya nesneyi sıralamak için iç içe geçmiş alanı seçin", sortAscending: "Artan", sortAscendingTitle: "Seçili alanı artan düzende sırala", sortDescending: "Azalan", sortDescendingTitle: "Seçili alanı azalan düzende sırala", string: "Karakter Dizisi", transform: "Dönüştür", transformTitle: "${type}'ın alt alanlarını filtrele, sırala veya dönüştür", transformTitleShort: "İçerikleri filterele, sırala veya dönüştür", transformQueryTitle: "JMESPath sorgusu gir", transformWizardLabel: "Sihirbaz", transformWizardFilter: "Filtre", transformWizardSortBy: "Sırala", transformWizardSelectFields: "Alanları seç", transformQueryLabel: "Sorgu", transformPreviewLabel: "Önizleme", type: "Tip", typeTitle: "Bu alanın tipini değiştir", openUrl: "URL'i yeni bir pencerede açmak için Ctrl+Click veya Ctrl+Enter", undo: "Son değişikliği geri al (Ctrl+Z)", validationCannotMove: "Alt alan olarak taşınamıyor", autoType: 'Alan tipi "otomatik". Alan türü otomatik olarak değerden belirlenirve bir dize, sayı, boolean veya null olabilir.', objectType: 'Alan tipi "nesne". Bir nesne, sıralanmamış bir anahtar / değer çifti kümesi içerir.', arrayType: 'Alan tipi "dizi". Bir dizi, düzenli değerler koleksiyonu içerir.', stringType: 'Alan tipi "karakter dizisi". Alan türü değerden belirlenmez,ancak her zaman karakter dizisi olarak döndürülür.', modeCodeText: "Kod", modeCodeTitle: "Kod vurgulayıcıya geç", modeFormText: "Form", modeFormTitle: "Form düzenleyiciye geç", modeTextText: "Metin", modeTextTitle: "Düz metin düzenleyiciye geç", modeTreeText: "Ağaç", modeTreeTitle: "Ağaç düzenleyiciye geç", modeViewText: "Görünüm", modeViewTitle: "Ağaç görünümüne geç", examples: "Örnekler", "default": "Varsayılan" }, ja: { array: "配列", auto: "オート", appendText: "追加", appendTitle: '次のフィールドに"オート"のフィールドを追加 (Ctrl+Shift+Ins)', appendSubmenuTitle: "追加するフィールドの型を選択してください", appendTitleAuto: '"オート"のフィールドを追加 (Ctrl+Shift+Ins)', ascending: "昇順", ascendingTitle: "${type}の子要素を昇順に並べ替え", actionsMenu: "クリックしてアクションメニューを開く (Ctrl+M)", collapseAll: "すべてを折りたたむ", descending: "降順", descendingTitle: "${type}の子要素を降順に並べ替え", drag: "ドラッグして選択中のフィールドを移動 (Alt+Shift+Arrows)", duplicateKey: "複製キー", duplicateText: "複製", duplicateTitle: "選択中のフィールドを複製 (Ctrl+D)", duplicateField: "選択中のフィールドを複製 (Ctrl+D)", duplicateFieldError: "フィールド名が重複しています", cannotParseFieldError: "JSONのフィールドを解析できません", cannotParseValueError: "JSONの値を解析できません", empty: "空", expandAll: "すべてを展開", expandTitle: "クリックしてフィールドを展開/折りたたむ (Ctrl+E). \nCtrl+Click ですべての子要素を展開/折りたたむ", insert: "挿入", insertTitle: "選択中のフィールドの前に新しいフィールドを挿入 (Ctrl+Ins)", insertSub: "挿入するフィールドの型を選択", object: "オブジェクト", ok: "実行", redo: "やり直す (Ctrl+Shift+Z)", removeText: "削除", removeTitle: "選択中のフィールドを削除 (Ctrl+Del)", removeField: "選択中のフィールドを削除 (Ctrl+Del)", selectNode: "ノードを選択...", showAll: "すべてを表示", showMore: "もっと見る", showMoreStatus: "${totalChilds}個のアイテムのうち ${visibleChilds}個を表示しています。", sort: "並べ替え", sortTitle: "${type}の子要素を並べ替え", sortTitleShort: "並べ替え", sortFieldLabel: "フィールド:", sortDirectionLabel: "順序:", sortFieldTitle: "配列またはオブジェクトを並び替えるためのフィールドを選択", sortAscending: "昇順", sortAscendingTitle: "選択中のフィールドを昇順に並び替え", sortDescending: "降順", sortDescendingTitle: "選択中のフィールドを降順に並び替え", string: "文字列", transform: "変換", transformTitle: "${type}の子要素をフィルター・並び替え・変換する", transformTitleShort: "内容をフィルター・並び替え・変換する", extract: "抽出", extractTitle: "${type}を抽出", transformQueryTitle: "JMESPathクエリを入力", transformWizardLabel: "ウィザード", transformWizardFilter: "フィルター", transformWizardSortBy: "並び替え", transformWizardSelectFields: "フィールドを選択", transformQueryLabel: "クエリ", transformPreviewLabel: "プレビュー", type: "型", typeTitle: "選択中のフィールドの型を変更", openUrl: "Ctrl+Click または Ctrl+Enter で 新規ウィンドウでURLを開く", undo: "元に戻す (Ctrl+Z)", validationCannotMove: "子要素に移動できません ", autoType: "オート： フィールドの型は値から自動的に決定されます。 (文字列・数値・ブール・null)", objectType: "オブジェクト： オブジェクトは順序が決まっていないキーと値のペア組み合わせです。", arrayType: "配列： 配列は順序が決まっている値の集合体です。", stringType: "文字列： フィールド型は値から決定されませんが、常に文字列として返されます。", modeCodeText: "コードモード", modeCodeTitle: "ハイライトモードに切り替え", modeFormText: "フォームモード", modeFormTitle: "フォームモードに切り替え", modeTextText: "テキストモード", modeTextTitle: "テキストモードに切り替え", modeTreeText: "ツリーモード", modeTreeTitle: "ツリーモードに切り替え", modeViewText: "ビューモード", modeViewTitle: "ビューモードに切り替え", modePreviewText: "プレビュー", modePreviewTitle: "プレビューに切り替え", examples: "例", "default": "デフォルト" }, "fr-FR": { array: "Liste", auto: "Auto", appendText: "Ajouter", appendTitle: "Ajouter un champ de type 'auto' après ce champ (Ctrl+Shift+Ins)", appendSubmenuTitle: "Sélectionner le type du champ à ajouter", appendTitleAuto: "Ajouter un champ de type 'auto' (Ctrl+Shift+Ins)", ascending: "Ascendant", ascendingTitle: "Trier les enfants de ce ${type} par ordre ascendant", actionsMenu: "Ouvrir le menu des actions (Ctrl+M)", collapseAll: "Regrouper", descending: "Descendant", descendingTitle: "Trier les enfants de ce ${type} par ordre descendant", drag: "Déplacer (Alt+Shift+Arrows)", duplicateKey: "Dupliquer la clé", duplicateText: "Dupliquer", duplicateTitle: "Dupliquer les champs sélectionnés (Ctrl+D)", duplicateField: "Dupliquer ce champ (Ctrl+D)", duplicateFieldError: "Dupliquer le nom de champ", cannotParseFieldError: "Champ impossible à parser en JSON", cannotParseValueError: "Valeur impossible à parser en JSON", empty: "vide", expandAll: "Étendre", expandTitle: "Étendre/regrouper ce champ (Ctrl+E). \nCtrl+Click pour étendre/regrouper avec tous les champs.", insert: "Insérer", insertTitle: "Insérer un champ de type 'auto' avant ce champ (Ctrl+Ins)", insertSub: "Sélectionner le type de champ à insérer", object: "Objet", ok: "Ok", redo: "Rejouer (Ctrl+Shift+Z)", removeText: "Supprimer", removeTitle: "Supprimer les champs sélectionnés (Ctrl+Del)", removeField: "Supprimer ce champ (Ctrl+Del)", searchTitle: "Rechercher champs et valeurs", searchNextResultTitle: "Résultat suivant (Enter)", searchPreviousResultTitle: "Résultat précédent (Shift + Enter)", selectNode: "Sélectionner un nœud...", showAll: "voir tout", showMore: "voir plus", showMoreStatus: "${visibleChilds} éléments affichés de ${totalChilds}.", sort: "Trier", sortTitle: "Trier les champs de ce ${type}", sortTitleShort: "Trier", sortFieldLabel: "Champ:", sortDirectionLabel: "Direction:", sortFieldTitle: "Sélectionner les champs permettant de trier les listes et objet", sortAscending: "Ascendant", sortAscendingTitle: "Trier les champs sélectionnés par ordre ascendant", sortDescending: "Descendant", sortDescendingTitle: "Trier les champs sélectionnés par ordre descendant", string: "Chaîne", transform: "Transformer", transformTitle: "Filtrer, trier, or transformer les enfants de ce ${type}", transformTitleShort: "Filtrer, trier ou transformer le contenu", extract: "Extraire", extractTitle: "Extraire ce ${type}", transformQueryTitle: "Saisir une requête JMESPath", transformWizardLabel: "Assistant", transformWizardFilter: "Filtrer", transformWizardSortBy: "Trier par", transformWizardSelectFields: "Sélectionner les champs", transformQueryLabel: "Requête", transformPreviewLabel: "Prévisualisation", type: "Type", typeTitle: "Changer le type de ce champ", openUrl: "Ctrl+Click ou Ctrl+Enter pour ouvrir l'url dans une autre fenêtre", undo: "Annuler la dernière action (Ctrl+Z)", validationCannotMove: "Cannot move a field into a child of itself", autoType: 'Champe de type "auto". Ce type de champ est automatiquement déterminé en fonction de la valeur et peut être de type "chaîne", "nombre", "booléen" ou null.', objectType: 'Champ de type "objet". Un objet contient un ensemble non ordonné de paires clé/valeur.', arrayType: 'Champ de type "liste". Une liste contient une collection ordonnée de valeurs.', stringType: 'Champ de type "chaîne". Ce type de champ n\'est pas déterminé en fonction de la valeur, mais retourne systématiquement une chaîne de caractères.', modeEditorTitle: "Changer mode d'édition", modeCodeText: "Code", modeCodeTitle: "Activer surlignage code", modeFormText: "Formulaire", modeFormTitle: "Activer formulaire", modeTextText: "Texte", modeTextTitle: "Activer éditeur texte", modeTreeText: "Arbre", modeTreeTitle: "Activer éditeur arbre", modeViewText: "Lecture seule", modeViewTitle: "Activer vue arbre", modePreviewText: "Prévisualisation", modePreviewTitle: "Activer mode prévisualiser", examples: "Exemples", "default": "Défaut" } }, s = "en", o = "undefined" != typeof navigator ? navigator.language || navigator.userLanguage : void 0, a = n.find((function (e) { return e === o })) || s; function l(e) { if (e) { var t = n.find((function (t) { return t === e })); t ? a = t : console.error("Language not found") } } function c(e) { if (e) { var t = function (t) { n.find((function (e) { return e === t })) || n.push(t), r[t] = Object.assign({}, r[s], r[t], e[t]) }; for (var i in e) t(i) } } function h(e, t, i) { var n = r[i = i || a][e] || r[s][e] || e; if (t) for (var o in t) n = n.replace("${" + o + "}", t[o]); return n } }, function (e, t, i) { "use strict"; i.d(t, "a", (function () { return n })), i.d(t, "d", (function () { return r })), i.d(t, "b", (function () { return s })), i.d(t, "c", (function () { return o })); var n = document.body, r = 10485760, s = 2e4, o = 2147483648 }, function (e, t, i) { "use strict"; i.d(t, "a", (function () { return a })); var n = i(12), r = i(0), s = i(1); function o(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var a = function () { function e(t, i) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.dom = {}; var n = this, r = this.dom; this.anchor = void 0, this.items = t, this.eventListeners = {}, this.selection = void 0, this.onClose = i ? i.close : void 0; var o = document.createElement("div"); o.className = "jsoneditor-contextmenu-root", r.root = o; var a = document.createElement("div"); a.className = "jsoneditor-contextmenu", r.menu = a, o.appendChild(a); var l = document.createElement("ul"); l.className = "jsoneditor-menu", a.appendChild(l), r.list = l, r.items = []; var c = document.createElement("button"); c.type = "button", r.focusButton = c; var h = document.createElement("li"); h.style.overflow = "hidden", h.style.height = "0", h.appendChild(c), l.appendChild(h), function d(e, t, i) { i.forEach((function (i) { if ("separator" === i.type) { var r = document.createElement("div"); r.className = "jsoneditor-separator"; var o = document.createElement("li"); o.appendChild(r), e.appendChild(o) } else { var a = {}, l = document.createElement("li"); e.appendChild(l); var c = document.createElement("button"); if (c.type = "button", c.className = i.className, a.button = c, i.title && (c.title = i.title), i.click && (c.onclick = function (e) { e.preventDefault(), n.hide(), i.click() }), l.appendChild(c), i.submenu) { var h = document.createElement("div"); h.className = "jsoneditor-icon", c.appendChild(h); var u, g = document.createElement("div"); if (g.className = "jsoneditor-text" + (i.click ? "" : " jsoneditor-right-margin"), g.appendChild(document.createTextNode(i.text)), c.appendChild(g), i.click) { c.className += " jsoneditor-default"; var p = document.createElement("button"); p.type = "button", (a.buttonExpand = p).className = "jsoneditor-expand", p.innerHTML = '<div class="jsoneditor-expand"></div>', l.appendChild(p), i.submenuTitle && (p.title = i.submenuTitle), u = p } else { var m = document.createElement("div"); m.className = "jsoneditor-expand", c.appendChild(m), u = c } u.onclick = function (e) { e.preventDefault(), n._onExpandItem(a), u.focus() }; var f = []; a.subItems = f; var C = document.createElement("ul"); (a.ul = C).className = "jsoneditor-menu", C.style.height = "0", l.appendChild(C), d(C, f, i.submenu) } else c.innerHTML = '<div class="jsoneditor-icon"></div><div class="jsoneditor-text">' + Object(s.c)(i.text) + "</div>"; t.push(a) } })) }(l, this.dom.items, t), this.maxHeight = 0, t.forEach((function (e) { var i = 24 * (t.length + (e.submenu ? e.submenu.length : 0)); n.maxHeight = Math.max(n.maxHeight, i) })) } var t, i; return t = e, (i = [{ key: "_getVisibleButtons", value: function () { var e = [], t = this; return this.dom.items.forEach((function (i) { e.push(i.button), i.buttonExpand && e.push(i.buttonExpand), i.subItems && i === t.expandedItem && i.subItems.forEach((function (t) { e.push(t.button), t.buttonExpand && e.push(t.buttonExpand) })) })), e } }, { key: "show", value: function (t, i, s) { this.hide(); var o = !0, a = t.parentNode, l = t.getBoundingClientRect(), c = a.getBoundingClientRect(), h = i.getBoundingClientRect(), d = this; this.dom.absoluteAnchor = Object(n.a)(t, i, (function () { d.hide() })), l.bottom + this.maxHeight < h.bottom || l.top - this.maxHeight > h.top && (o = !1); var u = s ? 0 : l.top - c.top; if (o) { var g = t.offsetHeight; this.dom.menu.style.left = "0", this.dom.menu.style.top = u + g + "px", this.dom.menu.style.bottom = "" } else this.dom.menu.style.left = "0", this.dom.menu.style.top = "", this.dom.menu.style.bottom = "0px"; this.dom.absoluteAnchor.appendChild(this.dom.root), this.selection = Object(r.getSelection)(), this.anchor = t, setTimeout((function () { d.dom.focusButton.focus() }), 0), e.visibleMenu && e.visibleMenu.hide(), e.visibleMenu = this } }, { key: "hide", value: function () { this.dom.absoluteAnchor && (this.dom.absoluteAnchor.destroy(), delete this.dom.absoluteAnchor), this.dom.root.parentNode && (this.dom.root.parentNode.removeChild(this.dom.root), this.onClose && this.onClose()), e.visibleMenu === this && (e.visibleMenu = void 0) } }, { key: "_onExpandItem", value: function (e) { var t = this, i = e === this.expandedItem, n = this.expandedItem; if (n && (n.ul.style.height = "0", n.ul.style.padding = "", setTimeout((function () { t.expandedItem !== n && (n.ul.style.display = "", Object(r.removeClassName)(n.ul.parentNode, "jsoneditor-selected")) }), 300), this.expandedItem = void 0), !i) { var s = e.ul; s.style.display = "block", s.clientHeight, setTimeout((function () { if (t.expandedItem === e) { for (var i = 0, n = 0; n < s.childNodes.length; n++)i += s.childNodes[n].clientHeight; s.style.height = i + "px", s.style.padding = "5px 10px" } }), 0), Object(r.addClassName)(s.parentNode, "jsoneditor-selected"), this.expandedItem = e } } }, { key: "_onKeyDown", value: function (e) { var t, i, n, s, o = e.target, a = e.which, l = !1; 27 === a ? (this.selection && Object(r.setSelection)(this.selection), this.anchor && this.anchor.focus(), this.hide(), l = !0) : 9 === a ? e.shiftKey ? 0 === (i = (t = this._getVisibleButtons()).indexOf(o)) && (t[t.length - 1].focus(), l = !0) : (i = (t = this._getVisibleButtons()).indexOf(o)) === t.length - 1 && (t[0].focus(), l = !0) : 37 === a ? ("jsoneditor-expand" === o.className && (i = (t = this._getVisibleButtons()).indexOf(o), (n = t[i - 1]) && n.focus()), l = !0) : 38 === a ? (i = (t = this._getVisibleButtons()).indexOf(o), (n = t[i - 1]) && "jsoneditor-expand" === n.className && (n = t[i - 2]), (n = n || t[t.length - 1]) && n.focus(), l = !0) : 39 === a ? (i = (t = this._getVisibleButtons()).indexOf(o), (s = t[i + 1]) && "jsoneditor-expand" === s.className && s.focus(), l = !0) : 40 === a && (i = (t = this._getVisibleButtons()).indexOf(o), (s = t[i + 1]) && "jsoneditor-expand" === s.className && (s = t[i + 2]), (s = s || t[0]) && (s.focus(), l = !0), l = !0), l && (e.stopPropagation(), e.preventDefault()) } }]) && o(t.prototype, i), e }(); a.visibleMenu = void 0 }, function (e, t, i) { "use strict"; i.d(t, "a", (function () { return o })), i.d(t, "b", (function () { return a })); var n = i(34), r = i.n(n), s = i(0); function o(e, t) { var i = t.sort, n = t.filter, r = t.projection, o = ""; if (n) { var a = "@" !== n.field ? ["0"].concat(Object(s.parsePath)("." + n.field)) : ["0"], l = "string" == typeof Object(s.get)(e, a) ? n.value : Object(s.parseString)(n.value); o += "[? " + n.field + " " + n.relation + " `" + JSON.stringify(l) + "`]" } else o += Array.isArray(e) ? "[*]" : "@"; return i && ("desc" === i.direction ? o += " | reverse(sort_by(@, &" + i.field + "))" : o += " | sort_by(@, &" + i.field + ")"), r && ("]" !== o[o.length - 1] && (o += " | [*]"), 1 === r.fields.length ? o += "." + r.fields[0] : 1 < r.fields.length && (o += ".{" + r.fields.map((function (e) { var t = e.split("."); return t[t.length - 1] + ": " + e })).join(", ") + "}")), o } function a(e, t) { return r.a.search(e, t) } }, function (e, t, i) { "use strict"; i.r(t), i.d(t, "showSortModal", (function () { return a })); var n = i(14), r = i.n(n), s = i(1), o = i(0); function a(e, t, i, n) { var a = Array.isArray(t) ? Object(o.getChildPaths)(t) : [""], l = n && n.path && Object(o.contains)(a, n.path) ? n.path : a[0], c = n && n.direction || "asc", h = '<div class="pico-modal-contents"><div class="pico-modal-header">' + Object(s.c)("sort") + "</div><form><table><tbody><tr>  <td>" + Object(s.c)("sortFieldLabel") + ' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="' + Object(s.c)("sortFieldTitle") + '">    </select>  </div>  </td></tr><tr>  <td>' + Object(s.c)("sortDirectionLabel") + ' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="' + Object(s.c)("sortAscending") + '" title="' + Object(s.c)("sortAscendingTitle") + '" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="' + Object(s.c)("sortDescending") + '" title="' + Object(s.c)("sortDescendingTitle") + '" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="' + Object(s.c)("ok") + '" /></td></tr></tbody></table></form></div>'; r()({ parent: e, content: h, overlayClass: "jsoneditor-modal-overlay", overlayStyles: { backgroundColor: "rgb(1,1,1)", opacity: .3 }, modalClass: "jsoneditor-modal jsoneditor-modal-sort" }).afterCreate((function (e) { var t = e.modalElem().querySelector("form"), n = e.modalElem().querySelector("#ok"), r = e.modalElem().querySelector("#field"), s = e.modalElem().querySelector("#direction"); function o(e) { s.value = e, s.className = "jsoneditor-button-group jsoneditor-button-group-value-" + s.value } a.forEach((function (e) { var t, i = document.createElement("option"); i.text = "" === (t = e) ? "@" : "." === t[0] ? t.slice(1) : t, i.value = e, r.appendChild(i) })), r.value = l || a[0], o(c || "asc"), s.onclick = function (e) { o(e.target.getAttribute("data-value")) }, n.onclick = function (t) { t.preventDefault(), t.stopPropagation(), e.close(), i({ path: r.value, direction: s.value }) }, t && (t.onsubmit = n.onclick) })).afterClose((function (e) { e.destroy() })).show() } }, function (e, t, i) { "use strict"; i.r(t); var n = i(14), r = i.n(n), s = i(10), o = i.n(s), a = i(1); function l(e) { return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function c(e, t, i, n) { return "boolean" == typeof e || e instanceof Boolean || null === e || "number" == typeof e || e instanceof Number || "string" == typeof e || e instanceof String || e instanceof Date ? JSON.stringify(e) : Array.isArray(e) ? function (e, t, i, n) { for (var r = t ? i + t : void 0, s = t ? "[\n" : "[", o = 0; o < e.length; o++) { var a = e[o]; if (t && (s += r), s += void 0 !== a && "function" != typeof a ? c(a, t, r, n) : "null", o < e.length - 1 && (s += t ? ",\n" : ","), s.length > n) return s + "..." } return s + (t ? "\n" + i + "]" : "]") }(e, t, i, n) : e && "object" === l(e) ? function (e, t, i, n) { var r, s, o = t ? i + t : void 0, a = !0, l = t ? "{\n" : "{"; if ("function" == typeof e.toJSON) return c(e.toJSON(), t, i, n); for (var h in e) if (r = e, s = h, Object.prototype.hasOwnProperty.call(r, s)) { if (a ? a = !1 : l += t ? ",\n" : ",", l += t ? o + '"' + h + '": ' : '"' + h + '":', (l += c(e[h], t, o, n)).length > n) return l + "..." } return l + (t ? "\n" + i + "}" : "}") }(e, t, i, n) : void 0 } function h(e, t) { for (var i = ""; 0 < t--;)i += e; return i } var d = i(0), u = i(2); i.d(t, "showTransformModal", (function () { return p })); var g = 'Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.'; function p(e) { var t = e.container, i = e.json, n = e.queryDescription, s = void 0 === n ? g : n, l = e.createQuery, p = e.executeQuery, m = e.onTransform, f = i, C = '<label class="pico-modal-contents"><div class="pico-modal-header">' + Object(a.c)("transform") + "</div><p>" + s + '</p><div class="jsoneditor-jmespath-label">' + Object(a.c)("transformWizardLabel") + ' </div><div id="wizard" class="jsoneditor-jmespath-block jsoneditor-jmespath-wizard">  <table class="jsoneditor-jmespath-wizard-table">    <tbody>      <tr>        <th>' + Object(a.c)("transformWizardFilter") + '</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >            <select id="filterField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >            <select id="filterRelation">              <option value="==">==</option>              <option value="!=">!=</option>              <option value="<">&lt;</option>              <option value="<=">&lt;=</option>              <option value=">">&gt;</option>              <option value=">=">&gt;=</option>            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >            <input type="text" class="value" placeholder="value..." id="filterValue" />          </div>        </td>      </tr>      <tr>        <th>' + Object(a.c)("transformWizardSortBy") + '</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">            <select id="sortField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >            <select id="sortOrder">              <option value="asc">Ascending</option>              <option value="desc">Descending</option>            </select>          </div>        </td>      </tr>      <tr id="selectFieldsPart">        <th>' + Object(a.c)("transformWizardSelectFields") + '</th>        <td class="jsoneditor-jmespath-filter">          <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple></select>        </td>      </tr>    </tbody>  </table></div><div class="jsoneditor-jmespath-label">' + Object(a.c)("transformQueryLabel") + ' </div><div class="jsoneditor-jmespath-block">  <textarea id="query"             rows="4"             autocomplete="off"             autocorrect="off"             autocapitalize="off"             spellcheck="false"            title="' + Object(a.c)("transformQueryTitle") + '">[*]</textarea></div><div class="jsoneditor-jmespath-label">' + Object(a.c)("transformPreviewLabel") + ' </div><div class="jsoneditor-jmespath-block">  <textarea id="preview"       class="jsoneditor-transform-preview"      readonly> </textarea></div><div class="jsoneditor-jmespath-block jsoneditor-modal-actions">  <input type="submit" id="ok" value="' + Object(a.c)("ok") + '" autofocus /></div></div>'; r()({ parent: t, content: C, overlayClass: "jsoneditor-modal-overlay", overlayStyles: { backgroundColor: "rgb(1,1,1)", opacity: .3 }, modalClass: "jsoneditor-modal jsoneditor-modal-transform", focus: !1 }).afterCreate((function (e) { var t = e.modalElem(), n = t.querySelector("#wizard"), r = t.querySelector("#ok"), s = t.querySelector("#filterField"), a = t.querySelector("#filterRelation"), g = t.querySelector("#filterValue"), C = t.querySelector("#sortField"), I = t.querySelector("#sortOrder"), A = t.querySelector("#selectFields"), v = t.querySelector("#query"), b = t.querySelector("#preview"); Array.isArray(f) || (n.style.fontStyle = "italic", n.innerHTML = "(wizard not available for objects, only for arrays)"), Object(d.getChildPaths)(i).forEach((function (e) { var t = B(e), i = document.createElement("option"); i.text = t, i.value = t, s.appendChild(i); var n = document.createElement("option"); n.text = t, n.value = t, C.appendChild(n) })); var y = Object(d.getChildPaths)(i, !0).filter((function (e) { return "" !== e })); if (0 < y.length) y.forEach((function (e) { var t = B(e), i = document.createElement("option"); i.text = t, i.value = t, A.appendChild(i) })); else { var w = t.querySelector("#selectFieldsPart"); w && (w.style.display = "none") } var S = new o.a(s, { defaultSelected: !1, clearable: !0, allowDeselect: !0, placeholder: "field..." }), x = new o.a(a, { defaultSelected: !1, clearable: !0, allowDeselect: !0, placeholder: "compare..." }), k = new o.a(C, { defaultSelected: !1, clearable: !0, allowDeselect: !0, placeholder: "field..." }), R = new o.a(I, { defaultSelected: !1, clearable: !0, allowDeselect: !0, placeholder: "order..." }), E = new o.a(A, { multiple: !0, clearable: !0, defaultSelected: !1, placeholder: "select fields..." }); function B(e) { return "" === e ? "@" : "." === e[0] ? e.slice(1) : e } S.on("selectr.change", Z), x.on("selectr.change", Z), g.oninput = Z, k.on("selectr.change", Z), R.on("selectr.change", Z), E.on("selectr.change", Z), t.querySelector(".pico-modal-contents").onclick = function (e) { "A" !== e.target.nodeName && e.preventDefault() }; var G = Object(d.debounce)((function () { try { var e = p(f, v.value); b.className = "jsoneditor-transform-preview", b.value = function (e, t, i) { var n, r, s = c(e, h(" ", 2), "", i); return s.length > i ? (n = s, ("number" == typeof (r = i) ? n.slice(0, r) : n) + "...") : s }(e, 0, u.b), r.disabled = !1 } catch (e) { b.className = "jsoneditor-transform-preview jsoneditor-error", b.value = e.toString(), r.disabled = !0 } }), 300); function T(e, t) { try { v.value = l(e, t), r.disabled = !1, G() } catch (e) { var i = 'Error: an error happened when executing "createQuery": ' + (e.message || e.toString()); v.value = "", r.disabled = !0, b.className = "jsoneditor-transform-preview jsoneditor-error", b.value = i } } function Z() { var e = {}; if (s.value && a.value && g.value && (e.filter = { field: s.value, relation: a.value, value: g.value }), C.value && I.value && (e.sort = { field: C.value, direction: I.value }), A.value) { for (var t = [], n = 0; n < A.options.length; n++)if (A.options[n].selected) { var r = A.options[n].value; t.push(r) } e.projection = { fields: t } } T(i, e) } v.oninput = G, r.onclick = function (t) { t.preventDefault(), t.stopPropagation(), e.close(), m(v.value) }, T(i, {}), setTimeout((function () { v.select(), v.focus(), v.selectionStart = 3, v.selectionEnd = 3 })) })).afterClose((function (e) { e.destroy() })).show() } }, function (e, t, i) { "use strict"; function n(e, t, i) { var n = i ? " !== " : " === ", r = i ? " || " : " && ", s = i ? "!" : "", o = i ? "" : "!"; switch (e) { case "null": return t + n + "null"; case "array": return s + "Array.isArray(" + t + ")"; case "object": return "(" + s + t + r + "typeof " + t + n + '"object"' + r + o + "Array.isArray(" + t + "))"; case "integer": return "(typeof " + t + n + '"number"' + r + o + "(" + t + " % 1)" + r + t + n + t + ")"; default: return "typeof " + t + n + '"' + e + '"' } } e.exports = { copy: function (e, t) { for (var i in t = t || {}, e) t[i] = e[i]; return t }, checkDataType: n, checkDataTypes: function (e, t) { switch (e.length) { case 1: return n(e[0], t, !0); default: var i = "", r = s(e); for (var o in r.array && r.object && (i = r["null"] ? "(" : "(!" + t + " || ", i += "typeof " + t + ' !== "object")', delete r["null"], delete r.array, delete r.object), r.number && delete r.integer, r) i += (i ? " && " : "") + n(o, t, !0); return i } }, coerceToTypes: function (e, t) { if (Array.isArray(t)) { for (var i = [], n = 0; n < t.length; n++) { var s = t[n]; (r[s] || "array" === e && "array" === s) && (i[i.length] = s) } if (i.length) return i } else { if (r[t]) return [t]; if ("array" === e && "array" === t) return ["array"] } }, toHash: s, getProperty: l, escapeQuotes: c, equal: i(18), ucs2length: i(47), varOccurences: function (e, t) { t += "[^0-9]"; var i = e.match(new RegExp(t, "g")); return i ? i.length : 0 }, varReplace: function (e, t, i) { return t += "([^0-9])", i = i.replace(/\$/g, "$$$$"), e.replace(new RegExp(t, "g"), i + "$1") }, cleanUpCode: function (e) { return e.replace(h, "").replace(d, "").replace(u, "if (!($1))") }, finalCleanUpCode: function (e, t) { var i = e.match(g); return i && 2 == i.length && (e = t ? e.replace(m, "").replace(I, A) : e.replace(p, "").replace(f, C)), (i = e.match(v)) && 3 === i.length ? e.replace(b, "") : e }, schemaHasRules: function (e, t) { if ("boolean" == typeof e) return !e; for (var i in e) if (t[i]) return !0 }, schemaHasRulesExcept: function (e, t, i) { if ("boolean" == typeof e) return !e && "not" != i; for (var n in e) if (n != i && t[n]) return !0 }, schemaUnknownRules: function (e, t) { if ("boolean" != typeof e) for (var i in e) if (!t[i]) return i }, toQuotedString: y, getPathExpr: function (e, t, i, n) { return x(e, i ? "'/' + " + t + (n ? "" : ".replace(/~/g, '~0').replace(/\\//g, '~1')") : n ? "'[' + " + t + " + ']'" : "'[\\'' + " + t + " + '\\']'") }, getPath: function (e, t, i) { return x(e, y(i ? "/" + k(t) : l(t))) }, getData: function (e, t, i) { var n, r, s, o; if ("" === e) return "rootData"; if ("/" == e[0]) { if (!w.test(e)) throw new Error("Invalid JSON-pointer: " + e); r = e, s = "rootData" } else { if (!(o = e.match(S))) throw new Error("Invalid JSON-pointer: " + e); if (n = +o[1], "#" == (r = o[2])) { if (t <= n) throw new Error("Cannot access property/index " + n + " levels up, current level is " + t); return i[t - n] } if (t < n) throw new Error("Cannot access data " + n + " levels up, current level is " + t); if (s = "data" + (t - n || ""), !r) return s } for (var a = s, c = r.split("/"), h = 0; h < c.length; h++) { var d = c[h]; d && (a += " && " + (s += l(R(d)))) } return a }, unescapeFragment: function (e) { return R(decodeURIComponent(e)) }, unescapeJsonPointer: R, escapeFragment: function (e) { return encodeURIComponent(k(e)) }, escapeJsonPointer: k }; var r = s(["string", "number", "integer", "boolean", "null"]); function s(e) { for (var t = {}, i = 0; i < e.length; i++)t[e[i]] = !0; return t } var o = /^[a-z$_][a-z$_0-9]*$/i, a = /'|\\/g; function l(e) { return "number" == typeof e ? "[" + e + "]" : o.test(e) ? "." + e : "['" + c(e) + "']" } function c(e) { return e.replace(a, "\\$&").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\f/g, "\\f").replace(/\t/g, "\\t") } var h = /else\s*{\s*}/g, d = /if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g, u = /if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g, g = /[^v.]errors/g, p = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g, m = /var errors = 0;|var vErrors = null;/g, f = "return errors === 0;", C = "validate.errors = null; return true;", I = /if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/, A = "return data;", v = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g, b = /if \(rootData === undefined\) rootData = data;/; function y(e) { return "'" + c(e) + "'" } var w = /^\/(?:[^~]|~0|~1)*$/, S = /^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/; function x(e, t) { return '""' == e ? t : (e + " + " + t).replace(/' \+ '/g, "") } function k(e) { return e.replace(/~/g, "~0").replace(/\//g, "~1") } function R(e) { return e.replace(/~1/g, "/").replace(/~0/g, "~") } }, function (e, t, i) { "use strict"; i.d(t, "a", (function () { return o })); var n = i(3), r = i(1); function s(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var o = function () { function e(t, i, s, o) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e); for (var a = { code: { text: Object(r.c)("modeCodeText"), title: Object(r.c)("modeCodeTitle"), click: function () { o("code") } }, form: { text: Object(r.c)("modeFormText"), title: Object(r.c)("modeFormTitle"), click: function () { o("form") } }, text: { text: Object(r.c)("modeTextText"), title: Object(r.c)("modeTextTitle"), click: function () { o("text") } }, tree: { text: Object(r.c)("modeTreeText"), title: Object(r.c)("modeTreeTitle"), click: function () { o("tree") } }, view: { text: Object(r.c)("modeViewText"), title: Object(r.c)("modeViewTitle"), click: function () { o("view") } }, preview: { text: Object(r.c)("modePreviewText"), title: Object(r.c)("modePreviewTitle"), click: function () { o("preview") } } }, l = [], c = 0; c < i.length; c++) { var h = i[c], d = a[h]; if (!d) throw new Error('Unknown mode "' + h + '"'); d.className = "jsoneditor-type-modes" + (s === h ? " jsoneditor-selected" : ""), l.push(d) } var u = a[s]; if (!u) throw new Error('Unknown mode "' + s + '"'); var g = u.text, p = document.createElement("button"); p.type = "button", p.className = "jsoneditor-modes jsoneditor-separator", p.innerHTML = g + " &#x25BE;", p.title = Object(r.c)("modeEditorTitle"), p.onclick = function () { new n.a(l).show(p, t) }; var m = document.createElement("div"); m.className = "jsoneditor-modes", m.style.position = "relative", m.appendChild(p), t.appendChild(m), this.dom = { container: t, box: p, frame: m } } var t, i; return t = e, (i = [{ key: "focus", value: function () { this.dom.box.focus() } }, { key: "destroy", value: function () { this.dom && this.dom.frame && this.dom.frame.parentNode && this.dom.frame.parentNode.removeChild(this.dom.frame), this.dom = null } }]) && s(t.prototype, i), e }() }, function (e, t, i) { "use strict"; function n(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } i.d(t, "a", (function () { return r })); var r = function () { function e(t) { if (function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.target = t.target || null, !this.target) throw new Error('FocusTracker constructor called without a "target" to track.'); this.onFocus = "function" == typeof t.onFocus ? t.onFocus : null, this.onBlur = "function" == typeof t.onBlur ? t.onBlur : null, this._onClick = this._onEvent.bind(this), this._onKeyUp = function (e) { 9 !== e.which && 9 !== e.keyCode || this._onEvent(e) }.bind(this), this.focusFlag = !1, this.firstEventFlag = !0, (this.onFocus || this.onBlur) && (document.addEventListener("click", this._onClick), document.addEventListener("keyup", this._onKeyUp)) } var t, i; return t = e, (i = [{ key: "destroy", value: function () { document.removeEventListener("click", this._onClick), document.removeEventListener("keyup", this._onKeyUp), this._onEvent({ target: document.body }) } }, { key: "_onEvent", value: function (e) { var t = e.target; t === this.target || this.target.contains(t) || this.target.contains(document.activeElement) ? this.focusFlag || (this.onFocus && this.onFocus({ type: "focus", target: this.target }), this.focusFlag = !0) : (this.focusFlag || this.firstEventFlag) && (this.onBlur && this.onBlur({ type: "blur", target: this.target }), this.focusFlag = !1, this.firstEventFlag && (this.firstEventFlag = !1)) } }]) && n(t.prototype, i), e }() }, function (e, t, i) { "use strict"; function n() { } var r = { defaultSelected: !0, width: "auto", disabled: !1, searchable: !0, clearable: !1, sortSelected: !1, allowDeselect: !1, closeOnScroll: !1, nativeDropdown: !1, placeholder: "Select an option...", taggable: !1, tagPlaceholder: "Enter a tag..." }; n.prototype = { on: function (e, t) { this._events = this._events || {}, this._events[e] = this._events[e] || [], this._events[e].push(t) }, off: function (e, t) { this._events = this._events || {}, e in this._events != 0 && this._events[e].splice(this._events[e].indexOf(t), 1) }, emit: function (e) { if (this._events = this._events || {}, e in this._events != 0) for (var t = 0; t < this._events[e].length; t++)this._events[e][t].apply(this, Array.prototype.slice.call(arguments, 1)) } }, n.mixin = function (e) { for (var t = ["on", "off", "emit"], i = 0; i < t.length; i++)"function" == typeof e ? e.prototype[t[i]] = n.prototype[t[i]] : e[t[i]] = n.prototype[t[i]]; return e }; var s = { extend: function (e, t) { var i; for (i in t = t || {}, e) e.hasOwnProperty(i) && (t.hasOwnProperty(i) || (t[i] = e[i])); return t }, each: function (e, t, i) { if ("[object Object]" === Object.prototype.toString.call(e)) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.call(i, n, e[n], e); else for (var r = 0, s = e.length; r < s; r++)t.call(i, r, e[r], e) }, createElement: function (e, t) { var i, n = document, r = n.createElement(e); if (t && "[object Object]" === Object.prototype.toString.call(t)) for (i in t) if (i in r) r[i] = t[i]; else if ("html" === i) r.innerHTML = t[i]; else if ("text" === i) { var s = n.createTextNode(t[i]); r.appendChild(s) } else r.setAttribute(i, t[i]); return r }, hasClass: function (e, t) { if (e) return e.classList ? e.classList.contains(t) : !!e.className && !!e.className.match(new RegExp("(\\s|^)" + t + "(\\s|$)")) }, addClass: function (e, t) { s.hasClass(e, t) || (e.classList ? e.classList.add(t) : e.className = e.className.trim() + " " + t) }, removeClass: function (e, t) { s.hasClass(e, t) && (e.classList ? e.classList.remove(t) : e.className = e.className.replace(new RegExp("(^|\\s)" + t.split(" ").join("|") + "(\\s|$)", "gi"), " ")) }, closest: function (e, t) { return e && e !== document.body && (t(e) ? e : s.closest(e.parentNode, t)) }, isInt: function (e) { return "number" == typeof e && isFinite(e) && Math.floor(e) === e }, debounce: function (e, t, i) { var n; return function () { var r = this, s = arguments, o = i && !n; clearTimeout(n), n = setTimeout((function () { n = null, i || e.apply(r, s) }), t), o && e.apply(r, s) } }, rect: function (e, t) { var i = window, n = e.getBoundingClientRect(), r = t ? i.pageXOffset : 0, s = t ? i.pageYOffset : 0; return { bottom: n.bottom + s, height: n.height, left: n.left + r, right: n.right + r, top: n.top + s, width: n.width } }, includes: function (e, t) { return -1 < e.indexOf(t) }, truncate: function (e) { for (; e.firstChild;)e.removeChild(e.firstChild) } }; function o(e, t) { return e.hasOwnProperty(t) && (!0 === e[t] || e[t].length) } function a(e, t, i) { e.parentNode ? e.parentNode.parentNode || t.appendChild(e.parentNode) : t.appendChild(e), s.removeClass(e, "excluded"), i || (e.innerHTML = e.textContent) } function l() { if (this.items.length) { var e = document.createDocumentFragment(); if (this.config.pagination) { var t = this.pages.slice(0, this.pageIndex); s.each(t, (function (t, i) { s.each(i, (function (t, i) { a(i, e, this.customOption) }), this) }), this) } else s.each(this.items, (function (t, i) { a(i, e, this.customOption) }), this); e.childElementCount && (s.removeClass(this.items[this.navIndex], "active"), this.navIndex = e.querySelector(".selectr-option").idx, s.addClass(this.items[this.navIndex], "active")), this.tree.appendChild(e) } } function c(e, t) { t = t || e; var i = this.customOption ? this.config.renderOption(t) : e.textContent, n = s.createElement("li", { "class": "selectr-option", html: i, role: "treeitem", "aria-selected": !1 }); return n.idx = e.idx, this.items.push(n), e.defaultSelected && this.defaultSelected.push(e.idx), e.disabled && (n.disabled = !0, s.addClass(n, "disabled")), n } function h() { (this.config.searchable || this.config.taggable) && (this.input.value = null, this.searching = !1, this.config.searchable && s.removeClass(this.inputContainer, "active"), s.hasClass(this.container, "notice") && (s.removeClass(this.container, "notice"), s.addClass(this.container, "open"), this.input.focus()), s.each(this.items, (function (e, t) { s.removeClass(t, "excluded"), this.customOption || (t.innerHTML = t.textContent) }), this)) } function d(e, t) { if (t = t || {}, !e) throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string."); if ("string" == typeof (this.el = e) && (this.el = document.querySelector(e)), null === this.el) throw new Error("The element you passed to Selectr can not be found."); if ("select" !== this.el.nodeName.toLowerCase()) throw new Error("The element you passed to Selectr is not a HTMLSelectElement."); this.render(t) } var u = function () { var e = this.tree, t = e.scrollTop; if (e.scrollHeight - e.offsetHeight <= t && this.pageIndex < this.pages.length) { var i = document.createDocumentFragment(); s.each(this.pages[this.pageIndex], (function (e, t) { a(t, i, this.customOption) }), this), e.appendChild(i), this.pageIndex++, this.emit("selectr.paginate", { items: this.items.length, total: this.data.length, page: this.pageIndex, pages: this.pages.length }) } }; d.prototype.render = function (e) { if (!this.rendered) { this.config = s.extend(r, e), this.originalType = this.el.type, this.originalIndex = this.el.tabIndex, this.defaultSelected = [], this.originalOptionCount = this.el.options.length, (this.config.multiple || this.config.taggable) && (this.el.multiple = !0), this.disabled = o(this.config, "disabled"), this.opened = !1, this.config.taggable && (this.config.searchable = !1), this.navigating = !1, this.mobileDevice = !1, /Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent) && (this.mobileDevice = !0), this.customOption = this.config.hasOwnProperty("renderOption") && "function" == typeof this.config.renderOption, this.customSelected = this.config.hasOwnProperty("renderSelection") && "function" == typeof this.config.renderSelection, n.mixin(this), function () { this.requiresPagination = this.config.pagination && 0 < this.config.pagination, o(this.config, "width") && (s.isInt(this.config.width) ? this.width = this.config.width + "px" : "auto" === this.config.width ? this.width = "100%" : s.includes(this.config.width, "%") && (this.width = this.config.width)), this.container = s.createElement("div", { "class": "selectr-container" }), this.config.customClass && s.addClass(this.container, this.config.customClass), this.mobileDevice ? s.addClass(this.container, "selectr-mobile") : s.addClass(this.container, "selectr-desktop"), this.el.tabIndex = -1, this.config.nativeDropdown || this.mobileDevice ? s.addClass(this.el, "selectr-visible") : s.addClass(this.el, "selectr-hidden"), this.selected = s.createElement("div", { "class": "selectr-selected", disabled: this.disabled, tabIndex: 1, "aria-expanded": !1 }), this.label = s.createElement(this.el.multiple ? "ul" : "span", { "class": "selectr-label" }); var e = s.createElement("div", { "class": "selectr-options-container" }); if (this.tree = s.createElement("ul", { "class": "selectr-options", role: "tree", "aria-hidden": !0, "aria-expanded": !1 }), this.notice = s.createElement("div", { "class": "selectr-notice" }), this.el.setAttribute("aria-hidden", !0), this.disabled && (this.el.disabled = !0), this.el.multiple && (s.addClass(this.label, "selectr-tags"), s.addClass(this.container, "multiple"), this.tags = [], this.selectedValues = this.getSelectedProperties("value"), this.selectedIndexes = this.getSelectedProperties("idx")), this.selected.appendChild(this.label), this.config.clearable && (this.selectClear = s.createElement("button", { "class": "selectr-clear", type: "button" }), this.container.appendChild(this.selectClear), s.addClass(this.container, "clearable")), this.config.taggable) { var t = s.createElement("li", { "class": "input-tag" }); this.input = s.createElement("input", { "class": "selectr-tag-input", placeholder: this.config.tagPlaceholder, tagIndex: 0, autocomplete: "off", autocorrect: "off", autocapitalize: "off", spellcheck: "false", role: "textbox", type: "search" }), t.appendChild(this.input), this.label.appendChild(t), s.addClass(this.container, "taggable"), this.tagSeperators = [","], this.config.tagSeperators && (this.tagSeperators = this.tagSeperators.concat(this.config.tagSeperators)) } this.config.searchable && (this.input = s.createElement("input", { "class": "selectr-input", tagIndex: -1, autocomplete: "off", autocorrect: "off", autocapitalize: "off", spellcheck: "false", role: "textbox", type: "search" }), this.inputClear = s.createElement("button", { "class": "selectr-input-clear", type: "button" }), this.inputContainer = s.createElement("div", { "class": "selectr-input-container" }), this.inputContainer.appendChild(this.input), this.inputContainer.appendChild(this.inputClear), e.appendChild(this.inputContainer)), e.appendChild(this.notice), e.appendChild(this.tree), this.items = [], this.options = [], this.el.options.length && (this.options = [].slice.call(this.el.options)); var i, n = !1, r = 0; if (this.el.children.length && s.each(this.el.children, (function (e, t) { "OPTGROUP" === t.nodeName ? (n = s.createElement("ul", { "class": "selectr-optgroup", role: "group", html: "<li class='selectr-optgroup--label'>" + t.label + "</li>" }), s.each(t.children, (function (e, t) { t.idx = r, n.appendChild(c.call(this, t, n)), r++ }), this)) : (t.idx = r, c.call(this, t), r++) }), this), this.config.data && Array.isArray(this.config.data)) { var a, l = !(this.data = []); n = !1, r = 0, s.each(this.config.data, (function (e, t) { o(t, "children") ? (l = s.createElement("optgroup", { label: t.text }), n = s.createElement("ul", { "class": "selectr-optgroup", role: "group", html: "<li class='selectr-optgroup--label'>" + t.text + "</li>" }), s.each(t.children, (function (e, t) { (a = new Option(t.text, t.value, !1, t.hasOwnProperty("selected") && !0 === t.selected)).disabled = o(t, "disabled"), this.options.push(a), l.appendChild(a), a.idx = r, n.appendChild(c.call(this, a, t)), this.data[r] = t, r++ }), this)) : ((a = new Option(t.text, t.value, !1, t.hasOwnProperty("selected") && !0 === t.selected)).disabled = o(t, "disabled"), this.options.push(a), a.idx = r, c.call(this, a, t), this.data[r] = t, r++) }), this) } this.setSelected(!0); for (var h = this.navIndex = 0; h < this.items.length; h++)if (i = this.items[h], !s.hasClass(i, "disabled")) { s.addClass(i, "active"), this.navIndex = h; break } this.requiresPagination && (this.pageIndex = 1, this.paginate()), this.container.appendChild(this.selected), this.container.appendChild(e), this.placeEl = s.createElement("div", { "class": "selectr-placeholder" }), this.setPlaceholder(), this.selected.appendChild(this.placeEl), this.disabled && this.disable(), this.el.parentNode.insertBefore(this.container, this.el), this.container.appendChild(this.el) }.call(this), this.bindEvents(), this.update(), this.optsRect = s.rect(this.tree), this.rendered = !0, this.el.multiple || (this.el.selectedIndex = this.selectedIndex); var t = this; setTimeout((function () { t.emit("selectr.init") }), 20) } }, d.prototype.getSelected = function () { return this.el.querySelectorAll("option:checked") }, d.prototype.getSelectedProperties = function (e) { var t = this.getSelected(); return [].slice.call(t).map((function (t) { return t[e] })).filter((function (e) { return null != e })) }, d.prototype.bindEvents = function () { var e = this; this.events = {}, this.events.dismiss = function (e) { var t = e.target; this.container.contains(t) || !this.opened && !s.hasClass(this.container, "notice") || this.close() }.bind(this), this.events.navigate = function (e) { if (e = e || window.event, this.items.length && this.opened && s.includes([13, 38, 40], e.which)) { if (e.preventDefault(), 13 === e.which) return !(this.config.taggable && 0 < this.input.value.length) && this.change(this.navIndex); var t, i = this.items[this.navIndex]; switch (e.which) { case 38: (t = 0) < this.navIndex && this.navIndex--; break; case 40: t = 1, this.navIndex < this.items.length - 1 && this.navIndex++ }for (this.navigating = !0; s.hasClass(this.items[this.navIndex], "disabled") || s.hasClass(this.items[this.navIndex], "excluded");)if (t ? this.navIndex++ : this.navIndex--, this.searching) { if (this.navIndex > this.tree.lastElementChild.idx) { this.navIndex = this.tree.lastElementChild.idx; break } if (this.navIndex < this.tree.firstElementChild.idx) { this.navIndex = this.tree.firstElementChild.idx; break } } var n = s.rect(this.items[this.navIndex]); t ? (0 === this.navIndex ? this.tree.scrollTop = 0 : n.top + n.height > this.optsRect.top + this.optsRect.height && (this.tree.scrollTop = this.tree.scrollTop + (n.top + n.height - (this.optsRect.top + this.optsRect.height))), this.navIndex === this.tree.childElementCount - 1 && this.requiresPagination && u.call(this)) : 0 === this.navIndex ? this.tree.scrollTop = 0 : n.top - this.optsRect.top < 0 && (this.tree.scrollTop = this.tree.scrollTop + (n.top - this.optsRect.top)), i && s.removeClass(i, "active"), s.addClass(this.items[this.navIndex], "active") } else this.navigating = !1 }.bind(this), this.events.reset = this.reset.bind(this), (this.config.nativeDropdown || this.mobileDevice) && (this.container.addEventListener("touchstart", (function (t) { t.changedTouches[0].target === e.el && e.toggle() })), (this.config.nativeDropdown || this.mobileDevice) && this.container.addEventListener("click", (function (t) { t.preventDefault(), t.stopPropagation(), t.target === e.el && e.toggle() })), this.el.addEventListener("change", (function (t) { if (e.el.multiple) { var i = e.getSelectedProperties("idx"), n = function (e, t) { for (var i, n = [], r = e.slice(0), s = 0; s < t.length; s++)-1 < (i = r.indexOf(t[s])) ? r.splice(i, 1) : n.push(t[s]); return [n, r] }(e.selectedIndexes, i); s.each(n[0], (function (t, i) { e.select(i) }), e), s.each(n[1], (function (t, i) { e.deselect(i) }), e) } else -1 < e.el.selectedIndex && e.select(e.el.selectedIndex) }))), this.config.nativeDropdown && this.container.addEventListener("keydown", (function (t) { "Enter" === t.key && e.selected === document.activeElement && (e.toggle(), setTimeout((function () { e.el.focus() }), 200)) })), this.selected.addEventListener("click", (function (t) { e.disabled || e.toggle(), t.preventDefault(), t.stopPropagation() })), this.label.addEventListener("click", (function (t) { s.hasClass(t.target, "selectr-tag-remove") && e.deselect(t.target.parentNode.idx) })), this.selectClear && this.selectClear.addEventListener("click", this.clear.bind(this)), this.tree.addEventListener("mousedown", (function (e) { e.preventDefault() })), this.tree.addEventListener("click", (function (t) { t.preventDefault(), t.stopPropagation(); var i = s.closest(t.target, (function (e) { return e && s.hasClass(e, "selectr-option") })); i && (s.hasClass(i, "disabled") || (s.hasClass(i, "selected") ? (e.el.multiple || !e.el.multiple && e.config.allowDeselect) && e.deselect(i.idx) : e.select(i.idx), e.opened && !e.el.multiple && e.close())) })), this.tree.addEventListener("mouseover", (function (t) { s.hasClass(t.target, "selectr-option") && (s.hasClass(t.target, "disabled") || (s.removeClass(e.items[e.navIndex], "active"), s.addClass(t.target, "active"), e.navIndex = [].slice.call(e.items).indexOf(t.target))) })), this.config.searchable && (this.input.addEventListener("focus", (function (t) { e.searching = !0 })), this.input.addEventListener("blur", (function (t) { e.searching = !1 })), this.input.addEventListener("keyup", (function (t) { e.search(), e.config.taggable || (this.value.length ? s.addClass(this.parentNode, "active") : s.removeClass(this.parentNode, "active")) })), this.inputClear.addEventListener("click", (function (t) { e.input.value = null, h.call(e), e.tree.childElementCount || l.call(e) }))), this.config.taggable && this.input.addEventListener("keyup", (function (t) { if (e.search(), e.config.taggable && this.value.length) { var i = this.value.trim(); (13 === t.which || s.includes(e.tagSeperators, t.key)) && (s.each(e.tagSeperators, (function (e, t) { i = i.replace(t, "") })), e.add({ value: i, text: i, selected: !0 }, !0) ? (e.close(), h.call(e)) : (this.value = "", e.setMessage("That tag is already in use."))) } })), this.update = s.debounce((function () { e.opened && e.config.closeOnScroll && e.close(), e.width && (e.container.style.width = e.width), e.invert() }), 50), this.requiresPagination && (this.paginateItems = s.debounce((function () { u.call(this) }), 50), this.tree.addEventListener("scroll", this.paginateItems.bind(this))), document.addEventListener("click", this.events.dismiss), window.addEventListener("keydown", this.events.navigate), window.addEventListener("resize", this.update), window.addEventListener("scroll", this.update), this.el.form && this.el.form.addEventListener("reset", this.events.reset) }, d.prototype.setSelected = function (e) { if (this.config.data || this.el.multiple || !this.el.options.length || (0 === this.el.selectedIndex && (this.el.options[0].defaultSelected || this.config.defaultSelected || (this.el.selectedIndex = -1)), this.selectedIndex = this.el.selectedIndex, -1 < this.selectedIndex && this.select(this.selectedIndex)), this.config.multiple && "select-one" === this.originalType && !this.config.data && this.el.options[0].selected && !this.el.options[0].defaultSelected && (this.el.options[0].selected = !1), s.each(this.options, (function (e, t) { t.selected && t.defaultSelected && this.select(t.idx) }), this), this.config.selectedValue && this.setValue(this.config.selectedValue), this.config.data) { !this.el.multiple && this.config.defaultSelected && this.el.selectedIndex < 0 && this.select(0); var t = 0; s.each(this.config.data, (function (e, i) { o(i, "children") ? s.each(i.children, (function (e, i) { i.hasOwnProperty("selected") && !0 === i.selected && this.select(t), t++ }), this) : (i.hasOwnProperty("selected") && !0 === i.selected && this.select(t), t++) }), this) } }, d.prototype.destroy = function () { this.rendered && (this.emit("selectr.destroy"), "select-one" === this.originalType && (this.el.multiple = !1), this.config.data && (this.el.innerHTML = ""), s.removeClass(this.el, "selectr-hidden"), this.el.form && s.off(this.el.form, "reset", this.events.reset), s.off(document, "click", this.events.dismiss), s.off(document, "keydown", this.events.navigate), s.off(window, "resize", this.update), s.off(window, "scroll", this.update), this.container.parentNode.replaceChild(this.el, this.container), this.rendered = !1) }, d.prototype.change = function (e) { var t = this.items[e], i = this.options[e]; i.disabled || (i.selected && s.hasClass(t, "selected") ? this.deselect(e) : this.select(e), this.opened && !this.el.multiple && this.close()) }, d.prototype.select = function (e) { var t = this.items[e], i = [].slice.call(this.el.options), n = this.options[e]; if (this.el.multiple) { if (s.includes(this.selectedIndexes, e)) return !1; if (this.config.maxSelections && this.tags.length === this.config.maxSelections) return this.setMessage("A maximum of " + this.config.maxSelections + " items can be selected.", !0), !1; this.selectedValues.push(n.value), this.selectedIndexes.push(e), function (e) { var t, i = this, n = document.createDocumentFragment(), r = this.options[e.idx], o = this.data ? this.data[e.idx] : r, a = this.customSelected ? this.config.renderSelection(o) : r.textContent, l = s.createElement("li", { "class": "selectr-tag", html: a }), c = s.createElement("button", { "class": "selectr-tag-remove", type: "button" }); if (l.appendChild(c), l.idx = e.idx, l.tag = r.value, this.tags.push(l), this.config.sortSelected) { var h = this.tags.slice(); t = function (e, t) { e.replace(/(\d+)|(\D+)/g, (function (e, i, n) { t.push([i || 1 / 0, n || ""]) })) }, h.sort((function (e, n) { var r, s, o = [], a = []; for (!0 === i.config.sortSelected ? (r = e.tag, s = n.tag) : "text" === i.config.sortSelected && (r = e.textContent, s = n.textContent), t(r, o), t(s, a); o.length && a.length;) { var l = o.shift(), c = a.shift(), h = l[0] - c[0] || l[1].localeCompare(c[1]); if (h) return h } return o.length - a.length })), s.each(h, (function (e, t) { n.appendChild(t) })), this.label.innerHTML = "" } else n.appendChild(l); this.config.taggable ? this.label.insertBefore(n, this.input.parentNode) : this.label.appendChild(n) }.call(this, t) } else { var r = this.data ? this.data[e] : n; this.label.innerHTML = this.customSelected ? this.config.renderSelection(r) : n.textContent, this.selectedValue = n.value, this.selectedIndex = e, s.each(this.options, (function (t, i) { var n = this.items[t]; t !== e && (n && s.removeClass(n, "selected"), i.selected = !1, i.removeAttribute("selected")) }), this) } s.includes(i, n) || this.el.add(n), t.setAttribute("aria-selected", !0), s.addClass(t, "selected"), s.addClass(this.container, "has-selected"), n.selected = !0, n.setAttribute("selected", ""), this.emit("selectr.change", n), this.emit("selectr.select", n) }, d.prototype.deselect = function (e, t) { var i = this.items[e], n = this.options[e]; if (this.el.multiple) { var r = this.selectedIndexes.indexOf(e); this.selectedIndexes.splice(r, 1); var o = this.selectedValues.indexOf(n.value); this.selectedValues.splice(o, 1), function (e) { var t = !1; s.each(this.tags, (function (i, n) { n.idx === e.idx && (t = n) }), this), t && (this.label.removeChild(t), this.tags.splice(this.tags.indexOf(t), 1)) }.call(this, i), this.tags.length || s.removeClass(this.container, "has-selected") } else { if (!t && !this.config.clearable && !this.config.allowDeselect) return !1; this.label.innerHTML = "", this.selectedValue = null, this.el.selectedIndex = this.selectedIndex = -1, s.removeClass(this.container, "has-selected") } this.items[e].setAttribute("aria-selected", !1), s.removeClass(this.items[e], "selected"), n.selected = !1, n.removeAttribute("selected"), this.emit("selectr.change", null), this.emit("selectr.deselect", n) }, d.prototype.setValue = function (e) { var t = Array.isArray(e); if (t || (e = e.toString().trim()), !this.el.multiple && t) return !1; s.each(this.options, (function (i, n) { (t && s.includes(e.toString(), n.value) || n.value === e) && this.change(n.idx) }), this) }, d.prototype.getValue = function (e, t) { var i; if (this.el.multiple) e ? this.selectedIndexes.length && (i = { values: [] }, s.each(this.selectedIndexes, (function (e, t) { var n = this.options[t]; i.values[e] = { value: n.value, text: n.textContent } }), this)) : i = this.selectedValues.slice(); else if (e) { var n = this.options[this.selectedIndex]; i = { value: n.value, text: n.textContent } } else i = this.selectedValue; return e && t && (i = JSON.stringify(i)), i }, d.prototype.add = function (e, t) { if (e) { if (this.data = this.data || [], this.items = this.items || [], this.options = this.options || [], Array.isArray(e)) s.each(e, (function (e, i) { this.add(i, t) }), this); else if ("[object Object]" === Object.prototype.toString.call(e)) { if (t) { var i = !1; if (s.each(this.options, (function (t, n) { n.value.toLowerCase() === e.value.toLowerCase() && (i = !0) })), i) return !1 } var n = s.createElement("option", e); return this.data.push(e), this.options.push(n), n.idx = 0 < this.options.length ? this.options.length - 1 : 0, c.call(this, n), e.selected && this.select(n.idx), n } return this.setPlaceholder(), this.config.pagination && this.paginate(), !0 } }, d.prototype.remove = function (e) { var t, i = []; Array.isArray(e) ? s.each(e, (function (t, n) { s.isInt(n) ? i.push(this.getOptionByIndex(n)) : "string" == typeof e && i.push(this.getOptionByValue(n)) }), this) : s.isInt(e) ? i.push(this.getOptionByIndex(e)) : "string" == typeof e && i.push(this.getOptionByValue(e)), i.length && (s.each(i, (function (e, i) { t = i.idx, this.el.remove(i), this.options.splice(t, 1); var n = this.items[t].parentNode; n && n.removeChild(this.items[t]), this.items.splice(t, 1), s.each(this.options, (function (e, t) { t.idx = e, this.items[e].idx = e }), this) }), this), this.setPlaceholder(), this.config.pagination && this.paginate()) }, d.prototype.removeAll = function () { this.clear(!0), s.each(this.el.options, (function (e, t) { this.el.remove(t) }), this), s.truncate(this.tree), this.items = [], this.options = [], this.data = [], this.navIndex = 0, this.requiresPagination && (this.requiresPagination = !1, this.pageIndex = 1, this.pages = []), this.setPlaceholder() }, d.prototype.search = function (e) { if (!this.navigating) { e = e || this.input.value; var t = document.createDocumentFragment(); if (this.removeMessage(), s.truncate(this.tree), 1 < e.length) if (s.each(this.options, (function (i, n) { var r, o, l = this.items[n.idx]; s.includes(n.textContent.toLowerCase(), e.toLowerCase()) && !n.disabled ? (a(l, t, this.customOption), s.removeClass(l, "excluded"), this.customOption || (l.innerHTML = (r = n, !!(o = new RegExp(e, "i").exec(r.textContent)) && r.textContent.replace(o[0], "<span class='selectr-match'>" + o[0] + "</span>")))) : s.addClass(l, "excluded") }), this), t.childElementCount) { var i = this.items[this.navIndex], n = t.firstElementChild; s.removeClass(i, "active"), this.navIndex = n.idx, s.addClass(n, "active") } else this.config.taggable || this.setMessage("no results."); else l.call(this); this.tree.appendChild(t) } }, d.prototype.toggle = function () { this.disabled || (this.opened ? this.close() : this.open()) }, d.prototype.open = function () { var e = this; return !!this.options.length && (this.opened || this.emit("selectr.open"), this.opened = !0, this.mobileDevice || this.config.nativeDropdown ? (s.addClass(this.container, "native-open"), void (this.config.data && s.each(this.options, (function (e, t) { this.el.add(t) }), this))) : (s.addClass(this.container, "open"), l.call(this), this.invert(), this.tree.scrollTop = 0, s.removeClass(this.container, "notice"), this.selected.setAttribute("aria-expanded", !0), this.tree.setAttribute("aria-hidden", !1), this.tree.setAttribute("aria-expanded", !0), void (this.config.searchable && !this.config.taggable && setTimeout((function () { e.input.focus(), e.input.tabIndex = 0 }), 10)))) }, d.prototype.close = function () { if (this.opened && this.emit("selectr.close"), this.opened = !1, this.mobileDevice || this.config.nativeDropdown) s.removeClass(this.container, "native-open"); else { var e = s.hasClass(this.container, "notice"); this.config.searchable && !e && (this.input.blur(), this.input.tabIndex = -1, this.searching = !1), e && (s.removeClass(this.container, "notice"), this.notice.textContent = ""), s.removeClass(this.container, "open"), s.removeClass(this.container, "native-open"), this.selected.setAttribute("aria-expanded", !1), this.tree.setAttribute("aria-hidden", !0), this.tree.setAttribute("aria-expanded", !1), s.truncate(this.tree), h.call(this) } }, d.prototype.enable = function () { this.disabled = !1, this.el.disabled = !1, this.selected.tabIndex = this.originalIndex, this.el.multiple && s.each(this.tags, (function (e, t) { t.lastElementChild.tabIndex = 0 })), s.removeClass(this.container, "selectr-disabled") }, d.prototype.disable = function (e) { e || (this.el.disabled = !0), this.selected.tabIndex = -1, this.el.multiple && s.each(this.tags, (function (e, t) { t.lastElementChild.tabIndex = -1 })), this.disabled = !0, s.addClass(this.container, "selectr-disabled") }, d.prototype.reset = function () { this.disabled || (this.clear(), this.setSelected(!0), s.each(this.defaultSelected, (function (e, t) { this.select(t) }), this), this.emit("selectr.reset")) }, d.prototype.clear = function (e) { if (this.el.multiple) { if (this.selectedIndexes.length) { var t = this.selectedIndexes.slice(); s.each(t, (function (e, t) { this.deselect(t) }), this) } } else -1 < this.selectedIndex && this.deselect(this.selectedIndex, e); this.emit("selectr.clear") }, d.prototype.serialise = function (e) { var t = []; return s.each(this.options, (function (e, i) { var n = { value: i.value, text: i.textContent }; i.selected && (n.selected = !0), i.disabled && (n.disabled = !0), t[e] = n })), e ? JSON.stringify(t) : t }, d.prototype.serialize = function (e) { return this.serialise(e) }, d.prototype.setPlaceholder = function (e) { e = e || this.config.placeholder || this.el.getAttribute("placeholder"), this.options.length || (e = "No options available"), this.placeEl.innerHTML = e }, d.prototype.paginate = function () { if (this.items.length) { var e = this; return this.pages = this.items.map((function (t, i) { return i % e.config.pagination == 0 ? e.items.slice(i, i + e.config.pagination) : null })).filter((function (e) { return e })), this.pages } }, d.prototype.setMessage = function (e, t) { t && this.close(), s.addClass(this.container, "notice"), this.notice.textContent = e }, d.prototype.removeMessage = function () { s.removeClass(this.container, "notice"), this.notice.innerHTML = "" }, d.prototype.invert = function () { var e = s.rect(this.selected), t = this.tree.parentNode.offsetHeight, i = window.innerHeight; e.top + e.height + t > i ? (s.addClass(this.container, "inverted"), this.isInverted = !0) : (s.removeClass(this.container, "inverted"), this.isInverted = !1), this.optsRect = s.rect(this.tree) }, d.prototype.getOptionByIndex = function (e) { return this.options[e] }, d.prototype.getOptionByValue = function (e) { for (var t = !1, i = 0, n = this.options.length; i < n; i++)if (this.options[i].value.trim() === e.toString().trim()) { t = this.options[i]; break } return t }, e.exports = d }, function (e, t) { e.exports = function i(e, t) { "use strict"; function n(e) { return i.insensitive && ("" + e).toLowerCase() || "" + e } var r, s, o = /(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi, a = /(^[ ]*|[ ]*$)/g, l = /(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/, c = /^0x[0-9a-f]+$/i, h = /^0/, d = n(e).replace(a, "") || "", u = n(t).replace(a, "") || "", g = d.replace(o, "\0$1\0").replace(/\0$/, "").replace(/^\0/, "").split("\0"), p = u.replace(o, "\0$1\0").replace(/\0$/, "").replace(/^\0/, "").split("\0"), m = parseInt(d.match(c), 16) || 1 !== g.length && d.match(l) && Date.parse(d), f = parseInt(u.match(c), 16) || m && u.match(l) && Date.parse(u) || null; if (f) { if (m < f) return -1; if (f < m) return 1 } for (var C = 0, I = Math.max(g.length, p.length); C < I; C++) { if (r = !(g[C] || "").match(h) && parseFloat(g[C]) || g[C] || 0, s = !(p[C] || "").match(h) && parseFloat(p[C]) || p[C] || 0, isNaN(r) !== isNaN(s)) return isNaN(r) ? 1 : -1; if (typeof r != typeof s && (r += "", s += ""), r < s) return -1; if (s < r) return 1 } return 0 } }, function (e, t, i) { "use strict"; i.d(t, "a", (function () { return r })); var n = i(0); function r(e, t, i) { var r, s = 3 < arguments.length && void 0 !== arguments[3] && arguments[3], o = "function" == typeof (r = e).getRootNode ? r.getRootNode() : window, a = {}, l = e.getBoundingClientRect(), c = t.getBoundingClientRect(), h = document.createElement("div"); function d() { if (h && h.parentNode) { for (var t in h.parentNode.removeChild(h), a) if (s = a, l = t, Object.prototype.hasOwnProperty.call(s, l)) { var r = a[t]; r && Object(n.removeEventListener)(o, t, r), delete a[t] } "function" == typeof i && i(e) } var s, l } function u(e) { var t; (t = e.target) === h || Object(n.isChildOf)(t, h) || d() } if (h.className = "jsoneditor-anchor", h.style.position = "absolute", h.style.left = l.left - c.left + "px", h.style.top = l.top - c.top + "px", h.style.width = l.width - 2 + "px", h.style.height = l.height - 2 + "px", h.style.boxSizing = "border-box", t.appendChild(h), a.mousedown = Object(n.addEventListener)(o, "mousedown", u), a.mousewheel = Object(n.addEventListener)(o, "mousewheel", u), s) { var g = null; h.onmouseover = function () { clearTimeout(g), g = null }, h.onmouseout = function () { g = g || setTimeout(d, 200) } } return h.destroy = d, h } }, function (e, t, i) { var n; if (window.Picker) n = window.Picker; else try { n = i(41) } catch (e) { } e.exports = n }, function (e, t, i) { var n, r, s; !function () { "use strict"; r = [], void 0 === (s = "function" == typeof (n = function () { function e(e) { return "object" == typeof Node ? e instanceof Node : e && "object" == typeof e && "number" == typeof e.nodeType } function t() { var e = []; return { watch: e.push.bind(e), trigger: function (t, i) { for (var n = !0, r = { detail: i, preventDefault: function () { n = !1 } }, s = 0; s < e.length; s++)e[s](t, r); return n } } } function i(e) { return "none" === window.getComputedStyle(e).display } function n(e) { this.elem = e } n.make = function (e, t) { "string" == typeof e && (e = document.querySelector(e)); var i = document.createElement(t || "div"); return (e || document.body).appendChild(i), new n(i) }, n.prototype = { child: function (e) { return n.make(this.elem, e) }, stylize: function (e) { for (var t in "undefined" != typeof (e = e || {}).opacity && (e.filter = "alpha(opacity=" + 100 * e.opacity + ")"), e) e.hasOwnProperty(t) && (this.elem.style[t] = e[t]); return this }, clazz: function (e) { return this.elem.className += " " + e, this }, html: function (t) { return e(t) ? this.elem.appendChild(t) : this.elem.innerHTML = t, this }, onClick: function (e) { return this.elem.addEventListener("click", e), this }, destroy: function () { this.elem.parentNode.removeChild(this.elem) }, hide: function () { this.elem.style.display = "none" }, show: function () { this.elem.style.display = "block" }, attr: function (e, t) { return t !== undefined && this.elem.setAttribute(e, t), this }, anyAncestor: function (e) { for (var t = this.elem; t;) { if (e(new n(t))) return !0; t = t.parentNode } return !1 }, isVisible: function () { return !i(this.elem) } }; var r = 1; function s(e) { return function () { return e().elem } } var o = t(), a = t(); return document.documentElement.addEventListener("keydown", (function (e) { var t = e.which || e.keyCode; 27 === t ? o.trigger() : 9 === t && a.trigger(e) })), function (l) { "string" != typeof l && !e(l) || (l = { content: l }); var c = t(), h = t(), d = t(), u = t(), g = t(); function p(e, t) { var i = l[e]; return "function" == typeof i && (i = i(t)), void 0 === i ? t : i } var m, f, C, I, A, v, b, y, w, S = G.bind(window, "modal"), x = G.bind(window, "overlay"), k = G.bind(window, "close"); function R(e) { x().hide(), S().hide(), g.trigger(m, e) } function E(e) { u.trigger(m, e) && R(e) } function B(e) { return function () { return e.apply(this, arguments), m } } function G(e, t) { if (!f) { var i = function (e, t) { var i = e("width", "auto"); "number" == typeof i && (i += "px"); var s = e("modalId", "pico-" + r++); return n.make(e("parent")).clazz("pico-content").clazz(e("modalClass", "")).stylize({ display: "none", position: "fixed", zIndex: 10001, left: "50%", top: "38.1966%", maxHeight: "90%", boxSizing: "border-box", width: i, "-ms-transform": "translate(-50%,-38.1966%)", "-moz-transform": "translate(-50%,-38.1966%)", "-webkit-transform": "translate(-50%,-38.1966%)", "-o-transform": "translate(-50%,-38.1966%)", transform: "translate(-50%,-38.1966%)" }).stylize(e("modalStyles", { overflow: "auto", backgroundColor: "white", padding: "20px", borderRadius: "5px" })).html(e("content")).attr("id", s).attr("role", "dialog").attr("aria-labelledby", e("ariaLabelledBy")).attr("aria-describedby", e("ariaDescribedBy", s)).onClick((function (e) { new n(e.target).anyAncestor((function (e) { return /\bpico-close\b/.test(e.elem.className) })) && t() })) }(p, E); f = { modal: i, overlay: (o = E, n.make((s = p)("parent")).clazz("pico-overlay").clazz(s("overlayClass", "")).stylize({ display: "none", position: "fixed", top: "0px", left: "0px", height: "100%", width: "100%", zIndex: 1e4 }).stylize(s("overlayStyles", { opacity: .5, background: "#000" })).onClick((function () { s("overlayClose", !0) && o() }))), close: function (e, t) { if (t("closeButton", !0)) return e.child("button").html(t("closeHtml", "&#xD7;")).clazz("pico-close").clazz(t("closeClass", "")).stylize(t("closeStyles", { borderRadius: "2px", border: 0, padding: 0, cursor: "pointer", height: "15px", width: "15px", position: "absolute", top: "5px", right: "5px", fontSize: "16px", textAlign: "center", lineHeight: "15px", background: "#CCC" })).attr("aria-label", t("close-label", "Close")) }(i, p) }, c.trigger(m, t) } var s, o; return f[e] } function T(e, t) { return (e.msMatchesSelector || e.webkitMatchesSelector || e.matches).call(e, t) } function Z(e) { return !(i(e) || T(e, ":disabled") || e.hasAttribute("contenteditable")) && (e.hasAttribute("tabindex") || T(e, "input,select,textarea,button,a[href],area[href],iframe")) } function W(e) { for (var t = e.getElementsByTagName("*"), i = 0; i < t.length; i++)if (Z(t[i])) return t[i] } return m = { modalElem: s(S), closeElem: s(k), overlayElem: s(x), buildDom: B(G.bind(null, null)), isVisible: function () { return !!(f && S && S().isVisible()) }, show: function (e) { return h.trigger(m, e) && (x().show(), k(), S().show(), d.trigger(m, e)), this }, close: B(E), forceClose: B(R), destroy: function () { S().destroy(), x().destroy(), x = S = k = void 0 }, options: function (e) { Object.keys(e).map((function (t) { l[t] = e[t] })) }, afterCreate: B(c.watch), beforeShow: B(h.watch), afterShow: B(d.watch), beforeClose: B(u.watch), afterClose: B(g.watch) }, C = m, I = p.bind(null, "focus", !0), C.beforeShow((function () { A = document.activeElement })), C.afterShow((function () { if (I()) { var e = W(C.modalElem()); e && e.focus() } })), C.afterClose((function () { I() && A && A.focus(), A = null })), a.watch((function (e) { if (I() && C.isVisible()) { var t = W(C.modalElem()), i = function (e) { for (var t = e.getElementsByTagName("*"), i = t.length; i--;)if (Z(t[i])) return t[i] }(C.modalElem()); (e.shiftKey ? t : i) === document.activeElement && ((e.shiftKey ? i : t).focus(), e.preventDefault()) } })), v = m, b = p.bind(null, "bodyOverflow", !0), w = new n(document.body), v.beforeShow((function () { y = w.elem.style.overflow, b() && w.stylize({ overflow: "hidden" }) })), v.afterClose((function () { w.stylize({ overflow: y }) })), o.watch((function () { p("escCloses", !0) && m.isVisible() && m.close() })), m } }) ? n.apply(t, r) : n) || (e.exports = s) }() }, function (e, t, i) { "use strict"; function n(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } i.d(t, "a", (function () { return r })); var r = function () { function e(t) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.errorTableVisible = t.errorTableVisible, this.onToggleVisibility = t.onToggleVisibility, this.onFocusLine = t.onFocusLine || function () { }, this.onChangeHeight = t.onChangeHeight, this.dom = {}; var i = document.createElement("div"); i.className = "jsoneditor-validation-errors-container", this.dom.validationErrorsContainer = i; var n = document.createElement("div"); n.style.display = "none", n.className = "jsoneditor-additional-errors fadein", n.innerHTML = "Scroll for more &#9663;", this.dom.additionalErrorsIndication = n, i.appendChild(n); var r = document.createElement("span"); r.className = "jsoneditor-validation-error-icon", r.style.display = "none", this.dom.validationErrorIcon = r; var s = document.createElement("span"); s.className = "jsoneditor-validation-error-count", s.style.display = "none", this.dom.validationErrorCount = s, this.dom.parseErrorIndication = document.createElement("span"), this.dom.parseErrorIndication.className = "jsoneditor-parse-error-icon", this.dom.parseErrorIndication.style.display = "none" } var t, i; return t = e, (i = [{ key: "getErrorTable", value: function () { return this.dom.validationErrorsContainer } }, { key: "getErrorCounter", value: function () { return this.dom.validationErrorCount } }, { key: "getWarningIcon", value: function () { return this.dom.validationErrorIcon } }, { key: "getErrorIcon", value: function () { return this.dom.parseErrorIndication } }, { key: "toggleTableVisibility", value: function () { this.errorTableVisible = !this.errorTableVisible, this.onToggleVisibility(this.errorTableVisible) } }, { key: "setErrors", value: function (e, t) { var i = this; if (this.dom.validationErrors && (this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors), this.dom.validationErrors = null, this.dom.additionalErrorsIndication.style.display = "none"), this.errorTableVisible && 0 < e.length) { var n = document.createElement("div"); n.className = "jsoneditor-validation-errors", n.innerHTML = '<table class="jsoneditor-text-errors"><tbody></tbody></table>'; var r = n.getElementsByTagName("tbody")[0]; e.forEach((function (e) { var n, s; if (n = "string" == typeof e ? '<td colspan="2"><pre>' + e + "</pre></td>" : "<td>" + (e.dataPath || "") + "</td><td><pre>" + e.message + "</pre></td>", isNaN(e.line)) { if (e.dataPath) { var o = t.find((function (t) { return t.path === e.dataPath })); o && (s = o.line + 1) } } else s = e.line; var a = document.createElement("tr"); a.className = isNaN(s) ? "" : "jump-to-line", "error" === e.type ? a.className += " parse-error" : a.className += " validation-error", a.innerHTML = '<td><button class="jsoneditor-schema-error"></button></td><td style="white-space:nowrap;">' + (isNaN(s) ? "" : "Ln " + s) + "</td>" + n, a.onclick = function () { i.onFocusLine(s) }, r.appendChild(a) })), this.dom.validationErrors = n, this.dom.validationErrorsContainer.appendChild(n), this.dom.additionalErrorsIndication.title = e.length + " errors total", this.dom.validationErrorsContainer.clientHeight < this.dom.validationErrorsContainer.scrollHeight ? (this.dom.additionalErrorsIndication.style.display = "block", this.dom.validationErrorsContainer.onscroll = function () { i.dom.additionalErrorsIndication.style.display = 0 < i.dom.validationErrorsContainer.clientHeight && 0 === i.dom.validationErrorsContainer.scrollTop ? "block" : "none" }) : this.dom.validationErrorsContainer.onscroll = void 0; var s = this.dom.validationErrorsContainer.clientHeight + (this.dom.statusBar ? this.dom.statusBar.clientHeight : 0); this.onChangeHeight(s) } else this.onChangeHeight(0); var o = e.filter((function (e) { return "error" !== e.type })).length; if (0 < o ? (this.dom.validationErrorCount.style.display = "inline", this.dom.validationErrorCount.innerText = o, this.dom.validationErrorCount.onclick = this.toggleTableVisibility.bind(this), this.dom.validationErrorIcon.style.display = "inline", this.dom.validationErrorIcon.title = o + " schema validation error(s) found", this.dom.validationErrorIcon.onclick = this.toggleTableVisibility.bind(this)) : (this.dom.validationErrorCount.style.display = "none", this.dom.validationErrorIcon.style.display = "none"), e.some((function (e) { return "error" === e.type }))) { var a = e[0].line; this.dom.parseErrorIndication.style.display = "block", this.dom.parseErrorIndication.title = isNaN(a) ? "parse error - check that the json is valid" : "parse error on line " + a, this.dom.parseErrorIndication.onclick = this.toggleTableVisibility.bind(this) } else this.dom.parseErrorIndication.style.display = "none" } }]) && n(t.prototype, i), e }() }, function (e, t) { e.exports = function (e) { return e.webpackPolyfill || (e.deprecate = function () { }, e.paths = [], e.children || (e.children = []), Object.defineProperty(e, "loaded", { enumerable: !0, get: function () { return e.l } }), Object.defineProperty(e, "id", { enumerable: !0, get: function () { return e.i } }), e.webpackPolyfill = 1), e } }, function (e, t, i) { "use strict"; var n = i(46), r = i(18), s = i(7), o = i(25), a = i(48); function l(e, t, i) { var n = this._refs[i]; if ("string" == typeof n) { if (!this._refs[n]) return l.call(this, e, t, n); n = this._refs[n] } if ((n = n || this._schemas[i]) instanceof o) return g(n.schema, this._opts.inlineRefs) ? n.schema : n.validate || this._compile(n); var r, s, a, h = c.call(this, t, i); return h && (r = h.schema, t = h.root, a = h.baseId), r instanceof o ? s = r.validate || e.call(this, r.schema, t, void 0, a) : void 0 !== r && (s = g(r, this._opts.inlineRefs) ? r : e.call(this, r, t, void 0, a)), s } function c(e, t) { var i = n.parse(t), r = m(i), s = p(this._getId(e.schema)); if (0 === Object.keys(e.schema).length || r !== s) { var a = C(r), l = this._refs[a]; if ("string" == typeof l) return function (e, t, i) { var n = c.call(this, e, t); if (n) { var r = n.schema, s = n.baseId; e = n.root; var o = this._getId(r); return o && (s = I(s, o)), d.call(this, i, s, r, e) } }.call(this, e, l, i); if (l instanceof o) l.validate || this._compile(l), e = l; else { if (!((l = this._schemas[a]) instanceof o)) return; if (l.validate || this._compile(l), a == C(t)) return { schema: l, root: e, baseId: s }; e = l } if (!e.schema) return; s = p(this._getId(e.schema)) } return d.call(this, i, s, e.schema, e) } (e.exports = l).normalizeId = C, l.fullPath = p, l.url = I, l.ids = function (e) { var t = C(this._getId(e)), i = { "": t }, o = { "": p(t, !1) }, l = {}, c = this; return a(e, { allKeys: !0 }, (function (e, t, a, h, d, u, g) { if ("" !== t) { var p = c._getId(e), m = i[h], f = o[h] + "/" + d; if (void 0 !== g && (f += "/" + ("number" == typeof g ? g : s.escapeFragment(g))), "string" == typeof p) { p = m = C(m ? n.resolve(m, p) : p); var I = c._refs[p]; if ("string" == typeof I && (I = c._refs[I]), I && I.schema) { if (!r(e, I.schema)) throw new Error('id "' + p + '" resolves to more than one schema') } else if (p != C(f)) if ("#" == p[0]) { if (l[p] && !r(e, l[p])) throw new Error('id "' + p + '" resolves to more than one schema'); l[p] = e } else c._refs[p] = f } i[t] = m, o[t] = f } })), l }, l.inlineRef = g, l.schema = c; var h = s.toHash(["properties", "patternProperties", "enum", "dependencies", "definitions"]); function d(e, t, i, n) { if (e.fragment = e.fragment || "", "/" == e.fragment.slice(0, 1)) { for (var r = e.fragment.split("/"), o = 1; o < r.length; o++) { var a = r[o]; if (a) { if (void 0 === (i = i[a = s.unescapeFragment(a)])) break; var l; if (!h[a] && ((l = this._getId(i)) && (t = I(t, l)), i.$ref)) { var d = I(t, i.$ref), u = c.call(this, n, d); u && (i = u.schema, n = u.root, t = u.baseId) } } } return void 0 !== i && i !== n.schema ? { schema: i, root: n, baseId: t } : void 0 } } var u = s.toHash(["type", "format", "pattern", "maxLength", "minLength", "maxProperties", "minProperties", "maxItems", "minItems", "maximum", "minimum", "uniqueItems", "multipleOf", "required", "enum"]); function g(e, t) { return !1 !== t && (void 0 === t || !0 === t ? function i(e) { var t; if (Array.isArray(e)) { for (var n = 0; n < e.length; n++)if ("object" == typeof (t = e[n]) && !i(t)) return !1 } else for (var r in e) { if ("$ref" == r) return !1; if ("object" == typeof (t = e[r]) && !i(t)) return !1 } return !0 }(e) : t ? function n(e) { var t, i = 0; if (Array.isArray(e)) { for (var r = 0; r < e.length; r++)if ("object" == typeof (t = e[r]) && (i += n(t)), i == 1 / 0) return 1 / 0 } else for (var s in e) { if ("$ref" == s) return 1 / 0; if (u[s]) i++; else if ("object" == typeof (t = e[s]) && (i += n(t) + 1), i == 1 / 0) return 1 / 0 } return i }(e) <= t : void 0) } function p(e, t) { return !1 !== t && (e = C(e)), m(n.parse(e)) } function m(e) { return n.serialize(e).split("#")[0] + "#" } var f = /#\/?$/; function C(e) { return e ? e.replace(f, "") : "" } function I(e, t) { return t = C(t), n.resolve(e, t) } }, function (e, t, i) { "use strict"; e.exports = function n(e, t) { if (e === t) return !0; if (e && t && "object" == typeof e && "object" == typeof t) { if (e.constructor !== t.constructor) return !1; var i, r, s; if (Array.isArray(e)) { if ((i = e.length) != t.length) return !1; for (r = i; 0 != r--;)if (!n(e[r], t[r])) return !1; return !0 } if (e.constructor === RegExp) return e.source === t.source && e.flags === t.flags; if (e.valueOf !== Object.prototype.valueOf) return e.valueOf() === t.valueOf(); if (e.toString !== Object.prototype.toString) return e.toString() === t.toString(); if ((i = (s = Object.keys(e)).length) !== Object.keys(t).length) return !1; for (r = i; 0 != r--;)if (!Object.prototype.hasOwnProperty.call(t, s[r])) return !1; for (r = i; 0 != r--;) { var o = s[r]; if (!n(e[o], t[o])) return !1 } return !0 } return e != e && t != t } }, function (e, t, i) { "use strict"; var n = i(17); function r(e, t, i) { this.message = i || r.message(e, t), this.missingRef = n.url(e, t), this.missingSchema = n.normalizeId(n.fullPath(this.missingRef)) } function s(e) { return e.prototype = Object.create(Error.prototype), e.prototype.constructor = e } e.exports = { Validation: s((function (e) { this.message = "validation failed", this.errors = e, this.ajv = this.validation = !0 })), MissingRef: s(r) }, r.message = function (e, t) { return "can't resolve reference " + t + " from id " + e } }, function (e, t, i) { var n; if (window.ace) n = window.ace; else try { n = i(37), i(38), i(39); var r = i(40); n.config.setModuleUrl("ace/mode/json_worker", r) } catch (e) { } e.exports = n }, function (e, t, i) { "use strict"; i.r(t); var n = i(20), r = i.n(n), s = i(1), o = i(8), a = i(15), l = i(0), c = i(5), h = i(6), d = i(9), u = i(2), g = i(35), p = i(4); function m(e) { return (m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } i.d(t, "textModeMixins", (function () { return A })); var f = {}, C = "ace/theme/jsoneditor"; function I() { try { this.format() } catch (e) { } } f.create = function (e) { var t = this, i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}; void 0 === i.statusBar && (i.statusBar = !0), i.mainMenuBar = !1 !== i.mainMenuBar, i.enableSort = !1 !== i.enableSort, i.enableTransform = !1 !== i.enableTransform, i.createQuery = i.createQuery || p.a, i.executeQuery = i.executeQuery || p.b, "number" == typeof (this.options = i).indentation ? this.indentation = Number(i.indentation) : this.indentation = 2; var n = i.ace ? i.ace : r.a; this.mode = "code" === i.mode ? "code" : "text", "code" === this.mode && void 0 === n && (this.mode = "text", console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")), this.theme = i.theme || C, this.theme === C && n && Object(g.tryRequireThemeJsonEditor)(), i.onTextSelectionChange && this.onTextSelectionChange(i.onTextSelectionChange); var c = this; this.container = e, this.dom = {}, this.aceEditor = void 0, this.textarea = void 0, this.validateSchema = null, this.annotations = [], this.lastSchemaErrors = void 0, this._debouncedValidate = Object(l.debounce)(this.validate.bind(this), this.DEBOUNCE_INTERVAL), this.width = e.clientWidth, this.height = e.clientHeight, this.frame = document.createElement("div"), this.frame.className = "jsoneditor jsoneditor-mode-" + this.options.mode, this.frame.onclick = function (e) { e.preventDefault() }, this.frame.onkeydown = function (e) { c._onKeyDown(e) }; var h = { target: this.frame, onFocus: this.options.onFocus || null, onBlur: this.options.onBlur || null }; if (this.frameFocusTracker = new d.a(h), this.content = document.createElement("div"), this.content.className = "jsoneditor-outer", this.options.mainMenuBar) { Object(l.addClassName)(this.content, "has-main-menu-bar"), this.menu = document.createElement("div"), this.menu.className = "jsoneditor-menu", this.frame.appendChild(this.menu); var u = document.createElement("button"); u.type = "button", u.className = "jsoneditor-format", u.title = Object(s.c)("formatTitle"), this.menu.appendChild(u), u.onclick = function () { try { c.format(), c._onChange() } catch (e) { c._onError(e) } }; var f = document.createElement("button"); if (f.type = "button", f.className = "jsoneditor-compact", f.title = Object(s.c)("compactTitle"), this.menu.appendChild(f), f.onclick = function () { try { c.compact(), c._onChange() } catch (e) { c._onError(e) } }, this.options.enableSort) { var I = document.createElement("button"); I.type = "button", I.className = "jsoneditor-sort", I.title = Object(s.c)("sortTitleShort"), I.onclick = function () { c._showSortModal() }, this.menu.appendChild(I) } if (this.options.enableTransform) { var A = document.createElement("button"); A.type = "button", A.title = Object(s.c)("transformTitleShort"), A.className = "jsoneditor-transform", A.onclick = function () { c._showTransformModal() }, this.menu.appendChild(A) } var v = document.createElement("button"); if (v.type = "button", v.className = "jsoneditor-repair", v.title = Object(s.c)("repairTitle"), this.menu.appendChild(v), v.onclick = function () { try { c.repair(), c._onChange() } catch (e) { c._onError(e) } }, "code" === this.mode) { var b = document.createElement("button"); b.type = "button", b.className = "jsoneditor-undo jsoneditor-separator", b.title = Object(s.c)("undo"), b.onclick = function () { t.aceEditor.getSession().getUndoManager().undo() }, this.menu.appendChild(b), this.dom.undo = b; var y = document.createElement("button"); y.type = "button", y.className = "jsoneditor-redo", y.title = Object(s.c)("redo"), y.onclick = function () { t.aceEditor.getSession().getUndoManager().redo() }, this.menu.appendChild(y), this.dom.redo = y } if (this.options && this.options.modes && this.options.modes.length && (this.modeSwitcher = new o.a(this.menu, this.options.modes, this.options.mode, (function (e) { c.setMode(e), c.modeSwitcher.focus() }))), "code" === this.mode) { var w = document.createElement("a"); w.appendChild(document.createTextNode("powered by ace")), w.href = "http://ace.ajax.org", w.target = "_blank", w.className = "jsoneditor-poweredBy", w.onclick = function () { window.open(w.href, w.target) }, this.menu.appendChild(w) } } var S = this.options.onEditable && m("function" === this.options.onEditable) && !this.options.onEditable({}); if (this.frame.appendChild(this.content), this.container.appendChild(this.frame), "code" === this.mode) { this.editorDom = document.createElement("div"), this.editorDom.style.height = "100%", this.editorDom.style.width = "100%", this.content.appendChild(this.editorDom); var x = n.edit(this.editorDom), k = x.getSession(); x.$blockScrolling = 1 / 0, x.setTheme(this.theme), x.setOptions({ readOnly: S }), x.setShowPrintMargin(!1), x.setFontSize("13px"), k.setMode("ace/mode/json"), k.setTabSize(this.indentation), k.setUseSoftTabs(!0), k.setUseWrapMode(!0); var R = k.setAnnotations; k.setAnnotations = function (e) { R.call(this, e && e.length ? e : c.annotations) }, x.commands.bindKey("Ctrl-L", null), x.commands.bindKey("Command-L", null), (this.aceEditor = x).on("change", this._onChange.bind(this)), x.on("changeSelection", this._onSelect.bind(this)) } else { var E = document.createElement("textarea"); E.className = "jsoneditor-text", E.spellcheck = !1, this.content.appendChild(E), this.textarea = E, this.textarea.readOnly = S, null === this.textarea.oninput ? this.textarea.oninput = this._onChange.bind(this) : this.textarea.onchange = this._onChange.bind(this), E.onselect = this._onSelect.bind(this), E.onmousedown = this._onMouseDown.bind(this), E.onblur = this._onBlur.bind(this) } if (this._updateHistoryButtons(), this.errorTable = new a.a({ errorTableVisible: "text" === this.mode, onToggleVisibility: function () { c.validate() }, onFocusLine: function (e) { c.isFocused = !0, isNaN(e) || c.setTextSelection({ row: e, column: 1 }, { row: e, column: 1e3 }) }, onChangeHeight: function (e) { var t = e + (c.dom.statusBar ? c.dom.statusBar.clientHeight : 0) + 1; c.content.style.marginBottom = -t + "px", c.content.style.paddingBottom = t + "px" } }), this.frame.appendChild(this.errorTable.getErrorTable()), i.statusBar) { Object(l.addClassName)(this.content, "has-status-bar"), this.curserInfoElements = {}; var B = document.createElement("div"); (this.dom.statusBar = B).className = "jsoneditor-statusbar", this.frame.appendChild(B); var G = document.createElement("span"); G.className = "jsoneditor-curserinfo-label", G.innerText = "Ln:"; var T = document.createElement("span"); T.className = "jsoneditor-curserinfo-val", T.innerText = "1", B.appendChild(G), B.appendChild(T); var Z = document.createElement("span"); Z.className = "jsoneditor-curserinfo-label", Z.innerText = "Col:"; var W = document.createElement("span"); W.className = "jsoneditor-curserinfo-val", W.innerText = "1", B.appendChild(Z), B.appendChild(W), this.curserInfoElements.colVal = W, this.curserInfoElements.lnVal = T; var _ = document.createElement("span"); _.className = "jsoneditor-curserinfo-label", _.innerText = "characters selected", _.style.display = "none"; var L = document.createElement("span"); L.className = "jsoneditor-curserinfo-count", L.innerText = "0", L.style.display = "none", this.curserInfoElements.countLabel = _, this.curserInfoElements.countVal = L, B.appendChild(L), B.appendChild(_), B.appendChild(this.errorTable.getErrorCounter()), B.appendChild(this.errorTable.getWarningIcon()), B.appendChild(this.errorTable.getErrorIcon()) } this.setSchema(this.options.schema, this.options.schemaRefs) }, f._onChange = function () { var e = this; if (!this.onChangeDisabled) { if (setTimeout((function () { return e._updateHistoryButtons() })), this._debouncedValidate(), this.options.onChange) try { this.options.onChange() } catch (e) { console.error("Error in onChange callback: ", e) } if (this.options.onChangeText) try { this.options.onChangeText(this.getText()) } catch (e) { console.error("Error in onChangeText callback: ", e) } } }, f._updateHistoryButtons = function () { if (this.aceEditor && this.dom.undo && this.dom.redo) { var e = this.aceEditor.getSession().getUndoManager(); e && e.hasUndo && e.hasRedo && (this.dom.undo.disabled = !e.hasUndo(), this.dom.redo.disabled = !e.hasRedo()) } }, f._showSortModal = function () { var e = this, t = this.options.modalAnchor || u.a, i = this.get(); Object(c.showSortModal)(t, i, (function (t) { if (Array.isArray(i)) { var n = Object(l.sort)(i, t.path, t.direction); e.sortedBy = t, e.update(n) } if (Object(l.isObject)(i)) { var r = Object(l.sortObjectKeys)(i, t.direction); e.sortedBy = t, e.update(r) } }), e.sortedBy) }, f._showTransformModal = function () { var e = this, t = this.options, i = t.modalAnchor, n = t.createQuery, r = t.executeQuery, s = t.queryDescription, o = this.get(); Object(h.showTransformModal)({ anchor: i || u.a, json: o, queryDescription: s, createQuery: n, executeQuery: r, onTransform: function (t) { var i = r(o, t); e.update(i) } }) }, f._onSelect = function () { this._updateCursorInfo(), this._emitSelectionChange() }, f._onKeyDown = function (e) { var t = !1; 220 === (e.which || e.keyCode) && e.ctrlKey && (e.shiftKey ? this.compact() : this.format(), this._onChange(), t = !0), t && (e.preventDefault(), e.stopPropagation()), this._updateCursorInfo(), this._emitSelectionChange() }, f._onMouseDown = function () { this._updateCursorInfo(), this._emitSelectionChange() }, f._onBlur = function () { var e = this; setTimeout((function () { e.isFocused || (e._updateCursorInfo(), e._emitSelectionChange()), e.isFocused = !1 })) }, f._updateCursorInfo = function () { var e, t, i, n = this; if (this.textarea) setTimeout((function () { var r = Object(l.getInputSelection)(n.textarea); r.startIndex !== r.endIndex && (i = r.endIndex - r.startIndex), t = i && n.cursorInfo && n.cursorInfo.line === r.end.row && n.cursorInfo.column === r.end.column ? (e = r.start.row, r.start.column) : (e = r.end.row, r.end.column), n.cursorInfo = { line: e, column: t, count: i }, n.options.statusBar && o() }), 0); else if (this.aceEditor && this.curserInfoElements) { var r = this.aceEditor.getCursorPosition(), s = this.aceEditor.getSelectedText(); e = r.row + 1, t = r.column + 1, i = s.length, n.cursorInfo = { line: e, column: t, count: i }, this.options.statusBar && o() } function o() { n.curserInfoElements.countVal.innerText !== i && (n.curserInfoElements.countVal.innerText = i, n.curserInfoElements.countVal.style.display = i ? "inline" : "none", n.curserInfoElements.countLabel.style.display = i ? "inline" : "none"), n.curserInfoElements.lnVal.innerText = e, n.curserInfoElements.colVal.innerText = t } }, f._emitSelectionChange = function () { if (this._selectionChangedHandler) { var e = this.getTextSelection(); this._selectionChangedHandler(e.start, e.end, e.text) } }, f._refreshAnnotations = function () { var e = this.aceEditor && this.aceEditor.getSession(); if (e) { var t = e.getAnnotations().filter((function (e) { return "error" === e.type })); e.setAnnotations(t) } }, f.destroy = function () { this.aceEditor && (this.aceEditor.destroy(), this.aceEditor = null), this.frame && this.container && this.frame.parentNode === this.container && this.container.removeChild(this.frame), this.modeSwitcher && (this.modeSwitcher.destroy(), this.modeSwitcher = null), this.textarea = null, this._debouncedValidate = null, this.frameFocusTracker.destroy() }, f.compact = function () { var e = this.get(), t = JSON.stringify(e); this.updateText(t) }, f.format = function () { var e = this.get(), t = JSON.stringify(e, null, this.indentation); this.updateText(t) }, f.repair = function () { var e = this.getText(), t = Object(l.repair)(e); this.updateText(t) }, f.focus = function () { this.textarea && this.textarea.focus(), this.aceEditor && this.aceEditor.focus() }, f.resize = function () { this.aceEditor && this.aceEditor.resize(!1) }, f.set = function (e) { this.setText(JSON.stringify(e, null, this.indentation)) }, f.update = function (e) { this.updateText(JSON.stringify(e, null, this.indentation)) }, f.get = function () { var e = this.getText(); return Object(l.parse)(e) }, f.getText = function () { return this.textarea ? this.textarea.value : this.aceEditor ? this.aceEditor.getValue() : "" }, f._setText = function (e, t) { var i = this, n = !0 === this.options.escapeUnicode ? Object(l.escapeUnicodeChars)(e) : e; if (this.textarea && (this.textarea.value = n), this.aceEditor) { if (this.onChangeDisabled = !0, this.aceEditor.setValue(n, -1), this.onChangeDisabled = !1, t) { var r = this; setTimeout((function () { r.aceEditor && r.aceEditor.session.getUndoManager().reset() })) } setTimeout((function () { return i._updateHistoryButtons() })) } this._debouncedValidate() }, f.setText = function (e) { this._setText(e, !0) }, f.updateText = function (e) { this.getText() !== e && this._setText(e, !1) }, f.validate = function () { var e, t = this, i = [], n = []; try { e = this.get(), this.validateSchema && (this.validateSchema(e) || (i = this.validateSchema.errors.map((function (e) { return e.type = "validation", Object(l.improveSchemaError)(e) })))), this.validationSequence = (this.validationSequence || 0) + 1; var r = this, s = this.validationSequence; (function (e, t) { if (!t) return Promise.resolve([]); try { var i = t(e); return (Object(l.isPromise)(i) ? i : Promise.resolve(i)).then((function (e) { return Array.isArray(e) ? e.filter((function (e) { var t = Object(l.isValidValidationError)(e); return t || console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:', e), t })).map((function (e) { return { dataPath: Object(l.stringifyPath)(e.path), message: e.message, type: "customValidation" } })) : [] })) } catch (e) { return Promise.reject(e) } })(e, this.options.onValidate).then((function (e) { if (s === r.validationSequence) { var o = i.concat(n).concat(e); r._renderErrors(o), "function" == typeof t.options.onValidationError && (Object(l.isValidationErrorChanged)(o, t.lastSchemaErrors) && t.options.onValidationError.call(t, o), t.lastSchemaErrors = o) } }))["catch"]((function (e) { console.error("Custom validation function did throw an error", e) })) } catch (e) { if (this.getText()) { var o, a = /\w*line\s*(\d+)\w*/g.exec(e.message); a && (o = +a[1]), n = [{ type: "error", message: e.message.replace(/\n/g, "<br>"), line: o }] } this._renderErrors(n), "function" == typeof this.options.onValidationError && (Object(l.isValidationErrorChanged)(n, this.lastSchemaErrors) && this.options.onValidationError.call(this, n), this.lastSchemaErrors = n) } }, f._renderErrors = function (e) { var t = this.getText(), i = []; e.reduce((function (e, t) { return "string" == typeof t.dataPath && -1 === e.indexOf(t.dataPath) && e.push(t.dataPath), e }), i); var n = Object(l.getPositionForPath)(t, i); this.aceEditor && (this.annotations = n.map((function (t) { var i = e.filter((function (e) { return e.dataPath === t.path })), n = i.map((function (e) { return e.message })).join("\n"); return n ? { row: t.line, column: t.column, text: "Schema validation error" + (1 !== i.length ? "s" : "") + ": \n" + n, type: "warning", source: "jsoneditor" } : {} })), this._refreshAnnotations()), this.errorTable.setErrors(e, n), this.aceEditor && this.aceEditor.resize(!1) }, f.getTextSelection = function () { var e = {}; if (this.textarea) { var t = Object(l.getInputSelection)(this.textarea); return this.cursorInfo && this.cursorInfo.line === t.end.row && this.cursorInfo.column === t.end.column ? (e.start = t.end, e.end = t.start) : e = t, { start: e.start, end: e.end, text: this.textarea.value.substring(t.startIndex, t.endIndex) } } if (this.aceEditor) { var i = this.aceEditor.getSelection(), n = this.aceEditor.getSelectedText(), r = i.getRange(), s = i.getSelectionLead(); return s.row === r.end.row && s.column === r.end.column ? e = r : (e.start = r.end, e.end = r.start), { start: { row: e.start.row + 1, column: e.start.column + 1 }, end: { row: e.end.row + 1, column: e.end.column + 1 }, text: n } } }, f.onTextSelectionChange = function (e) { "function" == typeof e && (this._selectionChangedHandler = Object(l.debounce)(e, this.DEBOUNCE_INTERVAL)) }, f.setTextSelection = function (e, t) { if (e && t) if (this.textarea) { var i = Object(l.getIndexForPosition)(this.textarea, e.row, e.column), n = Object(l.getIndexForPosition)(this.textarea, t.row, t.column); if (-1 < i && -1 < n) { if (this.textarea.setSelectionRange) this.textarea.focus(), this.textarea.setSelectionRange(i, n); else if (this.textarea.createTextRange) { var r = this.textarea.createTextRange(); r.collapse(!0), r.moveEnd("character", n), r.moveStart("character", i), r.select() } var s = (this.textarea.value.match(/\n/g) || []).length + 1, o = this.textarea.scrollHeight / s, a = e.row * o; this.textarea.scrollTop = a > this.textarea.clientHeight ? a - this.textarea.clientHeight / 2 : 0 } } else if (this.aceEditor) { var c = { start: { row: e.row - 1, column: e.column - 1 }, end: { row: t.row - 1, column: t.column - 1 } }; this.aceEditor.selection.setRange(c), this.aceEditor.scrollToLine(e.row - 1, !0) } }; var A = [{ mode: "text", mixin: f, data: "text", load: I }, { mode: "code", mixin: f, data: "text", load: I }] }, function (e, t, i) { var n, r = ((n = { trace: function () { }, yy: {}, symbols_: { error: 2, JSONString: 3, STRING: 4, JSONNumber: 5, NUMBER: 6, JSONNullLiteral: 7, NULL: 8, JSONBooleanLiteral: 9, TRUE: 10, FALSE: 11, JSONText: 12, JSONValue: 13, EOF: 14, JSONObject: 15, JSONArray: 16, "{": 17, "}": 18, JSONMemberList: 19, JSONMember: 20, ":": 21, ",": 22, "[": 23, "]": 24, JSONElementList: 25, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "STRING", 6: "NUMBER", 8: "NULL", 10: "TRUE", 11: "FALSE", 14: "EOF", 17: "{", 18: "}", 21: ":", 22: ",", 23: "[", 24: "]" }, productions_: [0, [3, 1], [5, 1], [7, 1], [9, 1], [9, 1], [12, 2], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [15, 2], [15, 3], [20, 3], [19, 1], [19, 3], [16, 2], [16, 3], [25, 1], [25, 3]], performAction: function (e, t, i, n, r, s) { var o = s.length - 1; switch (r) { case 1: this.$ = e.replace(/\\(\\|")/g, "$1").replace(/\\n/g, "\n").replace(/\\r/g, "\r").replace(/\\t/g, "\t").replace(/\\v/g, "\x0B").replace(/\\f/g, "\f").replace(/\\b/g, "\b"); break; case 2: this.$ = Number(e); break; case 3: this.$ = null; break; case 4: this.$ = !0; break; case 5: this.$ = !1; break; case 6: return this.$ = s[o - 1]; case 13: this.$ = {}; break; case 14: this.$ = s[o - 1]; break; case 15: this.$ = [s[o - 2], s[o]]; break; case 16: this.$ = {}, this.$[s[o][0]] = s[o][1]; break; case 17: this.$ = s[o - 2], s[o - 2][s[o][0]] = s[o][1]; break; case 18: this.$ = []; break; case 19: this.$ = s[o - 1]; break; case 20: this.$ = [s[o]]; break; case 21: this.$ = s[o - 2], s[o - 2].push(s[o]) } }, table: [{ 3: 5, 4: [1, 12], 5: 6, 6: [1, 13], 7: 3, 8: [1, 9], 9: 4, 10: [1, 10], 11: [1, 11], 12: 1, 13: 2, 15: 7, 16: 8, 17: [1, 14], 23: [1, 15] }, { 1: [3] }, { 14: [1, 16] }, { 14: [2, 7], 18: [2, 7], 22: [2, 7], 24: [2, 7] }, { 14: [2, 8], 18: [2, 8], 22: [2, 8], 24: [2, 8] }, { 14: [2, 9], 18: [2, 9], 22: [2, 9], 24: [2, 9] }, { 14: [2, 10], 18: [2, 10], 22: [2, 10], 24: [2, 10] }, { 14: [2, 11], 18: [2, 11], 22: [2, 11], 24: [2, 11] }, { 14: [2, 12], 18: [2, 12], 22: [2, 12], 24: [2, 12] }, { 14: [2, 3], 18: [2, 3], 22: [2, 3], 24: [2, 3] }, { 14: [2, 4], 18: [2, 4], 22: [2, 4], 24: [2, 4] }, { 14: [2, 5], 18: [2, 5], 22: [2, 5], 24: [2, 5] }, { 14: [2, 1], 18: [2, 1], 21: [2, 1], 22: [2, 1], 24: [2, 1] }, { 14: [2, 2], 18: [2, 2], 22: [2, 2], 24: [2, 2] }, { 3: 20, 4: [1, 12], 18: [1, 17], 19: 18, 20: 19 }, { 3: 5, 4: [1, 12], 5: 6, 6: [1, 13], 7: 3, 8: [1, 9], 9: 4, 10: [1, 10], 11: [1, 11], 13: 23, 15: 7, 16: 8, 17: [1, 14], 23: [1, 15], 24: [1, 21], 25: 22 }, { 1: [2, 6] }, { 14: [2, 13], 18: [2, 13], 22: [2, 13], 24: [2, 13] }, { 18: [1, 24], 22: [1, 25] }, { 18: [2, 16], 22: [2, 16] }, { 21: [1, 26] }, { 14: [2, 18], 18: [2, 18], 22: [2, 18], 24: [2, 18] }, { 22: [1, 28], 24: [1, 27] }, { 22: [2, 20], 24: [2, 20] }, { 14: [2, 14], 18: [2, 14], 22: [2, 14], 24: [2, 14] }, { 3: 20, 4: [1, 12], 20: 29 }, { 3: 5, 4: [1, 12], 5: 6, 6: [1, 13], 7: 3, 8: [1, 9], 9: 4, 10: [1, 10], 11: [1, 11], 13: 30, 15: 7, 16: 8, 17: [1, 14], 23: [1, 15] }, { 14: [2, 19], 18: [2, 19], 22: [2, 19], 24: [2, 19] }, { 3: 5, 4: [1, 12], 5: 6, 6: [1, 13], 7: 3, 8: [1, 9], 9: 4, 10: [1, 10], 11: [1, 11], 13: 31, 15: 7, 16: 8, 17: [1, 14], 23: [1, 15] }, { 18: [2, 17], 22: [2, 17] }, { 18: [2, 15], 22: [2, 15] }, { 22: [2, 21], 24: [2, 21] }], defaultActions: { 16: [2, 6] }, parseError: function (e) { throw new Error(e) }, parse: function (e) { var t = this, i = [0], n = [null], r = [], s = this.table, o = "", a = 0, l = 0, c = 0; this.lexer.setInput(e), this.lexer.yy = this.yy, this.yy.lexer = this.lexer, void 0 === this.lexer.yylloc && (this.lexer.yylloc = {}); var h = this.lexer.yylloc; function d() { var e; return "number" != typeof (e = t.lexer.lex() || 1) && (e = t.symbols_[e] || e), e } r.push(h), "function" == typeof this.yy.parseError && (this.parseError = this.yy.parseError); for (var u, g, p, m, f, C, I, A, v, b = {}; ;) { if (p = i[i.length - 1], void 0 === (m = this.defaultActions[p] ? this.defaultActions[p] : (null == u && (u = d()), s[p] && s[p][u])) || !m.length || !m[0]) { if (!c) { for (C in v = [], s[p]) this.terminals_[C] && 2 < C && v.push("'" + this.terminals_[C] + "'"); var y = ""; y = this.lexer.showPosition ? "Parse error on line " + (a + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + v.join(", ") + ", got '" + this.terminals_[u] + "'" : "Parse error on line " + (a + 1) + ": Unexpected " + (1 == u ? "end of input" : "'" + (this.terminals_[u] || u) + "'"), this.parseError(y, { text: this.lexer.match, token: this.terminals_[u] || u, line: this.lexer.yylineno, loc: h, expected: v }) } if (3 == c) { if (1 == u) throw new Error(y || "Parsing halted."); l = this.lexer.yyleng, o = this.lexer.yytext, a = this.lexer.yylineno, h = this.lexer.yylloc, u = d() } for (; !(2..toString() in s[p]);) { if (0 == p) throw new Error(y || "Parsing halted."); 1, i.length = i.length - 2, n.length = n.length - 1, r.length = r.length - 1, p = i[i.length - 1] } g = u, u = 2, m = s[p = i[i.length - 1]] && s[p][2], c = 3 } if (m[0] instanceof Array && 1 < m.length) throw new Error("Parse Error: multiple actions possible at state: " + p + ", token: " + u); switch (m[0]) { case 1: i.push(u), n.push(this.lexer.yytext), r.push(this.lexer.yylloc), i.push(m[1]), u = null, g ? (u = g, g = null) : (l = this.lexer.yyleng, o = this.lexer.yytext, a = this.lexer.yylineno, h = this.lexer.yylloc, 0 < c && c--); break; case 2: if (I = this.productions_[m[1]][1], b.$ = n[n.length - I], b._$ = { first_line: r[r.length - (I || 1)].first_line, last_line: r[r.length - 1].last_line, first_column: r[r.length - (I || 1)].first_column, last_column: r[r.length - 1].last_column }, void 0 !== (f = this.performAction.call(b, o, l, a, this.yy, m[1], n, r))) return f; I && (i = i.slice(0, -1 * I * 2), n = n.slice(0, -1 * I), r = r.slice(0, -1 * I)), i.push(this.productions_[m[1]][0]), n.push(b.$), r.push(b._$), A = s[i[i.length - 2]][i[i.length - 1]], i.push(A); break; case 3: return !0 } } return !0 } }).lexer = { EOF: 1, parseError: function (e, t) { if (!this.yy.parseError) throw new Error(e); this.yy.parseError(e, t) }, setInput: function (e) { return this._input = e, this._more = this._less = this.done = !1, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this }, input: function () { var e = this._input[0]; return this.yytext += e, this.yyleng++, this.match += e, this.matched += e, e.match(/\n/) && this.yylineno++, this._input = this._input.slice(1), e }, unput: function (e) { return this._input = e + this._input, this }, more: function () { return this._more = !0, this }, less: function (e) { this._input = this.match.slice(e) + this._input }, pastInput: function () { var e = this.matched.substr(0, this.matched.length - this.match.length); return (20 < e.length ? "..." : "") + e.substr(-20).replace(/\n/g, "") }, upcomingInput: function () { var e = this.match; return e.length < 20 && (e += this._input.substr(0, 20 - e.length)), (e.substr(0, 20) + (20 < e.length ? "..." : "")).replace(/\n/g, "") }, showPosition: function () { var e = this.pastInput(), t = new Array(e.length + 1).join("-"); return e + this.upcomingInput() + "\n" + t + "^" }, next: function () { if (this.done) return this.EOF; var e, t, i, n, r; this._input || (this.done = !0), this._more || (this.yytext = "", this.match = ""); for (var s = this._currentRules(), o = 0; o < s.length && (!(i = this._input.match(this.rules[s[o]])) || t && !(i[0].length > t[0].length) || (t = i, n = o, this.options.flex)); o++); return t ? ((r = t[0].match(/\n.*/g)) && (this.yylineno += r.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: r ? r[r.length - 1].length - 1 : this.yylloc.last_column + t[0].length }, this.yytext += t[0], this.match += t[0], this.yyleng = this.yytext.length, this._more = !1, this._input = this._input.slice(t[0].length), this.matched += t[0], e = this.performAction.call(this, this.yy, this, s[n], this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = !1), e || void 0) : "" === this._input ? this.EOF : void this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno }) }, lex: function () { var e = this.next(); return void 0 !== e ? e : this.lex() }, begin: function (e) { this.conditionStack.push(e) }, popState: function () { return this.conditionStack.pop() }, _currentRules: function () { return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules }, topState: function () { return this.conditionStack[this.conditionStack.length - 2] }, pushState: function (e) { this.begin(e) }, options: {}, performAction: function (e, t, i) { switch (i) { case 0: break; case 1: return 6; case 2: return t.yytext = t.yytext.substr(1, t.yyleng - 2), 4; case 3: return 17; case 4: return 18; case 5: return 23; case 6: return 24; case 7: return 22; case 8: return 21; case 9: return 10; case 10: return 11; case 11: return 8; case 12: return 14; case 13: return "INVALID" } }, rules: [/^(?:\s+)/, /^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/, /^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/, /^(?:\{)/, /^(?:\})/, /^(?:\[)/, /^(?:\])/, /^(?:,)/, /^(?::)/, /^(?:true\b)/, /^(?:false\b)/, /^(?:null\b)/, /^(?:$)/, /^(?:.)/], conditions: { INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13], inclusive: !0 } } }, n); t.parser = r, t.parse = r.parse.bind(r) }, function (e, t) { e.exports = function () { throw new Error("define cannot be used indirect") } }, function (e, t) { function i(e) { "remove" in e || Object.defineProperty(e, "remove", { configurable: !0, enumerable: !0, writable: !0, value: function () { void 0 !== this.parentNode && this.parentNode.removeChild(this) } }) } "undefined" != typeof Element && (void 0 !== window.Element && i(window.Element.prototype), void 0 !== window.CharacterData && i(window.CharacterData.prototype), void 0 !== window.DocumentType && i(window.DocumentType.prototype)), Array.prototype.find || (Array.prototype.find = function (e) { for (var t = 0; t < this.length; t++) { var i = this[t]; if (e.call(this, i, t, this)) return i } }), String.prototype.trim || (String.prototype.trim = function () { return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "") }) }, function (e, t, i) { "use strict"; var n = i(7); e.exports = function (e) { n.copy(e, this) } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { "function" == typeof (t = t || {}) && (t = { cmp: t }); var i, n = "boolean" == typeof t.cycles && t.cycles, r = t.cmp && (i = t.cmp, function (e) { return function (t, n) { var r = { key: t, value: e[t] }, s = { key: n, value: e[n] }; return i(r, s) } }), s = []; return function o(e) { if (e && e.toJSON && "function" == typeof e.toJSON && (e = e.toJSON()), void 0 !== e) { if ("number" == typeof e) return isFinite(e) ? "" + e : "null"; if ("object" != typeof e) return JSON.stringify(e); var t, i; if (Array.isArray(e)) { for (i = "[", t = 0; t < e.length; t++)t && (i += ","), i += o(e[t]) || "null"; return i + "]" } if (null === e) return "null"; if (-1 !== s.indexOf(e)) { if (n) return JSON.stringify("__cycle__"); throw new TypeError("Converting circular structure to JSON") } var a = s.push(e) - 1, l = Object.keys(e).sort(r && r(e)); for (i = "", t = 0; t < l.length; t++) { var c = l[t], h = o(e[c]); h && (i && (i += ","), i += JSON.stringify(c) + ":" + h) } return s.splice(a, 1), "{" + i + "}" } }(e) } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = "", n = !0 === e.schema.$async, r = e.util.schemaHasRulesExcept(e.schema, e.RULES.all, "$ref"), s = e.self._getId(e.schema); if (e.opts.strictKeywords) { var o = e.util.schemaUnknownRules(e.schema, e.RULES.keywords); if (o) { var a = "unknown keyword: " + o; if ("log" !== e.opts.strictKeywords) throw new Error(a); e.logger.warn(a) } } if (e.isTop && (i += " var validate = ", n && (e.async = !0, i += "async "), i += "function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ", s && (e.opts.sourceCode || e.opts.processCode) && (i += " /*# sourceURL=" + s + " */ ")), "boolean" == typeof e.schema || !r && !e.schema.$ref) { t = "false schema"; var l = e.level, c = e.dataLevel, h = e.schema[t], d = e.schemaPath + e.util.getProperty(t), u = e.errSchemaPath + "/" + t, g = !e.opts.allErrors, p = "data" + (c || ""), m = "valid" + l; if (!1 === e.schema) { e.isTop ? g = !0 : i += " var " + m + " = false; ", (D = D || []).push(i), i = "", !1 !== e.createErrors ? (i += " { keyword: 'false schema' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(u) + " , params: {} ", !1 !== e.opts.messages && (i += " , message: 'boolean schema is false' "), e.opts.verbose && (i += " , schema: false , parentSchema: validate.schema" + e.schemaPath + " , data: " + p + " "), i += " } ") : i += " {} "; var f = i; i = D.pop(), !e.compositeRule && g ? e.async ? i += " throw new ValidationError([" + f + "]); " : i += " validate.errors = [" + f + "]; return false; " : i += " var err = " + f + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; " } else e.isTop ? i += n ? " return data; " : " validate.errors = null; return true; " : i += " var " + m + " = true; "; return e.isTop && (i += " }; return validate; "), i } if (e.isTop) { var C = e.isTop; if (l = e.level = 0, c = e.dataLevel = 0, p = "data", e.rootId = e.resolve.fullPath(e.self._getId(e.root.schema)), e.baseId = e.baseId || e.rootId, delete e.isTop, e.dataPathArr = [void 0], void 0 !== e.schema["default"] && e.opts.useDefaults && e.opts.strictDefaults) { var I = "default is ignored in the schema root"; if ("log" !== e.opts.strictDefaults) throw new Error(I); e.logger.warn(I) } i += " var vErrors = null; ", i += " var errors = 0;     ", i += " if (rootData === undefined) rootData = data; " } else { if (l = e.level, p = "data" + ((c = e.dataLevel) || ""), s && (e.baseId = e.resolve.url(e.baseId, s)), n && !e.async) throw new Error("async schema in sync schema"); i += " var errs_" + l + " = errors;" } m = "valid" + l, g = !e.opts.allErrors; var A = "", v = "", b = e.schema.type, y = Array.isArray(b); if (b && e.opts.nullable && !0 === e.schema.nullable && (y ? -1 == b.indexOf("null") && (b = b.concat("null")) : "null" != b && (b = [b, "null"], y = !0)), y && 1 == b.length && (b = b[0], y = !1), e.schema.$ref && r) { if ("fail" == e.opts.extendRefs) throw new Error('$ref: validation keywords used in schema at path "' + e.errSchemaPath + '" (see option extendRefs)'); !0 !== e.opts.extendRefs && (r = !1, e.logger.warn('$ref: keywords ignored in schema at path "' + e.errSchemaPath + '"')) } if (e.schema.$comment && e.opts.$comment && (i += " " + e.RULES.all.$comment.code(e, "$comment")), b) { if (e.opts.coerceTypes) var w = e.util.coerceToTypes(e.opts.coerceTypes, b); var S = e.RULES.types[b]; if (w || y || !0 === S || S && !U(S)) { d = e.schemaPath + ".type", u = e.errSchemaPath + "/type", d = e.schemaPath + ".type", u = e.errSchemaPath + "/type"; var x = y ? "checkDataTypes" : "checkDataType"; if (i += " if (" + e.util[x](b, p, !0) + ") { ", w) { var k = "dataType" + l, R = "coerced" + l; i += " var " + k + " = typeof " + p + "; ", "array" == e.opts.coerceTypes && (i += " if (" + k + " == 'object' && Array.isArray(" + p + ")) " + k + " = 'array'; "), i += " var " + R + " = undefined; "; var E = "", B = w; if (B) for (var G, T = -1, Z = B.length - 1; T < Z;)G = B[T += 1], T && (i += " if (" + R + " === undefined) { ", E += "}"), "array" == e.opts.coerceTypes && "array" != G && (i += " if (" + k + " == 'array' && " + p + ".length == 1) { " + R + " = " + p + " = " + p + "[0]; " + k + " = typeof " + p + ";  } "), "string" == G ? i += " if (" + k + " == 'number' || " + k + " == 'boolean') " + R + " = '' + " + p + "; else if (" + p + " === null) " + R + " = ''; " : "number" == G || "integer" == G ? (i += " if (" + k + " == 'boolean' || " + p + " === null || (" + k + " == 'string' && " + p + " && " + p + " == +" + p + " ", "integer" == G && (i += " && !(" + p + " % 1)"), i += ")) " + R + " = +" + p + "; ") : "boolean" == G ? i += " if (" + p + " === 'false' || " + p + " === 0 || " + p + " === null) " + R + " = false; else if (" + p + " === 'true' || " + p + " === 1) " + R + " = true; " : "null" == G ? i += " if (" + p + " === '' || " + p + " === 0 || " + p + " === false) " + R + " = null; " : "array" == e.opts.coerceTypes && "array" == G && (i += " if (" + k + " == 'string' || " + k + " == 'number' || " + k + " == 'boolean' || " + p + " == null) " + R + " = [" + p + "]; "); (D = D || []).push(i += " " + E + " if (" + R + " === undefined) {   "), i = "", !1 !== e.createErrors ? (i += " { keyword: 'type' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(u) + " , params: { type: '", i += y ? "" + b.join(",") : "" + b, i += "' } ", !1 !== e.opts.messages && (i += " , message: 'should be ", i += y ? "" + b.join(",") : "" + b, i += "' "), e.opts.verbose && (i += " , schema: validate.schema" + d + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + p + " "), i += " } ") : i += " {} ", f = i, i = D.pop(), !e.compositeRule && g ? e.async ? i += " throw new ValidationError([" + f + "]); " : i += " validate.errors = [" + f + "]; return false; " : i += " var err = " + f + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } else {  "; var W = c ? "data" + (c - 1 || "") : "parentData"; i += " " + p + " = " + R + "; ", c || (i += "if (" + W + " !== undefined)"), i += " " + W + "[" + (c ? e.dataPathArr[c] : "parentDataProperty") + "] = " + R + "; } " } else (D = D || []).push(i), i = "", !1 !== e.createErrors ? (i += " { keyword: 'type' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(u) + " , params: { type: '", i += y ? "" + b.join(",") : "" + b, i += "' } ", !1 !== e.opts.messages && (i += " , message: 'should be ", i += y ? "" + b.join(",") : "" + b, i += "' "), e.opts.verbose && (i += " , schema: validate.schema" + d + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + p + " "), i += " } ") : i += " {} ", f = i, i = D.pop(), !e.compositeRule && g ? e.async ? i += " throw new ValidationError([" + f + "]); " : i += " validate.errors = [" + f + "]; return false; " : i += " var err = " + f + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "; i += " } " } } if (e.schema.$ref && !r) i += " " + e.RULES.all.$ref.code(e, "$ref") + " ", g && (i += " } if (errors === ", i += C ? "0" : "errs_" + l, i += ") { ", v += "}"); else { var _ = e.RULES; if (_) for (var L = -1, H = _.length - 1; L < H;)if (U(S = _[L += 1])) { if (S.type && (i += " if (" + e.util.checkDataType(S.type, p) + ") { "), e.opts.useDefaults) if ("object" == S.type && e.schema.properties) { h = e.schema.properties; var $ = Object.keys(h); if ($) for (var V, N = -1, O = $.length - 1; N < O;)if (void 0 !== (K = h[V = $[N += 1]])["default"]) { var F = p + e.util.getProperty(V); if (e.compositeRule) { if (e.opts.strictDefaults) { if (I = "default is ignored for: " + F, "log" !== e.opts.strictDefaults) throw new Error(I); e.logger.warn(I) } } else i += " if (" + F + " === undefined ", "empty" == e.opts.useDefaults && (i += " || " + F + " === null || " + F + " === '' "), i += " ) " + F + " = ", "shared" == e.opts.useDefaults ? i += " " + e.useDefault(K["default"]) + " " : i += " " + JSON.stringify(K["default"]) + " ", i += "; " } } else if ("array" == S.type && Array.isArray(e.schema.items)) { var P = e.schema.items; if (P) { T = -1; for (var K, M = P.length - 1; T < M;)if (void 0 !== (K = P[T += 1])["default"]) if (F = p + "[" + T + "]", e.compositeRule) { if (e.opts.strictDefaults) { if (I = "default is ignored for: " + F, "log" !== e.opts.strictDefaults) throw new Error(I); e.logger.warn(I) } } else i += " if (" + F + " === undefined ", "empty" == e.opts.useDefaults && (i += " || " + F + " === null || " + F + " === '' "), i += " ) " + F + " = ", "shared" == e.opts.useDefaults ? i += " " + e.useDefault(K["default"]) + " " : i += " " + JSON.stringify(K["default"]) + " ", i += "; " } } var D, j = S.rules; if (j) for (var X, Y = -1, J = j.length - 1; Y < J;)if (Q(X = j[Y += 1])) { var z = X.code(e, X.keyword, S.type); z && (i += " " + z + " ", g && (A += "}")) } if (g && (i += " " + A + " ", A = ""), S.type && (i += " } ", b && b === S.type && !w)) i += " else { ", d = e.schemaPath + ".type", u = e.errSchemaPath + "/type", (D = D || []).push(i), i = "", !1 !== e.createErrors ? (i += " { keyword: 'type' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(u) + " , params: { type: '", i += y ? "" + b.join(",") : "" + b, i += "' } ", !1 !== e.opts.messages && (i += " , message: 'should be ", i += y ? "" + b.join(",") : "" + b, i += "' "), e.opts.verbose && (i += " , schema: validate.schema" + d + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + p + " "), i += " } ") : i += " {} ", f = i, i = D.pop(), !e.compositeRule && g ? e.async ? i += " throw new ValidationError([" + f + "]); " : i += " validate.errors = [" + f + "]; return false; " : i += " var err = " + f + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } "; g && (i += " if (errors === ", i += C ? "0" : "errs_" + l, i += ") { ", v += "}") } } function U(e) { for (var t = e.rules, i = 0; i < t.length; i++)if (Q(t[i])) return 1 } function Q(t) { return void 0 !== e.schema[t.keyword] || t["implements"] && function (t) { for (var i = t["implements"], n = 0; n < i.length; n++)if (void 0 !== e.schema[i[n]]) return !0 }(t) } return g && (i += " " + v + " "), C ? (n ? (i += " if (errors === 0) return data;           ", i += " else throw new ValidationError(vErrors); ") : (i += " validate.errors = vErrors; ", i += " return errors === 0;       "), i += " }; return validate;") : i += " var " + m + " = errors === errs_" + l + ";", i = e.util.cleanUpCode(i), C && (i = e.util.finalCleanUpCode(i, n)), i } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i, n = " ", r = e.level, s = e.dataLevel, o = e.schema[t], a = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, c = !e.opts.allErrors, h = "data" + (s || ""), d = e.opts.$data && o && o.$data; i = d ? (n += " var schema" + r + " = " + e.util.getData(o.$data, s, e.dataPathArr) + "; ", "schema" + r) : o; var u = "maximum" == t, g = u ? "exclusiveMaximum" : "exclusiveMinimum", p = e.schema[g], m = e.opts.$data && p && p.$data, f = u ? "<" : ">", C = u ? ">" : "<", I = void 0; if (m) { var A, v = e.util.getData(p.$data, s, e.dataPathArr), b = "exclusive" + r, y = "exclType" + r, w = "exclIsNumber" + r, S = "' + " + (k = "op" + r) + " + '"; n += " var schemaExcl" + r + " = " + v + "; ", I = g, (A = A || []).push(n += " var " + b + "; var " + y + " = typeof " + (v = "schemaExcl" + r) + "; if (" + y + " != 'boolean' && " + y + " != 'undefined' && " + y + " != 'number') { "), n = "", !1 !== e.createErrors ? (n += " { keyword: '" + (I || "_exclusiveLimit") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: {} ", !1 !== e.opts.messages && (n += " , message: '" + g + " should be boolean' "), e.opts.verbose && (n += " , schema: validate.schema" + a + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "), n += " } ") : n += " {} "; var x = n; n = A.pop(), !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + x + "]); " : n += " validate.errors = [" + x + "]; return false; " : n += " var err = " + x + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", n += " } else if ( ", d && (n += " (" + i + " !== undefined && typeof " + i + " != 'number') || "), n += " " + y + " == 'number' ? ( (" + b + " = " + i + " === undefined || " + v + " " + f + "= " + i + ") ? " + h + " " + C + "= " + v + " : " + h + " " + C + " " + i + " ) : ( (" + b + " = " + v + " === true) ? " + h + " " + C + "= " + i + " : " + h + " " + C + " " + i + " ) || " + h + " !== " + h + ") { var op" + r + " = " + b + " ? '" + f + "' : '" + f + "='; ", void 0 === o && (I = g, l = e.errSchemaPath + "/" + g, i = v, d = m) } else if (S = f, (w = "number" == typeof p) && d) { var k = "'" + S + "'"; n += " if ( ", d && (n += " (" + i + " !== undefined && typeof " + i + " != 'number') || "), n += " ( " + i + " === undefined || " + p + " " + f + "= " + i + " ? " + h + " " + C + "= " + p + " : " + h + " " + C + " " + i + " ) || " + h + " !== " + h + ") { " } else w && void 0 === o ? (b = !0, I = g, l = e.errSchemaPath + "/" + g, i = p, C += "=") : (w && (i = Math[u ? "min" : "max"](p, o)), p === (!w || i) ? (b = !0, I = g, l = e.errSchemaPath + "/" + g, C += "=") : (b = !1, S += "=")), k = "'" + S + "'", n += " if ( ", d && (n += " (" + i + " !== undefined && typeof " + i + " != 'number') || "), n += " " + h + " " + C + " " + i + " || " + h + " !== " + h + ") { "; return I = I || t, (A = A || []).push(n), n = "", !1 !== e.createErrors ? (n += " { keyword: '" + (I || "_limit") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { comparison: " + k + ", limit: " + i + ", exclusive: " + b + " } ", !1 !== e.opts.messages && (n += " , message: 'should be " + S + " ", n += d ? "' + " + i : i + "'"), e.opts.verbose && (n += " , schema:  ", n += d ? "validate.schema" + a : "" + o, n += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "), n += " } ") : n += " {} ", x = n, n = A.pop(), !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + x + "]); " : n += " validate.errors = [" + x + "]; return false; " : n += " var err = " + x + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", n += " } ", c && (n += " else { "), n } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i, n = " ", r = e.level, s = e.dataLevel, o = e.schema[t], a = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, c = !e.opts.allErrors, h = "data" + (s || ""), d = e.opts.$data && o && o.$data; i = d ? (n += " var schema" + r + " = " + e.util.getData(o.$data, s, e.dataPathArr) + "; ", "schema" + r) : o, n += "if ( ", d && (n += " (" + i + " !== undefined && typeof " + i + " != 'number') || "), n += " " + h + ".length " + ("maxItems" == t ? ">" : "<") + " " + i + ") { "; var u = t, g = g || []; g.push(n), n = "", !1 !== e.createErrors ? (n += " { keyword: '" + (u || "_limitItems") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { limit: " + i + " } ", !1 !== e.opts.messages && (n += " , message: 'should NOT have ", n += "maxItems" == t ? "more" : "fewer", n += " than ", n += d ? "' + " + i + " + '" : "" + o, n += " items' "), e.opts.verbose && (n += " , schema:  ", n += d ? "validate.schema" + a : "" + o, n += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "), n += " } ") : n += " {} "; var p = n; return n = g.pop(), !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + p + "]); " : n += " validate.errors = [" + p + "]; return false; " : n += " var err = " + p + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", n += "} ", c && (n += " else { "), n } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i, n = " ", r = e.level, s = e.dataLevel, o = e.schema[t], a = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, c = !e.opts.allErrors, h = "data" + (s || ""), d = e.opts.$data && o && o.$data; i = d ? (n += " var schema" + r + " = " + e.util.getData(o.$data, s, e.dataPathArr) + "; ", "schema" + r) : o; var u = "maxLength" == t ? ">" : "<"; n += "if ( ", d && (n += " (" + i + " !== undefined && typeof " + i + " != 'number') || "), !1 === e.opts.unicode ? n += " " + h + ".length " : n += " ucs2length(" + h + ") ", n += " " + u + " " + i + ") { "; var g = t, p = p || []; p.push(n), n = "", !1 !== e.createErrors ? (n += " { keyword: '" + (g || "_limitLength") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { limit: " + i + " } ", !1 !== e.opts.messages && (n += " , message: 'should NOT be ", n += "maxLength" == t ? "longer" : "shorter", n += " than ", n += d ? "' + " + i + " + '" : "" + o, n += " characters' "), e.opts.verbose && (n += " , schema:  ", n += d ? "validate.schema" + a : "" + o, n += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "), n += " } ") : n += " {} "; var m = n; return n = p.pop(), !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + m + "]); " : n += " validate.errors = [" + m + "]; return false; " : n += " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", n += "} ", c && (n += " else { "), n } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i, n = " ", r = e.level, s = e.dataLevel, o = e.schema[t], a = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, c = !e.opts.allErrors, h = "data" + (s || ""), d = e.opts.$data && o && o.$data; i = d ? (n += " var schema" + r + " = " + e.util.getData(o.$data, s, e.dataPathArr) + "; ", "schema" + r) : o, n += "if ( ", d && (n += " (" + i + " !== undefined && typeof " + i + " != 'number') || "), n += " Object.keys(" + h + ").length " + ("maxProperties" == t ? ">" : "<") + " " + i + ") { "; var u = t, g = g || []; g.push(n), n = "", !1 !== e.createErrors ? (n += " { keyword: '" + (u || "_limitProperties") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { limit: " + i + " } ", !1 !== e.opts.messages && (n += " , message: 'should NOT have ", n += "maxProperties" == t ? "more" : "fewer", n += " than ", n += d ? "' + " + i + " + '" : "" + o, n += " properties' "), e.opts.verbose && (n += " , schema:  ", n += d ? "validate.schema" + a : "" + o, n += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "), n += " } ") : n += " {} "; var p = n; return n = g.pop(), !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + p + "]); " : n += " validate.errors = [" + p + "]; return false; " : n += " var err = " + p + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", n += "} ", c && (n += " else { "), n } }, function (e) { e.exports = JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}') }, function (e, t, i) { "use strict"; var n = { b: "\b", f: "\f", n: "\n", r: "\r", t: "\t", '"': '"', "/": "/", "\\": "\\" }, r = "a".charCodeAt(); t.parse = function (e, t, i) { var s = {}, o = 0, a = 0, l = 0, c = i && i.bigint && "undefined" != typeof BigInt; return { data: function S(t, i) { var n; h(), I(t, "value"); var r = g(); switch (r) { case "t": u("rue"), n = !0; break; case "f": u("alse"), n = !1; break; case "n": u("ull"), n = null; break; case '"': n = d(); break; case "[": n = function (e) { h(); var t = [], i = 0; if ("]" == g()) return t; for (p(); ;) { var n = e + "/" + i; t.push(S(n)), h(); var r = g(); if ("]" == r) break; "," != r && y(), h(), i++ } return t }(t); break; case "{": n = function (e) { h(); var t = {}; if ("}" == g()) return t; for (p(); ;) { var i = v(); '"' != g() && y(); var n = d(), r = e + "/" + f(n); A(r, "key", i), I(r, "keyEnd"), h(), ":" != g() && y(), h(), t[n] = S(r), h(); var s = g(); if ("}" == s) break; "," != s && y(), h() } return t }(t); break; default: p(), 0 <= "-0123456789".indexOf(r) ? n = function () { var t = "", i = !0; "-" == e[l] && (t += g()), t += ("0" == e[l] ? g : C)(), "." == e[l] && (t += g() + C(), i = !1), "e" != e[l] && "E" != e[l] || (t += g(), "+" != e[l] && "-" != e[l] || (t += g()), t += C(), i = !1); var n = +t; return c && i && (n > Number.MAX_SAFE_INTEGER || n < Number.MIN_SAFE_INTEGER) ? BigInt(t) : n }() : b() }return I(t, "valueEnd"), h(), i && l < e.length && b(), n }("", !0), pointers: s }; function h() { e: for (; l < e.length;) { switch (e[l]) { case " ": a++; break; case "\t": a += 4; break; case "\r": a = 0; break; case "\n": a = 0, o++; break; default: break e }l++ } } function d() { for (var e, t = ""; '"' != (e = g());)"\\" == e ? (e = g()) in n ? t += n[e] : "u" == e ? t += m() : y() : t += e; return t } function u(e) { for (var t = 0; t < e.length; t++)g() !== e[t] && y() } function g() { w(); var t = e[l]; return l++, a++, t } function p() { l--, a-- } function m() { for (var e = 4, t = 0; e--;) { t <<= 4; var i = g().toLowerCase(); "a" <= i && i <= "f" ? t += i.charCodeAt() - r + 10 : "0" <= i && i <= "9" ? t += +i : y() } return String.fromCharCode(t) } function C() { for (var t = ""; "0" <= e[l] && e[l] <= "9";)t += g(); if (t.length) return t; w(), b() } function I(e, t) { A(e, t, v()) } function A(e, t, i) { s[e] = s[e] || {}, s[e][t] = i } function v() { return { line: o, column: a, pos: l } } function b() { throw new SyntaxError("Unexpected token " + e[l] + " in JSON at position " + l) } function y() { p(), b() } function w() { if (l >= e.length) throw new SyntaxError("Unexpected end of JSON input") } }, t.stringify = function (e, t, i) { if (o(e)) { var n, r, s = 0, a = "object" == typeof i ? i.space : i; switch (typeof a) { case "number": var l = 10 < a ? 10 : a < 0 ? 0 : Math.floor(a); a = l && b(l, " "), r = n = l; break; case "string": a = a.slice(0, 10); for (var c = r = n = 0; c < a.length; c++) { switch (a[c]) { case " ": r++; break; case "\t": r += 4; break; case "\r": r = 0; break; case "\n": r = 0, s++; break; default: throw new Error("whitespace characters not allowed in JSON") }n++ } break; default: a = void 0 }var h = "", d = {}, u = 0, p = 0, m = 0, C = i && i.es6 && "function" == typeof Map; return function t(e, i, n) { switch (v(n, "value"), typeof e) { case "number": case "bigint": case "boolean": I("" + e); break; case "string": I(g(e)); break; case "object": null === e ? I("null") : "function" == typeof e.toJSON ? I(g(e.toJSON())) : Array.isArray(e) ? r() : C ? e.constructor.BYTES_PER_ELEMENT ? r() : e instanceof Map ? l() : e instanceof Set ? l(!0) : s() : s() }function r() { if (e.length) { I("["); for (var r = i + 1, s = 0; s < e.length; s++) { s && I(","), A(r); var a = o(e[s]) ? e[s] : null; t(a, r, n + "/" + s) } A(i), I("]") } else I("[]") } function s() { var r = Object.keys(e); if (r.length) { I("{"); for (var s = i + 1, l = 0; l < r.length; l++) { var c = r[l], h = e[c]; if (o(h)) { l && I(","); var d = n + "/" + f(c); A(s), v(d, "key"), I(g(c)), v(d, "keyEnd"), I(":"), a && I(" "), t(h, s, d) } } A(i), I("}") } else I("{}") } function l(r) { if (e.size) { I("{"); for (var s = i + 1, l = !0, c = e.entries(), h = c.next(); !h.done;) { var d = h.value, u = d[0], p = !!r || d[1]; if (o(p)) { l || I(","), l = !1; var m = n + "/" + f(u); A(s), v(m, "key"), I(g(u)), v(m, "keyEnd"), I(":"), a && I(" "), t(p, s, m) } h = c.next() } A(i), I("}") } else I("{}") } v(n, "valueEnd") }(e, 0, ""), { json: h, pointers: d } } function I(e) { p += e.length, m += e.length, h += e } function A(e) { if (a) { for (h += "\n" + b(e, a), u++, p = 0; e--;)s ? (u += s, p = r) : p += r, m += n; m += 1 } } function v(e, t) { d[e] = d[e] || {}, d[e][t] = { line: u, column: p, pos: m } } function b(e, t) { return Array(e + 1).join(t) } }; var s = ["number", "bigint", "boolean", "string", "object"]; function o(e) { return 0 <= s.indexOf(typeof e) } var a = /"|\\/g, l = /[\b]/g, c = /\f/g, h = /\n/g, d = /\r/g, u = /\t/g; function g(e) { return '"' + (e = e.replace(a, "\\$&").replace(c, "\\f").replace(l, "\\b").replace(h, "\\n").replace(d, "\\r").replace(u, "\\t")) + '"' } var p = /~/g, m = /\//g; function f(e) { return e.replace(p, "~0").replace(m, "~1") } }, function (e, t, i) { !function (e) { "use strict"; function t(e) { return null !== e && "[object Array]" === Object.prototype.toString.call(e) } function i(e) { return null !== e && "[object Object]" === Object.prototype.toString.call(e) } function n(e, r) { if (e === r) return !0; if (Object.prototype.toString.call(e) !== Object.prototype.toString.call(r)) return !1; if (!0 === t(e)) { if (e.length !== r.length) return !1; for (var s = 0; s < e.length; s++)if (!1 === n(e[s], r[s])) return !1; return !0 } if (!0 !== i(e)) return !1; var o = {}; for (var a in e) if (hasOwnProperty.call(e, a)) { if (!1 === n(e[a], r[a])) return !1; o[a] = !0 } for (var l in r) if (hasOwnProperty.call(r, l) && !0 !== o[l]) return !1; return !0 } function r(e) { if ("" === e || !1 === e || null === e) return !0; if (t(e) && 0 === e.length) return !0; if (i(e)) { for (var n in e) if (e.hasOwnProperty(n)) return !1; return !0 } return !1 } var s; s = "function" == typeof String.prototype.trimLeft ? function (e) { return e.trimLeft() } : function (e) { return e.match(/^\s*(.*)/)[1] }; var o = 0, a = 1, l = 2, c = 3, h = 4, d = 6, u = 8, g = 9, p = "UnquotedIdentifier", m = "QuotedIdentifier", f = "Rbracket", C = "Rparen", I = "Comma", A = "Colon", v = "Rbrace", b = "Number", y = "Current", w = "Expref", S = "Pipe", x = "GTE", k = "LTE", R = "Flatten", E = "Star", B = "Filter", G = "Dot", T = "Lbrace", Z = "Lbracket", W = "Lparen", _ = "Literal", L = { ".": G, "*": E, ",": I, ":": A, "{": T, "}": v, "]": f, "(": W, ")": C, "@": y }, H = { "<": !0, ">": !0, "=": !0, "!": !0 }, $ = { " ": !0, "\t": !0, "\n": !0 }; function V(e) { return "0" <= e && e <= "9" || "-" === e } function N() { } N.prototype = { tokenize: function (e) { var t, i, n, r, s = []; for (this._current = 0; this._current < e.length;)if ("a" <= (r = e[this._current]) && r <= "z" || "A" <= r && r <= "Z" || "_" === r) t = this._current, i = this._consumeUnquotedIdentifier(e), s.push({ type: p, value: i, start: t }); else if (void 0 !== L[e[this._current]]) s.push({ type: L[e[this._current]], value: e[this._current], start: this._current }), this._current++; else if (V(e[this._current])) n = this._consumeNumber(e), s.push(n); else if ("[" === e[this._current]) n = this._consumeLBracket(e), s.push(n); else if ('"' === e[this._current]) t = this._current, i = this._consumeQuotedIdentifier(e), s.push({ type: m, value: i, start: t }); else if ("'" === e[this._current]) t = this._current, i = this._consumeRawStringLiteral(e), s.push({ type: _, value: i, start: t }); else if ("`" === e[this._current]) { t = this._current; var o = this._consumeLiteral(e); s.push({ type: _, value: o, start: t }) } else if (void 0 !== H[e[this._current]]) s.push(this._consumeOperator(e)); else if (void 0 !== $[e[this._current]]) this._current++; else if ("&" === e[this._current]) t = this._current, this._current++, "&" === e[this._current] ? (this._current++, s.push({ type: "And", value: "&&", start: t })) : s.push({ type: w, value: "&", start: t }); else { if ("|" !== e[this._current]) { var a = new Error("Unknown character:" + e[this._current]); throw a.name = "LexerError", a } t = this._current, this._current++, "|" === e[this._current] ? (this._current++, s.push({ type: "Or", value: "||", start: t })) : s.push({ type: S, value: "|", start: t }) } return s }, _consumeUnquotedIdentifier: function (e) { var t, i = this._current; for (this._current++; this._current < e.length && ("a" <= (t = e[this._current]) && t <= "z" || "A" <= t && t <= "Z" || "0" <= t && t <= "9" || "_" === t);)this._current++; return e.slice(i, this._current) }, _consumeQuotedIdentifier: function (e) { var t = this._current; this._current++; for (var i = e.length; '"' !== e[this._current] && this._current < i;) { var n = this._current; "\\" !== e[n] || "\\" !== e[n + 1] && '"' !== e[n + 1] ? n++ : n += 2, this._current = n } return this._current++, JSON.parse(e.slice(t, this._current)) }, _consumeRawStringLiteral: function (e) { var t = this._current; this._current++; for (var i = e.length; "'" !== e[this._current] && this._current < i;) { var n = this._current; "\\" !== e[n] || "\\" !== e[n + 1] && "'" !== e[n + 1] ? n++ : n += 2, this._current = n } return this._current++, e.slice(t + 1, this._current - 1).replace("\\'", "'") }, _consumeNumber: function (e) { var t = this._current; this._current++; for (var i = e.length; V(e[this._current]) && this._current < i;)this._current++; var n = parseInt(e.slice(t, this._current)); return { type: b, value: n, start: t } }, _consumeLBracket: function (e) { var t = this._current; return this._current++, "?" === e[this._current] ? (this._current++, { type: B, value: "[?", start: t }) : "]" === e[this._current] ? (this._current++, { type: R, value: "[]", start: t }) : { type: Z, value: "[", start: t } }, _consumeOperator: function (e) { var t = this._current, i = e[t]; return this._current++, "!" === i ? "=" === e[this._current] ? (this._current++, { type: "NE", value: "!=", start: t }) : { type: "Not", value: "!", start: t } : "<" === i ? "=" === e[this._current] ? (this._current++, { type: k, value: "<=", start: t }) : { type: "LT", value: "<", start: t } : ">" === i ? "=" === e[this._current] ? (this._current++, { type: x, value: ">=", start: t }) : { type: "GT", value: ">", start: t } : "=" === i && "=" === e[this._current] ? (this._current++, { type: "EQ", value: "==", start: t }) : void 0 }, _consumeLiteral: function (e) { this._current++; for (var t, i = this._current, n = e.length; "`" !== e[this._current] && this._current < n;) { var r = this._current; "\\" !== e[r] || "\\" !== e[r + 1] && "`" !== e[r + 1] ? r++ : r += 2, this._current = r } var o = s(e.slice(i, this._current)); return o = o.replace("\\`", "`"), t = this._looksLikeJSON(o) ? JSON.parse(o) : JSON.parse('"' + o + '"'), this._current++, t }, _looksLikeJSON: function (e) { if ("" === e) return !1; if (0 <= '[{"'.indexOf(e[0])) return !0; if (0 <= ["true", "false", "null"].indexOf(e)) return !0; if (!(0 <= "-0123456789".indexOf(e[0]))) return !1; try { return JSON.parse(e), !0 } catch (e) { return !1 } } }; var O = {}; function F() { } function P(e) { this.runtime = e } function K(e) { this._interpreter = e, this.functionTable = { abs: { _func: this._functionAbs, _signature: [{ types: [o] }] }, avg: { _func: this._functionAvg, _signature: [{ types: [u] }] }, ceil: { _func: this._functionCeil, _signature: [{ types: [o] }] }, contains: { _func: this._functionContains, _signature: [{ types: [l, c] }, { types: [a] }] }, ends_with: { _func: this._functionEndsWith, _signature: [{ types: [l] }, { types: [l] }] }, floor: { _func: this._functionFloor, _signature: [{ types: [o] }] }, length: { _func: this._functionLength, _signature: [{ types: [l, c, h] }] }, map: { _func: this._functionMap, _signature: [{ types: [d] }, { types: [c] }] }, max: { _func: this._functionMax, _signature: [{ types: [u, g] }] }, merge: { _func: this._functionMerge, _signature: [{ types: [h], variadic: !0 }] }, max_by: { _func: this._functionMaxBy, _signature: [{ types: [c] }, { types: [d] }] }, sum: { _func: this._functionSum, _signature: [{ types: [u] }] }, starts_with: { _func: this._functionStartsWith, _signature: [{ types: [l] }, { types: [l] }] }, min: { _func: this._functionMin, _signature: [{ types: [u, g] }] }, min_by: { _func: this._functionMinBy, _signature: [{ types: [c] }, { types: [d] }] }, type: { _func: this._functionType, _signature: [{ types: [a] }] }, keys: { _func: this._functionKeys, _signature: [{ types: [h] }] }, values: { _func: this._functionValues, _signature: [{ types: [h] }] }, sort: { _func: this._functionSort, _signature: [{ types: [g, u] }] }, sort_by: { _func: this._functionSortBy, _signature: [{ types: [c] }, { types: [d] }] }, join: { _func: this._functionJoin, _signature: [{ types: [l] }, { types: [g] }] }, reverse: { _func: this._functionReverse, _signature: [{ types: [l, c] }] }, to_array: { _func: this._functionToArray, _signature: [{ types: [a] }] }, to_string: { _func: this._functionToString, _signature: [{ types: [a] }] }, to_number: { _func: this._functionToNumber, _signature: [{ types: [a] }] }, not_null: { _func: this._functionNotNull, _signature: [{ types: [a], variadic: !0 }] } } } O.EOF = 0, O[p] = 0, O[m] = 0, O[f] = 0, O[C] = 0, O[I] = 0, O[v] = 0, O[b] = 0, O[y] = 0, O[w] = 0, O[S] = 1, O.Or = 2, O.And = 3, O.EQ = 5, O.GT = 5, O.LT = 5, O.GTE = 5, O.LTE = 5, O.NE = 5, O[R] = 9, O[E] = 20, O[B] = 21, O.Dot = 40, O.Not = 45, O[T] = 50, O[Z] = 55, O[W] = 60, F.prototype = { parse: function (e) { this._loadTokens(e), this.index = 0; var t = this.expression(0); if ("EOF" === this._lookahead(0)) return t; var i = this._lookaheadToken(0), n = new Error("Unexpected token type: " + i.type + ", value: " + i.value); throw n.name = "ParserError", n }, _loadTokens: function (e) { var t = (new N).tokenize(e); t.push({ type: "EOF", value: "", start: e.length }), this.tokens = t }, expression: function (e) { var t = this._lookaheadToken(0); this._advance(); for (var i = this.nud(t), n = this._lookahead(0); e < O[n];)this._advance(), i = this.led(n, i), n = this._lookahead(0); return i }, _lookahead: function (e) { return this.tokens[this.index + e].type }, _lookaheadToken: function (e) { return this.tokens[this.index + e] }, _advance: function () { this.index++ }, nud: function (e) { var t, i; switch (e.type) { case _: return { type: "Literal", value: e.value }; case p: return { type: "Field", name: e.value }; case m: var n = { type: "Field", name: e.value }; if (this._lookahead(0) === W) throw new Error("Quoted identifier not allowed for function names."); return n; case "Not": return { type: "NotExpression", children: [t = this.expression(O.Not)] }; case E: return t = null, { type: "ValueProjection", children: [{ type: "Identity" }, t = this._lookahead(0) === f ? { type: "Identity" } : this._parseProjectionRHS(O.Star)] }; case B: return this.led(e.type, { type: "Identity" }); case T: return this._parseMultiselectHash(); case R: return { type: "Projection", children: [{ type: R, children: [{ type: "Identity" }] }, t = this._parseProjectionRHS(O.Flatten)] }; case Z: return this._lookahead(0) === b || this._lookahead(0) === A ? (t = this._parseIndexExpression(), this._projectIfSlice({ type: "Identity" }, t)) : this._lookahead(0) === E && this._lookahead(1) === f ? (this._advance(), this._advance(), { type: "Projection", children: [{ type: "Identity" }, t = this._parseProjectionRHS(O.Star)] }) : this._parseMultiselectList(); case y: return { type: y }; case w: return { type: "ExpressionReference", children: [i = this.expression(O.Expref)] }; case W: for (var r = []; this._lookahead(0) !== C;)this._lookahead(0) === y ? (i = { type: y }, this._advance()) : i = this.expression(0), r.push(i); return this._match(C), r[0]; default: this._errorToken(e) } }, led: function (e, t) { var i; switch (e) { case G: var n = O.Dot; return this._lookahead(0) !== E ? { type: "Subexpression", children: [t, i = this._parseDotRHS(n)] } : (this._advance(), { type: "ValueProjection", children: [t, i = this._parseProjectionRHS(n)] }); case S: return i = this.expression(O.Pipe), { type: S, children: [t, i] }; case "Or": return { type: "OrExpression", children: [t, i = this.expression(O.Or)] }; case "And": return { type: "AndExpression", children: [t, i = this.expression(O.And)] }; case W: for (var r, s = t.name, o = []; this._lookahead(0) !== C;)this._lookahead(0) === y ? (r = { type: y }, this._advance()) : r = this.expression(0), this._lookahead(0) === I && this._match(I), o.push(r); return this._match(C), { type: "Function", name: s, children: o }; case B: var a = this.expression(0); return this._match(f), { type: "FilterProjection", children: [t, i = this._lookahead(0) === R ? { type: "Identity" } : this._parseProjectionRHS(O.Filter), a] }; case R: return { type: "Projection", children: [{ type: R, children: [t] }, this._parseProjectionRHS(O.Flatten)] }; case "EQ": case "NE": case "GT": case x: case "LT": case k: return this._parseComparator(t, e); case Z: var l = this._lookaheadToken(0); return l.type === b || l.type === A ? (i = this._parseIndexExpression(), this._projectIfSlice(t, i)) : (this._match(E), this._match(f), { type: "Projection", children: [t, i = this._parseProjectionRHS(O.Star)] }); default: this._errorToken(this._lookaheadToken(0)) } }, _match: function (e) { if (this._lookahead(0) !== e) { var t = this._lookaheadToken(0), i = new Error("Expected " + e + ", got: " + t.type); throw i.name = "ParserError", i } this._advance() }, _errorToken: function (e) { var t = new Error("Invalid token (" + e.type + '): "' + e.value + '"'); throw t.name = "ParserError", t }, _parseIndexExpression: function () { if (this._lookahead(0) === A || this._lookahead(1) === A) return this._parseSliceExpression(); var e = { type: "Index", value: this._lookaheadToken(0).value }; return this._advance(), this._match(f), e }, _projectIfSlice: function (e, t) { var i = { type: "IndexExpression", children: [e, t] }; return "Slice" === t.type ? { type: "Projection", children: [i, this._parseProjectionRHS(O.Star)] } : i }, _parseSliceExpression: function () { for (var e = [null, null, null], t = 0, i = this._lookahead(0); i !== f && t < 3;) { if (i === A) t++, this._advance(); else { if (i !== b) { var n = this._lookahead(0), r = new Error("Syntax error, unexpected token: " + n.value + "(" + n.type + ")"); throw r.name = "Parsererror", r } e[t] = this._lookaheadToken(0).value, this._advance() } i = this._lookahead(0) } return this._match(f), { type: "Slice", children: e } }, _parseComparator: function (e, t) { return { type: "Comparator", name: t, children: [e, this.expression(O[t])] } }, _parseDotRHS: function (e) { var t = this._lookahead(0); return 0 <= [p, m, E].indexOf(t) ? this.expression(e) : t === Z ? (this._match(Z), this._parseMultiselectList()) : t === T ? (this._match(T), this._parseMultiselectHash()) : void 0 }, _parseProjectionRHS: function (e) { var t; if (O[this._lookahead(0)] < 10) t = { type: "Identity" }; else if (this._lookahead(0) === Z) t = this.expression(e); else if (this._lookahead(0) === B) t = this.expression(e); else { if (this._lookahead(0) !== G) { var i = this._lookaheadToken(0), n = new Error("Sytanx error, unexpected token: " + i.value + "(" + i.type + ")"); throw n.name = "ParserError", n } this._match(G), t = this._parseDotRHS(e) } return t }, _parseMultiselectList: function () { for (var e = []; this._lookahead(0) !== f;) { var t = this.expression(0); if (e.push(t), this._lookahead(0) === I && (this._match(I), this._lookahead(0) === f)) throw new Error("Unexpected token Rbracket") } return this._match(f), { type: "MultiSelectList", children: e } }, _parseMultiselectHash: function () { for (var e, t, i, n = [], r = [p, m]; ;) { if (e = this._lookaheadToken(0), r.indexOf(e.type) < 0) throw new Error("Expecting an identifier token, got: " + e.type); if (t = e.value, this._advance(), this._match(A), i = { type: "KeyValuePair", name: t, value: this.expression(0) }, n.push(i), this._lookahead(0) === I) this._match(I); else if (this._lookahead(0) === v) { this._match(v); break } } return { type: "MultiSelectHash", children: n } } }, P.prototype = { search: function (e, t) { return this.visit(e, t) }, visit: function (e, s) { var o, a, l, c, h, d, u, g, p; switch (e.type) { case "Field": return null !== s && i(s) && void 0 !== (d = s[e.name]) ? d : null; case "Subexpression": for (l = this.visit(e.children[0], s), p = 1; p < e.children.length; p++)if (null === (l = this.visit(e.children[1], l))) return null; return l; case "IndexExpression": return u = this.visit(e.children[0], s), this.visit(e.children[1], u); case "Index": if (!t(s)) return null; var m = e.value; return m < 0 && (m = s.length + m), void 0 === (l = s[m]) && (l = null), l; case "Slice": if (!t(s)) return null; var f = e.children.slice(0), C = this.computeSliceParams(s.length, f), I = C[0], A = C[1], v = C[2]; if (l = [], 0 < v) for (p = I; p < A; p += v)l.push(s[p]); else for (p = I; A < p; p += v)l.push(s[p]); return l; case "Projection": var b = this.visit(e.children[0], s); if (!t(b)) return null; for (g = [], p = 0; p < b.length; p++)null !== (a = this.visit(e.children[1], b[p])) && g.push(a); return g; case "ValueProjection": if (!i(b = this.visit(e.children[0], s))) return null; g = []; var E = function (e) { for (var t = Object.keys(e), i = [], n = 0; n < t.length; n++)i.push(e[t[n]]); return i }(b); for (p = 0; p < E.length; p++)null !== (a = this.visit(e.children[1], E[p])) && g.push(a); return g; case "FilterProjection": if (!t(b = this.visit(e.children[0], s))) return null; var B = [], G = []; for (p = 0; p < b.length; p++)r(o = this.visit(e.children[2], b[p])) || B.push(b[p]); for (var T = 0; T < B.length; T++)null !== (a = this.visit(e.children[1], B[T])) && G.push(a); return G; case "Comparator": switch (c = this.visit(e.children[0], s), h = this.visit(e.children[1], s), e.name) { case "EQ": l = n(c, h); break; case "NE": l = !n(c, h); break; case "GT": l = h < c; break; case x: l = h <= c; break; case "LT": l = c < h; break; case k: l = c <= h; break; default: throw new Error("Unknown comparator: " + e.name) }return l; case R: var Z = this.visit(e.children[0], s); if (!t(Z)) return null; var W = []; for (p = 0; p < Z.length; p++)t(a = Z[p]) ? W.push.apply(W, a) : W.push(a); return W; case "Identity": return s; case "MultiSelectList": if (null === s) return null; for (g = [], p = 0; p < e.children.length; p++)g.push(this.visit(e.children[p], s)); return g; case "MultiSelectHash": if (null === s) return null; var _; for (g = {}, p = 0; p < e.children.length; p++)g[(_ = e.children[p]).name] = this.visit(_.value, s); return g; case "OrExpression": return r(o = this.visit(e.children[0], s)) && (o = this.visit(e.children[1], s)), o; case "AndExpression": return !0 === r(c = this.visit(e.children[0], s)) ? c : this.visit(e.children[1], s); case "NotExpression": return r(c = this.visit(e.children[0], s)); case "Literal": return e.value; case S: return u = this.visit(e.children[0], s), this.visit(e.children[1], u); case y: return s; case "Function": var L = []; for (p = 0; p < e.children.length; p++)L.push(this.visit(e.children[p], s)); return this.runtime.callFunction(e.name, L); case "ExpressionReference": var H = e.children[0]; return H.jmespathType = w, H; default: throw new Error("Unknown node type: " + e.type) } }, computeSliceParams: function (e, t) { var i = t[0], n = t[1], r = t[2], s = [null, null, null]; if (null === r) r = 1; else if (0 === r) { var o = new Error("Invalid slice, step cannot be 0"); throw o.name = "RuntimeError", o } var a = r < 0; return i = null === i ? a ? e - 1 : 0 : this.capSliceRange(e, i, r), n = null === n ? a ? -1 : e : this.capSliceRange(e, n, r), s[0] = i, s[1] = n, s[2] = r, s }, capSliceRange: function (e, t, i) { return t < 0 ? (t += e) < 0 && (t = i < 0 ? -1 : 0) : e <= t && (t = i < 0 ? e - 1 : e), t } }, K.prototype = { callFunction: function (e, t) { var i = this.functionTable[e]; if (void 0 === i) throw new Error("Unknown function: " + e + "()"); return this._validateArgs(e, t, i._signature), i._func.call(this, t) }, _validateArgs: function (e, t, i) { var n, r, s, o; if (i[i.length - 1].variadic) { if (t.length < i.length) throw n = 1 === i.length ? " argument" : " arguments", new Error("ArgumentError: " + e + "() takes at least" + i.length + n + " but received " + t.length) } else if (t.length !== i.length) throw n = 1 === i.length ? " argument" : " arguments", new Error("ArgumentError: " + e + "() takes " + i.length + n + " but received " + t.length); for (var a = 0; a < i.length; a++) { o = !1, r = i[a].types, s = this._getTypeName(t[a]); for (var l = 0; l < r.length; l++)if (this._typeMatches(s, r[l], t[a])) { o = !0; break } if (!o) throw new Error("TypeError: " + e + "() expected argument " + (a + 1) + " to be type " + r + " but received type " + s + " instead.") } }, _typeMatches: function (e, t, i) { if (t === a) return !0; if (t !== g && t !== u && t !== c) return e === t; if (t === c) return e === c; if (e === c) { var n; t === u ? n = o : t === g && (n = l); for (var r = 0; r < i.length; r++)if (!this._typeMatches(this._getTypeName(i[r]), n, i[r])) return !1; return !0 } }, _getTypeName: function (e) { switch (Object.prototype.toString.call(e)) { case "[object String]": return l; case "[object Number]": return o; case "[object Array]": return c; case "[object Boolean]": return 5; case "[object Null]": return 7; case "[object Object]": return e.jmespathType === w ? d : h } }, _functionStartsWith: function (e) { return 0 === e[0].lastIndexOf(e[1]) }, _functionEndsWith: function (e) { var t = e[0], i = e[1]; return -1 !== t.indexOf(i, t.length - i.length) }, _functionReverse: function (e) { if (this._getTypeName(e[0]) === l) { for (var t = e[0], i = "", n = t.length - 1; 0 <= n; n--)i += t[n]; return i } var r = e[0].slice(0); return r.reverse(), r }, _functionAbs: function (e) { return Math.abs(e[0]) }, _functionCeil: function (e) { return Math.ceil(e[0]) }, _functionAvg: function (e) { for (var t = 0, i = e[0], n = 0; n < i.length; n++)t += i[n]; return t / i.length }, _functionContains: function (e) { return 0 <= e[0].indexOf(e[1]) }, _functionFloor: function (e) { return Math.floor(e[0]) }, _functionLength: function (e) { return i(e[0]) ? Object.keys(e[0]).length : e[0].length }, _functionMap: function (e) { for (var t = [], i = this._interpreter, n = e[0], r = e[1], s = 0; s < r.length; s++)t.push(i.visit(n, r[s])); return t }, _functionMerge: function (e) { for (var t = {}, i = 0; i < e.length; i++) { var n = e[i]; for (var r in n) t[r] = n[r] } return t }, _functionMax: function (e) { if (0 < e[0].length) { if (this._getTypeName(e[0][0]) === o) return Math.max.apply(Math, e[0]); for (var t = e[0], i = t[0], n = 1; n < t.length; n++)i.localeCompare(t[n]) < 0 && (i = t[n]); return i } return null }, _functionMin: function (e) { if (0 < e[0].length) { if (this._getTypeName(e[0][0]) === o) return Math.min.apply(Math, e[0]); for (var t = e[0], i = t[0], n = 1; n < t.length; n++)t[n].localeCompare(i) < 0 && (i = t[n]); return i } return null }, _functionSum: function (e) { for (var t = 0, i = e[0], n = 0; n < i.length; n++)t += i[n]; return t }, _functionType: function (e) { switch (this._getTypeName(e[0])) { case o: return "number"; case l: return "string"; case c: return "array"; case h: return "object"; case 5: return "boolean"; case d: return "expref"; case 7: return "null" } }, _functionKeys: function (e) { return Object.keys(e[0]) }, _functionValues: function (e) { for (var t = e[0], i = Object.keys(t), n = [], r = 0; r < i.length; r++)n.push(t[i[r]]); return n }, _functionJoin: function (e) { var t = e[0]; return e[1].join(t) }, _functionToArray: function (e) { return this._getTypeName(e[0]) === c ? e[0] : [e[0]] }, _functionToString: function (e) { return this._getTypeName(e[0]) === l ? e[0] : JSON.stringify(e[0]) }, _functionToNumber: function (e) { var t, i = this._getTypeName(e[0]); return i === o ? e[0] : i !== l || (t = +e[0], isNaN(t)) ? null : t }, _functionNotNull: function (e) { for (var t = 0; t < e.length; t++)if (7 !== this._getTypeName(e[t])) return e[t]; return null }, _functionSort: function (e) { var t = e[0].slice(0); return t.sort(), t }, _functionSortBy: function (e) { var t = e[0].slice(0); if (0 === t.length) return t; var i = this._interpreter, n = e[1], r = this._getTypeName(i.visit(n, t[0])); if ([o, l].indexOf(r) < 0) throw new Error("TypeError"); for (var s = this, a = [], c = 0; c < t.length; c++)a.push([c, t[c]]); a.sort((function (e, t) { var o = i.visit(n, e[1]), a = i.visit(n, t[1]); if (s._getTypeName(o) !== r) throw new Error("TypeError: expected " + r + ", received " + s._getTypeName(o)); if (s._getTypeName(a) !== r) throw new Error("TypeError: expected " + r + ", received " + s._getTypeName(a)); return a < o ? 1 : o < a ? -1 : e[0] - t[0] })); for (var h = 0; h < a.length; h++)t[h] = a[h][1]; return t }, _functionMaxBy: function (e) { for (var t, i, n = e[1], r = e[0], s = this.createKeyFunction(n, [o, l]), a = -1 / 0, c = 0; c < r.length; c++)a < (i = s(r[c])) && (a = i, t = r[c]); return t }, _functionMinBy: function (e) { for (var t, i, n = e[1], r = e[0], s = this.createKeyFunction(n, [o, l]), a = 1 / 0, c = 0; c < r.length; c++)(i = s(r[c])) < a && (a = i, t = r[c]); return t }, createKeyFunction: function (e, t) { var i = this, n = this._interpreter; return function (r) { var s = n.visit(e, r); if (t.indexOf(i._getTypeName(s)) < 0) { var o = "TypeError: expected one of " + t + ", received " + i._getTypeName(s); throw new Error(o) } return s } } }, e.tokenize = function (e) { return (new N).tokenize(e) }, e.compile = function (e) { return (new F).parse(e) }, e.search = function (e, t) { var i = new F, n = new K, r = new P(n); n._interpreter = r; var s = i.parse(t); return r.search(s, e) }, e.strictDeepEqual = n }(t) }, function (e, t, i) { t.tryRequireThemeJsonEditor = function () { try { i(42) } catch (e) { console.error(e) } } }, function (e, t, i) { "use strict"; var n = i(20), r = i(13), s = i(80).treeModeMixins, o = i(21).textModeMixins, a = i(81).previewModeMixins, l = i(0), c = l.clear, h = l.extend, d = l.getInternetExplorerVersion, u = l.parse, g = i(43).tryRequireAjv, p = i(6).showTransformModal, m = i(5).showSortModal, f = g(); function C(e, t, i) { if (!(this instanceof C)) throw new Error('JSONEditor constructor called without "new".'); var n = d(); if (-1 !== n && n < 9) throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser."); t && (t.error && (console.warn('Option "error" has been renamed to "onError"'), t.onError = t.error, delete t.error), t.change && (console.warn('Option "change" has been renamed to "onChange"'), t.onChange = t.change, delete t.change), t.editable && (console.warn('Option "editable" has been renamed to "onEditable"'), t.onEditable = t.editable, delete t.editable), t.onChangeJSON && ("text" !== t.mode && "code" !== t.mode && (!t.modes || -1 === t.modes.indexOf("text") && -1 === t.modes.indexOf("code")) || console.warn('Option "onChangeJSON" is not applicable to modes "text" and "code". Use "onChangeText" or "onChange" instead.')), t && Object.keys(t).forEach((function (e) { -1 === C.VALID_OPTIONS.indexOf(e) && console.warn('Unknown option "' + e + '". This option will be ignored') }))), arguments.length && this._create(e, t, i) } "undefined" == typeof Promise && console.error("Promise undefined. Please load a Promise polyfill in the browser in order to use JSONEditor"), C.modes = {}, C.prototype.DEBOUNCE_INTERVAL = 150, C.VALID_OPTIONS = ["ajv", "schema", "schemaRefs", "templates", "ace", "theme", "autocomplete", "onChange", "onChangeJSON", "onChangeText", "onEditable", "onError", "onEvent", "onModeChange", "onNodeName", "onValidate", "onCreateMenu", "onSelectionChange", "onTextSelectionChange", "onClassName", "onFocus", "onBlur", "colorPicker", "onColorPicker", "timestampTag", "timestampFormat", "escapeUnicode", "history", "search", "mode", "modes", "name", "indentation", "sortObjectKeys", "navigationBar", "statusBar", "mainMenuBar", "languages", "language", "enableSort", "enableTransform", "maxVisibleChilds", "onValidationError", "modalAnchor", "popupAnchor", "createQuery", "executeQuery", "queryDescription"], C.prototype._create = function (e, t, i) { this.container = e, this.options = t || {}, this.json = i || {}; var n = this.options.mode || this.options.modes && this.options.modes[0] || "tree"; this.setMode(n) }, C.prototype.destroy = function () { }, C.prototype.set = function (e) { this.json = e }, C.prototype.get = function () { return this.json }, C.prototype.setText = function (e) { this.json = u(e) }, C.prototype.getText = function () { return JSON.stringify(this.json) }, C.prototype.setName = function (e) { this.options || (this.options = {}), this.options.name = e }, C.prototype.getName = function () { return this.options && this.options.name }, C.prototype.setMode = function (e) { if (e !== this.options.mode || !this.create) { var t, i, n = this.container, r = h({}, this.options), s = r.mode; r.mode = e; var o = C.modes[e]; if (!o) throw new Error('Unknown mode "' + r.mode + '"'); try { var a = "text" === o.data; if (i = this.getName(), t = this[a ? "getText" : "get"](), this.destroy(), c(this), h(this, o.mixin), this.create(n, r), this.setName(i), this[a ? "setText" : "set"](t), "function" == typeof o.load) try { o.load.call(this) } catch (e) { console.error(e) } if ("function" == typeof r.onModeChange && e !== s) try { r.onModeChange(e, s) } catch (e) { console.error(e) } } catch (e) { this._onError(e) } } }, C.prototype.getMode = function () { return this.options.mode }, C.prototype._onError = function (e) { if (!this.options || "function" != typeof this.options.onError) throw e; this.options.onError(e) }, C.prototype.setSchema = function (e, t) { if (e) { var n; try { this.options.ajv ? n = this.options.ajv : ((n = f({ allErrors: !0, verbose: !0, schemaId: "auto", $data: !0 })).addMetaSchema(i(78)), n.addMetaSchema(i(79))) } catch (e) { console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.") } if (n) { if (t) { for (var r in t) n.removeSchema(r), t[r] && n.addSchema(t[r], r); this.options.schemaRefs = t } this.validateSchema = n.compile(e), this.options.schema = e, this.validate() } this.refresh() } else this.validateSchema = null, this.options.schema = null, this.options.schemaRefs = null, this.validate(), this.refresh() }, C.prototype.validate = function () { }, C.prototype.refresh = function () { }, (C.registerMode = function (e) { var t, i; if (Array.isArray(e)) for (t = 0; t < e.length; t++)C.registerMode(e[t]); else { if (!("mode" in e)) throw new Error('Property "mode" missing'); if (!("mixin" in e)) throw new Error('Property "mixin" missing'); if (!("data" in e)) throw new Error('Property "data" missing'); var n = e.mode; if (n in C.modes) throw new Error('Mode "' + n + '" already registered'); if ("function" != typeof e.mixin.create) throw new Error('Required function "create" missing on mixin'); var r = ["setMode", "registerMode", "modes"]; for (t = 0; t < r.length; t++)if ((i = r[t]) in e.mixin) throw new Error('Reserved property "' + i + '" not allowed in mixin'); C.modes[n] = e } })(s), C.registerMode(o), C.registerMode(a), C.ace = n, C.Ajv = f, C.VanillaPicker = r, C.showTransformModal = p, C.showSortModal = m, C["default"] = C, e.exports = C }, function (e, t, i) { (function (e) { !function () { var e = function () { return this }(); e || "undefined" == typeof window || (e = window); var t = function (e, i, n) { "string" == typeof e ? (2 == arguments.length && (n = i), t.modules[e] || (t.payloads[e] = n, t.modules[e] = null)) : t.original ? t.original.apply(this, arguments) : (console.error("dropping module because define wasn't a string."), console.trace()) }; function i(e, t, i) { if ("string" == typeof t) { var n = a(e, t); if (null != n) return i && i(), n } else if ("[object Array]" === Object.prototype.toString.call(t)) { for (var r = [], o = 0, l = t.length; o < l; ++o) { var c = a(e, t[o]); if (null == c && s.original) return; r.push(c) } return i && i.apply(null, r) || !0 } } t.modules = {}, t.payloads = {}; var n, r, s = function (e, t) { var n = i("", e, t); return null == n && s.original ? s.original.apply(this, arguments) : n }, o = function (e, t) { if (-1 !== t.indexOf("!")) { var i = t.split("!"); return o(e, i[0]) + "!" + o(e, i[1]) } if ("." == t.charAt(0)) for (t = e.split("/").slice(0, -1).join("/") + "/" + t; -1 !== t.indexOf(".") && n != t;) { var n = t; t = t.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "") } return t }, a = function (e, n) { n = o(e, n); var r = t.modules[n]; if (!r) { if ("function" == typeof (r = t.payloads[n])) { var s = {}, a = { id: n, uri: "", exports: s, packaged: !0 }; s = r((function (e, t) { return i(n, e, t) }), s, a) || a.exports, t.modules[n] = s, delete t.payloads[n] } r = t.modules[n] = s || r } return r }; r = e, (n = "ace") && (e[n] || (e[n] = {}), r = e[n]), r.define && r.define.packaged || (t.original = r.define, r.define = t, r.define.packaged = !0), r.require && r.require.packaged || (s.original = r.require, r.require = s, r.require.packaged = !0) }(), ace.define("ace/lib/regexp", ["require", "exports", "module"], (function (e, t, i) { "use strict"; var n, r = { exec: RegExp.prototype.exec, test: RegExp.prototype.test, match: String.prototype.match, replace: String.prototype.replace, split: String.prototype.split }, s = void 0 === r.exec.call(/()??/, "")[1], o = (n = /^/g, r.test.call(n, ""), !n.lastIndex); o && s || (RegExp.prototype.exec = function (e) { var t, i, n, a = r.exec.apply(this, arguments); if ("string" == typeof e && a) { if (!s && 1 < a.length && -1 < function (e, t, i) { if (Array.prototype.indexOf) return e.indexOf("", i); for (var n = 0; n < e.length; n++)if ("" === e[n]) return n; return -1 }(a) && (i = RegExp(this.source, r.replace.call(((n = this).global ? "g" : "") + (n.ignoreCase ? "i" : "") + (n.multiline ? "m" : "") + (n.extended ? "x" : "") + (n.sticky ? "y" : ""), "g", "")), r.replace.call(e.slice(a.index), i, (function () { for (var e = 1; e < arguments.length - 2; e++)void 0 === arguments[e] && (a[e] = void 0) }))), this._xregexp && this._xregexp.captureNames) for (var l = 1; l < a.length; l++)(t = this._xregexp.captureNames[l - 1]) && (a[t] = a[l]); !o && this.global && !a[0].length && this.lastIndex > a.index && this.lastIndex-- } return a }, o || (RegExp.prototype.test = function (e) { var t = r.exec.call(this, e); return t && this.global && !t[0].length && this.lastIndex > t.index && this.lastIndex--, !!t })) })), ace.define("ace/lib/es5-shim", ["require", "exports", "module"], (function (e, t, i) { function n() { } Function.prototype.bind || (Function.prototype.bind = function (e) { var t = this; if ("function" != typeof t) throw new TypeError("Function.prototype.bind called on incompatible " + t); var i = p.call(arguments, 1), r = function () { if (this instanceof r) { var n = t.apply(this, i.concat(p.call(arguments))); return Object(n) === n ? n : this } return t.apply(e, i.concat(p.call(arguments))) }; return t.prototype && (n.prototype = t.prototype, r.prototype = new n, n.prototype = null), r }); var r, s, o, a, l, c, h, d = Function.prototype.call, u = Array.prototype, g = Object.prototype, p = u.slice, m = d.bind(g.toString), f = d.bind(g.hasOwnProperty); if ((l = f(g, "__defineGetter__")) && (r = d.bind(g.__defineGetter__), s = d.bind(g.__defineSetter__), o = d.bind(g.__lookupGetter__), a = d.bind(g.__lookupSetter__)), 2 != [1, 2].splice(0).length) if ((h = []).splice.apply(h, I(20)), h.splice.apply(h, I(26)), c = h.length, h.splice(5, 0, "XXX"), h.length, c + 1 == h.length) { var C = Array.prototype.splice; Array.prototype.splice = function (e, t) { return arguments.length ? C.apply(this, [void 0 === e ? 0 : e, void 0 === t ? this.length - e : t].concat(p.call(arguments, 2))) : [] } } else Array.prototype.splice = function (e, t) { var i = this.length; 0 < e ? i < e && (e = i) : null == e ? e = 0 : e < 0 && (e = Math.max(i + e, 0)), e + t < i || (t = i - e); var n = this.slice(e, e + t), r = p.call(arguments, 2), s = r.length; if (e === i) s && this.push.apply(this, r); else { var o = Math.min(t, i - e), a = e + o, l = a + s - o, c = i - a, h = i - o; if (l < a) for (var d = 0; d < c; ++d)this[l + d] = this[a + d]; else if (a < l) for (d = c; d--;)this[l + d] = this[a + d]; if (s && e === h) this.length = h, this.push.apply(this, r); else for (this.length = h + s, d = 0; d < s; ++d)this[e + d] = r[d] } return n }; function I(e) { var t = new Array(e + 2); return t[0] = t[1] = 0, t } Array.isArray || (Array.isArray = function (e) { return "[object Array]" == m(e) }); var A, v = Object("a"), b = "a" != v[0] || !(0 in v); function y(e) { try { return Object.defineProperty(e, "sentinel", {}), "sentinel" in e } catch (e) { } } if (Array.prototype.forEach || (Array.prototype.forEach = function (e, t) { var i = _(this), n = b && "[object String]" == m(this) ? this.split("") : i, r = t, s = -1, o = n.length >>> 0; if ("[object Function]" != m(e)) throw new TypeError; for (; ++s < o;)s in n && e.call(r, n[s], s, i) }), Array.prototype.map || (Array.prototype.map = function (e, t) { var i = _(this), n = b && "[object String]" == m(this) ? this.split("") : i, r = n.length >>> 0, s = Array(r), o = t; if ("[object Function]" != m(e)) throw new TypeError(e + " is not a function"); for (var a = 0; a < r; a++)a in n && (s[a] = e.call(o, n[a], a, i)); return s }), Array.prototype.filter || (Array.prototype.filter = function (e, t) { var i, n = _(this), r = b && "[object String]" == m(this) ? this.split("") : n, s = r.length >>> 0, o = [], a = t; if ("[object Function]" != m(e)) throw new TypeError(e + " is not a function"); for (var l = 0; l < s; l++)l in r && (i = r[l], e.call(a, i, l, n) && o.push(i)); return o }), Array.prototype.every || (Array.prototype.every = function (e, t) { var i = _(this), n = b && "[object String]" == m(this) ? this.split("") : i, r = n.length >>> 0, s = t; if ("[object Function]" != m(e)) throw new TypeError(e + " is not a function"); for (var o = 0; o < r; o++)if (o in n && !e.call(s, n[o], o, i)) return !1; return !0 }), Array.prototype.some || (Array.prototype.some = function (e, t) { var i = _(this), n = b && "[object String]" == m(this) ? this.split("") : i, r = n.length >>> 0, s = t; if ("[object Function]" != m(e)) throw new TypeError(e + " is not a function"); for (var o = 0; o < r; o++)if (o in n && e.call(s, n[o], o, i)) return !0; return !1 }), Array.prototype.reduce || (Array.prototype.reduce = function (e, t) { var i = _(this), n = b && "[object String]" == m(this) ? this.split("") : i, r = n.length >>> 0; if ("[object Function]" != m(e)) throw new TypeError(e + " is not a function"); if (!r && 1 == arguments.length) throw new TypeError("reduce of empty array with no initial value"); var s, o = 0; if (2 <= arguments.length) s = t; else for (; ;) { if (o in n) { s = n[o++]; break } if (++o >= r) throw new TypeError("reduce of empty array with no initial value") } for (; o < r; o++)o in n && (s = e.call(void 0, s, n[o], o, i)); return s }), Array.prototype.reduceRight || (Array.prototype.reduceRight = function (e, t) { var i = _(this), n = b && "[object String]" == m(this) ? this.split("") : i, r = n.length >>> 0; if ("[object Function]" != m(e)) throw new TypeError(e + " is not a function"); if (!r && 1 == arguments.length) throw new TypeError("reduceRight of empty array with no initial value"); var s, o = r - 1; if (2 <= arguments.length) s = t; else for (; ;) { if (o in n) { s = n[o--]; break } if (--o < 0) throw new TypeError("reduceRight of empty array with no initial value") } for (; o in this && (s = e.call(void 0, s, n[o], o, i)), o--;); return s }), Array.prototype.indexOf && -1 == [0, 1].indexOf(1, 2) || (Array.prototype.indexOf = function (e, t) { var i = b && "[object String]" == m(this) ? this.split("") : _(this), n = i.length >>> 0; if (!n) return -1; var r = 0; for (1 < arguments.length && (r = W(t)), r = 0 <= r ? r : Math.max(0, n + r); r < n; r++)if (r in i && i[r] === e) return r; return -1 }), Array.prototype.lastIndexOf && -1 == [0, 1].lastIndexOf(0, -3) || (Array.prototype.lastIndexOf = function (e, t) { var i = b && "[object String]" == m(this) ? this.split("") : _(this), n = i.length >>> 0; if (!n) return -1; var r = n - 1; for (1 < arguments.length && (r = Math.min(r, W(t))), r = 0 <= r ? r : n - Math.abs(r); 0 <= r; r--)if (r in i && e === i[r]) return r; return -1 }), Object.getPrototypeOf || (Object.getPrototypeOf = function (e) { return e.__proto__ || (e.constructor ? e.constructor.prototype : g) }), Object.getOwnPropertyDescriptor || (Object.getOwnPropertyDescriptor = function (e, t) { if ("object" != typeof e && "function" != typeof e || null === e) throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: " + e); if (f(e, t)) { var i; if (i = { enumerable: !0, configurable: !0 }, l) { var n = e.__proto__; e.__proto__ = g; var r = o(e, t), s = a(e, t); if (e.__proto__ = n, r || s) return r && (i.get = r), s && (i.set = s), i } return i.value = e[t], i } }), Object.getOwnPropertyNames || (Object.getOwnPropertyNames = function (e) { return Object.keys(e) }), Object.create || (A = null === Object.prototype.__proto__ ? function () { return { __proto__: null } } : function () { var e = {}; for (var t in e) e[t] = null; return e.constructor = e.hasOwnProperty = e.propertyIsEnumerable = e.isPrototypeOf = e.toLocaleString = e.toString = e.valueOf = e.__proto__ = null, e }, Object.create = function (e, t) { var i; if (null === e) i = A(); else { if ("object" != typeof e) throw new TypeError("typeof prototype[" + typeof e + "] != 'object'"); function n() { } n.prototype = e, (i = new n).__proto__ = e } return void 0 !== t && Object.defineProperties(i, t), i }), Object.defineProperty) { var w = y({}), S = "undefined" == typeof document || y(document.createElement("div")); if (!w || !S) var x = Object.defineProperty } Object.defineProperty && !x || (Object.defineProperty = function (e, t, i) { if ("object" != typeof e && "function" != typeof e || null === e) throw new TypeError("Object.defineProperty called on non-object: " + e); if ("object" != typeof i && "function" != typeof i || null === i) throw new TypeError("Property description must be an object: " + i); if (x) try { return x.call(Object, e, t, i) } catch (e) { } if (f(i, "value")) if (l && (o(e, t) || a(e, t))) { var n = e.__proto__; e.__proto__ = g, delete e[t], e[t] = i.value, e.__proto__ = n } else e[t] = i.value; else { if (!l) throw new TypeError("getters & setters can not be defined on this javascript engine"); f(i, "get") && r(e, t, i.get), f(i, "set") && s(e, t, i.set) } return e }), Object.defineProperties || (Object.defineProperties = function (e, t) { for (var i in t) f(t, i) && Object.defineProperty(e, i, t[i]); return e }), Object.seal || (Object.seal = function (e) { return e }), Object.freeze || (Object.freeze = function (e) { return e }); try { Object.freeze((function () { })) } catch (e) { Object.freeze = function (e) { return function (t) { return "function" == typeof t ? t : e(t) } }(Object.freeze) } if (Object.preventExtensions || (Object.preventExtensions = function (e) { return e }), Object.isSealed || (Object.isSealed = function () { return !1 }), Object.isFrozen || (Object.isFrozen = function () { return !1 }), Object.isExtensible || (Object.isExtensible = function (e) { if (Object(e) === e) throw new TypeError; for (var t = ""; f(e, t);)t += "?"; e[t] = !0; var i = f(e, t); return delete e[t], i }), !Object.keys) { var k = !0, R = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"], E = R.length; for (var B in { toString: null }) k = !1; Object.keys = function (e) { if ("object" != typeof e && "function" != typeof e || null === e) throw new TypeError("Object.keys called on a non-object"); var t = []; for (var i in e) f(e, i) && t.push(i); if (k) for (var n = 0, r = E; n < r; n++) { var s = R[n]; f(e, s) && t.push(s) } return t } } Date.now || (Date.now = function () { return (new Date).getTime() }); var G = "\t\n\x0B\f\r                　\u2028\u2029\ufeff"; if (!String.prototype.trim) { G = "[" + G + "]"; var T = new RegExp("^" + G + G + "*"), Z = new RegExp(G + G + "*$"); String.prototype.trim = function () { return String(this).replace(T, "").replace(Z, "") } } function W(e) { return (e = +e) != e ? e = 0 : 0 !== e && e !== 1 / 0 && e !== -1 / 0 && (e = (0 < e || -1) * Math.floor(Math.abs(e))), e } var _ = function (e) { if (null == e) throw new TypeError("can't convert " + e + " to object"); return Object(e) } })), ace.define("ace/lib/fixoldbrowsers", ["require", "exports", "module", "ace/lib/regexp", "ace/lib/es5-shim"], (function (e, t, i) { "use strict"; e("./regexp"), e("./es5-shim"), "undefined" == typeof Element || Element.prototype.remove || Object.defineProperty(Element.prototype, "remove", { enumerable: !1, writable: !0, configurable: !0, value: function () { this.parentNode && this.parentNode.removeChild(this) } }) })), ace.define("ace/lib/useragent", ["require", "exports", "module"], (function (e, t, i) { "use strict"; t.OS = { LINUX: "LINUX", MAC: "MAC", WINDOWS: "WINDOWS" }, t.getOS = function () { return t.isMac ? t.OS.MAC : t.isLinux ? t.OS.LINUX : t.OS.WINDOWS }; var n = "object" == typeof navigator ? navigator : {}, r = (/mac|win|linux/i.exec(n.platform) || ["other"])[0].toLowerCase(), s = n.userAgent || "", o = n.appName || ""; t.isWin = "win" == r, t.isMac = "mac" == r, t.isLinux = "linux" == r, t.isIE = "Microsoft Internet Explorer" == o || 0 <= o.indexOf("MSAppHost") ? parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]) : parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]), t.isOldIE = t.isIE && t.isIE < 9, t.isGecko = t.isMozilla = s.match(/ Gecko\/\d+/), t.isOpera = "object" == typeof opera && "[object Opera]" == Object.prototype.toString.call(window.opera), t.isWebKit = parseFloat(s.split("WebKit/")[1]) || void 0, t.isChrome = parseFloat(s.split(" Chrome/")[1]) || void 0, t.isEdge = parseFloat(s.split(" Edge/")[1]) || void 0, t.isAIR = 0 <= s.indexOf("AdobeAIR"), t.isAndroid = 0 <= s.indexOf("Android"), t.isChromeOS = 0 <= s.indexOf(" CrOS "), t.isIOS = /iPad|iPhone|iPod/.test(s) && !window.MSStream, t.isIOS && (t.isMac = !0), t.isMobile = t.isIOS || t.isAndroid })), ace.define("ace/lib/dom", ["require", "exports", "module", "ace/lib/useragent"], (function (e, t, i) { "use strict"; var n = e("./useragent"); if (t.buildDom = function s(e, t, i) { if ("string" == typeof e && e) { var n = document.createTextNode(e); return t && t.appendChild(n), n } if (!Array.isArray(e)) return e; if ("string" != typeof e[0] || !e[0]) { for (var r = [], o = 0; o < e.length; o++) { var a = s(e[o], t, i); a && r.push(a) } return r } var l = document.createElement(e[0]), c = e[1], h = 1; for (c && "object" == typeof c && !Array.isArray(c) && (h = 2), o = h; o < e.length; o++)s(e[o], l, i); return 2 == h && Object.keys(c).forEach((function (e) { var t = c[e]; "class" === e ? l.className = Array.isArray(t) ? t.join(" ") : t : "function" == typeof t || "value" == e ? l[e] = t : "ref" === e ? i && (i[t] = l) : null != t && l.setAttribute(e, t) })), t && t.appendChild(l), l }, t.getDocumentHead = function (e) { return (e = e || document).head || e.getElementsByTagName("head")[0] || e.documentElement }, t.createElement = function (e, t) { return document.createElementNS ? document.createElementNS(t || "http://www.w3.org/1999/xhtml", e) : document.createElement(e) }, t.removeChildren = function (e) { e.innerHTML = "" }, t.createTextNode = function (e, t) { return (t ? t.ownerDocument : document).createTextNode(e) }, t.createFragment = function (e) { return (e ? e.ownerDocument : document).createDocumentFragment() }, t.hasCssClass = function (e, t) { return -1 !== (e.className + "").split(/\s+/g).indexOf(t) }, t.addCssClass = function (e, i) { t.hasCssClass(e, i) || (e.className += " " + i) }, t.removeCssClass = function (e, t) { for (var i = e.className.split(/\s+/g); ;) { var n = i.indexOf(t); if (-1 == n) break; i.splice(n, 1) } e.className = i.join(" ") }, t.toggleCssClass = function (e, t) { for (var i = e.className.split(/\s+/g), n = !0; ;) { var r = i.indexOf(t); if (-1 == r) break; n = !1, i.splice(r, 1) } return n && i.push(t), e.className = i.join(" "), n }, t.setCssClass = function (e, i, n) { n ? t.addCssClass(e, i) : t.removeCssClass(e, i) }, t.hasCssString = function (e, t) { var i, n = 0; if (i = (t = t || document).querySelectorAll("style")) for (; n < i.length;)if (i[n++].id === e) return !0 }, t.importCssString = function (e, i, n) { var r = n; n && n.getRootNode && (r = n.getRootNode()) && r != n || (r = document); var s = r.ownerDocument || r; if (i && t.hasCssString(i, r)) return null; i && (e += "\n/*# sourceURL=ace/css/" + i + " */"); var o = t.createElement("style"); o.appendChild(s.createTextNode(e)), i && (o.id = i), r == s && (r = t.getDocumentHead(s)), r.insertBefore(o, r.firstChild) }, t.importCssStylsheet = function (e, i) { t.buildDom(["link", { rel: "stylesheet", href: e }], t.getDocumentHead(i)) }, t.scrollbarWidth = function (e) { var i = t.createElement("ace_inner"); i.style.width = "100%", i.style.minWidth = "0px", i.style.height = "200px", i.style.display = "block"; var n = t.createElement("ace_outer"), r = n.style; r.position = "absolute", r.left = "-10000px", r.overflow = "hidden", r.width = "200px", r.minWidth = "0px", r.height = "150px", r.display = "block", n.appendChild(i); var s = e.documentElement; s.appendChild(n); var o = i.offsetWidth; r.overflow = "scroll"; var a = i.offsetWidth; return o == a && (a = n.clientWidth), s.removeChild(n), o - a }, "undefined" == typeof document && (t.importCssString = function () { }), t.computedStyle = function (e, t) { return window.getComputedStyle(e, "") || {} }, t.setStyle = function (e, t, i) { e[t] !== i && (e[t] = i) }, t.HAS_CSS_ANIMATION = !1, t.HAS_CSS_TRANSFORMS = !1, t.HI_DPI = !n.isWin || "undefined" != typeof window && 1.5 <= window.devicePixelRatio, "undefined" != typeof document) { var r = document.createElement("div"); t.HI_DPI && void 0 !== r.style.transform && (t.HAS_CSS_TRANSFORMS = !0), n.isEdge || void 0 === r.style.animationName || (t.HAS_CSS_ANIMATION = !0), r = null } t.HAS_CSS_TRANSFORMS ? t.translate = function (e, t, i) { e.style.transform = "translate(" + Math.round(t) + "px, " + Math.round(i) + "px)" } : t.translate = function (e, t, i) { e.style.top = Math.round(i) + "px", e.style.left = Math.round(t) + "px" } })), ace.define("ace/lib/oop", ["require", "exports", "module"], (function (e, t, i) { "use strict"; t.inherits = function (e, t) { e.super_ = t, e.prototype = Object.create(t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }) }, t.mixin = function (e, t) { for (var i in t) e[i] = t[i]; return e }, t.implement = function (e, i) { t.mixin(e, i) } })), ace.define("ace/lib/keys", ["require", "exports", "module", "ace/lib/oop"], (function (e, t, i) { "use strict"; var n = e("./oop"), r = function () { var e, t, i = { MODIFIER_KEYS: { 16: "Shift", 17: "Ctrl", 18: "Alt", 224: "Meta", 91: "MetaLeft", 92: "MetaRight", 93: "ContextMenu" }, KEY_MODS: { ctrl: 1, alt: 2, option: 2, shift: 4, "super": 8, meta: 8, command: 8, cmd: 8 }, FUNCTION_KEYS: { 8: "Backspace", 9: "Tab", 13: "Return", 19: "Pause", 27: "Esc", 32: "Space", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 44: "Print", 45: "Insert", 46: "Delete", 96: "Numpad0", 97: "Numpad1", 98: "Numpad2", 99: "Numpad3", 100: "Numpad4", 101: "Numpad5", 102: "Numpad6", 103: "Numpad7", 104: "Numpad8", 105: "Numpad9", "-13": "NumpadEnter", 112: "F1", 113: "F2", 114: "F3", 115: "F4", 116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "Numlock", 145: "Scrolllock" }, PRINTABLE_KEYS: { 32: " ", 48: "0", 49: "1", 50: "2", 51: "3", 52: "4", 53: "5", 54: "6", 55: "7", 56: "8", 57: "9", 59: ";", 61: "=", 65: "a", 66: "b", 67: "c", 68: "d", 69: "e", 70: "f", 71: "g", 72: "h", 73: "i", 74: "j", 75: "k", 76: "l", 77: "m", 78: "n", 79: "o", 80: "p", 81: "q", 82: "r", 83: "s", 84: "t", 85: "u", 86: "v", 87: "w", 88: "x", 89: "y", 90: "z", 107: "+", 109: "-", 110: ".", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\", 221: "]", 222: "'", 111: "/", 106: "*" } }; for (t in i.FUNCTION_KEYS) e = i.FUNCTION_KEYS[t].toLowerCase(), i[e] = parseInt(t, 10); for (t in i.PRINTABLE_KEYS) e = i.PRINTABLE_KEYS[t].toLowerCase(), i[e] = parseInt(t, 10); return n.mixin(i, i.MODIFIER_KEYS), n.mixin(i, i.PRINTABLE_KEYS), n.mixin(i, i.FUNCTION_KEYS), i.enter = i["return"], i.escape = i.esc, i.del = i["delete"], i[173] = "-", function () { for (var e = ["cmd", "ctrl", "alt", "shift"], t = Math.pow(2, e.length); t--;)i.KEY_MODS[t] = e.filter((function (e) { return t & i.KEY_MODS[e] })).join("-") + "-" }(), i.KEY_MODS[0] = "", i.KEY_MODS[-1] = "input-", i }(); n.mixin(t, r), t.keyCodeToString = function (e) { var t = r[e]; return "string" != typeof t && (t = String.fromCharCode(e)), t.toLowerCase() } })), ace.define("ace/lib/event", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], (function (e, t, i) { "use strict"; var n, r = e("./keys"), s = e("./useragent"), o = null, a = 0; function l() { return null == n && function () { n = !1; try { document.createComment("").addEventListener("test", (function () { }), { get passive() { n = { passive: !1 } } }) } catch (e) { } }(), n } function c(e) { return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0) } function h(e, t, i) { var n = c(t); if (!s.isMac && o) { if (t.getModifierState && (t.getModifierState("OS") || t.getModifierState("Win")) && (n |= 8), o.altGr) { if (3 == (3 & n)) return; o.altGr = 0 } if (18 === i || 17 === i) { var l = "location" in t ? t.location : t.keyLocation; 17 === i && 1 === l ? 1 == o[i] && (a = t.timeStamp) : 18 === i && 3 === n && 2 === l && t.timeStamp - a < 50 && (o.altGr = !0) } } if (i in r.MODIFIER_KEYS && (i = -1), n || 13 !== i || 3 !== (l = "location" in t ? t.location : t.keyLocation) || (e(t, n, -i), !t.defaultPrevented)) { if (s.isChromeOS && 8 & n) { if (e(t, n, i), t.defaultPrevented) return; n &= -9 } return !!(n || i in r.FUNCTION_KEYS || i in r.PRINTABLE_KEYS) && e(t, n, i) } } function d() { o = Object.create(null) } if (t.addListener = function (e, t, i) { return e.addEventListener(t, i, l()) }, t.removeListener = function (e, t, i) { return e.removeEventListener(t, i, l()) }, t.stopEvent = function (e) { return t.stopPropagation(e), t.preventDefault(e), !1 }, t.stopPropagation = function (e) { e.stopPropagation && e.stopPropagation() }, t.preventDefault = function (e) { e.preventDefault && e.preventDefault() }, t.getButton = function (e) { return "dblclick" == e.type ? 0 : "contextmenu" == e.type || s.isMac && e.ctrlKey && !e.altKey && !e.shiftKey ? 2 : e.button }, t.capture = function (e, i, n) { function r(e) { i && i(e), n && n(e), t.removeListener(document, "mousemove", i, !0), t.removeListener(document, "mouseup", r, !0), t.removeListener(document, "dragstart", r, !0) } return t.addListener(document, "mousemove", i, !0), t.addListener(document, "mouseup", r, !0), t.addListener(document, "dragstart", r, !0), r }, t.addMouseWheelListener = function (e, i) { "onmousewheel" in e ? t.addListener(e, "mousewheel", (function (e) { void 0 !== e.wheelDeltaX ? (e.wheelX = -e.wheelDeltaX / 8, e.wheelY = -e.wheelDeltaY / 8) : (e.wheelX = 0, e.wheelY = -e.wheelDelta / 8), i(e) })) : "onwheel" in e ? t.addListener(e, "wheel", (function (e) { switch (e.deltaMode) { case e.DOM_DELTA_PIXEL: e.wheelX = .35 * e.deltaX || 0, e.wheelY = .35 * e.deltaY || 0; break; case e.DOM_DELTA_LINE: case e.DOM_DELTA_PAGE: e.wheelX = 5 * (e.deltaX || 0), e.wheelY = 5 * (e.deltaY || 0) }i(e) })) : t.addListener(e, "DOMMouseScroll", (function (e) { e.axis && e.axis == e.HORIZONTAL_AXIS ? (e.wheelX = 5 * (e.detail || 0), e.wheelY = 0) : (e.wheelX = 0, e.wheelY = 5 * (e.detail || 0)), i(e) })) }, t.addMultiMouseDownListener = function (e, i, n, r) { var o, a, l, c = 0, h = { 2: "dblclick", 3: "tripleclick", 4: "quadclick" }; function d(e) { if (0 !== t.getButton(e) ? c = 0 : 1 < e.detail && !(4 < ++c) || (c = 1), s.isIE) { var d = 5 < Math.abs(e.clientX - o) || 5 < Math.abs(e.clientY - a); l && !d || (c = 1), l && clearTimeout(l), l = setTimeout((function () { l = null }), i[c - 1] || 600), 1 == c && (o = e.clientX, a = e.clientY) } if (e._clicks = c, n[r]("mousedown", e), 4 < c) c = 0; else if (1 < c) return n[r](h[c], e) } Array.isArray(e) || (e = [e]), e.forEach((function (e) { t.addListener(e, "mousedown", d) })) }, t.getModifierString = function (e) { return r.KEY_MODS[c(e)] }, t.addCommandKeyListener = function (e, i) { var n = t.addListener; if (s.isOldGecko || s.isOpera && !("KeyboardEvent" in window)) { var r = null; n(e, "keydown", (function (e) { r = e.keyCode })), n(e, "keypress", (function (e) { return h(i, e, r) })) } else { var a = null; n(e, "keydown", (function (e) { o[e.keyCode] = (o[e.keyCode] || 0) + 1; var t = h(i, e, e.keyCode); return a = e.defaultPrevented, t })), n(e, "keypress", (function (e) { a && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) && (t.stopEvent(e), a = null) })), n(e, "keyup", (function (e) { o[e.keyCode] = null })), o || (d(), n(window, "focus", d)) } }, "object" == typeof window && window.postMessage && !s.isOldIE) { var u = 1; t.nextTick = function (e, i) { i = i || window; var n = "zero-timeout-message-" + u++, r = function (s) { s.data == n && (t.stopPropagation(s), t.removeListener(i, "message", r), e()) }; t.addListener(i, "message", r), i.postMessage(n, "*") } } t.$idleBlocked = !1, t.onIdle = function (e, i) { return setTimeout((function n() { t.$idleBlocked ? setTimeout(n, 100) : e() }), i) }, t.$idleBlockId = null, t.blockIdle = function (e) { t.$idleBlockId && clearTimeout(t.$idleBlockId), t.$idleBlocked = !0, t.$idleBlockId = setTimeout((function () { t.$idleBlocked = !1 }), e || 100) }, t.nextFrame = "object" == typeof window && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame), t.nextFrame ? t.nextFrame = t.nextFrame.bind(window) : t.nextFrame = function (e) { setTimeout(e, 17) } })), ace.define("ace/range", ["require", "exports", "module"], (function (e, t, i) { "use strict"; function n(e, t, i, n) { this.start = { row: e, column: t }, this.end = { row: i, column: n } } (function () { this.isEqual = function (e) { return this.start.row === e.start.row && this.end.row === e.end.row && this.start.column === e.start.column && this.end.column === e.end.column }, this.toString = function () { return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]" }, this.contains = function (e, t) { return 0 == this.compare(e, t) }, this.compareRange = function (e) { var t, i = e.end, n = e.start; return 1 == (t = this.compare(i.row, i.column)) ? 1 == (t = this.compare(n.row, n.column)) ? 2 : 0 == t ? 1 : 0 : -1 == t ? -2 : -1 == (t = this.compare(n.row, n.column)) ? -1 : 1 == t ? 42 : 0 }, this.comparePoint = function (e) { return this.compare(e.row, e.column) }, this.containsRange = function (e) { return 0 == this.comparePoint(e.start) && 0 == this.comparePoint(e.end) }, this.intersects = function (e) { var t = this.compareRange(e); return -1 == t || 0 == t || 1 == t }, this.isEnd = function (e, t) { return this.end.row == e && this.end.column == t }, this.isStart = function (e, t) { return this.start.row == e && this.start.column == t }, this.setStart = function (e, t) { "object" == typeof e ? (this.start.column = e.column, this.start.row = e.row) : (this.start.row = e, this.start.column = t) }, this.setEnd = function (e, t) { "object" == typeof e ? (this.end.column = e.column, this.end.row = e.row) : (this.end.row = e, this.end.column = t) }, this.inside = function (e, t) { return 0 == this.compare(e, t) && !this.isEnd(e, t) && !this.isStart(e, t) }, this.insideStart = function (e, t) { return 0 == this.compare(e, t) && !this.isEnd(e, t) }, this.insideEnd = function (e, t) { return 0 == this.compare(e, t) && !this.isStart(e, t) }, this.compare = function (e, t) { return this.isMultiLine() || e !== this.start.row ? e < this.start.row ? -1 : e > this.end.row ? 1 : this.start.row === e ? t >= this.start.column ? 0 : -1 : this.end.row !== e || t <= this.end.column ? 0 : 1 : t < this.start.column ? -1 : t > this.end.column ? 1 : 0 }, this.compareStart = function (e, t) { return this.start.row == e && this.start.column == t ? -1 : this.compare(e, t) }, this.compareEnd = function (e, t) { return this.end.row == e && this.end.column == t ? 1 : this.compare(e, t) }, this.compareInside = function (e, t) { return this.end.row == e && this.end.column == t ? 1 : this.start.row == e && this.start.column == t ? -1 : this.compare(e, t) }, this.clipRows = function (e, t) { if (this.end.row > t) var i = { row: t + 1, column: 0 }; else this.end.row < e && (i = { row: e, column: 0 }); if (this.start.row > t) var r = { row: t + 1, column: 0 }; else this.start.row < e && (r = { row: e, column: 0 }); return n.fromPoints(r || this.start, i || this.end) }, this.extend = function (e, t) { var i = this.compare(e, t); if (0 == i) return this; if (-1 == i) var r = { row: e, column: t }; else var s = { row: e, column: t }; return n.fromPoints(r || this.start, s || this.end) }, this.isEmpty = function () { return this.start.row === this.end.row && this.start.column === this.end.column }, this.isMultiLine = function () { return this.start.row !== this.end.row }, this.clone = function () { return n.fromPoints(this.start, this.end) }, this.collapseRows = function () { return 0 == this.end.column ? new n(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0) : new n(this.start.row, 0, this.end.row, 0) }, this.toScreenRange = function (e) { var t = e.documentToScreenPosition(this.start), i = e.documentToScreenPosition(this.end); return new n(t.row, t.column, i.row, i.column) }, this.moveBy = function (e, t) { this.start.row += e, this.start.column += t, this.end.row += e, this.end.column += t } }).call(n.prototype), n.fromPoints = function (e, t) { return new n(e.row, e.column, t.row, t.column) }, n.comparePoints = function (e, t) { return e.row - t.row || e.column - t.column }, n.comparePoints = function (e, t) { return e.row - t.row || e.column - t.column }, t.Range = n })), ace.define("ace/lib/lang", ["require", "exports", "module"], (function (e, t, i) { "use strict"; t.last = function (e) { return e[e.length - 1] }, t.stringReverse = function (e) { return e.split("").reverse().join("") }, t.stringRepeat = function (e, t) { for (var i = ""; 0 < t;)1 & t && (i += e), (t >>= 1) && (e += e); return i }; var n = /^\s\s*/, r = /\s\s*$/; t.stringTrimLeft = function (e) { return e.replace(n, "") }, t.stringTrimRight = function (e) { return e.replace(r, "") }, t.copyObject = function (e) { var t = {}; for (var i in e) t[i] = e[i]; return t }, t.copyArray = function (e) { for (var t = [], i = 0, n = e.length; i < n; i++)e[i] && "object" == typeof e[i] ? t[i] = this.copyObject(e[i]) : t[i] = e[i]; return t }, t.deepCopy = function s(e) { if ("object" != typeof e || !e) return e; var t; if (Array.isArray(e)) { t = []; for (var i = 0; i < e.length; i++)t[i] = s(e[i]); return t } if ("[object Object]" !== Object.prototype.toString.call(e)) return e; for (var i in t = {}, e) t[i] = s(e[i]); return t }, t.arrayToMap = function (e) { for (var t = {}, i = 0; i < e.length; i++)t[e[i]] = 1; return t }, t.createMap = function (e) { var t = Object.create(null); for (var i in e) t[i] = e[i]; return t }, t.arrayRemove = function (e, t) { for (var i = 0; i <= e.length; i++)t === e[i] && e.splice(i, 1) }, t.escapeRegExp = function (e) { return e.replace(/([.*+?^${}()|[\]\/\\])/g, "\\$1") }, t.escapeHTML = function (e) { return ("" + e).replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;") }, t.getMatchOffsets = function (e, t) { var i = []; return e.replace(t, (function (e) { i.push({ offset: arguments[arguments.length - 2], length: e.length }) })), i }, t.deferredCall = function (e) { function t() { i = null, e() } var i = null, n = function (e) { return n.cancel(), i = setTimeout(t, e || 0), n }; return (n.schedule = n).call = function () { return this.cancel(), e(), n }, n.cancel = function () { return clearTimeout(i), i = null, n }, n.isPending = function () { return i }, n }, t.delayedCall = function (e, t) { function i() { r = null, e() } function n(e) { null == r && (r = setTimeout(i, e || t)) } var r = null; return n.delay = function (e) { r && clearTimeout(r), r = setTimeout(i, e || t) }, (n.schedule = n).call = function () { this.cancel(), e() }, n.cancel = function () { r && clearTimeout(r), r = null }, n.isPending = function () { return r }, n } })), ace.define("ace/clipboard", ["require", "exports", "module"], (function (e, t, i) { "use strict"; var n; i.exports = { lineMode: !1, pasteCancelled: function () { return !!(n && n > Date.now() - 50) || (n = !1) }, cancel: function () { n = Date.now() } } })), ace.define("ace/keyboard/textinput", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang", "ace/clipboard", "ace/lib/keys"], (function (e, t, i) { "use strict"; var n = e("../lib/event"), r = e("../lib/useragent"), s = e("../lib/dom"), o = e("../lib/lang"), a = e("../clipboard"), l = r.isChrome < 18, c = r.isIE, h = 63 < r.isChrome, d = e("../lib/keys"), u = d.KEY_MODS, g = r.isIOS, p = g ? /\s/ : /\n/; t.TextInput = function (e, t) { var i = s.createElement("textarea"); i.className = "ace_text-input", i.setAttribute("wrap", "off"), i.setAttribute("autocorrect", "off"), i.setAttribute("autocapitalize", "off"), i.setAttribute("spellcheck", !1), i.style.opacity = "0", e.insertBefore(i, e.firstChild); var m = !1, f = !1, C = !1, I = !1, A = ""; r.isMobile || (i.style.fontSize = "1px"); var v = !1, b = !1, y = "", w = 0, S = 0, x = 0; try { var k = document.activeElement === i } catch (e) { } n.addListener(i, "blur", (function (e) { b || (t.onBlur(e), k = !1) })), n.addListener(i, "focus", (function (e) { if (!b) { if (k = !0, r.isEdge) try { if (!document.hasFocus()) return } catch (e) { } t.onFocus(e), r.isEdge ? setTimeout(R) : R() } })), this.$focusScroll = !1, this.focus = function () { if (A || h || "browser" == this.$focusScroll) return i.focus({ preventScroll: !0 }); var e = i.style.top; i.style.position = "fixed", i.style.top = "0px"; try { var t = 0 != i.getBoundingClientRect().top } catch (e) { return } var n = []; if (t) for (var r = i.parentElement; r && 1 == r.nodeType;)n.push(r), r.setAttribute("ace_nocontext", !0), r = !r.parentElement && r.getRootNode ? r.getRootNode().host : r.parentElement; i.focus({ preventScroll: !0 }), t && n.forEach((function (e) { e.removeAttribute("ace_nocontext") })), setTimeout((function () { i.style.position = "", "0px" == i.style.top && (i.style.top = e) }), 0) }, this.blur = function () { i.blur() }, this.isFocused = function () { return k }, t.on("beforeEndOperation", (function () { t.curOp && "insertstring" == t.curOp.command.name || (C && (y = i.value = "", V()), R()) })); var R = g ? function (e) { if (k && (!m || e) && !I) { var n = "\n ab" + (e = e || "") + "cde fg\n"; n != i.value && (i.value = y = n); var r = 4 + (e.length || (t.selection.isEmpty() ? 0 : 1)); 4 == w && S == r || i.setSelectionRange(4, r), w = 4, S = r } } : function () { if (!C && !I && (k || L)) { C = !0; var e = t.selection, n = e.getRange(), r = e.cursor.row, s = n.start.column, o = n.end.column, a = t.session.getLine(r); if (n.start.row != r) { var l = t.session.getLine(r - 1); s = n.start.row < r - 1 ? 0 : s, o += l.length + 1, a = l + "\n" + a } else if (n.end.row != r) { var c = t.session.getLine(r + 1); o = n.end.row > r + 1 ? c.length : o, o += a.length + 1, a = a + "\n" + c } 400 < a.length && (s < 400 && o < 400 ? a = a.slice(0, 400) : (a = "\n", s = 0, o = 1)); var h = a + "\n\n"; if (h != y && (i.value = y = h, w = S = h.length), L && (w = i.selectionStart, S = i.selectionEnd), S != o || w != s || i.selectionEnd != S) try { i.setSelectionRange(s, o), w = s, S = o } catch (e) { } C = !1 } }; k && t.onFocus(); var E = null; function B(e, n) { if (L = L && !1, f) return R(), e && t.onPaste(e), f = !1, ""; for (var r = i.selectionStart, s = i.selectionEnd, o = w, a = y.length - S, l = e, c = e.length - r, h = e.length - s, d = 0; 0 < o && y[d] == e[d];)d++, o--; for (l = l.slice(d), d = 1; 0 < a && y.length - d > w - 1 && y[y.length - d] == e[e.length - d];)d++, a--; c -= d - 1, h -= d - 1; var u = l.length - d + 1; return u < 0 && (o = -u, u = 0), l = l.slice(0, u), n || l || c || o || a || h ? (I = !0, l && !o && !a && !c && !h || v ? t.onTextInput(l) : t.onTextInput(l, { extendLeft: o, extendRight: a, restoreStart: c, restoreEnd: h }), I = !1, y = e, w = r, S = s, x = h, l) : "" } function G(e) { if (C) return $(); if (e && e.inputType) { if ("historyUndo" == e.inputType) return t.execCommand("undo"); if ("historyRedo" == e.inputType) return t.execCommand("redo") } var n = i.value, r = B(n, !0); (500 < n.length || p.test(r)) && R() } function T(e, r) { var s = t.getCopyText(); if (!s) return n.preventDefault(e); H(e, s) ? (g && (R(s), m = s, setTimeout((function () { m = !1 }), 10)), r ? t.onCut() : t.onCopy(), n.preventDefault(e)) : (m = !0, i.value = s, i.select(), setTimeout((function () { m = !1, R(), r ? t.onCut() : t.onCopy() }))) } function Z(e) { T(e, !0) } function W(e) { T(e, !1) } function _(e) { var s = H(e); a.pasteCancelled() || ("string" == typeof s ? (s && t.onPaste(s, e), r.isIE && setTimeout(R), n.preventDefault(e)) : (i.value = "", f = !0)) } this.setInputHandler = function (e) { E = e }; var L = !(this.getInputHandler = function () { return E }), H = function (e, t, i) { var n = e.clipboardData || window.clipboardData; if (n && !l) { var r = c || i ? "Text" : "text/plain"; try { return t ? !1 !== n.setData(r, t) : n.getData(r) } catch (e) { if (!i) return H(e, t, !0) } } }; n.addCommandKeyListener(i, t.onCommandKey.bind(t)), n.addListener(i, "select", (function (e) { var n; C || (m ? m = !1 : 0 === (n = i).selectionStart && n.selectionEnd >= y.length && n.value === y && y && n.selectionEnd !== S && (t.selectAll(), R())) })), n.addListener(i, "input", G), n.addListener(i, "cut", Z), n.addListener(i, "copy", W), n.addListener(i, "paste", _), "oncut" in i && "oncopy" in i && "onpaste" in i || n.addListener(e, "keydown", (function (e) { if ((!r.isMac || e.metaKey) && e.ctrlKey) switch (e.keyCode) { case 67: W(e); break; case 86: _(e); break; case 88: Z(e) } })); var $ = function () { if (C && t.onCompositionUpdate && !t.$readOnly) { if (v) return N(); if (C.useTextareaForIME) t.onCompositionUpdate(i.value); else B(i.value), C.markerRange && (C.context && (C.markerRange.start.column = C.selectionStart = C.context.compositionStartOffset), C.markerRange.end.column = C.markerRange.start.column + S - C.selectionStart + x) } }, V = function (e) { t.onCompositionEnd && !t.$readOnly && (C = !1, t.onCompositionEnd(), t.off("mousedown", N), e && G()) }; function N() { b = !0, i.blur(), i.focus(), b = !1 } var O, F = o.delayedCall($, 50).schedule.bind(null, null); function P() { clearTimeout(O), O = setTimeout((function () { A && (i.style.cssText = A, A = ""), t.renderer.$isMousePressed = !1, t.renderer.$keepTextAreaAtCursor && t.renderer.$moveTextAreaToCursor() }), 0) } function K(e) { t.textInput.onContextMenu(e), P() } n.addListener(i, "compositionstart", (function (e) { if (!C && t.onCompositionStart && !t.$readOnly && (C = {}, !v)) { setTimeout($, 0), t.on("mousedown", N); var n = t.getSelectionRange(); n.end.row = n.start.row, n.end.column = n.start.column, C.markerRange = n, C.selectionStart = w, t.onCompositionStart(C), C.useTextareaForIME ? (i.value = "", y = "", S = w = 0) : (i.msGetInputContext && (C.context = i.msGetInputContext()), i.getInputContext && (C.context = i.getInputContext())) } })), n.addListener(i, "compositionupdate", $), n.addListener(i, "keyup", (function (e) { 27 == e.keyCode && i.value.length < i.selectionStart && (C || (y = i.value), w = S = -1, R()), F() })), n.addListener(i, "keydown", F), n.addListener(i, "compositionend", V), this.getElement = function () { return i }, this.setCommandMode = function (e) { v = e, i.readOnly = !1 }, this.setReadOnly = function (e) { v || (i.readOnly = e) }, this.setCopyWithEmptySelection = function (e) { }, this.onContextMenu = function (e) { L = !0, R(), t._emit("nativecontextmenu", { target: t, domEvent: e }), this.moveToMouse(e, !0) }, this.moveToMouse = function (e, o) { function a(e) { s.translate(i, e.clientX - d - 2, Math.min(e.clientY - h - 2, u)) } A = A || i.style.cssText, i.style.cssText = (o ? "z-index:100000;" : "") + (r.isIE ? "opacity:0.1;" : "") + "text-indent: -" + (w + S) * t.renderer.characterWidth * .5 + "px;"; var l = t.container.getBoundingClientRect(), c = s.computedStyle(t.container), h = l.top + (parseInt(c.borderTopWidth) || 0), d = l.left + (parseInt(l.borderLeftWidth) || 0), u = l.bottom - h - i.clientHeight - 2; a(e), "mousedown" == e.type && (t.renderer.$isMousePressed = !0, clearTimeout(O), r.isWin && n.capture(t.container, a, P)) }, this.onContextMenuClose = P, n.addListener(i, "mouseup", K), n.addListener(i, "mousedown", (function (e) { e.preventDefault(), P() })), n.addListener(t.renderer.scroller, "contextmenu", K), n.addListener(i, "contextmenu", K), g && function (e, t) { var i = null, n = !1; function r(i) { if (document.activeElement === t && !(n || C || e.$mouseHandler.isMousePressed || m)) { var r = t.selectionStart, s = t.selectionEnd, o = null, a = 0; if (0 == r ? o = d.up : 1 == r ? o = d.home : S < s && "\n" == y[s] ? o = d.end : r < w && " " == y[r - 1] ? (o = d.left, a = u.option) : r < w || r == w && S != w && r == s ? o = d.left : S < s && 2 < y.slice(0, s).split("\n").length ? o = d.down : S < s && " " == y[s - 1] ? (o = d.right, a = u.option) : (S < s || s == S && S != w && r == s) && (o = d.right), r !== s && (a |= u.shift), o) { if (!e.onCommandKey({}, a, o) && e.commands) { o = d.keyCodeToString(o); var l = e.commands.findKeyCommand(a, o); l && e.execCommand(l) } w = r, S = s, R("") } } } t.addEventListener("keydown", (function (e) { i && clearTimeout(i), n = !0 }), !0), t.addEventListener("keyup", (function (e) { i = setTimeout((function () { n = !1 }), 100) }), !0), document.addEventListener("selectionchange", r), e.on("destroy", (function () { document.removeEventListener("selectionchange", r) })) }(t, i) } })), ace.define("ace/mouse/default_handlers", ["require", "exports", "module", "ace/lib/useragent"], (function (e, t, i) { "use strict"; var n = e("../lib/useragent"); function r(e) { e.$clickSelection = null; var t = e.editor; t.setDefaultHandler("mousedown", this.onMouseDown.bind(e)), t.setDefaultHandler("dblclick", this.onDoubleClick.bind(e)), t.setDefaultHandler("tripleclick", this.onTripleClick.bind(e)), t.setDefaultHandler("quadclick", this.onQuadClick.bind(e)), t.setDefaultHandler("mousewheel", this.onMouseWheel.bind(e)), ["select", "startSelect", "selectEnd", "selectAllEnd", "selectByWordsEnd", "selectByLinesEnd", "dragWait", "dragWaitEnd", "focusWait"].forEach((function (t) { e[t] = this[t] }), this), e.selectByLines = this.extendSelectionBy.bind(e, "getLineRange"), e.selectByWords = this.extendSelectionBy.bind(e, "getWordRange") } function s(e, t) { if (e.start.row == e.end.row) var i = 2 * t.column - e.start.column - e.end.column; else if (e.start.row != e.end.row - 1 || e.start.column || e.end.column) i = 2 * t.row - e.start.row - e.end.row; else i = t.column - 4; return i < 0 ? { cursor: e.start, anchor: e.end } : { cursor: e.end, anchor: e.start } } (function () { this.onMouseDown = function (e) { var t = e.inSelection(), i = e.getDocumentPosition(); this.mousedownEvent = e; var r = this.editor, s = e.getButton(); return 0 !== s ? (!r.getSelectionRange().isEmpty() && 1 != s || r.selection.moveToPosition(i), void (2 == s && (r.textInput.onContextMenu(e.domEvent), n.isMozilla || e.preventDefault()))) : (this.mousedownEvent.time = Date.now(), !t || r.isFocused() || (r.focus(), !this.$focusTimeout || this.$clickSelection || r.inMultiSelectMode) ? (this.captureMouse(e), this.startSelect(i, 1 < e.domEvent._clicks), e.preventDefault()) : (this.setState("focusWait"), void this.captureMouse(e))) }, this.startSelect = function (e, t) { e = e || this.editor.renderer.screenToTextCoordinates(this.x, this.y); var i = this.editor; this.mousedownEvent && (this.mousedownEvent.getShiftKey() ? i.selection.selectToPosition(e) : t || i.selection.moveToPosition(e), t || this.select(), i.renderer.scroller.setCapture && i.renderer.scroller.setCapture(), i.setStyle("ace_selecting"), this.setState("select")) }, this.select = function () { var e, t = this.editor, i = t.renderer.screenToTextCoordinates(this.x, this.y); if (this.$clickSelection) { var n = this.$clickSelection.comparePoint(i); if (-1 == n) e = this.$clickSelection.end; else if (1 == n) e = this.$clickSelection.start; else { var r = s(this.$clickSelection, i); i = r.cursor, e = r.anchor } t.selection.setSelectionAnchor(e.row, e.column) } t.selection.selectToPosition(i), t.renderer.scrollCursorIntoView() }, this.extendSelectionBy = function (e) { var t, i = this.editor, n = i.renderer.screenToTextCoordinates(this.x, this.y), r = i.selection[e](n.row, n.column); if (this.$clickSelection) { var o = this.$clickSelection.comparePoint(r.start), a = this.$clickSelection.comparePoint(r.end); if (-1 == o && a <= 0) t = this.$clickSelection.end, r.end.row == n.row && r.end.column == n.column || (n = r.start); else if (1 == a && 0 <= o) t = this.$clickSelection.start, r.start.row == n.row && r.start.column == n.column || (n = r.end); else if (-1 == o && 1 == a) n = r.end, t = r.start; else { var l = s(this.$clickSelection, n); n = l.cursor, t = l.anchor } i.selection.setSelectionAnchor(t.row, t.column) } i.selection.selectToPosition(n), i.renderer.scrollCursorIntoView() }, this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function () { this.$clickSelection = null, this.editor.unsetStyle("ace_selecting"), this.editor.renderer.scroller.releaseCapture && this.editor.renderer.scroller.releaseCapture() }, this.focusWait = function () { var e, t, i, n, r = (e = this.mousedownEvent.x, t = this.mousedownEvent.y, i = this.x, n = this.y, Math.sqrt(Math.pow(i - e, 2) + Math.pow(n - t, 2))), s = Date.now(); (0 < r || s - this.mousedownEvent.time > this.$focusTimeout) && this.startSelect(this.mousedownEvent.getDocumentPosition()) }, this.onDoubleClick = function (e) { var t = e.getDocumentPosition(), i = this.editor, n = i.session.getBracketRange(t); n ? (n.isEmpty() && (n.start.column--, n.end.column++), this.setState("select")) : (n = i.selection.getWordRange(t.row, t.column), this.setState("selectByWords")), this.$clickSelection = n, this.select() }, this.onTripleClick = function (e) { var t = e.getDocumentPosition(), i = this.editor; this.setState("selectByLines"); var n = i.getSelectionRange(); n.isMultiLine() && n.contains(t.row, t.column) ? (this.$clickSelection = i.selection.getLineRange(n.start.row), this.$clickSelection.end = i.selection.getLineRange(n.end.row).end) : this.$clickSelection = i.selection.getLineRange(t.row), this.select() }, this.onQuadClick = function (e) { var t = this.editor; t.selectAll(), this.$clickSelection = t.getSelectionRange(), this.setState("selectAll") }, this.onMouseWheel = function (e) { if (!e.getAccelKey()) { e.getShiftKey() && e.wheelY && !e.wheelX && (e.wheelX = e.wheelY, e.wheelY = 0); var t = this.editor; this.$lastScroll || (this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 }); var i = this.$lastScroll, n = e.domEvent.timeStamp, r = n - i.t, s = r ? e.wheelX / r : i.vx, o = r ? e.wheelY / r : i.vy; r < 550 && (s = (s + i.vx) / 2, o = (o + i.vy) / 2); var a = Math.abs(s / o), l = !1; return 1 <= a && t.renderer.isScrollableBy(e.wheelX * e.speed, 0) && (l = !0), a <= 1 && t.renderer.isScrollableBy(0, e.wheelY * e.speed) && (l = !0), l ? i.allowed = n : n - i.allowed < 550 && (Math.abs(s) <= 1.5 * Math.abs(i.vx) && Math.abs(o) <= 1.5 * Math.abs(i.vy) ? (l = !0, i.allowed = n) : i.allowed = 0), i.t = n, i.vx = s, i.vy = o, l ? (t.renderer.scrollBy(e.wheelX * e.speed, e.wheelY * e.speed), e.stop()) : void 0 } } }).call(r.prototype), t.DefaultHandlers = r })), ace.define("ace/tooltip", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom"], (function (e, t, i) { "use strict"; e("./lib/oop"); var n = e("./lib/dom"); function r(e) { this.isOpen = !1, this.$element = null, this.$parentNode = e } (function () { this.$init = function () { return this.$element = n.createElement("div"), this.$element.className = "ace_tooltip", this.$element.style.display = "none", this.$parentNode.appendChild(this.$element), this.$element }, this.getElement = function () { return this.$element || this.$init() }, this.setText = function (e) { this.getElement().textContent = e }, this.setHtml = function (e) { this.getElement().innerHTML = e }, this.setPosition = function (e, t) { this.getElement().style.left = e + "px", this.getElement().style.top = t + "px" }, this.setClassName = function (e) { n.addCssClass(this.getElement(), e) }, this.show = function (e, t, i) { null != e && this.setText(e), null != t && null != i && this.setPosition(t, i), this.isOpen || (this.getElement().style.display = "block", this.isOpen = !0) }, this.hide = function () { this.isOpen && (this.getElement().style.display = "none", this.isOpen = !1) }, this.getHeight = function () { return this.getElement().offsetHeight }, this.getWidth = function () { return this.getElement().offsetWidth }, this.destroy = function () { this.isOpen = !1, this.$element && this.$element.parentNode && this.$element.parentNode.removeChild(this.$element) } }).call(r.prototype), t.Tooltip = r })), ace.define("ace/mouse/default_gutter_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event", "ace/tooltip"], (function (e, t, i) { "use strict"; var n = e("../lib/dom"), r = e("../lib/oop"), s = e("../lib/event"), o = e("../tooltip").Tooltip; function a(e) { o.call(this, e) } r.inherits(a, o), function () { this.setPosition = function (e, t) { var i = window.innerWidth || document.documentElement.clientWidth, n = window.innerHeight || document.documentElement.clientHeight, r = this.getWidth(), s = this.getHeight(); i < (e += 15) + r && (e -= e + r - i), n < (t += 15) + s && (t -= 20 + s), o.prototype.setPosition.call(this, e, t) } }.call(a.prototype), t.GutterHandler = function (e) { var t, i, r, o = e.editor, l = o.renderer.$gutterLayer, c = new a(o.container); function h() { t = t && clearTimeout(t), r && (c.hide(), r = null, o._signal("hideGutterTooltip", c), o.removeEventListener("mousewheel", h)) } function d(e) { c.setPosition(e.x, e.y) } e.editor.setDefaultHandler("guttermousedown", (function (t) { if (o.isFocused() && 0 == t.getButton() && "foldWidgets" != l.getRegion(t)) { var i = t.getDocumentPosition().row, n = o.session.selection; if (t.getShiftKey()) n.selectTo(i, 0); else { if (2 == t.domEvent.detail) return o.selectAll(), t.preventDefault(); e.$clickSelection = o.selection.getLineRange(i) } return e.setState("selectByLines"), e.captureMouse(t), t.preventDefault() } })), e.editor.setDefaultHandler("guttermousemove", (function (s) { var a = s.domEvent.target || s.domEvent.srcElement; if (n.hasCssClass(a, "ace_fold-widget")) return h(); r && e.$tooltipFollowsMouse && d(s), i = s, t = t || setTimeout((function () { t = null, (i && !e.isMousePressed ? function () { var t = i.getDocumentPosition().row, n = l.$annotations[t]; if (!n) return h(); if (t == o.session.getLength()) { var s = o.renderer.pixelToScreenCoordinates(0, i.y).row, a = i.$pos; if (s > o.session.documentToScreenRow(a.row, a.column)) return h() } if (r != n) if (r = n.text.join("<br/>"), c.setHtml(r), c.show(), o._signal("showGutterTooltip", c), o.on("mousewheel", h), e.$tooltipFollowsMouse) d(i); else { var u = i.domEvent.target.getBoundingClientRect(), g = c.getElement().style; g.left = u.right + "px", g.top = u.bottom + "px" } } : h)() }), 50) })), s.addListener(o.renderer.$gutter, "mouseout", (function (e) { i = null, r && !t && (t = setTimeout((function () { t = null, h() }), 50)) })), o.on("changeSession", h) } })), ace.define("ace/mouse/mouse_event", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], (function (e, t, i) { "use strict"; var n = e("../lib/event"), r = e("../lib/useragent"), s = t.MouseEvent = function (e, t) { this.domEvent = e, this.editor = t, this.x = this.clientX = e.clientX, this.y = this.clientY = e.clientY, this.$pos = null, this.$inSelection = null, this.propagationStopped = !1, this.defaultPrevented = !1 }; (function () { this.stopPropagation = function () { n.stopPropagation(this.domEvent), this.propagationStopped = !0 }, this.preventDefault = function () { n.preventDefault(this.domEvent), this.defaultPrevented = !0 }, this.stop = function () { this.stopPropagation(), this.preventDefault() }, this.getDocumentPosition = function () { return this.$pos || (this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY)), this.$pos }, this.inSelection = function () { if (null !== this.$inSelection) return this.$inSelection; var e = this.editor.getSelectionRange(); if (e.isEmpty()) this.$inSelection = !1; else { var t = this.getDocumentPosition(); this.$inSelection = e.contains(t.row, t.column) } return this.$inSelection }, this.getButton = function () { return n.getButton(this.domEvent) }, this.getShiftKey = function () { return this.domEvent.shiftKey }, this.getAccelKey = r.isMac ? function () { return this.domEvent.metaKey } : function () { return this.domEvent.ctrlKey } }).call(s.prototype) })), ace.define("ace/mouse/dragdrop_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], (function (e, t, i) { "use strict"; var n = e("../lib/dom"), r = e("../lib/event"), s = e("../lib/useragent"); function o(e) { var t = e.editor, i = n.createElement("img"); i.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", s.isOpera && (i.style.cssText = "width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"), ["dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag"].forEach((function (t) { e[t] = this[t] }), this), t.addEventListener("mousedown", this.onMouseDown.bind(e)); var o, l, c, h, d, u, g, p, m, f, C, I = t.container, A = 0; function v() { var e, i, n, r, s, o = u; e = u = t.renderer.screenToTextCoordinates(l, c), i = o, n = Date.now(), r = !i || e.row != i.row, s = !i || e.column != i.column, !f || r || s ? (t.moveCursorToPosition(e), f = n, C = { x: l, y: c }) : 5 < a(C.x, C.y, l, c) ? f = null : 200 <= n - f && (t.renderer.scrollCursorIntoView(), f = null), function (e, i) { var n = Date.now(), r = t.renderer.layerConfig.lineHeight, s = t.renderer.layerConfig.characterWidth, o = t.renderer.scroller.getBoundingClientRect(), a = { x: { left: l - o.left, right: o.right - l }, y: { top: c - o.top, bottom: o.bottom - c } }, h = Math.min(a.x.left, a.x.right), d = Math.min(a.y.top, a.y.bottom), u = { row: e.row, column: e.column }; h / s <= 2 && (u.column += a.x.left < a.x.right ? -3 : 2), d / r <= 1 && (u.row += a.y.top < a.y.bottom ? -1 : 1); var g = e.row != u.row, p = e.column != u.column, f = !i || e.row != i.row; g || p && !f ? m ? 200 <= n - m && t.renderer.scrollCursorIntoView(u) : m = n : m = null }(u, o) } function b() { d = t.selection.toOrientedRange(), o = t.session.addMarker(d, "ace_selection", t.getSelectionStyle()), t.clearSelection(), t.isFocused() && t.renderer.$cursorLayer.setBlinking(!1), clearInterval(h), v(), h = setInterval(v, 20), A = 0, r.addListener(document, "mousemove", S) } function y() { clearInterval(h), t.session.removeMarker(o), o = null, t.selection.fromOrientedRange(d), t.isFocused() && !p && t.$resetCursorStyle(), A = 0, f = m = u = d = null, r.removeListener(document, "mousemove", S) } this.onDragStart = function (e) { if (this.cancelDrag || !I.draggable) { var n = this; return setTimeout((function () { n.startSelect(), n.captureMouse(e) }), 0), e.preventDefault() } d = t.getSelectionRange(); var r = e.dataTransfer; r.effectAllowed = t.getReadOnly() ? "copy" : "copyMove", s.isOpera && (t.container.appendChild(i), i.scrollTop = 0), r.setDragImage && r.setDragImage(i, 0, 0), s.isOpera && t.container.removeChild(i), r.clearData(), r.setData("Text", t.session.getTextRange()), p = !0, this.setState("drag") }, this.onDragEnd = function (e) { if (I.draggable = !1, p = !1, this.setState(null), !t.getReadOnly()) { var i = e.dataTransfer.dropEffect; g || "move" != i || t.session.remove(t.getSelectionRange()), t.$resetCursorStyle() } this.editor.unsetStyle("ace_dragging"), this.editor.renderer.setCursorStyle("") }, this.onDragEnter = function (e) { if (!t.getReadOnly() && x(e.dataTransfer)) return l = e.clientX, c = e.clientY, o || b(), A++, e.dataTransfer.dropEffect = g = k(e), r.preventDefault(e) }, this.onDragOver = function (e) { if (!t.getReadOnly() && x(e.dataTransfer)) return l = e.clientX, c = e.clientY, o || (b(), A++), null !== w && (w = null), e.dataTransfer.dropEffect = g = k(e), r.preventDefault(e) }, this.onDragLeave = function (e) { if (--A <= 0 && o) return y(), g = null, r.preventDefault(e) }, this.onDrop = function (e) { if (u) { var i = e.dataTransfer; if (p) switch (g) { case "move": d = d.contains(u.row, u.column) ? { start: u, end: u } : t.moveText(d, u); break; case "copy": d = t.moveText(d, u, !0) } else { var n = i.getData("Text"); d = { start: u, end: t.session.insert(u, n) }, t.focus(), g = null } return y(), r.preventDefault(e) } }, r.addListener(I, "dragstart", this.onDragStart.bind(e)), r.addListener(I, "dragend", this.onDragEnd.bind(e)), r.addListener(I, "dragenter", this.onDragEnter.bind(e)), r.addListener(I, "dragover", this.onDragOver.bind(e)), r.addListener(I, "dragleave", this.onDragLeave.bind(e)), r.addListener(I, "drop", this.onDrop.bind(e)); var w = null; function S() { null == w && (w = setTimeout((function () { null != w && o && y() }), 20)) } function x(e) { var t = e.types; return !t || Array.prototype.some.call(t, (function (e) { return "text/plain" == e || "Text" == e })) } function k(e) { var t = ["copy", "copymove", "all", "uninitialized"], i = s.isMac ? e.altKey : e.ctrlKey, n = "uninitialized"; try { n = e.dataTransfer.effectAllowed.toLowerCase() } catch (e) { } var r = "none"; return i && 0 <= t.indexOf(n) ? r = "copy" : 0 <= ["move", "copymove", "linkmove", "all", "uninitialized"].indexOf(n) ? r = "move" : 0 <= t.indexOf(n) && (r = "copy"), r } } function a(e, t, i, n) { return Math.sqrt(Math.pow(i - e, 2) + Math.pow(n - t, 2)) } (function () { this.dragWait = function () { Date.now() - this.mousedownEvent.time > this.editor.getDragDelay() && this.startDrag() }, this.dragWaitEnd = function () { this.editor.container.draggable = !1, this.startSelect(this.mousedownEvent.getDocumentPosition()), this.selectEnd() }, this.dragReadyEnd = function (e) { this.editor.$resetCursorStyle(), this.editor.unsetStyle("ace_dragging"), this.editor.renderer.setCursorStyle(""), this.dragWaitEnd() }, this.startDrag = function () { this.cancelDrag = !1; var e = this.editor; e.container.draggable = !0, e.renderer.$cursorLayer.setBlinking(!1), e.setStyle("ace_dragging"); var t = s.isWin ? "default" : "move"; e.renderer.setCursorStyle(t), this.setState("dragReady") }, this.onMouseDrag = function (e) { var t = this.editor.container; s.isIE && "dragReady" == this.state && 3 < a(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y) && t.dragDrop(), "dragWait" === this.state && 0 < a(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y) && (t.draggable = !1, this.startSelect(this.mousedownEvent.getDocumentPosition())) }, this.onMouseDown = function (e) { if (this.$dragEnabled) { this.mousedownEvent = e; var t = this.editor, i = e.inSelection(), n = e.getButton(); if (1 === (e.domEvent.detail || 1) && 0 === n && i) { if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey())) return; this.mousedownEvent.time = Date.now(); var r = e.domEvent.target || e.domEvent.srcElement; "unselectable" in r && (r.unselectable = "on"), t.getDragDelay() ? (s.isWebKit && (this.cancelDrag = !0, t.container.draggable = !0), this.setState("dragWait")) : this.startDrag(), this.captureMouse(e, this.onMouseDrag.bind(this)), e.defaultPrevented = !0 } } } }).call(o.prototype), t.DragdropHandler = o })), ace.define("ace/mouse/touch_handler", ["require", "exports", "module", "ace/mouse/mouse_event", "ace/lib/event", "ace/lib/dom"], (function (e, t, i) { "use strict"; var n = e("./mouse_event").MouseEvent, r = e("../lib/event"), s = e("../lib/dom"); t.addTouchListeners = function (e, t) { var i, o, a, l, c, h, d, u, g, p = "scroll", m = 0, f = 0, C = 0, I = 0; function A() { g || function () { function e(e) { var r, o, a = e.target.getAttribute("action"); if ("more" == a || !n) return n = !n, r = t.getCopyText(), o = t.session.getUndoManager().hasUndo(), void g.replaceChild(s.buildDom(n ? ["span", !r && ["span", { "class": "ace_mobile-button", action: "selectall" }, "Select All"], r && ["span", { "class": "ace_mobile-button", action: "copy" }, "Copy"], r && ["span", { "class": "ace_mobile-button", action: "cut" }, "Cut"], i && ["span", { "class": "ace_mobile-button", action: "paste" }, "Paste"], o && ["span", { "class": "ace_mobile-button", action: "undo" }, "Undo"], ["span", { "class": "ace_mobile-button", action: "find" }, "Find"], ["span", { "class": "ace_mobile-button", action: "openCommandPallete" }, "Pallete"]] : ["span"]), g.firstChild); "paste" == a ? i.readText().then((function (e) { t.execCommand(a, e) })) : a && ("cut" != a && "copy" != a || (i ? i.writeText(t.getCopyText()) : document.execCommand("copy")), t.execCommand(a)), g.firstChild.style.display = "none", n = !1, "openCommandPallete" != a && t.focus() } var i = window.navigator && window.navigator.clipboard, n = !1; g = s.buildDom(["div", { "class": "ace_mobile-menu", ontouchstart: function (e) { p = "menu", e.stopPropagation(), e.preventDefault(), t.textInput.focus() }, ontouchend: function (t) { t.stopPropagation(), t.preventDefault(), e(t) }, onclick: e }, ["span"], ["span", { "class": "ace_mobile-button", action: "more" }, "..."]], t.container) }(); var e = t.selection.cursor, i = t.renderer.textToScreenCoordinates(e.row, e.column), n = t.container.getBoundingClientRect(); g.style.top = i.pageY - n.top - 3 + "px", g.style.right = "10px", g.style.display = "", g.firstChild.style.display = "none", t.on("input", v) } function v(e) { g && (g.style.display = "none"), t.off("input", v) } function b() { c = null, clearTimeout(c); var e = t.selection.getRange(), i = e.contains(d.row, d.column); !e.isEmpty() && i || (t.selection.moveToPosition(d), t.selection.selectWord()), p = "wait", A() } r.addListener(e, "contextmenu", (function (e) { u && t.textInput.getElement().focus() })), r.addListener(e, "touchstart", (function (e) { var r = e.touches; if (c || 1 < r.length) return clearTimeout(c), c = null, a = -1, void (p = "zoom"); u = t.$mouseHandler.isMousePressed = !0; var s = t.renderer.layerConfig.lineHeight, h = t.renderer.layerConfig.lineHeight, g = e.timeStamp; l = g; var A = r[0], v = A.clientX, y = A.clientY; Math.abs(i - v) + Math.abs(o - y) > s && (a = -1), i = e.clientX = v, o = e.clientY = y, C = I = 0; var w = new n(e, t); if (d = w.getDocumentPosition(), g - a < 500 && 1 == r.length && !m) f++, e.preventDefault(), e.button = 0, function () { c = null, clearTimeout(c), t.selection.moveToPosition(d); var e = 2 <= f ? t.selection.getLineRange(d.row) : t.session.getBracketRange(d); e && !e.isEmpty() ? t.selection.setRange(e) : t.selection.selectWord(), p = "wait" }(); else { f = 0; var S = t.selection.cursor, x = t.selection.isEmpty() ? S : t.selection.anchor, k = t.renderer.$cursorLayer.getPixelPosition(S, !0), R = t.renderer.$cursorLayer.getPixelPosition(x, !0), E = t.renderer.scroller.getBoundingClientRect(), B = function (e, t) { return (e /= h) * e + (t = t / s - .75) * t }; if (e.clientX < E.left) return void (p = "zoom"); var G = B(e.clientX - E.left - k.left, e.clientY - E.top - k.top), T = B(e.clientX - E.left - R.left, e.clientY - E.top - R.top); G < 3.5 && T < 3.5 && (p = T < G ? "cursor" : "anchor"), p = T < 3.5 ? "anchor" : G < 3.5 ? "cursor" : "scroll", c = setTimeout(b, 450) } a = g })), r.addListener(e, "touchend", (function (e) { u = t.$mouseHandler.isMousePressed = !1, h && clearInterval(h), "zoom" == p ? (p = "", m = 0) : c ? (t.selection.moveToPosition(d), m = 0, A()) : "scroll" == p ? (m += 60, h = setInterval((function () { m-- <= 0 && (clearInterval(h), h = null), Math.abs(C) < .01 && (C = 0), Math.abs(I) < .01 && (I = 0), m < 20 && (C *= .9), m < 20 && (I *= .9); var e = t.session.getScrollTop(); t.renderer.scrollBy(10 * C, 10 * I), e == t.session.getScrollTop() && (m = 0) }), 10), e.preventDefault(), v()) : A(), clearTimeout(c), c = null })), r.addListener(e, "touchmove", (function (e) { c && (clearTimeout(c), c = null); var r = e.touches; if (!(1 < r.length || "zoom" == p)) { var s = r[0], a = i - s.clientX, h = o - s.clientY; if ("wait" == p) { if (!(4 < a * a + h * h)) return e.preventDefault(); p = "cursor" } i = s.clientX, o = s.clientY, e.clientX = s.clientX, e.clientY = s.clientY; var d = e.timeStamp, u = d - l; if (l = d, "scroll" == p) { var g = new n(e, t); g.speed = 1, g.wheelX = a, g.wheelY = h, 10 * Math.abs(a) < Math.abs(h) && (a = 0), 10 * Math.abs(h) < Math.abs(a) && (h = 0), 0 != u && (C = a / u, I = h / u), t._emit("mousewheel", g), g.propagationStopped || (C = I = 0) } else { var m = new n(e, t).getDocumentPosition(); "cursor" == p ? t.selection.moveCursorToPosition(m) : "anchor" == p && t.selection.setSelectionAnchor(m.row, m.column), t.renderer.scrollCursorIntoView(m), e.preventDefault() } } })) } })), ace.define("ace/lib/net", ["require", "exports", "module", "ace/lib/dom"], (function (e, t, i) { "use strict"; var n = e("./dom"); t.get = function (e, t) { var i = new XMLHttpRequest; i.open("GET", e, !0), i.onreadystatechange = function () { 4 === i.readyState && t(i.responseText) }, i.send(null) }, t.loadScript = function (e, t) { var i = n.getDocumentHead(), r = document.createElement("script"); r.src = e, i.appendChild(r), r.onload = r.onreadystatechange = function (e, i) { !i && r.readyState && "loaded" != r.readyState && "complete" != r.readyState || (r = r.onload = r.onreadystatechange = null, i || t()) } }, t.qualifyURL = function (e) { var t = document.createElement("a"); return t.href = e, t.href } })), ace.define("ace/lib/event_emitter", ["require", "exports", "module"], (function (e, t, i) { "use strict"; function n() { this.propagationStopped = !0 } function r() { this.defaultPrevented = !0 } var s = {}; s._emit = s._dispatchEvent = function (e, t) { this._eventRegistry || (this._eventRegistry = {}), this._defaultHandlers || (this._defaultHandlers = {}); var i = this._eventRegistry[e] || [], s = this._defaultHandlers[e]; if (i.length || s) { "object" == typeof t && t || (t = {}), t.type || (t.type = e), t.stopPropagation || (t.stopPropagation = n), t.preventDefault || (t.preventDefault = r), i = i.slice(); for (var o = 0; o < i.length && (i[o](t, this), !t.propagationStopped); o++); return s && !t.defaultPrevented ? s(t, this) : void 0 } }, s._signal = function (e, t) { var i = (this._eventRegistry || {})[e]; if (i) { i = i.slice(); for (var n = 0; n < i.length; n++)i[n](t, this) } }, s.once = function (e, t) { var i = this; if (this.addEventListener(e, (function n() { i.removeEventListener(e, n), t.apply(null, arguments) })), !t) return new Promise((function (e) { t = e })) }, s.setDefaultHandler = function (e, t) { var i = this._defaultHandlers; if ((i = i || (this._defaultHandlers = { _disabled_: {} }))[e]) { var n = i[e], r = i._disabled_[e]; r || (i._disabled_[e] = r = []), r.push(n); var s = r.indexOf(t); -1 != s && r.splice(s, 1) } i[e] = t }, s.removeDefaultHandler = function (e, t) { var i = this._defaultHandlers; if (i) { var n = i._disabled_[e]; if (i[e] == t) n && this.setDefaultHandler(e, n.pop()); else if (n) { var r = n.indexOf(t); -1 != r && n.splice(r, 1) } } }, s.on = s.addEventListener = function (e, t, i) { this._eventRegistry = this._eventRegistry || {}; var n = this._eventRegistry[e]; return -1 == (n = n || (this._eventRegistry[e] = [])).indexOf(t) && n[i ? "unshift" : "push"](t), t }, s.off = s.removeListener = s.removeEventListener = function (e, t) { this._eventRegistry = this._eventRegistry || {}; var i = this._eventRegistry[e]; if (i) { var n = i.indexOf(t); -1 !== n && i.splice(n, 1) } }, s.removeAllListeners = function (e) { this._eventRegistry && (this._eventRegistry[e] = []) }, t.EventEmitter = s })), ace.define("ace/lib/app_config", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], (function (e, t, i) { var n = e("./oop"), r = e("./event_emitter").EventEmitter, s = { setOptions: function (e) { Object.keys(e).forEach((function (t) { this.setOption(t, e[t]) }), this) }, getOptions: function (e) { var t = {}; if (e) Array.isArray(e) || (t = e, e = Object.keys(t)); else { var i = this.$options; e = Object.keys(i).filter((function (e) { return !i[e].hidden })) } return e.forEach((function (e) { t[e] = this.getOption(e) }), this), t }, setOption: function (e, t) { if (this["$" + e] !== t) { var i = this.$options[e]; if (!i) return o('misspelled option "' + e + '"'); if (i.forwardTo) return this[i.forwardTo] && this[i.forwardTo].setOption(e, t); i.handlesSet || (this["$" + e] = t), i && i.set && i.set.call(this, t) } }, getOption: function (e) { var t = this.$options[e]; return t ? t.forwardTo ? this[t.forwardTo] && this[t.forwardTo].getOption(e) : t && t.get ? t.get.call(this) : this["$" + e] : o('misspelled option "' + e + '"') } }; function o(e) { "undefined" != typeof console && console.warn && console.warn.apply(console, arguments) } function a(e, t) { var i = new Error(e); i.data = t, "object" == typeof console && console.error && console.error(i), setTimeout((function () { throw i })) } function l() { this.$defaultOptions = {} } (function () { n.implement(this, r), this.defineOptions = function (e, t, i) { return e.$options || (this.$defaultOptions[t] = e.$options = {}), Object.keys(i).forEach((function (t) { var n = i[t]; "string" == typeof n && (n = { forwardTo: n }), n.name || (n.name = t), "initialValue" in (e.$options[n.name] = n) && (e["$" + n.name] = n.initialValue) })), n.implement(e, s), this }, this.resetOptions = function (e) { Object.keys(e.$options).forEach((function (t) { var i = e.$options[t]; "value" in i && e.setOption(t, i.value) })) }, this.setDefaultValue = function (e, t, i) { if (!e) { for (e in this.$defaultOptions) if (this.$defaultOptions[e][t]) break; if (!this.$defaultOptions[e][t]) return !1 } var n = this.$defaultOptions[e] || (this.$defaultOptions[e] = {}); n[t] && (n.forwardTo ? this.setDefaultValue(n.forwardTo, t, i) : n[t].value = i) }, this.setDefaultValues = function (e, t) { Object.keys(t).forEach((function (i) { this.setDefaultValue(e, i, t[i]) }), this) }, this.warn = o, this.reportError = a }).call(l.prototype), t.AppConfig = l })), ace.define("ace/config", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/lib/net", "ace/lib/app_config"], (function (e, t, n) { var r = e("./lib/lang"), s = (e("./lib/oop"), e("./lib/net")), o = e("./lib/app_config").AppConfig; n.exports = t = new o; var a = function () { return this || "undefined" != typeof window && window }(), l = { packaged: !1, workerPath: null, modePath: null, themePath: null, basePath: "", suffix: ".js", $moduleUrls: {}, loadWorkerFromBlob: !0, sharedPopups: !1 }; t.get = function (e) { if (!l.hasOwnProperty(e)) throw new Error("Unknown config key: " + e); return l[e] }, t.set = function (e, t) { if (l.hasOwnProperty(e)) l[e] = t; else if (0 == this.setDefaultValue("", e, t)) throw new Error("Unknown config key: " + e) }, t.all = function () { return r.copyObject(l) }, t.$modes = {}, t.moduleUrl = function (e, t) { if (l.$moduleUrls[e]) return l.$moduleUrls[e]; var i = e.split("/"), n = "snippets" == (t = t || i[i.length - 2] || "") ? "/" : "-", r = i[i.length - 1]; if ("worker" == t && "-" == n) { var s = new RegExp("^" + t + "[\\-_]|[\\-_]" + t + "$", "g"); r = r.replace(s, "") } (!r || r == t) && 1 < i.length && (r = i[i.length - 2]); var o = l[t + "Path"]; return null == o ? o = l.basePath : "/" == n && (t = n = ""), o && "/" != o.slice(-1) && (o += "/"), o + t + n + r + this.get("suffix") }, t.setModuleUrl = function (e, t) { return l.$moduleUrls[e] = t }, t.$loading = {}, t.loadModule = function (i, n) { var r, o; Array.isArray(i) && (o = i[0], i = i[1]); try { r = e(i) } catch (n) { } if (r && !t.$loading[i]) return n && n(r); if (t.$loading[i] || (t.$loading[i] = []), t.$loading[i].push(n), !(1 < t.$loading[i].length)) { function a() { e([i], (function (e) { t._emit("load.module", { name: i, module: e }); var n = t.$loading[i]; t.$loading[i] = null, n.forEach((function (t) { t && t(e) })) })) } if (!t.get("packaged")) return a(); s.loadScript(t.moduleUrl(i, o), a), c() } }; var c = function () { l.basePath || l.workerPath || l.modePath || l.themePath || Object.keys(l.$moduleUrls).length || (console.error("Unable to infer path to ace from script src,", "use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes", "or with webpack use ace/webpack-resolver"), c = function () { }) }; function h(r) { if (a && a.document) { l.packaged = r || e.packaged || n.packaged || a.define && i(23).packaged; for (var s = {}, o = "", c = document.currentScript || document._currentScript, h = (c && c.ownerDocument || document).getElementsByTagName("script"), d = 0; d < h.length; d++) { var u = h[d], g = u.src || u.getAttribute("src"); if (g) { for (var p = u.attributes, m = 0, f = p.length; m < f; m++) { var C = p[m]; 0 === C.name.indexOf("data-ace-") && (s[C.name.replace(/^data-ace-/, "").replace(/-(.)/g, (function (e, t) { return t.toUpperCase() }))] = C.value) } var I = g.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/); I && (o = I[1]) } } for (var A in o && (s.base = s.base || o, s.packaged = !0), s.basePath = s.base, s.workerPath = s.workerPath || s.base, s.modePath = s.modePath || s.base, s.themePath = s.themePath || s.base, delete s.base, s) void 0 !== s[A] && t.set(A, s[A]) } } h(!0), t.init = h, t.version = "1.4.8" })), ace.define("ace/mouse/mouse_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/mouse/default_handlers", "ace/mouse/default_gutter_handler", "ace/mouse/mouse_event", "ace/mouse/dragdrop_handler", "ace/mouse/touch_handler", "ace/config"], (function (e, t, i) { "use strict"; function n(e) { var t = this; function i(t) { document.hasFocus && document.hasFocus() && (e.isFocused() || document.activeElement != (e.textInput && e.textInput.getElement())) || window.focus(), e.focus() } this.editor = e, new o(this), new a(this), new c(this); var n = e.renderer.getMouseEventTarget(); r.addListener(n, "click", this.onMouseEvent.bind(this, "click")), r.addListener(n, "mousemove", this.onMouseMove.bind(this, "mousemove")), r.addMultiMouseDownListener([n, e.renderer.scrollBarV && e.renderer.scrollBarV.inner, e.renderer.scrollBarH && e.renderer.scrollBarH.inner, e.textInput && e.textInput.getElement()].filter(Boolean), [400, 300, 250], this, "onMouseEvent"), r.addMouseWheelListener(e.container, this.onMouseWheel.bind(this, "mousewheel")), h(e.container, e); var l = e.renderer.$gutter; r.addListener(l, "mousedown", this.onMouseEvent.bind(this, "guttermousedown")), r.addListener(l, "click", this.onMouseEvent.bind(this, "gutterclick")), r.addListener(l, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick")), r.addListener(l, "mousemove", this.onMouseEvent.bind(this, "guttermousemove")), r.addListener(n, "mousedown", i), r.addListener(l, "mousedown", i), s.isIE && e.renderer.scrollBarV && (r.addListener(e.renderer.scrollBarV.element, "mousedown", i), r.addListener(e.renderer.scrollBarH.element, "mousedown", i)), e.on("mousemove", (function (i) { if (!t.state && !t.$dragDelay && t.$dragEnabled) { var n = e.renderer.screenToTextCoordinates(i.x, i.y), r = e.session.selection.getRange(), s = e.renderer; !r.isEmpty() && r.insideStart(n.row, n.column) ? s.setCursorStyle("default") : s.setCursorStyle("") } })) } var r = e("../lib/event"), s = e("../lib/useragent"), o = e("./default_handlers").DefaultHandlers, a = e("./default_gutter_handler").GutterHandler, l = e("./mouse_event").MouseEvent, c = e("./dragdrop_handler").DragdropHandler, h = e("./touch_handler").addTouchListeners, d = e("../config"); (function () { this.onMouseEvent = function (e, t) { this.editor._emit(e, new l(t, this.editor)) }, this.onMouseMove = function (e, t) { var i = this.editor._eventRegistry && this.editor._eventRegistry.mousemove; i && i.length && this.editor._emit(e, new l(t, this.editor)) }, this.onMouseWheel = function (e, t) { var i = new l(t, this.editor); i.speed = 2 * this.$scrollSpeed, i.wheelX = t.wheelX, i.wheelY = t.wheelY, this.editor._emit(e, i) }, this.setState = function (e) { this.state = e }, this.captureMouse = function (e, t) { this.x = e.x, this.y = e.y, this.isMousePressed = !0; var i = this.editor, n = this.editor.renderer; function o(e) { if (e) { if (s.isWebKit && !e.which && c.releaseMouse) return c.releaseMouse(); c.x = e.clientX, c.y = e.clientY, t && t(e), c.mouseEvent = new l(e, c.editor), c.$mouseMoved = !0 } } function a(e) { i.off("beforeEndOperation", d), clearInterval(u), h(), c[c.state + "End"] && c[c.state + "End"](e), c.state = "", c.isMousePressed = n.$isMousePressed = !1, n.$keepTextAreaAtCursor && n.$moveTextAreaToCursor(), c.$onCaptureMouseMove = c.releaseMouse = null, e && c.onMouseEvent("mouseup", e), i.endOperation() } n.$isMousePressed = !0; var c = this, h = function () { c[c.state] && c[c.state](), c.$mouseMoved = !1 }; if (s.isOldIE && "dblclick" == e.domEvent.type) return setTimeout((function () { a(e) })); var d = function (e) { c.releaseMouse && i.curOp.command.name && i.curOp.selectionChanged && (c[c.state + "End"] && c[c.state + "End"](), c.state = "", c.releaseMouse()) }; i.on("beforeEndOperation", d), i.startOperation({ command: { name: "mouse" } }), c.$onCaptureMouseMove = o, c.releaseMouse = r.capture(this.editor.container, o, a); var u = setInterval(h, 20) }, this.releaseMouse = null, this.cancelContextMenu = function () { var e = function (t) { t && t.domEvent && "contextmenu" != t.domEvent.type || (this.editor.off("nativecontextmenu", e), t && t.domEvent && r.stopEvent(t.domEvent)) }.bind(this); setTimeout(e, 10), this.editor.on("nativecontextmenu", e) } }).call(n.prototype), d.defineOptions(n.prototype, "mouseHandler", { scrollSpeed: { initialValue: 2 }, dragDelay: { initialValue: s.isMac ? 150 : 0 }, dragEnabled: { initialValue: !0 }, focusTimeout: { initialValue: 0 }, tooltipFollowsMouse: { initialValue: !0 } }), t.MouseHandler = n })), ace.define("ace/mouse/fold_handler", ["require", "exports", "module", "ace/lib/dom"], (function (e, t, i) { "use strict"; var n = e("../lib/dom"); t.FoldHandler = function (e) { e.on("click", (function (t) { var i = t.getDocumentPosition(), r = e.session, s = r.getFoldAt(i.row, i.column, 1); s && (t.getAccelKey() ? r.removeFold(s) : r.expandFold(s), t.stop()); var o = t.domEvent && t.domEvent.target; o && n.hasCssClass(o, "ace_inline_button") && n.hasCssClass(o, "ace_toggle_wrap") && (r.setOption("wrap", !r.getUseWrapMode()), e.renderer.scrollCursorIntoView()) })), e.on("gutterclick", (function (t) { if ("foldWidgets" == e.renderer.$gutterLayer.getRegion(t)) { var i = t.getDocumentPosition().row, n = e.session; n.foldWidgets && n.foldWidgets[i] && e.session.onFoldWidgetClick(i, t), e.isFocused() || e.focus(), t.stop() } })), e.on("gutterdblclick", (function (t) { if ("foldWidgets" == e.renderer.$gutterLayer.getRegion(t)) { var i = t.getDocumentPosition().row, n = e.session, r = n.getParentFoldRangeData(i, !0), s = r.range || r.firstRange; if (s) { i = s.start.row; var o = n.getFoldAt(i, n.getLine(i).length, 1); o ? n.removeFold(o) : (n.addFold("...", s), e.renderer.scrollCursorIntoView({ row: s.start.row, column: 0 })) } t.stop() } })) } })), ace.define("ace/keyboard/keybinding", ["require", "exports", "module", "ace/lib/keys", "ace/lib/event"], (function (e, t, i) { "use strict"; function n(e) { this.$editor = e, this.$data = { editor: e }, this.$handlers = [], this.setDefaultHandler(e.commands) } var r = e("../lib/keys"), s = e("../lib/event"); (function () { this.setDefaultHandler = function (e) { this.removeKeyboardHandler(this.$defaultHandler), this.$defaultHandler = e, this.addKeyboardHandler(e, 0) }, this.setKeyboardHandler = function (e) { var t = this.$handlers; if (t[t.length - 1] != e) { for (; t[t.length - 1] && t[t.length - 1] != this.$defaultHandler;)this.removeKeyboardHandler(t[t.length - 1]); this.addKeyboardHandler(e, 1) } }, this.addKeyboardHandler = function (e, t) { if (e) { "function" != typeof e || e.handleKeyboard || (e.handleKeyboard = e); var i = this.$handlers.indexOf(e); -1 != i && this.$handlers.splice(i, 1), null == t ? this.$handlers.push(e) : this.$handlers.splice(t, 0, e), -1 == i && e.attach && e.attach(this.$editor) } }, this.removeKeyboardHandler = function (e) { var t = this.$handlers.indexOf(e); return -1 != t && (this.$handlers.splice(t, 1), e.detach && e.detach(this.$editor), !0) }, this.getKeyboardHandler = function () { return this.$handlers[this.$handlers.length - 1] }, this.getStatusText = function () { var e = this.$data, t = e.editor; return this.$handlers.map((function (i) { return i.getStatusText && i.getStatusText(t, e) || "" })).filter(Boolean).join(" ") }, this.$callKeyboardHandlers = function (e, t, i, n) { for (var r, o = !1, a = this.$editor.commands, l = this.$handlers.length; l-- && !((r = this.$handlers[l].handleKeyboard(this.$data, e, t, i, n)) && r.command && ((o = "null" == r.command || a.exec(r.command, this.$editor, r.args, n)) && n && -1 != e && 1 != r.passEvent && 1 != r.command.passEvent && s.stopEvent(n), o));); return o || -1 != e || (r = { command: "insertstring" }, o = a.exec("insertstring", this.$editor, t)), o && this.$editor._signal && this.$editor._signal("keyboardActivity", r), o }, this.onCommandKey = function (e, t, i) { var n = r.keyCodeToString(i); return this.$callKeyboardHandlers(t, n, i, e) }, this.onTextInput = function (e) { return this.$callKeyboardHandlers(-1, e) } }).call(n.prototype), t.KeyBinding = n })), ace.define("ace/lib/bidiutil", ["require", "exports", "module"], (function (e, t, i) { "use strict"; var n = 0, r = 0, s = !1, o = !1, a = !1, l = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 17, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 21, 21, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]], c = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 33, 3, 1, 1]], h = 0, d = 1, u = 2, g = 3, p = 4, m = 5, f = 6, C = 7, I = 8, A = 9, v = 10, b = 11, y = 12, w = 13, S = 14, x = 15, k = 16, R = 17, E = 18, B = [E, E, E, E, E, E, E, E, E, f, m, f, I, m, E, E, E, E, E, E, E, E, E, E, E, E, E, E, m, m, m, f, I, p, p, b, b, b, p, p, p, p, p, v, A, v, A, A, u, u, u, u, u, u, u, u, u, u, A, p, p, p, p, p, p, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, p, p, p, p, p, p, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, h, p, p, p, p, E, E, E, E, E, E, m, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, E, A, p, b, b, b, b, p, p, p, p, h, p, p, E, p, p, b, b, u, u, p, h, p, p, p, u, h, p, p, p, p, p], G = [I, I, I, I, I, I, I, I, I, I, I, E, E, E, h, d, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, I, m, w, S, x, k, R, A, b, b, b, b, b, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, A, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, I]; function T(e, t, i) { if (!(r < e)) if (1 != e || 1 != n || o) for (var s, a, l, c, h = i.length, d = 0; d < h;) { if (t[d] >= e) { for (s = d + 1; s < h && t[s] >= e;)s++; for (a = d, l = s - 1; a < l; a++, l--)c = i[a], i[a] = i[l], i[l] = c; d = s } d++ } else i.reverse() } function Z(e, t, i, r) { var l, c, B, G, T = t[r]; switch (T) { case h: case d: s = !1; case p: case g: return T; case u: return s ? g : u; case C: return s = !0, d; case I: return p; case A: return r < 1 || r + 1 >= t.length || (l = i[r - 1]) != u && l != g || (c = t[r + 1]) != u && c != g ? p : (s && (c = g), c == l ? c : p); case v: return (l = 0 < r ? i[r - 1] : m) == u && r + 1 < t.length && t[r + 1] == u ? u : p; case b: if (0 < r && i[r - 1] == u) return u; if (s) return p; for (G = r + 1, B = t.length; G < B && t[G] == b;)G++; return G < B && t[G] == u ? u : p; case y: for (B = t.length, G = r + 1; G < B && t[G] == y;)G++; if (G < B) { var Z = e[r], W = 1425 <= Z && Z <= 2303 || 64286 == Z; if (l = t[G], W && (l == d || l == C)) return d } return r < 1 || (l = t[r - 1]) == m ? p : i[r - 1]; case m: return o = !(s = !1), n; case f: return a = !0, p; case w: case S: case k: case R: case x: s = !1; case E: return p } } function W(e) { var t = e.charCodeAt(0), i = t >> 8; return 0 == i ? 191 < t ? h : B[t] : 5 == i ? /[\u0591-\u05f4]/.test(e) ? d : h : 6 == i ? /[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e) ? y : /[\u0660-\u0669\u066b-\u066c]/.test(e) ? g : 1642 == t ? b : /[\u06f0-\u06f9]/.test(e) ? u : C : 32 == i && t <= 8287 ? G[255 & t] : 254 == i && 65136 <= t ? C : p } t.L = h, t.R = d, t.EN = u, t.ON_R = 3, t.AN = 4, t.R_H = 5, t.B = 6, t.RLE = 7, t.DOT = "·", t.doBidiReorder = function (e, i, h) { if (e.length < 2) return {}; var u = e.split(""), A = new Array(u.length), v = new Array(u.length), b = []; n = h ? 1 : 0, function (e, t, i, h) { var d = n ? c : l, u = null, g = null, p = null, C = 0, A = null, v = -1, b = null, y = null, w = []; if (!h) for (b = 0, h = []; b < i; b++)h[b] = W(e[b]); for (r = n, a = o = s = !1, y = 0; y < i; y++) { if (u = C, w[y] = g = Z(e, h, w, y), A = 240 & (C = d[u][g]), C &= 15, t[y] = p = d[C][5], 0 < A) if (16 == A) { for (b = v; b < y; b++)t[b] = 1; v = -1 } else v = -1; if (d[C][6]) -1 == v && (v = y); else if (-1 < v) { for (b = v; b < y; b++)t[b] = p; v = -1 } h[y] == m && (t[y] = 0), r |= p } if (a) for (b = 0; b < i; b++)if (h[b] == f) { t[b] = n; for (var S = b - 1; 0 <= S && h[S] == I; S--)t[S] = n } }(u, b, u.length, i); for (var y = 0; y < A.length; A[y] = y, y++); for (T(2, b, A), T(1, b, A), y = 0; y < A.length - 1; y++)i[y] === g ? b[y] = t.AN : b[y] === d && (i[y] > C && i[y] < w || i[y] === p || i[y] === E) ? b[y] = t.ON_R : 0 < y && "ل" === u[y - 1] && /\u0622|\u0623|\u0625|\u0627/.test(u[y]) && (b[y - 1] = b[y] = t.R_H, y++); for (u[u.length - 1] === t.DOT && (b[u.length - 1] = t.B), "‫" === u[0] && (b[0] = t.RLE), y = 0; y < A.length; y++)v[y] = b[A[y]]; return { logicalFromVisual: A, bidiLevels: v } }, t.hasBidiCharacters = function (e, t) { for (var i = !1, n = 0; n < e.length; n++)t[n] = W(e.charAt(n)), i || t[n] != d && t[n] != C && t[n] != g || (i = !0); return i }, t.getVisualFromLogicalIdx = function (e, t) { for (var i = 0; i < t.logicalFromVisual.length; i++)if (t.logicalFromVisual[i] == e) return i; return 0 } })), ace.define("ace/bidihandler", ["require", "exports", "module", "ace/lib/bidiutil", "ace/lib/lang"], (function (e, t, i) { "use strict"; function n(e) { this.session = e, this.bidiMap = {}, this.currentRow = null, this.bidiUtil = r, this.charWidths = [], this.EOL = "¬", this.showInvisibles = !0, this.isRtlDir = !1, this.$isRtl = !1, this.line = "", this.wrapIndent = 0, this.EOF = "¶", this.RLE = "‫", this.contentWidth = 0, this.fontMetrics = null, this.rtlLineOffset = 0, this.wrapOffset = 0, this.isMoveLeftOperation = !1, this.seenBidi = o.test(e.getValue()) } var r = e("./lib/bidiutil"), s = e("./lib/lang"), o = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/; (function () { this.isBidiRow = function (e, t, i) { return !!this.seenBidi && (e !== this.currentRow && (this.currentRow = e, this.updateRowLine(t, i), this.updateBidiMap()), this.bidiMap.bidiLevels) }, this.onChange = function (e) { this.seenBidi ? this.currentRow = null : "insert" == e.action && o.test(e.lines.join("\n")) && (this.seenBidi = !0, this.currentRow = null) }, this.getDocumentRow = function () { var e = 0, t = this.session.$screenRowCache; if (t.length) { var i = this.session.$getRowCacheIndex(t, this.currentRow); 0 <= i && (e = this.session.$docRowCache[i]) } return e }, this.getSplitIndex = function () { var e = 0, t = this.session.$screenRowCache; if (t.length) for (var i, n = this.session.$getRowCacheIndex(t, this.currentRow); 0 < this.currentRow - e && (i = this.session.$getRowCacheIndex(t, this.currentRow - e - 1)) === n;)n = i, e++; else e = this.currentRow; return e }, this.updateRowLine = function (e, t) { void 0 === e && (e = this.getDocumentRow()); var i = e === this.session.getLength() - 1 ? this.EOF : this.EOL; if (this.wrapIndent = 0, this.line = this.session.getLine(e), this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE, this.session.$useWrapMode) { var n = this.session.$wrapData[e]; n && (void 0 === t && (t = this.getSplitIndex()), 0 < t && n.length ? (this.wrapIndent = n.indent, this.wrapOffset = this.wrapIndent * this.charWidths[r.L], this.line = t < n.length ? this.line.substring(n[t - 1], n[t]) : this.line.substring(n[n.length - 1])) : this.line = this.line.substring(0, n[t])), t == n.length && (this.line += this.showInvisibles ? i : r.DOT) } else this.line += this.showInvisibles ? i : r.DOT; var o, a = this.session, l = 0; this.line = this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g, (function (e, t) { return "\t" === e || a.isFullWidth(e.charCodeAt(0)) ? (o = "\t" === e ? a.getScreenTabSize(t + l) : 2, l += o - 1, s.stringRepeat(r.DOT, o)) : e })), this.isRtlDir && (this.fontMetrics.$main.textContent = this.line.charAt(this.line.length - 1) == r.DOT ? this.line.substr(0, this.line.length - 1) : this.line, this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width) }, this.updateBidiMap = function () { var e = []; r.hasBidiCharacters(this.line, e) || this.isRtlDir ? this.bidiMap = r.doBidiReorder(this.line, e, this.isRtlDir) : this.bidiMap = {} }, this.markAsDirty = function () { this.currentRow = null }, this.updateCharacterWidths = function (e) { if (this.characterWidth !== e.$characterSize.width) { this.fontMetrics = e; var t = this.characterWidth = e.$characterSize.width, i = e.$measureCharWidth("ה"); this.charWidths[r.L] = this.charWidths[r.EN] = this.charWidths[r.ON_R] = t, this.charWidths[r.R] = this.charWidths[r.AN] = i, this.charWidths[r.R_H] = .45 * i, this.charWidths[r.B] = this.charWidths[r.RLE] = 0, this.currentRow = null } }, this.setShowInvisibles = function (e) { this.showInvisibles = e, this.currentRow = null }, this.setEolChar = function (e) { this.EOL = e }, this.setContentWidth = function (e) { this.contentWidth = e }, this.isRtlLine = function (e) { return !!this.$isRtl || (null != e ? this.session.getLine(e).charAt(0) == this.RLE : this.isRtlDir) }, this.setRtlDirection = function (e, t) { for (var i = e.getCursorPosition(), n = e.selection.getSelectionAnchor().row; n <= i.row; n++)t || e.session.getLine(n).charAt(0) !== e.session.$bidiHandler.RLE ? t && e.session.getLine(n).charAt(0) !== e.session.$bidiHandler.RLE && e.session.doc.insert({ column: 0, row: n }, e.session.$bidiHandler.RLE) : e.session.doc.removeInLine(n, 0, 1) }, this.getPosLeft = function (e) { e -= this.wrapIndent; var t = this.line.charAt(0) === this.RLE ? 1 : 0, i = t < e ? this.session.getOverwrite() ? e : e - 1 : t, n = r.getVisualFromLogicalIdx(i, this.bidiMap), s = this.bidiMap.bidiLevels, o = 0; !this.session.getOverwrite() && e <= t && s[n] % 2 != 0 && n++; for (var a = 0; a < n; a++)o += this.charWidths[s[a]]; return !this.session.getOverwrite() && t < e && s[n] % 2 == 0 && (o += this.charWidths[s[n]]), this.wrapIndent && (o += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset), this.isRtlDir && (o += this.rtlLineOffset), o }, this.getSelections = function (e, t) { var i, n = this.bidiMap, r = n.bidiLevels, s = [], o = 0, a = Math.min(e, t) - this.wrapIndent, l = Math.max(e, t) - this.wrapIndent, c = !1, h = !1, d = 0; this.wrapIndent && (o += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset); for (var u, g = 0; g < r.length; g++)u = n.logicalFromVisual[g], i = r[g], (c = a <= u && u < l) && !h ? d = o : !c && h && s.push({ left: d, width: o - d }), o += this.charWidths[i], h = c; if (c && g === r.length && s.push({ left: d, width: o - d }), this.isRtlDir) for (var p = 0; p < s.length; p++)s[p].left += this.rtlLineOffset; return s }, this.offsetToCol = function (e) { this.isRtlDir && (e -= this.rtlLineOffset); var t = 0, i = (e = Math.max(e, 0), 0), n = 0, r = this.bidiMap.bidiLevels, s = this.charWidths[r[n]]; for (this.wrapIndent && (e -= this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset); i + s / 2 < e;) { if (i += s, n === r.length - 1) { s = 0; break } s = this.charWidths[r[++n]] } return 0 === (t = 0 < n && r[n - 1] % 2 != 0 && r[n] % 2 == 0 ? (e < i && n--, this.bidiMap.logicalFromVisual[n]) : 0 < n && r[n - 1] % 2 == 0 && r[n] % 2 != 0 ? 1 + (i < e ? this.bidiMap.logicalFromVisual[n] : this.bidiMap.logicalFromVisual[n - 1]) : this.isRtlDir && n === r.length - 1 && 0 === s && r[n - 1] % 2 == 0 || !this.isRtlDir && 0 === n && r[n] % 2 != 0 ? 1 + this.bidiMap.logicalFromVisual[n] : (0 < n && r[n - 1] % 2 != 0 && 0 !== s && n--, this.bidiMap.logicalFromVisual[n])) && this.isRtlDir && t++, t + this.wrapIndent } }).call(n.prototype), t.BidiHandler = n })), ace.define("ace/selection", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/range"], (function (e, t, i) { "use strict"; function n(e) { this.session = e, this.doc = e.getDocument(), this.clearSelection(), this.cursor = this.lead = this.doc.createAnchor(0, 0), this.anchor = this.doc.createAnchor(0, 0), this.$silent = !1; var t = this; this.cursor.on("change", (function (e) { t.$cursorChanged = !0, t.$silent || t._emit("changeCursor"), t.$isEmpty || t.$silent || t._emit("changeSelection"), t.$keepDesiredColumnOnChange || e.old.column == e.value.column || (t.$desiredColumn = null) })), this.anchor.on("change", (function () { t.$anchorChanged = !0, t.$isEmpty || t.$silent || t._emit("changeSelection") })) } var r = e("./lib/oop"), s = e("./lib/lang"), o = e("./lib/event_emitter").EventEmitter, a = e("./range").Range; (function () { r.implement(this, o), this.isEmpty = function () { return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column }, this.isMultiLine = function () { return !this.$isEmpty && this.anchor.row != this.cursor.row }, this.getCursor = function () { return this.lead.getPosition() }, this.setSelectionAnchor = function (e, t) { this.$isEmpty = !1, this.anchor.setPosition(e, t) }, this.getAnchor = this.getSelectionAnchor = function () { return this.$isEmpty ? this.getSelectionLead() : this.anchor.getPosition() }, this.getSelectionLead = function () { return this.lead.getPosition() }, this.isBackwards = function () { var e = this.anchor, t = this.lead; return e.row > t.row || e.row == t.row && e.column > t.column }, this.getRange = function () { var e = this.anchor, t = this.lead; return this.$isEmpty ? a.fromPoints(t, t) : this.isBackwards() ? a.fromPoints(t, e) : a.fromPoints(e, t) }, this.clearSelection = function () { this.$isEmpty || (this.$isEmpty = !0, this._emit("changeSelection")) }, this.selectAll = function () { this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE) }, this.setRange = this.setSelectionRange = function (e, t) { var i = t ? e.end : e.start, n = t ? e.start : e.end; this.$setSelection(i.row, i.column, n.row, n.column) }, this.$setSelection = function (e, t, i, n) { if (!this.$silent) { var r = this.$isEmpty, s = this.inMultiSelectMode; this.$silent = !0, this.$cursorChanged = this.$anchorChanged = !1, this.anchor.setPosition(e, t), this.cursor.setPosition(i, n), this.$isEmpty = !a.comparePoints(this.anchor, this.cursor), this.$silent = !1, this.$cursorChanged && this._emit("changeCursor"), (this.$cursorChanged || this.$anchorChanged || r != this.$isEmpty || s) && this._emit("changeSelection") } }, this.$moveSelection = function (e) { var t = this.lead; this.$isEmpty && this.setSelectionAnchor(t.row, t.column), e.call(this) }, this.selectTo = function (e, t) { this.$moveSelection((function () { this.moveCursorTo(e, t) })) }, this.selectToPosition = function (e) { this.$moveSelection((function () { this.moveCursorToPosition(e) })) }, this.moveTo = function (e, t) { this.clearSelection(), this.moveCursorTo(e, t) }, this.moveToPosition = function (e) { this.clearSelection(), this.moveCursorToPosition(e) }, this.selectUp = function () { this.$moveSelection(this.moveCursorUp) }, this.selectDown = function () { this.$moveSelection(this.moveCursorDown) }, this.selectRight = function () { this.$moveSelection(this.moveCursorRight) }, this.selectLeft = function () { this.$moveSelection(this.moveCursorLeft) }, this.selectLineStart = function () { this.$moveSelection(this.moveCursorLineStart) }, this.selectLineEnd = function () { this.$moveSelection(this.moveCursorLineEnd) }, this.selectFileEnd = function () { this.$moveSelection(this.moveCursorFileEnd) }, this.selectFileStart = function () { this.$moveSelection(this.moveCursorFileStart) }, this.selectWordRight = function () { this.$moveSelection(this.moveCursorWordRight) }, this.selectWordLeft = function () { this.$moveSelection(this.moveCursorWordLeft) }, this.getWordRange = function (e, t) { if (void 0 === t) { var i = e || this.lead; e = i.row, t = i.column } return this.session.getWordRange(e, t) }, this.selectWord = function () { this.setSelectionRange(this.getWordRange()) }, this.selectAWord = function () { var e = this.getCursor(), t = this.session.getAWordRange(e.row, e.column); this.setSelectionRange(t) }, this.getLineRange = function (e, t) { var i, n = "number" == typeof e ? e : this.lead.row, r = this.session.getFoldLine(n); return i = r ? (n = r.start.row, r.end.row) : n, !0 === t ? new a(n, 0, i, this.session.getLine(i).length) : new a(n, 0, i + 1, 0) }, this.selectLine = function () { this.setSelectionRange(this.getLineRange()) }, this.moveCursorUp = function () { this.moveCursorBy(-1, 0) }, this.moveCursorDown = function () { this.moveCursorBy(1, 0) }, this.wouldMoveIntoSoftTab = function (e, t, i) { var n = e.column, r = e.column + t; return i < 0 && (n = e.column - t, r = e.column), this.session.isTabStop(e) && this.doc.getLine(e.row).slice(n, r).split(" ").length - 1 == t }, this.moveCursorLeft = function () { var e, t = this.lead.getPosition(); if (e = this.session.getFoldAt(t.row, t.column, -1)) this.moveCursorTo(e.start.row, e.start.column); else if (0 === t.column) 0 < t.row && this.moveCursorTo(t.row - 1, this.doc.getLine(t.row - 1).length); else { var i = this.session.getTabSize(); this.wouldMoveIntoSoftTab(t, i, -1) && !this.session.getNavigateWithinSoftTabs() ? this.moveCursorBy(0, -i) : this.moveCursorBy(0, -1) } }, this.moveCursorRight = function () { var e, t = this.lead.getPosition(); if (e = this.session.getFoldAt(t.row, t.column, 1)) this.moveCursorTo(e.end.row, e.end.column); else if (this.lead.column == this.doc.getLine(this.lead.row).length) this.lead.row < this.doc.getLength() - 1 && this.moveCursorTo(this.lead.row + 1, 0); else { var i = this.session.getTabSize(); t = this.lead, this.wouldMoveIntoSoftTab(t, i, 1) && !this.session.getNavigateWithinSoftTabs() ? this.moveCursorBy(0, i) : this.moveCursorBy(0, 1) } }, this.moveCursorLineStart = function () { var e = this.lead.row, t = this.lead.column, i = this.session.documentToScreenRow(e, t), n = this.session.screenToDocumentPosition(i, 0), r = this.session.getDisplayLine(e, null, n.row, n.column).match(/^\s*/); r[0].length == t || this.session.$useEmacsStyleLineStart || (n.column += r[0].length), this.moveCursorToPosition(n) }, this.moveCursorLineEnd = function () { var e = this.lead, t = this.session.getDocumentLastRowColumnPosition(e.row, e.column); if (this.lead.column == t.column) { var i = this.session.getLine(t.row); if (t.column == i.length) { var n = i.search(/\s+$/); 0 < n && (t.column = n) } } this.moveCursorTo(t.row, t.column) }, this.moveCursorFileEnd = function () { var e = this.doc.getLength() - 1, t = this.doc.getLine(e).length; this.moveCursorTo(e, t) }, this.moveCursorFileStart = function () { this.moveCursorTo(0, 0) }, this.moveCursorLongWordRight = function () { var e = this.lead.row, t = this.lead.column, i = this.doc.getLine(e), n = i.substring(t); this.session.nonTokenRe.lastIndex = 0, this.session.tokenRe.lastIndex = 0; var r = this.session.getFoldAt(e, t, 1); if (r) this.moveCursorTo(r.end.row, r.end.column); else { if (this.session.nonTokenRe.exec(n) && (t += this.session.nonTokenRe.lastIndex, this.session.nonTokenRe.lastIndex = 0, n = i.substring(t)), t >= i.length) return this.moveCursorTo(e, i.length), this.moveCursorRight(), void (e < this.doc.getLength() - 1 && this.moveCursorWordRight()); this.session.tokenRe.exec(n) && (t += this.session.tokenRe.lastIndex, this.session.tokenRe.lastIndex = 0), this.moveCursorTo(e, t) } }, this.moveCursorLongWordLeft = function () { var e, t = this.lead.row, i = this.lead.column; if (e = this.session.getFoldAt(t, i, -1)) this.moveCursorTo(e.start.row, e.start.column); else { var n = this.session.getFoldStringAt(t, i, -1); null == n && (n = this.doc.getLine(t).substring(0, i)); var r = s.stringReverse(n); if (this.session.nonTokenRe.lastIndex = 0, this.session.tokenRe.lastIndex = 0, this.session.nonTokenRe.exec(r) && (i -= this.session.nonTokenRe.lastIndex, r = r.slice(this.session.nonTokenRe.lastIndex), this.session.nonTokenRe.lastIndex = 0), i <= 0) return this.moveCursorTo(t, 0), this.moveCursorLeft(), void (0 < t && this.moveCursorWordLeft()); this.session.tokenRe.exec(r) && (i -= this.session.tokenRe.lastIndex, this.session.tokenRe.lastIndex = 0), this.moveCursorTo(t, i) } }, this.$shortWordEndIndex = function (e) { var t, i = 0, n = /\s/, r = this.session.tokenRe; if (r.lastIndex = 0, this.session.tokenRe.exec(e)) i = this.session.tokenRe.lastIndex; else { for (; (t = e[i]) && n.test(t);)i++; if (i < 1) for (r.lastIndex = 0; (t = e[i]) && !r.test(t);)if (r.lastIndex = 0, i++, n.test(t)) { if (2 < i) { i--; break } for (; (t = e[i]) && n.test(t);)i++; if (2 < i) break } } return r.lastIndex = 0, i }, this.moveCursorShortWordRight = function () { var e = this.lead.row, t = this.lead.column, i = this.doc.getLine(e), n = i.substring(t), r = this.session.getFoldAt(e, t, 1); if (r) return this.moveCursorTo(r.end.row, r.end.column); if (t == i.length) { for (var s = this.doc.getLength(); e++, n = this.doc.getLine(e), e < s && /^\s*$/.test(n);); /^\s+/.test(n) || (n = ""), t = 0 } var o = this.$shortWordEndIndex(n); this.moveCursorTo(e, t + o) }, this.moveCursorShortWordLeft = function () { var e, t = this.lead.row, i = this.lead.column; if (e = this.session.getFoldAt(t, i, -1)) return this.moveCursorTo(e.start.row, e.start.column); var n = this.session.getLine(t).substring(0, i); if (0 === i) { for (; t--, n = this.doc.getLine(t), 0 < t && /^\s*$/.test(n);); i = n.length, /\s+$/.test(n) || (n = "") } var r = s.stringReverse(n), o = this.$shortWordEndIndex(r); return this.moveCursorTo(t, i - o) }, this.moveCursorWordRight = function () { this.session.$selectLongWords ? this.moveCursorLongWordRight() : this.moveCursorShortWordRight() }, this.moveCursorWordLeft = function () { this.session.$selectLongWords ? this.moveCursorLongWordLeft() : this.moveCursorShortWordLeft() }, this.moveCursorBy = function (e, t) { var i, n = this.session.documentToScreenPosition(this.lead.row, this.lead.column); if (0 === t && (0 !== e && (this.session.$bidiHandler.isBidiRow(n.row, this.lead.row) ? (i = this.session.$bidiHandler.getPosLeft(n.column), n.column = Math.round(i / this.session.$bidiHandler.charWidths[0])) : i = n.column * this.session.$bidiHandler.charWidths[0]), this.$desiredColumn ? n.column = this.$desiredColumn : this.$desiredColumn = n.column), 0 != e && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) { var r = this.session.lineWidgets[this.lead.row]; e < 0 ? e -= r.rowsAbove || 0 : 0 < e && (e += r.rowCount - (r.rowsAbove || 0)) } var s = this.session.screenToDocumentPosition(n.row + e, n.column, i); 0 !== e && 0 === t && s.row === this.lead.row && (s.column, this.lead.column), this.moveCursorTo(s.row, s.column + t, 0 === t) }, this.moveCursorToPosition = function (e) { this.moveCursorTo(e.row, e.column) }, this.moveCursorTo = function (e, t, i) { var n = this.session.getFoldAt(e, t, 1); n && (e = n.start.row, t = n.start.column), this.$keepDesiredColumnOnChange = !0; var r = this.session.getLine(e); /[\uDC00-\uDFFF]/.test(r.charAt(t)) && r.charAt(t - 1) && (this.lead.row == e && this.lead.column == t + 1 ? --t : t += 1), this.lead.setPosition(e, t), this.$keepDesiredColumnOnChange = !1, i || (this.$desiredColumn = null) }, this.moveCursorToScreen = function (e, t, i) { var n = this.session.screenToDocumentPosition(e, t); this.moveCursorTo(n.row, n.column, i) }, this.detach = function () { this.lead.detach(), this.anchor.detach(), this.session = this.doc = null }, this.fromOrientedRange = function (e) { this.setSelectionRange(e, e.cursor == e.start), this.$desiredColumn = e.desiredColumn || this.$desiredColumn }, this.toOrientedRange = function (e) { var t = this.getRange(); return e ? (e.start.column = t.start.column, e.start.row = t.start.row, e.end.column = t.end.column, e.end.row = t.end.row) : e = t, e.cursor = this.isBackwards() ? e.start : e.end, e.desiredColumn = this.$desiredColumn, e }, this.getRangeOfMovements = function (e) { var t = this.getCursor(); try { e(this); var i = this.getCursor(); return a.fromPoints(t, i) } catch (e) { return a.fromPoints(t, t) } finally { this.moveCursorToPosition(t) } }, this.toJSON = function () { if (this.rangeCount) var e = this.ranges.map((function (e) { var t = e.clone(); return t.isBackwards = e.cursor == e.start, t })); else (e = this.getRange()).isBackwards = this.isBackwards(); return e }, this.fromJSON = function (e) { if (null == e.start) { if (this.rangeList && 1 < e.length) { this.toSingleRange(e[0]); for (var t = e.length; t--;) { var i = a.fromPoints(e[t].start, e[t].end); e[t].isBackwards && (i.cursor = i.start), this.addRange(i, !0) } return } e = e[0] } this.rangeList && this.toSingleRange(e), this.setSelectionRange(e, e.isBackwards) }, this.isEqual = function (e) { if ((e.length || this.rangeCount) && e.length != this.rangeCount) return !1; if (!e.length || !this.ranges) return this.getRange().isEqual(e); for (var t = this.ranges.length; t--;)if (!this.ranges[t].isEqual(e[t])) return !1; return !0 } }).call(n.prototype), t.Selection = n })), ace.define("ace/tokenizer", ["require", "exports", "module", "ace/config"], (function (e, t, i) { "use strict"; function n(e) { for (var t in this.states = e, this.regExps = {}, this.matchMappings = {}, this.states) { for (var i = this.states[t], n = [], r = 0, s = this.matchMappings[t] = { defaultToken: "text" }, o = "g", a = [], l = 0; l < i.length; l++) { var c = i[l]; if (c.defaultToken && (s.defaultToken = c.defaultToken), c.caseInsensitive && (o = "gi"), null != c.regex) { c.regex instanceof RegExp && (c.regex = c.regex.toString().slice(1, -1)); var h = c.regex, d = new RegExp("(?:(" + h + ")|(.))").exec("a").length - 2; Array.isArray(c.token) ? 1 == c.token.length || 1 == d ? c.token = c.token[0] : d - 1 != c.token.length ? (this.reportError("number of classes and regexp groups doesn't match", { rule: c, groupCount: d - 1 }), c.token = c.token[0]) : (c.tokenArray = c.token, c.token = null, c.onMatch = this.$arrayTokens) : "function" != typeof c.token || c.onMatch || (c.onMatch = 1 < d ? this.$applyToken : c.token), 1 < d && (h = /\\\d/.test(c.regex) ? c.regex.replace(/\\([0-9]+)/g, (function (e, t) { return "\\" + (parseInt(t, 10) + r + 1) })) : (d = 1, this.removeCapturingGroups(c.regex)), c.splitRegex || "string" == typeof c.token || a.push(c)), s[r] = l, r += d, n.push(h), c.onMatch || (c.onMatch = null) } } n.length || (s[0] = 0, n.push("$")), a.forEach((function (e) { e.splitRegex = this.createSplitterRegexp(e.regex, o) }), this), this.regExps[t] = new RegExp("(" + n.join(")|(") + ")|($)", o) } } var r = e("./config"), s = 2e3; (function () { this.$setMaxTokenCount = function (e) { s = 0 | e }, this.$applyToken = function (e) { var t = this.splitRegex.exec(e).slice(1), i = this.token.apply(this, t); if ("string" == typeof i) return [{ type: i, value: e }]; for (var n = [], r = 0, s = i.length; r < s; r++)t[r] && (n[n.length] = { type: i[r], value: t[r] }); return n }, this.$arrayTokens = function (e) { if (!e) return []; var t = this.splitRegex.exec(e); if (!t) return "text"; for (var i = [], n = this.tokenArray, r = 0, s = n.length; r < s; r++)t[r + 1] && (i[i.length] = { type: n[r], value: t[r + 1] }); return i }, this.removeCapturingGroups = function (e) { return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g, (function (e, t) { return t ? "(?:" : e })) }, this.createSplitterRegexp = function (e, t) { if (-1 != e.indexOf("(?=")) { var i = 0, n = !1, r = {}; e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, (function (e, t, s, o, a, l) { return n ? n = "]" != a : a ? n = !0 : o ? (i == r.stack && (r.end = l + 1, r.stack = -1), i--) : s && (i++, 1 != s.length && (r.stack = i, r.start = l)), e })), null != r.end && /^\)*$/.test(e.substr(r.end)) && (e = e.substring(0, r.start) + e.substr(r.end)) } return "^" != e.charAt(0) && (e = "^" + e), "$" != e.charAt(e.length - 1) && (e += "$"), new RegExp(e, (t || "").replace("g", "")) }, this.getLineTokens = function (e, t) { if (t && "string" != typeof t) "#tmp" === (t = (i = t.slice(0))[0]) && (i.shift(), t = i.shift()); else var i = []; var n = t || "start", r = this.states[n]; r || (n = "start", r = this.states[n]); for (var o, a = this.matchMappings[n], l = this.regExps[n], c = [], h = l.lastIndex = 0, d = 0, u = { type: null, value: "" }; o = l.exec(e);) { var g = a.defaultToken, p = null, m = o[0], f = l.lastIndex; if (f - m.length > h) { var C = e.substring(h, f - m.length); u.type == g ? u.value += C : (u.type && c.push(u), u = { type: g, value: C }) } for (var I = 0; I < o.length - 2; I++)if (void 0 !== o[I + 1]) { g = (p = r[a[I]]).onMatch ? p.onMatch(m, n, i, e) : p.token, p.next && (n = "string" == typeof p.next ? p.next : p.next(n, i), (r = this.states[n]) || (this.reportError("state doesn't exist", n), n = "start", r = this.states[n]), a = this.matchMappings[n], h = f, (l = this.regExps[n]).lastIndex = f), p.consumeLineEnd && (h = f); break } if (m) if ("string" == typeof g) p && !1 === p.merge || u.type !== g ? (u.type && c.push(u), u = { type: g, value: m }) : u.value += m; else if (g) for (u.type && c.push(u), u = { type: null, value: "" }, I = 0; I < g.length; I++)c.push(g[I]); if (h == e.length) break; if (h = f, d++ > s) { for (d > 2 * e.length && this.reportError("infinite loop with in ace tokenizer", { startState: t, line: e }); h < e.length;)u.type && c.push(u), u = { value: e.substring(h, h += 500), type: "overflow" }; n = "start", i = []; break } } return u.type && c.push(u), 1 < i.length && i[0] !== n && i.unshift("#tmp", n), { tokens: c, state: i.length ? i : n } }, this.reportError = r.reportError }).call(n.prototype), t.Tokenizer = n })), ace.define("ace/mode/text_highlight_rules", ["require", "exports", "module", "ace/lib/lang"], (function (e, t, i) { "use strict"; function n() { this.$rules = { start: [{ token: "empty_line", regex: "^$" }, { defaultToken: "text" }] } } var r = e("../lib/lang"); (function () { function e(e, t) { return "start" == e && !t.length || t.unshift(this.nextState, e), this.nextState } function t(e, t) { return t.shift(), t.shift() || "start" } this.addRules = function (e, t) { if (t) for (var i in e) { for (var n = e[i], r = 0; r < n.length; r++) { var s = n[r]; (s.next || s.onMatch) && ("string" == typeof s.next && 0 !== s.next.indexOf(t) && (s.next = t + s.next), s.nextState && 0 !== s.nextState.indexOf(t) && (s.nextState = t + s.nextState)) } this.$rules[t + i] = n } else for (var i in e) this.$rules[i] = e[i] }, this.getRules = function () { return this.$rules }, this.embedRules = function (e, t, i, n, s) { var o = "function" == typeof e ? (new e).getRules() : e; if (n) for (var a = 0; a < n.length; a++)n[a] = t + n[a]; else for (var l in n = [], o) n.push(t + l); if (this.addRules(o, t), i) { var c = Array.prototype[s ? "push" : "unshift"]; for (a = 0; a < n.length; a++)c.apply(this.$rules[n[a]], r.deepCopy(i)) } this.$embeds || (this.$embeds = []), this.$embeds.push(t) }, this.getEmbeds = function () { return this.$embeds }, this.normalizeRules = function () { var i = 0, n = this.$rules; Object.keys(n).forEach((function r(s) { var o = n[s]; o.processed = !0; for (var a = 0; a < o.length; a++) { var l = o[a], c = null; Array.isArray(l) && (c = l, l = {}), !l.regex && l.start && (l.regex = l.start, l.next || (l.next = []), l.next.push({ defaultToken: l.token }, { token: l.token + ".end", regex: l.end || l.start, next: "pop" }), l.token = l.token + ".start", l.push = !0); var h = l.next || l.push; if (h && Array.isArray(h)) { var d = l.stateName; d || ("string" != typeof (d = l.token) && (d = d[0] || ""), n[d] && (d += i++)), n[d] = h, r(l.next = d) } else "pop" == h && (l.next = t); if (l.push && (l.nextState = l.next || l.push, l.next = e, delete l.push), l.rules) for (var u in l.rules) n[u] ? n[u].push && n[u].push.apply(n[u], l.rules[u]) : n[u] = l.rules[u]; var g = "string" == typeof l ? l : l.include; if (g && (c = Array.isArray(g) ? g.map((function (e) { return n[e] })) : n[g]), c) { var p = [a, 1].concat(c); l.noEscape && (p = p.filter((function (e) { return !e.next }))), o.splice.apply(o, p), a-- } l.keywordMap && (l.token = this.createKeywordMapper(l.keywordMap, l.defaultToken || "text", l.caseInsensitive), delete l.defaultToken) } }), this) }, this.createKeywordMapper = function (e, t, i, n) { var r = Object.create(null); return Object.keys(e).forEach((function (t) { var s = e[t]; i && (s = s.toLowerCase()); for (var o = s.split(n || "|"), a = o.length; a--;)r[o[a]] = t })), Object.getPrototypeOf(r) && (r.__proto__ = null), this.$keywordList = Object.keys(r), e = null, i ? function (e) { return r[e.toLowerCase()] || t } : function (e) { return r[e] || t } }, this.getKeywords = function () { return this.$keywords } }).call(n.prototype), t.TextHighlightRules = n })), ace.define("ace/mode/behaviour", ["require", "exports", "module"], (function (e, t, i) { "use strict"; function n() { this.$behaviours = {} } (function () { this.add = function (e, t, i) { switch (void 0) { case this.$behaviours: this.$behaviours = {}; case this.$behaviours[e]: this.$behaviours[e] = {} }this.$behaviours[e][t] = i }, this.addBehaviours = function (e) { for (var t in e) for (var i in e[t]) this.add(t, i, e[t][i]) }, this.remove = function (e) { this.$behaviours && this.$behaviours[e] && delete this.$behaviours[e] }, this.inherit = function (e, t) { if ("function" == typeof e) var i = (new e).getBehaviours(t); else i = e.getBehaviours(t); this.addBehaviours(i) }, this.getBehaviours = function (e) { if (e) { for (var t = {}, i = 0; i < e.length; i++)this.$behaviours[e[i]] && (t[e[i]] = this.$behaviours[e[i]]); return t } return this.$behaviours } }).call(n.prototype), t.Behaviour = n })), ace.define("ace/token_iterator", ["require", "exports", "module", "ace/range"], (function (e, t, i) { "use strict"; function n(e, t, i) { this.$session = e, this.$row = t, this.$rowTokens = e.getTokens(t); var n = e.getTokenAt(t, i); this.$tokenIndex = n ? n.index : -1 } var r = e("./range").Range; (function () { this.stepBackward = function () { for (--this.$tokenIndex; this.$tokenIndex < 0;) { if (--this.$row, this.$row < 0) return this.$row = 0, null; this.$rowTokens = this.$session.getTokens(this.$row), this.$tokenIndex = this.$rowTokens.length - 1 } return this.$rowTokens[this.$tokenIndex] }, this.stepForward = function () { var e; for (this.$tokenIndex += 1; this.$tokenIndex >= this.$rowTokens.length;) { if (this.$row += 1, e = e || this.$session.getLength(), this.$row >= e) return this.$row = e - 1, null; this.$rowTokens = this.$session.getTokens(this.$row), this.$tokenIndex = 0 } return this.$rowTokens[this.$tokenIndex] }, this.getCurrentToken = function () { return this.$rowTokens[this.$tokenIndex] }, this.getCurrentTokenRow = function () { return this.$row }, this.getCurrentTokenColumn = function () { var e = this.$rowTokens, t = this.$tokenIndex, i = e[t].start; if (void 0 !== i) return i; for (i = 0; 0 < t;)i += e[--t].value.length; return i }, this.getCurrentTokenPosition = function () { return { row: this.$row, column: this.getCurrentTokenColumn() } }, this.getCurrentTokenRange = function () { var e = this.$rowTokens[this.$tokenIndex], t = this.getCurrentTokenColumn(); return new r(this.$row, t, this.$row, t + e.value.length) } }).call(n.prototype), t.TokenIterator = n })), ace.define("ace/mode/behaviour/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], (function (e, t, i) { "use strict"; function n(e) { var t = -1; if (e.multiSelect && (t = e.selection.index, u.rangeCount != e.multiSelect.rangeCount && (u = { rangeCount: e.multiSelect.rangeCount })), u[t]) return s = u[t]; s = u[t] = { autoInsertedBrackets: 0, autoInsertedRow: -1, autoInsertedLineEnd: "", maybeInsertedBrackets: 0, maybeInsertedRow: -1, maybeInsertedLineStart: "", maybeInsertedLineEnd: "" } } function r(e, t, i, n) { var r = e.end.row - e.start.row; return { text: i + t + n, selection: [0, e.start.column + 1, r, e.end.column + (r ? 0 : 1)] } } var s, o = e("../../lib/oop"), a = e("../behaviour").Behaviour, l = e("../../token_iterator").TokenIterator, c = e("../../lib/lang"), h = ["text", "paren.rparen", "rparen", "paren", "punctuation.operator"], d = ["text", "paren.rparen", "rparen", "paren", "punctuation.operator", "comment"], u = {}, g = { '"': '"', "'": "'" }, p = function (e) { this.add("braces", "insertion", (function (t, i, o, a, l) { var h = o.getCursorPosition(), d = a.doc.getLine(h.row); if ("{" == l) { n(o); var u = o.getSelectionRange(), g = a.doc.getTextRange(u); if ("" !== g && "{" !== g && o.getWrapBehavioursEnabled()) return r(u, g, "{", "}"); if (p.isSaneInsertion(o, a)) return /[\]\}\)]/.test(d[h.column]) || o.inMultiSelectMode || e && e.braces ? (p.recordAutoInsert(o, a, "}"), { text: "{}", selection: [1, 1] }) : (p.recordMaybeInsert(o, a, "{"), { text: "{", selection: [1, 1] }) } else if ("}" == l) { if (n(o), "}" == d.substring(h.column, h.column + 1) && null !== a.$findOpeningBracket("}", { column: h.column + 1, row: h.row }) && p.isAutoInsertedClosing(h, d, l)) return p.popAutoInsertedClosing(), { text: "", selection: [1, 1] } } else { if ("\n" == l || "\r\n" == l) { n(o); var m = ""; if (p.isMaybeInsertedClosing(h, d) && (m = c.stringRepeat("}", s.maybeInsertedBrackets), p.clearMaybeInsertedClosing()), "}" === d.substring(h.column, h.column + 1)) { var f = a.findMatchingBracket({ row: h.row, column: h.column + 1 }, "}"); if (!f) return null; var C = this.$getIndent(a.getLine(f.row)) } else { if (!m) return void p.clearMaybeInsertedClosing(); C = this.$getIndent(d) } var I = C + a.getTabString(); return { text: "\n" + I + "\n" + C + m, selection: [1, I.length, 1, I.length] } } p.clearMaybeInsertedClosing() } })), this.add("braces", "deletion", (function (e, t, i, r, o) { var a = r.doc.getTextRange(o); if (!o.isMultiLine() && "{" == a) { if (n(i), "}" == r.doc.getLine(o.start.row).substring(o.end.column, o.end.column + 1)) return o.end.column++, o; s.maybeInsertedBrackets-- } })), this.add("parens", "insertion", (function (e, t, i, s, o) { if ("(" == o) { n(i); var a = i.getSelectionRange(), l = s.doc.getTextRange(a); if ("" !== l && i.getWrapBehavioursEnabled()) return r(a, l, "(", ")"); if (p.isSaneInsertion(i, s)) return p.recordAutoInsert(i, s, ")"), { text: "()", selection: [1, 1] } } else if (")" == o) { n(i); var c = i.getCursorPosition(), h = s.doc.getLine(c.row); if (")" == h.substring(c.column, c.column + 1) && null !== s.$findOpeningBracket(")", { column: c.column + 1, row: c.row }) && p.isAutoInsertedClosing(c, h, o)) return p.popAutoInsertedClosing(), { text: "", selection: [1, 1] } } })), this.add("parens", "deletion", (function (e, t, i, r, s) { var o = r.doc.getTextRange(s); if (!s.isMultiLine() && "(" == o && (n(i), ")" == r.doc.getLine(s.start.row).substring(s.start.column + 1, s.start.column + 2))) return s.end.column++, s })), this.add("brackets", "insertion", (function (e, t, i, s, o) { if ("[" == o) { n(i); var a = i.getSelectionRange(), l = s.doc.getTextRange(a); if ("" !== l && i.getWrapBehavioursEnabled()) return r(a, l, "[", "]"); if (p.isSaneInsertion(i, s)) return p.recordAutoInsert(i, s, "]"), { text: "[]", selection: [1, 1] } } else if ("]" == o) { n(i); var c = i.getCursorPosition(), h = s.doc.getLine(c.row); if ("]" == h.substring(c.column, c.column + 1) && null !== s.$findOpeningBracket("]", { column: c.column + 1, row: c.row }) && p.isAutoInsertedClosing(c, h, o)) return p.popAutoInsertedClosing(), { text: "", selection: [1, 1] } } })), this.add("brackets", "deletion", (function (e, t, i, r, s) { var o = r.doc.getTextRange(s); if (!s.isMultiLine() && "[" == o && (n(i), "]" == r.doc.getLine(s.start.row).substring(s.start.column + 1, s.start.column + 2))) return s.end.column++, s })), this.add("string_dquotes", "insertion", (function (e, t, i, s, o) { var a = s.$mode.$quotes || g; if (1 == o.length && a[o]) { if (this.lineCommentStart && -1 != this.lineCommentStart.indexOf(o)) return; n(i); var l = o, c = i.getSelectionRange(), h = s.doc.getTextRange(c); if (!("" === h || 1 == h.length && a[h]) && i.getWrapBehavioursEnabled()) return r(c, h, l, l); if (!h) { var d = i.getCursorPosition(), u = s.doc.getLine(d.row), p = u.substring(d.column - 1, d.column), m = u.substring(d.column, d.column + 1), f = s.getTokenAt(d.row, d.column), C = s.getTokenAt(d.row, d.column + 1); if ("\\" == p && f && /escape/.test(f.type)) return null; var I, A = f && /string|escape/.test(f.type), v = !C || /string|escape/.test(C.type); if (m == l) (I = A !== v) && /string\.end/.test(C.type) && (I = !1); else { if (A && !v) return null; if (A && v) return null; var b = s.$mode.tokenRe; b.lastIndex = 0; var y = b.test(p); b.lastIndex = 0; var w = b.test(p); if (y || w) return null; if (m && !/[\s;,.})\]\\]/.test(m)) return null; var S = u[d.column - 2]; if (p == l && (S == l || b.test(S))) return null; I = !0 } return { text: I ? l + l : "", selection: [1, 1] } } } })), this.add("string_dquotes", "deletion", (function (e, t, i, r, s) { var o = r.$mode.$quotes || g, a = r.doc.getTextRange(s); if (!s.isMultiLine() && o.hasOwnProperty(a) && (n(i), r.doc.getLine(s.start.row).substring(s.start.column + 1, s.start.column + 2) == a)) return s.end.column++, s })) }; p.isSaneInsertion = function (e, t) { var i = e.getCursorPosition(), n = new l(t, i.row, i.column); if (!this.$matchTokenType(n.getCurrentToken() || "text", h)) { if (/[)}\]]/.test(e.session.getLine(i.row)[i.column])) return !0; var r = new l(t, i.row, i.column + 1); if (!this.$matchTokenType(r.getCurrentToken() || "text", h)) return !1 } return n.stepForward(), n.getCurrentTokenRow() !== i.row || this.$matchTokenType(n.getCurrentToken() || "text", d) }, p.$matchTokenType = function (e, t) { return -1 < t.indexOf(e.type || e) }, p.recordAutoInsert = function (e, t, i) { var n = e.getCursorPosition(), r = t.doc.getLine(n.row); this.isAutoInsertedClosing(n, r, s.autoInsertedLineEnd[0]) || (s.autoInsertedBrackets = 0), s.autoInsertedRow = n.row, s.autoInsertedLineEnd = i + r.substr(n.column), s.autoInsertedBrackets++ }, p.recordMaybeInsert = function (e, t, i) { var n = e.getCursorPosition(), r = t.doc.getLine(n.row); this.isMaybeInsertedClosing(n, r) || (s.maybeInsertedBrackets = 0), s.maybeInsertedRow = n.row, s.maybeInsertedLineStart = r.substr(0, n.column) + i, s.maybeInsertedLineEnd = r.substr(n.column), s.maybeInsertedBrackets++ }, p.isAutoInsertedClosing = function (e, t, i) { return 0 < s.autoInsertedBrackets && e.row === s.autoInsertedRow && i === s.autoInsertedLineEnd[0] && t.substr(e.column) === s.autoInsertedLineEnd }, p.isMaybeInsertedClosing = function (e, t) { return 0 < s.maybeInsertedBrackets && e.row === s.maybeInsertedRow && t.substr(e.column) === s.maybeInsertedLineEnd && t.substr(0, e.column) == s.maybeInsertedLineStart }, p.popAutoInsertedClosing = function () { s.autoInsertedLineEnd = s.autoInsertedLineEnd.substr(1), s.autoInsertedBrackets-- }, p.clearMaybeInsertedClosing = function () { s && (s.maybeInsertedBrackets = 0, s.maybeInsertedRow = -1) }, o.inherits(p, a), t.CstyleBehaviour = p })), ace.define("ace/unicode", ["require", "exports", "module"], (function (e, t, i) { "use strict"; for (var n = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2], r = 0, s = [], o = 0; o < n.length; o += 2)s.push(r += n[o]), n[o + 1] && s.push(45, r += n[o + 1]); t.wordChars = String.fromCharCode.apply(null, s) })), ace.define("ace/mode/text", ["require", "exports", "module", "ace/config", "ace/tokenizer", "ace/mode/text_highlight_rules", "ace/mode/behaviour/cstyle", "ace/unicode", "ace/lib/lang", "ace/token_iterator", "ace/range"], (function (e, t, i) { "use strict"; function n() { this.HighlightRules = o } var r = e("../config"), s = e("../tokenizer").Tokenizer, o = e("./text_highlight_rules").TextHighlightRules, a = e("./behaviour/cstyle").CstyleBehaviour, l = e("../unicode"), c = e("../lib/lang"), h = e("../token_iterator").TokenIterator, d = e("../range").Range; (function () { this.$defaultBehaviour = new a, this.tokenRe = new RegExp("^[" + l.wordChars + "\\$_]+", "g"), this.nonTokenRe = new RegExp("^(?:[^" + l.wordChars + "\\$_]|\\s])+", "g"), this.getTokenizer = function () { return this.$tokenizer || (this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig), this.$tokenizer = new s(this.$highlightRules.getRules())), this.$tokenizer }, this.lineCommentStart = "", this.blockComment = "", this.toggleCommentLines = function (e, t, i, n) { var r = t.doc, s = !0, o = !0, a = 1 / 0, l = t.getTabSize(), h = !1; if (this.lineCommentStart) { Array.isArray(this.lineCommentStart) ? (m = this.lineCommentStart.map(c.escapeRegExp).join("|"), g = this.lineCommentStart[0]) : (m = c.escapeRegExp(this.lineCommentStart), g = this.lineCommentStart), m = new RegExp("^(\\s*)(?:" + m + ") ?"), h = t.getUseSoftTabs(), I = function (e, t) { var i = e.match(m); if (i) { var n = i[1].length, s = i[0].length; u(e, n, s) || " " != i[0][s - 1] || s--, r.removeInLine(t, n, s) } }; var d = g + " ", u = (C = function (e, t) { s && !/\S/.test(e) || (u(e, a, a) ? r.insertInLine({ row: t, column: a }, d) : r.insertInLine({ row: t, column: a }, g)) }, A = function (e, t) { return m.test(e) }, function (e, t, i) { for (var n = 0; t-- && " " == e.charAt(t);)n++; if (n % l != 0) return !1; for (n = 0; " " == e.charAt(i++);)n++; return 2 < l ? n % l != l - 1 : n % l == 0 }) } else { if (!this.blockComment) return !1; var g = this.blockComment.start, p = this.blockComment.end, m = new RegExp("^(\\s*)(?:" + c.escapeRegExp(g) + ")"), f = new RegExp("(?:" + c.escapeRegExp(p) + ")\\s*$"), C = function (e, t) { A(e, t) || s && !/\S/.test(e) || (r.insertInLine({ row: t, column: e.length }, p), r.insertInLine({ row: t, column: a }, g)) }, I = function (e, t) { var i; (i = e.match(f)) && r.removeInLine(t, e.length - i[0].length, e.length), (i = e.match(m)) && r.removeInLine(t, i[1].length, i[0].length) }, A = function (e, i) { if (m.test(e)) return !0; for (var n = t.getTokens(i), r = 0; r < n.length; r++)if ("comment" === n[r].type) return !0 } } function v(e) { for (var t = i; t <= n; t++)e(r.getLine(t), t) } var b = 1 / 0; v((function (e, t) { var i = e.search(/\S/); -1 !== i ? (i < a && (a = i), o && !A(e, t) && (o = !1)) : b > e.length && (b = e.length) })), a == 1 / 0 && (a = b, o = s = !1), h && a % l != 0 && (a = Math.floor(a / l) * l), v(o ? I : C) }, this.toggleBlockComment = function (e, t, i, n) { var r = this.blockComment; if (r) { !r.start && r[0] && (r = r[0]); var s, o, a = (m = new h(t, n.row, n.column)).getCurrentToken(), l = (t.selection, t.selection.toOrientedRange()); if (a && /comment/.test(a.type)) { for (var c, u; a && /comment/.test(a.type);) { if (-1 != (f = a.value.indexOf(r.start))) { var g = m.getCurrentTokenRow(), p = m.getCurrentTokenColumn() + f; c = new d(g, p, g, p + r.start.length); break } a = m.stepBackward() } var m; for (a = (m = new h(t, n.row, n.column)).getCurrentToken(); a && /comment/.test(a.type);) { var f; if (-1 != (f = a.value.indexOf(r.end))) { g = m.getCurrentTokenRow(), p = m.getCurrentTokenColumn() + f, u = new d(g, p, g, p + r.end.length); break } a = m.stepForward() } u && t.remove(u), c && (t.remove(c), s = c.start.row, o = -r.start.length) } else o = r.start.length, s = i.start.row, t.insert(i.end, r.end), t.insert(i.start, r.start); l.start.row == s && (l.start.column += o), l.end.row == s && (l.end.column += o), t.selection.fromOrientedRange(l) } }, this.getNextLineIndent = function (e, t, i) { return this.$getIndent(t) }, this.checkOutdent = function (e, t, i) { return !1 }, this.autoOutdent = function (e, t, i) { }, this.$getIndent = function (e) { return e.match(/^\s*/)[0] }, this.createWorker = function (e) { return null }, this.createModeDelegates = function (e) { for (var t in this.$embeds = [], this.$modes = {}, e) if (e[t]) { var i = e[t], n = i.prototype.$id, s = r.$modes[n]; s || (r.$modes[n] = s = new i), r.$modes[t] || (r.$modes[t] = s), this.$embeds.push(t), this.$modes[t] = s } var o = ["toggleBlockComment", "toggleCommentLines", "getNextLineIndent", "checkOutdent", "autoOutdent", "transformAction", "getCompletions"]; for (t = 0; t < o.length; t++)!function (e) { var i = o[t], n = e[i]; e[o[t]] = function () { return this.$delegator(i, arguments, n) } }(this) }, this.$delegator = function (e, t, i) { var n = t[0] || "start"; if ("string" != typeof n) { if (Array.isArray(n[2])) { var r = n[2][n[2].length - 1]; if (o = this.$modes[r]) return o[e].apply(o, [n[1]].concat([].slice.call(t, 1))) } n = n[0] || "start" } for (var s = 0; s < this.$embeds.length; s++)if (this.$modes[this.$embeds[s]]) { var o, a = n.split(this.$embeds[s]); if (!a[0] && a[1]) return t[0] = a[1], (o = this.$modes[this.$embeds[s]])[e].apply(o, t) } var l = i.apply(this, t); return i ? l : void 0 }, this.transformAction = function (e, t, i, n, r) { if (this.$behaviour) { var s = this.$behaviour.getBehaviours(); for (var o in s) if (s[o][t]) { var a = s[o][t].apply(this, arguments); if (a) return a } } }, this.getKeywords = function (e) { if (!this.completionKeywords) { var t = this.$tokenizer.rules, i = []; for (var n in t) for (var r = t[n], s = 0, o = r.length; s < o; s++)if ("string" == typeof r[s].token) /keyword|support|storage/.test(r[s].token) && i.push(r[s].regex); else if ("object" == typeof r[s].token) for (var a = 0, l = r[s].token.length; a < l; a++)/keyword|support|storage/.test(r[s].token[a]) && (n = r[s].regex.match(/\(.+?\)/g)[a], i.push(n.substr(1, n.length - 2))); this.completionKeywords = i } return e ? i.concat(this.$keywordList || []) : this.$keywordList }, this.$createKeywordList = function () { return this.$highlightRules || this.getTokenizer(), this.$keywordList = this.$highlightRules.$keywordList || [] }, this.getCompletions = function (e, t, i, n) { return (this.$keywordList || this.$createKeywordList()).map((function (e) { return { name: e, value: e, score: 0, meta: "keyword" } })) }, this.$id = "ace/mode/text" }).call(n.prototype), t.Mode = n })), ace.define("ace/apply_delta", ["require", "exports", "module"], (function (e, t, i) { "use strict"; t.applyDelta = function (e, t, i) { var n = t.start.row, r = t.start.column, s = e[n] || ""; switch (t.action) { case "insert": if (1 === t.lines.length) e[n] = s.substring(0, r) + t.lines[0] + s.substring(r); else { var o = [n, 1].concat(t.lines); e.splice.apply(e, o), e[n] = s.substring(0, r) + e[n], e[n + t.lines.length - 1] += s.substring(r) } break; case "remove": var a = t.end.column, l = t.end.row; n === l ? e[n] = s.substring(0, r) + s.substring(a) : e.splice(n, l - n + 1, s.substring(0, r) + e[l].substring(a)) } } })), ace.define("ace/anchor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], (function (e, t, i) { "use strict"; var n = e("./lib/oop"), r = e("./lib/event_emitter").EventEmitter, s = t.Anchor = function (e, t, i) { this.$onChange = this.onChange.bind(this), this.attach(e), void 0 === i ? this.setPosition(t.row, t.column) : this.setPosition(t, i) }; (function () { function e(e, t, i) { var n = i ? e.column <= t.column : e.column < t.column; return e.row < t.row || e.row == t.row && n } n.implement(this, r), this.getPosition = function () { return this.$clipPositionToDocument(this.row, this.column) }, this.getDocument = function () { return this.document }, this.$insertRight = !1, this.onChange = function (t) { if (!(t.start.row == t.end.row && t.start.row != this.row || t.start.row > this.row)) { var i = function (t, i, n) { var r = "insert" == t.action, s = (r ? 1 : -1) * (t.end.row - t.start.row), o = (r ? 1 : -1) * (t.end.column - t.start.column), a = t.start, l = r ? a : t.end; return e(i, a, n) ? { row: i.row, column: i.column } : e(l, i, !n) ? { row: i.row + s, column: i.column + (i.row == l.row ? o : 0) } : { row: a.row, column: a.column } }(t, { row: this.row, column: this.column }, this.$insertRight); this.setPosition(i.row, i.column, !0) } }, this.setPosition = function (e, t, i) { var n; if (n = i ? { row: e, column: t } : this.$clipPositionToDocument(e, t), this.row != n.row || this.column != n.column) { var r = { row: this.row, column: this.column }; this.row = n.row, this.column = n.column, this._signal("change", { old: r, value: n }) } }, this.detach = function () { this.document.removeEventListener("change", this.$onChange) }, this.attach = function (e) { this.document = e || this.document, this.document.on("change", this.$onChange) }, this.$clipPositionToDocument = function (e, t) { var i = {}; return e >= this.document.getLength() ? (i.row = Math.max(0, this.document.getLength() - 1), i.column = this.document.getLine(i.row).length) : e < 0 ? (i.row = 0, i.column = 0) : (i.row = e, i.column = Math.min(this.document.getLine(i.row).length, Math.max(0, t))), t < 0 && (i.column = 0), i } }).call(s.prototype) })), ace.define("ace/document", ["require", "exports", "module", "ace/lib/oop", "ace/apply_delta", "ace/lib/event_emitter", "ace/range", "ace/anchor"], (function (e, t, i) { "use strict"; function n(e) { this.$lines = [""], 0 === e.length ? this.$lines = [""] : Array.isArray(e) ? this.insertMergedLines({ row: 0, column: 0 }, e) : this.insert({ row: 0, column: 0 }, e) } var r = e("./lib/oop"), s = e("./apply_delta").applyDelta, o = e("./lib/event_emitter").EventEmitter, a = e("./range").Range, l = e("./anchor").Anchor; (function () { r.implement(this, o), this.setValue = function (e) { var t = this.getLength() - 1; this.remove(new a(0, 0, t, this.getLine(t).length)), this.insert({ row: 0, column: 0 }, e) }, this.getValue = function () { return this.getAllLines().join(this.getNewLineCharacter()) }, this.createAnchor = function (e, t) { return new l(this, e, t) }, 0 === "aaa".split(/a/).length ? this.$split = function (e) { return e.replace(/\r\n|\r/g, "\n").split("\n") } : this.$split = function (e) { return e.split(/\r\n|\r|\n/) }, this.$detectNewLine = function (e) { var t = e.match(/^.*?(\r\n|\r|\n)/m); this.$autoNewLine = t ? t[1] : "\n", this._signal("changeNewLineMode") }, this.getNewLineCharacter = function () { switch (this.$newLineMode) { case "windows": return "\r\n"; case "unix": return "\n"; default: return this.$autoNewLine || "\n" } }, this.$autoNewLine = "", this.$newLineMode = "auto", this.setNewLineMode = function (e) { this.$newLineMode !== e && (this.$newLineMode = e, this._signal("changeNewLineMode")) }, this.getNewLineMode = function () { return this.$newLineMode }, this.isNewLine = function (e) { return "\r\n" == e || "\r" == e || "\n" == e }, this.getLine = function (e) { return this.$lines[e] || "" }, this.getLines = function (e, t) { return this.$lines.slice(e, t + 1) }, this.getAllLines = function () { return this.getLines(0, this.getLength()) }, this.getLength = function () { return this.$lines.length }, this.getTextRange = function (e) { return this.getLinesForRange(e).join(this.getNewLineCharacter()) }, this.getLinesForRange = function (e) { var t; if (e.start.row === e.end.row) t = [this.getLine(e.start.row).substring(e.start.column, e.end.column)]; else { (t = this.getLines(e.start.row, e.end.row))[0] = (t[0] || "").substring(e.start.column); var i = t.length - 1; e.end.row - e.start.row == i && (t[i] = t[i].substring(0, e.end.column)) } return t }, this.insertLines = function (e, t) { return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."), this.insertFullLines(e, t) }, this.removeLines = function (e, t) { return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."), this.removeFullLines(e, t) }, this.insertNewLine = function (e) { return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."), this.insertMergedLines(e, ["", ""]) }, this.insert = function (e, t) { return this.getLength() <= 1 && this.$detectNewLine(t), this.insertMergedLines(e, this.$split(t)) }, this.insertInLine = function (e, t) { var i = this.clippedPos(e.row, e.column), n = this.pos(e.row, e.column + t.length); return this.applyDelta({ start: i, end: n, action: "insert", lines: [t] }, !0), this.clonePos(n) }, this.clippedPos = function (e, t) { var i = this.getLength(); void 0 === e ? e = i : e < 0 ? e = 0 : i <= e && (e = i - 1, t = void 0); var n = this.getLine(e); return null == t && (t = n.length), { row: e, column: t = Math.min(Math.max(t, 0), n.length) } }, this.clonePos = function (e) { return { row: e.row, column: e.column } }, this.pos = function (e, t) { return { row: e, column: t } }, this.$clipPosition = function (e) { var t = this.getLength(); return e.row >= t ? (e.row = Math.max(0, t - 1), e.column = this.getLine(t - 1).length) : (e.row = Math.max(0, e.row), e.column = Math.min(Math.max(e.column, 0), this.getLine(e.row).length)), e }, this.insertFullLines = function (e, t) { var i; i = (e = Math.min(Math.max(e, 0), this.getLength())) < this.getLength() ? (t = t.concat([""]), 0) : (t = [""].concat(t), e--, this.$lines[e].length), this.insertMergedLines({ row: e, column: i }, t) }, this.insertMergedLines = function (e, t) { var i = this.clippedPos(e.row, e.column), n = { row: i.row + t.length - 1, column: (1 == t.length ? i.column : 0) + t[t.length - 1].length }; return this.applyDelta({ start: i, end: n, action: "insert", lines: t }), this.clonePos(n) }, this.remove = function (e) { var t = this.clippedPos(e.start.row, e.start.column), i = this.clippedPos(e.end.row, e.end.column); return this.applyDelta({ start: t, end: i, action: "remove", lines: this.getLinesForRange({ start: t, end: i }) }), this.clonePos(t) }, this.removeInLine = function (e, t, i) { var n = this.clippedPos(e, t), r = this.clippedPos(e, i); return this.applyDelta({ start: n, end: r, action: "remove", lines: this.getLinesForRange({ start: n, end: r }) }, !0), this.clonePos(n) }, this.removeFullLines = function (e, t) { e = Math.min(Math.max(0, e), this.getLength() - 1); var i = (t = Math.min(Math.max(0, t), this.getLength() - 1)) == this.getLength() - 1 && 0 < e, n = t < this.getLength() - 1, r = i ? e - 1 : e, s = i ? this.getLine(r).length : 0, o = n ? t + 1 : t, l = n ? 0 : this.getLine(o).length, c = new a(r, s, o, l), h = this.$lines.slice(e, t + 1); return this.applyDelta({ start: c.start, end: c.end, action: "remove", lines: this.getLinesForRange(c) }), h }, this.removeNewLine = function (e) { e < this.getLength() - 1 && 0 <= e && this.applyDelta({ start: this.pos(e, this.getLine(e).length), end: this.pos(e + 1, 0), action: "remove", lines: ["", ""] }) }, this.replace = function (e, t) { return e instanceof a || (e = a.fromPoints(e.start, e.end)), 0 === t.length && e.isEmpty() ? e.start : t == this.getTextRange(e) ? e.end : (this.remove(e), t ? this.insert(e.start, t) : e.start) }, this.applyDeltas = function (e) { for (var t = 0; t < e.length; t++)this.applyDelta(e[t]) }, this.revertDeltas = function (e) { for (var t = e.length - 1; 0 <= t; t--)this.revertDelta(e[t]) }, this.applyDelta = function (e, t) { var i = "insert" == e.action; (i ? e.lines.length <= 1 && !e.lines[0] : !a.comparePoints(e.start, e.end)) || (i && 2e4 < e.lines.length ? this.$splitAndapplyLargeDelta(e, 2e4) : (s(this.$lines, e, t), this._signal("change", e))) }, this.$splitAndapplyLargeDelta = function (e, t) { for (var i = e.lines, n = i.length - t + 1, r = e.start.row, s = e.start.column, o = 0, a = 0; o < n; o = a) { a += t - 1; var l = i.slice(o, a); l.push(""), this.applyDelta({ start: this.pos(r + o, s), end: this.pos(r + a, s = 0), action: e.action, lines: l }, !0) } e.lines = i.slice(o), e.start.row = r + o, e.start.column = s, this.applyDelta(e, !0) }, this.revertDelta = function (e) { this.applyDelta({ start: this.clonePos(e.start), end: this.clonePos(e.end), action: "insert" == e.action ? "remove" : "insert", lines: e.lines.slice() }) }, this.indexToPosition = function (e, t) { for (var i = this.$lines || this.getAllLines(), n = this.getNewLineCharacter().length, r = t || 0, s = i.length; r < s; r++)if ((e -= i[r].length + n) < 0) return { row: r, column: e + i[r].length + n }; return { row: s - 1, column: e + i[s - 1].length + n } }, this.positionToIndex = function (e, t) { for (var i = this.$lines || this.getAllLines(), n = this.getNewLineCharacter().length, r = 0, s = Math.min(e.row, i.length), o = t || 0; o < s; ++o)r += i[o].length + n; return r + e.column } }).call(n.prototype), t.Document = n })), ace.define("ace/background_tokenizer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], (function (e, t, i) { "use strict"; function n(e, t) { this.running = !1, this.lines = [], this.states = [], this.currentLine = 0, this.tokenizer = e; var i = this; this.$worker = function () { if (i.running) { for (var e = new Date, t = i.currentLine, n = -1, r = i.doc, s = t; i.lines[t];)t++; var o = r.getLength(), a = 0; for (i.running = !1; t < o;) { for (i.$tokenizeRow(t), n = t; t++, i.lines[t];); if (++a % 5 == 0 && 20 < new Date - e) { i.running = setTimeout(i.$worker, 20); break } } i.currentLine = t, -1 == n && (n = t), s <= n && i.fireUpdateEvent(s, n) } } } var r = e("./lib/oop"), s = e("./lib/event_emitter").EventEmitter; (function () { r.implement(this, s), this.setTokenizer = function (e) { this.tokenizer = e, this.lines = [], this.states = [], this.start(0) }, this.setDocument = function (e) { this.doc = e, this.lines = [], this.states = [], this.stop() }, this.fireUpdateEvent = function (e, t) { var i = { first: e, last: t }; this._signal("update", { data: i }) }, this.start = function (e) { this.currentLine = Math.min(e || 0, this.currentLine, this.doc.getLength()), this.lines.splice(this.currentLine, this.lines.length), this.states.splice(this.currentLine, this.states.length), this.stop(), this.running = setTimeout(this.$worker, 700) }, this.scheduleStart = function () { this.running || (this.running = setTimeout(this.$worker, 700)) }, this.$updateOnChange = function (e) { var t = e.start.row, i = e.end.row - t; if (0 == i) this.lines[t] = null; else if ("remove" == e.action) this.lines.splice(t, 1 + i, null), this.states.splice(t, 1 + i, null); else { var n = Array(1 + i); n.unshift(t, 1), this.lines.splice.apply(this.lines, n), this.states.splice.apply(this.states, n) } this.currentLine = Math.min(t, this.currentLine, this.doc.getLength()), this.stop() }, this.stop = function () { this.running && clearTimeout(this.running), this.running = !1 }, this.getTokens = function (e) { return this.lines[e] || this.$tokenizeRow(e) }, this.getState = function (e) { return this.currentLine == e && this.$tokenizeRow(e), this.states[e] || "start" }, this.$tokenizeRow = function (e) { var t = this.doc.getLine(e), i = this.states[e - 1], n = this.tokenizer.getLineTokens(t, i, e); return this.states[e] + "" != n.state + "" ? (this.states[e] = n.state, this.lines[e + 1] = null, this.currentLine > e + 1 && (this.currentLine = e + 1)) : this.currentLine == e && (this.currentLine = e + 1), this.lines[e] = n.tokens } }).call(n.prototype), t.BackgroundTokenizer = n })), ace.define("ace/search_highlight", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], (function (e, t, i) { "use strict"; function n(e, t, i) { this.setRegexp(e), this.clazz = t, this.type = i || "text" } var r = e("./lib/lang"), s = (e("./lib/oop"), e("./range").Range); (function () { this.MAX_RANGES = 500, this.setRegexp = function (e) { this.regExp + "" != e + "" && (this.regExp = e, this.cache = []) }, this.update = function (e, t, i, n) { if (this.regExp) for (var o = n.firstRow, a = n.lastRow, l = o; l <= a; l++) { var c = this.cache[l]; null == c && ((c = r.getMatchOffsets(i.getLine(l), this.regExp)).length > this.MAX_RANGES && (c = c.slice(0, this.MAX_RANGES)), c = c.map((function (e) { return new s(l, e.offset, l, e.offset + e.length) })), this.cache[l] = c.length ? c : ""); for (var h = c.length; h--;)t.drawSingleLineMarker(e, c[h].toScreenRange(i), this.clazz, n) } } }).call(n.prototype), t.SearchHighlight = n })), ace.define("ace/edit_session/fold_line", ["require", "exports", "module", "ace/range"], (function (e, t, i) { "use strict"; var n = e("../range").Range; function r(e, t) { this.foldData = e, Array.isArray(t) ? this.folds = t : t = this.folds = [t]; var i = t[t.length - 1]; this.range = new n(t[0].start.row, t[0].start.column, i.end.row, i.end.column), this.start = this.range.start, this.end = this.range.end, this.folds.forEach((function (e) { e.setFoldLine(this) }), this) } (function () { this.shiftRow = function (e) { this.start.row += e, this.end.row += e, this.folds.forEach((function (t) { t.start.row += e, t.end.row += e })) }, this.addFold = function (e) { if (e.sameRow) { if (e.start.row < this.startRow || e.endRow > this.endRow) throw new Error("Can't add a fold to this FoldLine as it has no connection"); this.folds.push(e), this.folds.sort((function (e, t) { return -e.range.compareEnd(t.start.row, t.start.column) })), 0 < this.range.compareEnd(e.start.row, e.start.column) ? (this.end.row = e.end.row, this.end.column = e.end.column) : this.range.compareStart(e.end.row, e.end.column) < 0 && (this.start.row = e.start.row, this.start.column = e.start.column) } else if (e.start.row == this.end.row) this.folds.push(e), this.end.row = e.end.row, this.end.column = e.end.column; else { if (e.end.row != this.start.row) throw new Error("Trying to add fold to FoldRow that doesn't have a matching row"); this.folds.unshift(e), this.start.row = e.start.row, this.start.column = e.start.column } e.foldLine = this }, this.containsRow = function (e) { return e >= this.start.row && e <= this.end.row }, this.walk = function (e, t, i) { var n, r, s = 0, o = this.folds, a = !0; null == t && (t = this.end.row, i = this.end.column); for (var l = 0; l < o.length; l++) { if (-1 == (r = (n = o[l]).range.compareStart(t, i))) return void e(null, t, i, s, a); if (!e(null, n.start.row, n.start.column, s, a) && e(n.placeholder, n.start.row, n.start.column, s) || 0 === r) return; a = !n.sameRow, s = n.end.column } e(null, t, i, s, a) }, this.getNextFoldTo = function (e, t) { for (var i, n, r = 0; r < this.folds.length; r++) { if (-1 == (n = (i = this.folds[r]).range.compareEnd(e, t))) return { fold: i, kind: "after" }; if (0 === n) return { fold: i, kind: "inside" } } return null }, this.addRemoveChars = function (e, t, i) { var n, r, s = this.getNextFoldTo(e, t); if (s) if (n = s.fold, "inside" == s.kind && n.start.column != t && n.start.row != e) window.console && window.console.log(e, t, n); else if (n.start.row == e) { var o = (r = this.folds).indexOf(n); for (0 === o && (this.start.column += i); o < r.length; o++) { if ((n = r[o]).start.column += i, !n.sameRow) return; n.end.column += i } this.end.column += i } }, this.split = function (e, t) { var i = this.getNextFoldTo(e, t); if (!i || "inside" == i.kind) return null; var n = i.fold, s = this.folds, o = this.foldData, a = s.indexOf(n), l = s[a - 1]; this.end.row = l.end.row, this.end.column = l.end.column; var c = new r(o, s = s.splice(a, s.length - a)); return o.splice(o.indexOf(this) + 1, 0, c), c }, this.merge = function (e) { for (var t = e.folds, i = 0; i < t.length; i++)this.addFold(t[i]); var n = this.foldData; n.splice(n.indexOf(e), 1) }, this.toString = function () { var e = [this.range.toString() + ": ["]; return this.folds.forEach((function (t) { e.push("  " + t.toString()) })), e.push("]"), e.join("\n") }, this.idxToPosition = function (e) { for (var t = 0, i = 0; i < this.folds.length; i++) { var n = this.folds[i]; if ((e -= n.start.column - t) < 0) return { row: n.start.row, column: n.start.column + e }; if ((e -= n.placeholder.length) < 0) return n.start; t = n.end.column } return { row: this.end.row, column: this.end.column + e } } }).call(r.prototype), t.FoldLine = r })), ace.define("ace/range_list", ["require", "exports", "module", "ace/range"], (function (e, t, i) { "use strict"; function n() { this.ranges = [], this.$bias = 1 } var r = e("./range").Range.comparePoints; (function () { this.comparePoints = r, this.pointIndex = function (e, t, i) { for (var n = this.ranges, s = i || 0; s < n.length; s++) { var o = n[s], a = r(e, o.end); if (!(0 < a)) { var l = r(e, o.start); return 0 === a ? t && 0 !== l ? -s - 2 : s : 0 < l || 0 === l && !t ? s : -s - 1 } } return -s - 1 }, this.add = function (e) { var t = !e.isEmpty(), i = this.pointIndex(e.start, t); i < 0 && (i = -i - 1); var n = this.pointIndex(e.end, t, i); return n < 0 ? n = -n - 1 : n++, this.ranges.splice(i, n - i, e) }, this.addList = function (e) { for (var t = [], i = e.length; i--;)t.push.apply(t, this.add(e[i])); return t }, this.substractPoint = function (e) { var t = this.pointIndex(e); if (0 <= t) return this.ranges.splice(t, 1) }, this.merge = function () { for (var e, t = [], i = this.ranges, n = (i = i.sort((function (e, t) { return r(e.start, t.start) })))[0], s = 1; s < i.length; s++) { e = n, n = i[s]; var o = r(e.end, n.start); o < 0 || (0 != o || e.isEmpty() || n.isEmpty()) && (r(e.end, n.end) < 0 && (e.end.row = n.end.row, e.end.column = n.end.column), i.splice(s, 1), t.push(n), n = e, s--) } return this.ranges = i, t }, this.contains = function (e, t) { return 0 <= this.pointIndex({ row: e, column: t }) }, this.containsPoint = function (e) { return 0 <= this.pointIndex(e) }, this.rangeAtPoint = function (e) { var t = this.pointIndex(e); if (0 <= t) return this.ranges[t] }, this.clipRows = function (e, t) { var i = this.ranges; if (i[0].start.row > t || i[i.length - 1].start.row < e) return []; var n = this.pointIndex({ row: e, column: 0 }); n < 0 && (n = -n - 1); var r = this.pointIndex({ row: t, column: 0 }, n); r < 0 && (r = -r - 1); for (var s = [], o = n; o < r; o++)s.push(i[o]); return s }, this.removeAll = function () { return this.ranges.splice(0, this.ranges.length) }, this.attach = function (e) { this.session && this.detach(), this.session = e, this.onChange = this.$onChange.bind(this), this.session.on("change", this.onChange) }, this.detach = function () { this.session && (this.session.removeListener("change", this.onChange), this.session = null) }, this.$onChange = function (e) { for (var t = e.start, i = e.end, n = t.row, r = i.row, s = this.ranges, o = 0, a = s.length; o < a && !((h = s[o]).end.row >= n); o++); if ("insert" == e.action) { for (var l = r - n, c = -t.column + i.column; o < a && !((h = s[o]).start.row > n); o++)if (h.start.row == n && h.start.column >= t.column && (h.start.column == t.column && this.$bias <= 0 || (h.start.column += c, h.start.row += l)), h.end.row == n && h.end.column >= t.column) { if (h.end.column == t.column && this.$bias < 0) continue; h.end.column == t.column && 0 < c && o < a - 1 && h.end.column > h.start.column && h.end.column == s[o + 1].start.column && (h.end.column -= c), h.end.column += c, h.end.row += l } } else for (l = n - r, c = t.column - i.column; o < a && !((h = s[o]).start.row > r); o++)h.end.row < r && (n < h.end.row || n == h.end.row && t.column < h.end.column) ? (h.end.row = n, h.end.column = t.column) : h.end.row == r ? h.end.column <= i.column ? (l || h.end.column > t.column) && (h.end.column = t.column, h.end.row = t.row) : (h.end.column += c, h.end.row += l) : h.end.row > r && (h.end.row += l), h.start.row < r && (n < h.start.row || n == h.start.row && t.column < h.start.column) ? (h.start.row = n, h.start.column = t.column) : h.start.row == r ? h.start.column <= i.column ? (l || h.start.column > t.column) && (h.start.column = t.column, h.start.row = t.row) : (h.start.column += c, h.start.row += l) : h.start.row > r && (h.start.row += l); if (0 != l && o < a) for (; o < a; o++) { var h; (h = s[o]).start.row += l, h.end.row += l } } }).call(n.prototype), t.RangeList = n })), ace.define("ace/edit_session/fold", ["require", "exports", "module", "ace/range_list", "ace/lib/oop"], (function (e, t, i) { "use strict"; var n = e("../range_list").RangeList, r = e("../lib/oop"), s = t.Fold = function (e, t) { this.foldLine = null, this.placeholder = t, this.range = e, this.start = e.start, this.end = e.end, this.sameRow = e.start.row == e.end.row, this.subFolds = this.ranges = [] }; function o(e, t) { e.row -= t.row, 0 == e.row && (e.column -= t.column) } function a(e, t) { 0 == e.row && (e.column += t.column), e.row += t.row } r.inherits(s, n), function () { this.toString = function () { return '"' + this.placeholder + '" ' + this.range.toString() }, this.setFoldLine = function (e) { this.foldLine = e, this.subFolds.forEach((function (t) { t.setFoldLine(e) })) }, this.clone = function () { var e = this.range.clone(), t = new s(e, this.placeholder); return this.subFolds.forEach((function (e) { t.subFolds.push(e.clone()) })), t.collapseChildren = this.collapseChildren, t }, this.addSubFold = function (e) { if (!this.range.isEqual(e)) { var t, i; t = e, i = this.start, o(t.start, i), o(t.end, i); for (var n = e.start.row, r = e.start.column, s = 0, a = -1; s < this.subFolds.length && 1 == (a = this.subFolds[s].range.compare(n, r)); s++); var l = this.subFolds[s], c = 0; if (0 == a) { if (l.range.containsRange(e)) return l.addSubFold(e); c = 1 } n = e.range.end.row, r = e.range.end.column; var h = s; for (a = -1; h < this.subFolds.length && 1 == (a = this.subFolds[h].range.compare(n, r)); h++); 0 == a && h++; for (var d = this.subFolds.splice(s, h - s, e), u = 0 == a ? d.length - 1 : d.length, g = c; g < u; g++)e.addSubFold(d[g]); return e.setFoldLine(this.foldLine), e } }, this.restoreRange = function (e) { return t = e, i = this.start, a(t.start, i), void a(t.end, i); var t, i } }.call(s.prototype) })), ace.define("ace/edit_session/folding", ["require", "exports", "module", "ace/range", "ace/edit_session/fold_line", "ace/edit_session/fold", "ace/token_iterator"], (function (e, t, i) { "use strict"; var n = e("../range").Range, r = e("./fold_line").FoldLine, s = e("./fold").Fold, o = e("../token_iterator").TokenIterator; t.Folding = function () { this.getFoldAt = function (e, t, i) { var n = this.getFoldLine(e); if (!n) return null; for (var r = n.folds, s = 0; s < r.length; s++) { var o = r[s].range; if (o.contains(e, t)) { if (1 == i && o.isEnd(e, t) && !o.isEmpty()) continue; if (-1 == i && o.isStart(e, t) && !o.isEmpty()) continue; return r[s] } } }, this.getFoldsInRange = function (e) { var t = e.start, i = e.end, n = this.$foldData, r = []; t.column += 1, --i.column; for (var s = 0; s < n.length; s++) { var o = n[s].range.compareRange(e); if (2 != o) { if (-2 == o) break; for (var a = n[s].folds, l = 0; l < a.length; l++) { var c = a[l]; if (-2 == (o = c.range.compareRange(e))) break; if (2 != o) { if (42 == o) break; r.push(c) } } } } return --t.column, i.column += 1, r }, this.getFoldsInRangeList = function (e) { if (Array.isArray(e)) { var t = []; e.forEach((function (e) { t = t.concat(this.getFoldsInRange(e)) }), this) } else t = this.getFoldsInRange(e); return t }, this.getAllFolds = function () { for (var e = [], t = this.$foldData, i = 0; i < t.length; i++)for (var n = 0; n < t[i].folds.length; n++)e.push(t[i].folds[n]); return e }, this.getFoldStringAt = function (e, t, i, n) { if (!(n = n || this.getFoldLine(e))) return null; for (var r, s, o = { end: { column: 0 } }, a = 0; a < n.folds.length; a++) { var l = (s = n.folds[a]).range.compareEnd(e, t); if (-1 == l) { r = this.getLine(s.start.row).substring(o.end.column, s.start.column); break } if (0 === l) return null; o = s } return r = r || this.getLine(s.start.row).substring(o.end.column), -1 == i ? r.substring(0, t - o.end.column) : 1 == i ? r.substring(t - o.end.column) : r }, this.getFoldLine = function (e, t) { var i = this.$foldData, n = 0; for (t && (n = i.indexOf(t)), -1 == n && (n = 0); n < i.length; n++) { var r = i[n]; if (r.start.row <= e && r.end.row >= e) return r; if (r.end.row > e) return null } return null }, this.getNextFoldLine = function (e, t) { var i = this.$foldData, n = 0; for (t && (n = i.indexOf(t)), -1 == n && (n = 0); n < i.length; n++) { var r = i[n]; if (r.end.row >= e) return r } return null }, this.getFoldedRowCount = function (e, t) { for (var i = this.$foldData, n = t - e + 1, r = 0; r < i.length; r++) { var s = i[r], o = s.end.row, a = s.start.row; if (t <= o) { a < t && (e <= a ? n -= t - a : n = 0); break } e <= o && (n -= e <= a ? o - a : o - e + 1) } return n }, this.$addFoldLine = function (e) { return this.$foldData.push(e), this.$foldData.sort((function (e, t) { return e.start.row - t.start.row })), e }, this.addFold = function (e, t) { var i, n = this.$foldData, o = !1; e instanceof s ? i = e : (i = new s(t, e)).collapseChildren = t.collapseChildren, this.$clipRangeToDocument(i.range); var a = i.start.row, l = i.start.column, c = i.end.row, h = i.end.column, d = this.getFoldAt(a, l, 1), u = this.getFoldAt(c, h, -1); if (d && u == d) return d.addSubFold(i); d && !d.range.isStart(a, l) && this.removeFold(d), u && !u.range.isEnd(c, h) && this.removeFold(u); var g = this.getFoldsInRange(i.range); 0 < g.length && (this.removeFolds(g), g.forEach((function (e) { i.addSubFold(e) }))); for (var p = 0; p < n.length; p++) { var m = n[p]; if (c == m.start.row) { m.addFold(i), o = !0; break } if (a == m.end.row) { if (m.addFold(i), o = !0, !i.sameRow) { var f = n[p + 1]; if (f && f.start.row == c) { m.merge(f); break } } break } if (c <= m.start.row) break } return o || (m = this.$addFoldLine(new r(this.$foldData, i))), this.$useWrapMode ? this.$updateWrapData(m.start.row, m.start.row) : this.$updateRowLengthCache(m.start.row, m.start.row), this.$modified = !0, this._signal("changeFold", { data: i, action: "add" }), i }, this.addFolds = function (e) { e.forEach((function (e) { this.addFold(e) }), this) }, this.removeFold = function (e) { var t = e.foldLine, i = t.start.row, n = t.end.row, r = this.$foldData, s = t.folds; if (1 == s.length) r.splice(r.indexOf(t), 1); else if (t.range.isEnd(e.end.row, e.end.column)) s.pop(), t.end.row = s[s.length - 1].end.row, t.end.column = s[s.length - 1].end.column; else if (t.range.isStart(e.start.row, e.start.column)) s.shift(), t.start.row = s[0].start.row, t.start.column = s[0].start.column; else if (e.sameRow) s.splice(s.indexOf(e), 1); else { var o = t.split(e.start.row, e.start.column); (s = o.folds).shift(), o.start.row = s[0].start.row, o.start.column = s[0].start.column } this.$updating || (this.$useWrapMode ? this.$updateWrapData(i, n) : this.$updateRowLengthCache(i, n)), this.$modified = !0, this._signal("changeFold", { data: e, action: "remove" }) }, this.removeFolds = function (e) { for (var t = [], i = 0; i < e.length; i++)t.push(e[i]); t.forEach((function (e) { this.removeFold(e) }), this), this.$modified = !0 }, this.expandFold = function (e) { this.removeFold(e), e.subFolds.forEach((function (t) { e.restoreRange(t), this.addFold(t) }), this), 0 < e.collapseChildren && this.foldAll(e.start.row + 1, e.end.row, e.collapseChildren - 1), e.subFolds = [] }, this.expandFolds = function (e) { e.forEach((function (e) { this.expandFold(e) }), this) }, this.unfold = function (e, t) { var i, r; if (null == e ? (i = new n(0, 0, this.getLength(), 0), t = !0) : i = "number" == typeof e ? new n(e, 0, e, this.getLine(e).length) : "row" in e ? n.fromPoints(e, e) : e, r = this.getFoldsInRangeList(i), t) this.removeFolds(r); else for (var s = r; s.length;)this.expandFolds(s), s = this.getFoldsInRangeList(i); if (r.length) return r }, this.isRowFolded = function (e, t) { return !!this.getFoldLine(e, t) }, this.getRowFoldEnd = function (e, t) { var i = this.getFoldLine(e, t); return i ? i.end.row : e }, this.getRowFoldStart = function (e, t) { var i = this.getFoldLine(e, t); return i ? i.start.row : e }, this.getFoldDisplayLine = function (e, t, i, n, r) { null == n && (n = e.start.row), null == r && (r = 0), null == t && (t = e.end.row), null == i && (i = this.getLine(t).length); var s = this.doc, o = ""; return e.walk((function (e, t, i, a) { if (!(t < n)) { if (t == n) { if (i < r) return; a = Math.max(r, a) } o += null != e ? e : s.getLine(t).substring(a, i) } }), t, i), o }, this.getDisplayLine = function (e, t, i, n) { var r, s = this.getFoldLine(e); return s ? this.getFoldDisplayLine(s, e, t, i, n) : (r = this.doc.getLine(e)).substring(n || 0, t || r.length) }, this.$cloneFoldData = function () { var e = []; return e = this.$foldData.map((function (t) { var i = t.folds.map((function (e) { return e.clone() })); return new r(e, i) })) }, this.toggleFold = function (e) { var t, i, n = this.selection.getRange(); if (n.isEmpty()) { var r = n.start; if (t = this.getFoldAt(r.row, r.column)) return void this.expandFold(t); (i = this.findMatchingBracket(r)) ? 1 == n.comparePoint(i) ? n.end = i : (n.start = i, n.start.column++, n.end.column--) : (i = this.findMatchingBracket({ row: r.row, column: r.column + 1 })) ? (1 == n.comparePoint(i) ? n.end = i : n.start = i, n.start.column++) : n = this.getCommentFoldRange(r.row, r.column) || n } else { var s = this.getFoldsInRange(n); if (e && s.length) return void this.expandFolds(s); 1 == s.length && (t = s[0]) } if ((t = t || this.getFoldAt(n.start.row, n.start.column)) && t.range.toString() == n.toString()) this.expandFold(t); else { var o = "..."; if (!n.isMultiLine()) { if ((o = this.getTextRange(n)).length < 4) return; o = o.trim().substring(0, 2) + ".." } this.addFold(o, n) } }, this.getCommentFoldRange = function (e, t, i) { var r = new o(this, e, t), s = r.getCurrentToken(), a = s.type; if (s && /^comment|string/.test(a)) { "comment" == (a = a.match(/comment|string/)[0]) && (a += "|doc-start"); var l = new RegExp(a), c = new n; if (1 != i) { for (; (s = r.stepBackward()) && l.test(s.type);); r.stepForward() } if (c.start.row = r.getCurrentTokenRow(), c.start.column = r.getCurrentTokenColumn() + 2, r = new o(this, e, t), -1 != i) { var h = -1; do { if (s = r.stepForward(), -1 == h) { var d = this.getState(r.$row); l.test(d) || (h = r.$row) } else if (r.$row > h) break } while (s && l.test(s.type)); s = r.stepBackward() } else s = r.getCurrentToken(); return c.end.row = r.getCurrentTokenRow(), c.end.column = r.getCurrentTokenColumn() + s.value.length - 2, c } }, this.foldAll = function (e, t, i) { null == i && (i = 1e5); var n = this.foldWidgets; if (n) { t = t || this.getLength(); for (var r = e = e || 0; r < t; r++)if (null == n[r] && (n[r] = this.getFoldWidget(r)), "start" == n[r]) { var s = this.getFoldWidgetRange(r); if (s && s.isMultiLine() && s.end.row <= t && s.start.row >= e) { r = s.end.row; try { var o = this.addFold("...", s); o && (o.collapseChildren = i) } catch (e) { } } } } }, this.$foldStyles = { manual: 1, markbegin: 1, markbeginend: 1 }, this.$foldStyle = "markbegin", this.setFoldStyle = function (e) { if (!this.$foldStyles[e]) throw new Error("invalid fold style: " + e + "[" + Object.keys(this.$foldStyles).join(", ") + "]"); if (this.$foldStyle != e) { "manual" == (this.$foldStyle = e) && this.unfold(); var t = this.$foldMode; this.$setFolding(null), this.$setFolding(t) } }, this.$setFolding = function (e) { this.$foldMode != e && (this.$foldMode = e, this.off("change", this.$updateFoldWidgets), this.off("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets), this._signal("changeAnnotation"), e && "manual" != this.$foldStyle ? (this.foldWidgets = [], this.getFoldWidget = e.getFoldWidget.bind(e, this, this.$foldStyle), this.getFoldWidgetRange = e.getFoldWidgetRange.bind(e, this, this.$foldStyle), this.$updateFoldWidgets = this.updateFoldWidgets.bind(this), this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this), this.on("change", this.$updateFoldWidgets), this.on("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets)) : this.foldWidgets = null) }, this.getParentFoldRangeData = function (e, t) { var i = this.foldWidgets; if (!i || t && i[e]) return {}; for (var n, r = e - 1; 0 <= r;) { var s = i[r]; if (null == s && (s = i[r] = this.getFoldWidget(r)), "start" == s) { var o = this.getFoldWidgetRange(r); if (n = n || o, o && o.end.row >= e) break } r-- } return { range: -1 !== r && o, firstRange: n } }, this.onFoldWidgetClick = function (e, t) { var i = { children: (t = t.domEvent).shiftKey, all: t.ctrlKey || t.metaKey, siblings: t.altKey }; if (!this.$toggleFoldWidget(e, i)) { var n = t.target || t.srcElement; n && /ace_fold-widget/.test(n.className) && (n.className += " ace_invalid") } }, this.$toggleFoldWidget = function (e, t) { if (this.getFoldWidget) { var i = this.getFoldWidget(e), n = this.getLine(e), r = "end" === i ? -1 : 1, s = this.getFoldAt(e, -1 == r ? 0 : n.length, r); if (s) return t.children || t.all ? this.removeFold(s) : this.expandFold(s), s; var o = this.getFoldWidgetRange(e, !0); if (o && !o.isMultiLine() && (s = this.getFoldAt(o.start.row, o.start.column, 1)) && o.isEqual(s.range)) return this.removeFold(s), s; if (t.siblings) { var a = this.getParentFoldRangeData(e); if (a.range) var l = a.range.start.row + 1, c = a.range.end.row; this.foldAll(l, c, t.all ? 1e4 : 0) } else t.children ? (c = o ? o.end.row : this.getLength(), this.foldAll(e + 1, c, t.all ? 1e4 : 0)) : o && (t.all && (o.collapseChildren = 1e4), this.addFold("...", o)); return o } }, this.toggleFoldWidget = function (e) { var t = this.selection.getCursor().row; t = this.getRowFoldStart(t); var i = this.$toggleFoldWidget(t, {}); if (!i) { var n = this.getParentFoldRangeData(t, !0); if (i = n.range || n.firstRange) { t = i.start.row; var r = this.getFoldAt(t, this.getLine(t).length, 1); r ? this.removeFold(r) : this.addFold("...", i) } } }, this.updateFoldWidgets = function (e) { var t = e.start.row, i = e.end.row - t; if (0 == i) this.foldWidgets[t] = null; else if ("remove" == e.action) this.foldWidgets.splice(t, 1 + i, null); else { var n = Array(1 + i); n.unshift(t, 1), this.foldWidgets.splice.apply(this.foldWidgets, n) } }, this.tokenizerUpdateFoldWidgets = function (e) { var t = e.data; t.first != t.last && this.foldWidgets.length > t.first && this.foldWidgets.splice(t.first, this.foldWidgets.length) } } })), ace.define("ace/edit_session/bracket_match", ["require", "exports", "module", "ace/token_iterator", "ace/range"], (function (e, t, i) { "use strict"; var n = e("../token_iterator").TokenIterator, r = e("../range").Range; t.BracketMatch = function () { this.findMatchingBracket = function (e, t) { if (0 == e.column) return null; var i = t || this.getLine(e.row).charAt(e.column - 1); if ("" == i) return null; var n = i.match(/([\(\[\{])|([\)\]\}])/); return n ? n[1] ? this.$findClosingBracket(n[1], e) : this.$findOpeningBracket(n[2], e) : null }, this.getBracketRange = function (e) { var t, i = this.getLine(e.row), n = !0, s = i.charAt(e.column - 1), o = s && s.match(/([\(\[\{])|([\)\]\}])/); if (o || (s = i.charAt(e.column), e = { row: e.row, column: e.column + 1 }, o = s && s.match(/([\(\[\{])|([\)\]\}])/), n = !1), !o) return null; if (o[1]) { if (!(a = this.$findClosingBracket(o[1], e))) return null; t = r.fromPoints(e, a), n || (t.end.column++, t.start.column--), t.cursor = t.end } else { var a; if (!(a = this.$findOpeningBracket(o[2], e))) return null; t = r.fromPoints(a, e), n || (t.start.column++, t.end.column--), t.cursor = t.start } return t }, this.getMatchingBracketRanges = function (e) { var t = this.getLine(e.row), i = t.charAt(e.column - 1), n = i && i.match(/([\(\[\{])|([\)\]\}])/); if (n || (i = t.charAt(e.column), e = { row: e.row, column: e.column + 1 }, n = i && i.match(/([\(\[\{])|([\)\]\}])/)), !n) return null; var s = new r(e.row, e.column - 1, e.row, e.column), o = n[1] ? this.$findClosingBracket(n[1], e) : this.$findOpeningBracket(n[2], e); return o ? [s, new r(o.row, o.column, o.row, o.column + 1)] : [s] }, this.$brackets = { ")": "(", "(": ")", "]": "[", "[": "]", "{": "}", "}": "{", "<": ">", ">": "<" }, this.$findOpeningBracket = function (e, t, i) { var r = this.$brackets[e], s = 1, o = new n(this, t.row, t.column), a = o.getCurrentToken(); if (a = a || o.stepForward()) { i = i || new RegExp("(\\.?" + a.type.replace(".", "\\.").replace("rparen", ".paren").replace(/\b(?:end)\b/, "(?:start|begin|end)") + ")+"); for (var l = t.column - o.getCurrentTokenColumn() - 2, c = a.value; ;) { for (; 0 <= l;) { var h = c.charAt(l); if (h == r) { if (0 == --s) return { row: o.getCurrentTokenRow(), column: l + o.getCurrentTokenColumn() } } else h == e && (s += 1); --l } for (; (a = o.stepBackward()) && !i.test(a.type);); if (null == a) break; l = (c = a.value).length - 1 } return null } }, this.$findClosingBracket = function (e, t, i) { var r = this.$brackets[e], s = 1, o = new n(this, t.row, t.column), a = o.getCurrentToken(); if (a = a || o.stepForward()) { i = i || new RegExp("(\\.?" + a.type.replace(".", "\\.").replace("lparen", ".paren").replace(/\b(?:start|begin)\b/, "(?:start|begin|end)") + ")+"); for (var l = t.column - o.getCurrentTokenColumn(); ;) { for (var c = a.value, h = c.length; l < h;) { var d = c.charAt(l); if (d == r) { if (0 == --s) return { row: o.getCurrentTokenRow(), column: l + o.getCurrentTokenColumn() } } else d == e && (s += 1); l += 1 } for (; (a = o.stepForward()) && !i.test(a.type);); if (null == a) break; l = 0 } return null } } } })), ace.define("ace/edit_session", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/bidihandler", "ace/config", "ace/lib/event_emitter", "ace/selection", "ace/mode/text", "ace/range", "ace/document", "ace/background_tokenizer", "ace/search_highlight", "ace/edit_session/folding", "ace/edit_session/bracket_match"], (function (e, t, i) { "use strict"; var n = e("./lib/oop"), r = e("./lib/lang"), s = e("./bidihandler").BidiHandler, o = e("./config"), a = e("./lib/event_emitter").EventEmitter, l = e("./selection").Selection, c = e("./mode/text").Mode, h = e("./range").Range, d = e("./document").Document, u = e("./background_tokenizer").BackgroundTokenizer, g = e("./search_highlight").SearchHighlight, p = function (e, t) { this.$breakpoints = [], this.$decorations = [], this.$frontMarkers = {}, this.$backMarkers = {}, this.$markerId = 1, this.$undoSelect = !0, this.$foldData = [], this.id = "session" + ++p.$uid, this.$foldData.toString = function () { return this.join("\n") }, this.on("changeFold", this.onChangeFold.bind(this)), this.$onChange = this.onChange.bind(this), "object" == typeof e && e.getLine || (e = new d(e)), this.setDocument(e), this.selection = new l(this), this.$bidiHandler = new s(this), o.resetOptions(this), this.setMode(t), o._signal("session", this) }; p.$uid = 0, function () { n.implement(this, a), this.setDocument = function (e) { this.doc && this.doc.removeListener("change", this.$onChange), (this.doc = e).on("change", this.$onChange), this.bgTokenizer && this.bgTokenizer.setDocument(this.getDocument()), this.resetCaches() }, this.getDocument = function () { return this.doc }, this.$resetRowCache = function (e) { if (!e) return this.$docRowCache = [], void (this.$screenRowCache = []); var t = this.$docRowCache.length, i = this.$getRowCacheIndex(this.$docRowCache, e) + 1; i < t && (this.$docRowCache.splice(i, t), this.$screenRowCache.splice(i, t)) }, this.$getRowCacheIndex = function (e, t) { for (var i = 0, n = e.length - 1; i <= n;) { var r = i + n >> 1, s = e[r]; if (s < t) i = 1 + r; else { if (!(t < s)) return r; n = r - 1 } } return i - 1 }, this.resetCaches = function () { this.$modified = !0, this.$wrapData = [], this.$rowLengthCache = [], this.$resetRowCache(0), this.bgTokenizer && this.bgTokenizer.start(0) }, this.onChangeFold = function (e) { var t = e.data; this.$resetRowCache(t.start.row) }, this.onChange = function (e) { this.$modified = !0, this.$bidiHandler.onChange(e), this.$resetRowCache(e.start.row); var t = this.$updateInternalDataOnChange(e); !this.$fromUndo && this.$undoManager && (t && t.length && (this.$undoManager.add({ action: "removeFolds", folds: t }, this.mergeUndoDeltas), this.mergeUndoDeltas = !0), this.$undoManager.add(e, this.mergeUndoDeltas), this.mergeUndoDeltas = !0, this.$informUndoManager.schedule()), this.bgTokenizer && this.bgTokenizer.$updateOnChange(e), this._signal("change", e) }, this.setValue = function (e) { this.doc.setValue(e), this.selection.moveTo(0, 0), this.$resetRowCache(0), this.setUndoManager(this.$undoManager), this.getUndoManager().reset() }, this.getValue = this.toString = function () { return this.doc.getValue() }, this.getSelection = function () { return this.selection }, this.getState = function (e) { return this.bgTokenizer.getState(e) }, this.getTokens = function (e) { return this.bgTokenizer.getTokens(e) }, this.getTokenAt = function (e, t) { var i, n = this.bgTokenizer.getTokens(e), r = 0; if (null == t) { var s = n.length - 1; r = this.getLine(e).length } else for (s = 0; s < n.length && !(t <= (r += n[s].value.length)); s++); return (i = n[s]) ? (i.index = s, i.start = r - i.value.length, i) : null }, this.setUndoManager = function (e) { if (this.$undoManager = e, this.$informUndoManager && this.$informUndoManager.cancel(), e) { var t = this; e.addSession(this), this.$syncInformUndoManager = function () { t.$informUndoManager.cancel(), t.mergeUndoDeltas = !1 }, this.$informUndoManager = r.delayedCall(this.$syncInformUndoManager) } else this.$syncInformUndoManager = function () { } }, this.markUndoGroup = function () { this.$syncInformUndoManager && this.$syncInformUndoManager() }, this.$defaultUndoManager = { undo: function () { }, redo: function () { }, hasUndo: function () { }, hasRedo: function () { }, reset: function () { }, add: function () { }, addSelection: function () { }, startNewGroup: function () { }, addSession: function () { } }, this.getUndoManager = function () { return this.$undoManager || this.$defaultUndoManager }, this.getTabString = function () { return this.getUseSoftTabs() ? r.stringRepeat(" ", this.getTabSize()) : "\t" }, this.setUseSoftTabs = function (e) { this.setOption("useSoftTabs", e) }, this.getUseSoftTabs = function () { return this.$useSoftTabs && !this.$mode.$indentWithTabs }, this.setTabSize = function (e) { this.setOption("tabSize", e) }, this.getTabSize = function () { return this.$tabSize }, this.isTabStop = function (e) { return this.$useSoftTabs && e.column % this.$tabSize == 0 }, this.setNavigateWithinSoftTabs = function (e) { this.setOption("navigateWithinSoftTabs", e) }, this.getNavigateWithinSoftTabs = function () { return this.$navigateWithinSoftTabs }, this.$overwrite = !1, this.setOverwrite = function (e) { this.setOption("overwrite", e) }, this.getOverwrite = function () { return this.$overwrite }, this.toggleOverwrite = function () { this.setOverwrite(!this.$overwrite) }, this.addGutterDecoration = function (e, t) { this.$decorations[e] || (this.$decorations[e] = ""), this.$decorations[e] += " " + t, this._signal("changeBreakpoint", {}) }, this.removeGutterDecoration = function (e, t) { this.$decorations[e] = (this.$decorations[e] || "").replace(" " + t, ""), this._signal("changeBreakpoint", {}) }, this.getBreakpoints = function () { return this.$breakpoints }, this.setBreakpoints = function (e) { this.$breakpoints = []; for (var t = 0; t < e.length; t++)this.$breakpoints[e[t]] = "ace_breakpoint"; this._signal("changeBreakpoint", {}) }, this.clearBreakpoints = function () { this.$breakpoints = [], this._signal("changeBreakpoint", {}) }, this.setBreakpoint = function (e, t) { void 0 === t && (t = "ace_breakpoint"), t ? this.$breakpoints[e] = t : delete this.$breakpoints[e], this._signal("changeBreakpoint", {}) }, this.clearBreakpoint = function (e) { delete this.$breakpoints[e], this._signal("changeBreakpoint", {}) }, this.addMarker = function (e, t, i, n) { var r = this.$markerId++, s = { range: e, type: i || "line", renderer: "function" == typeof i ? i : null, clazz: t, inFront: !!n, id: r }; return n ? (this.$frontMarkers[r] = s, this._signal("changeFrontMarker")) : (this.$backMarkers[r] = s, this._signal("changeBackMarker")), r }, this.addDynamicMarker = function (e, t) { if (e.update) { var i = this.$markerId++; return e.id = i, e.inFront = !!t, t ? (this.$frontMarkers[i] = e, this._signal("changeFrontMarker")) : (this.$backMarkers[i] = e, this._signal("changeBackMarker")), e } }, this.removeMarker = function (e) { var t = this.$frontMarkers[e] || this.$backMarkers[e]; t && (delete (t.inFront ? this.$frontMarkers : this.$backMarkers)[e], this._signal(t.inFront ? "changeFrontMarker" : "changeBackMarker")) }, this.getMarkers = function (e) { return e ? this.$frontMarkers : this.$backMarkers }, this.highlight = function (e) { if (!this.$searchHighlight) { var t = new g(null, "ace_selected-word", "text"); this.$searchHighlight = this.addDynamicMarker(t) } this.$searchHighlight.setRegexp(e) }, this.highlightLines = function (e, t, i, n) { "number" != typeof t && (i = t, t = e), i = i || "ace_step"; var r = new h(e, 0, t, 1 / 0); return r.id = this.addMarker(r, i, "fullLine", n), r }, this.setAnnotations = function (e) { this.$annotations = e, this._signal("changeAnnotation", {}) }, this.getAnnotations = function () { return this.$annotations || [] }, this.clearAnnotations = function () { this.setAnnotations([]) }, this.$detectNewLine = function (e) { var t = e.match(/^.*?(\r?\n)/m); this.$autoNewLine = t ? t[1] : "\n" }, this.getWordRange = function (e, t) { var i = this.getLine(e), n = !1; if (0 < t && (n = !!i.charAt(t - 1).match(this.tokenRe)), n = n || !!i.charAt(t).match(this.tokenRe)) var r = this.tokenRe; else r = /^\s+$/.test(i.slice(t - 1, t + 1)) ? /\s/ : this.nonTokenRe; var s = t; if (0 < s) { for (; 0 <= --s && i.charAt(s).match(r);); s++ } for (var o = t; o < i.length && i.charAt(o).match(r);)o++; return new h(e, s, e, o) }, this.getAWordRange = function (e, t) { for (var i = this.getWordRange(e, t), n = this.getLine(i.end.row); n.charAt(i.end.column).match(/[ \t]/);)i.end.column += 1; return i }, this.setNewLineMode = function (e) { this.doc.setNewLineMode(e) }, this.getNewLineMode = function () { return this.doc.getNewLineMode() }, this.setUseWorker = function (e) { this.setOption("useWorker", e) }, this.getUseWorker = function () { return this.$useWorker }, this.onReloadTokenizer = function (e) { var t = e.data; this.bgTokenizer.start(t.first), this._signal("tokenizerUpdate", e) }, this.$modes = o.$modes, this.$mode = null, this.$modeId = null, this.setMode = function (e, t) { if (e && "object" == typeof e) { if (e.getTokenizer) return this.$onChangeMode(e); var i = e, n = i.path } else n = e || "ace/mode/text"; if (this.$modes["ace/mode/text"] || (this.$modes["ace/mode/text"] = new c), this.$modes[n] && !i) return this.$onChangeMode(this.$modes[n]), void (t && t()); this.$modeId = n, o.loadModule(["mode", n], function (e) { if (this.$modeId !== n) return t && t(); this.$modes[n] && !i ? this.$onChangeMode(this.$modes[n]) : e && e.Mode && (e = new e.Mode(i), i || ((this.$modes[n] = e).$id = n), this.$onChangeMode(e)), t && t() }.bind(this)), this.$mode || this.$onChangeMode(this.$modes["ace/mode/text"], !0) }, this.$onChangeMode = function (e, t) { if (t || (this.$modeId = e.$id), this.$mode !== e) { this.$mode = e, this.$stopWorker(), this.$useWorker && this.$startWorker(); var i = e.getTokenizer(); if (void 0 !== i.addEventListener) { var n = this.onReloadTokenizer.bind(this); i.addEventListener("update", n) } if (this.bgTokenizer) this.bgTokenizer.setTokenizer(i); else { this.bgTokenizer = new u(i); var r = this; this.bgTokenizer.addEventListener("update", (function (e) { r._signal("tokenizerUpdate", e) })) } this.bgTokenizer.setDocument(this.getDocument()), this.tokenRe = e.tokenRe, this.nonTokenRe = e.nonTokenRe, t || (e.attachToSession && e.attachToSession(this), this.$options.wrapMethod.set.call(this, this.$wrapMethod), this.$setFolding(e.foldingRules), this.bgTokenizer.start(0), this._emit("changeMode")) } }, this.$stopWorker = function () { this.$worker && (this.$worker.terminate(), this.$worker = null) }, this.$startWorker = function () { try { this.$worker = this.$mode.createWorker(this) } catch (e) { o.warn("Could not load worker", e), this.$worker = null } }, this.getMode = function () { return this.$mode }, this.$scrollTop = 0, this.setScrollTop = function (e) { this.$scrollTop === e || isNaN(e) || (this.$scrollTop = e, this._signal("changeScrollTop", e)) }, this.getScrollTop = function () { return this.$scrollTop }, this.$scrollLeft = 0, this.setScrollLeft = function (e) { this.$scrollLeft === e || isNaN(e) || (this.$scrollLeft = e, this._signal("changeScrollLeft", e)) }, this.getScrollLeft = function () { return this.$scrollLeft }, this.getScreenWidth = function () { return this.$computeWidth(), this.lineWidgets ? Math.max(this.getLineWidgetMaxWidth(), this.screenWidth) : this.screenWidth }, this.getLineWidgetMaxWidth = function () { if (null != this.lineWidgetsWidth) return this.lineWidgetsWidth; var e = 0; return this.lineWidgets.forEach((function (t) { t && t.screenWidth > e && (e = t.screenWidth) })), this.lineWidgetWidth = e }, this.$computeWidth = function (e) { if (this.$modified || e) { if (this.$modified = !1, this.$useWrapMode) return this.screenWidth = this.$wrapLimit; for (var t = this.doc.getAllLines(), i = this.$rowLengthCache, n = 0, r = 0, s = this.$foldData[r], o = s ? s.start.row : 1 / 0, a = t.length, l = 0; l < a; l++) { if (o < l) { if (a <= (l = s.end.row + 1)) break; o = (s = this.$foldData[r++]) ? s.start.row : 1 / 0 } null == i[l] && (i[l] = this.$getStringScreenWidth(t[l])[0]), i[l] > n && (n = i[l]) } this.screenWidth = n } }, this.getLine = function (e) { return this.doc.getLine(e) }, this.getLines = function (e, t) { return this.doc.getLines(e, t) }, this.getLength = function () { return this.doc.getLength() }, this.getTextRange = function (e) { return this.doc.getTextRange(e || this.selection.getRange()) }, this.insert = function (e, t) { return this.doc.insert(e, t) }, this.remove = function (e) { return this.doc.remove(e) }, this.removeFullLines = function (e, t) { return this.doc.removeFullLines(e, t) }, this.undoChanges = function (e, t) { if (e.length) { this.$fromUndo = !0; for (var i = e.length - 1; -1 != i; i--) { var n = e[i]; "insert" == n.action || "remove" == n.action ? this.doc.revertDelta(n) : n.folds && this.addFolds(n.folds) } !t && this.$undoSelect && (e.selectionBefore ? this.selection.fromJSON(e.selectionBefore) : this.selection.setRange(this.$getUndoSelection(e, !0))), this.$fromUndo = !1 } }, this.redoChanges = function (e, t) { if (e.length) { this.$fromUndo = !0; for (var i = 0; i < e.length; i++) { var n = e[i]; "insert" != n.action && "remove" != n.action || this.doc.applyDelta(n) } !t && this.$undoSelect && (e.selectionAfter ? this.selection.fromJSON(e.selectionAfter) : this.selection.setRange(this.$getUndoSelection(e, !1))), this.$fromUndo = !1 } }, this.setUndoSelect = function (e) { this.$undoSelect = e }, this.$getUndoSelection = function (e, t) { function i(e) { return t ? "insert" !== e.action : "insert" === e.action } for (var n, r, s = 0; s < e.length; s++) { var o = e[s]; o.start && (n ? i(o) ? (r = o.start, -1 == n.compare(r.row, r.column) && n.setStart(r), r = o.end, 1 == n.compare(r.row, r.column) && n.setEnd(r)) : (r = o.start, -1 == n.compare(r.row, r.column) && (n = h.fromPoints(o.start, o.start))) : n = i(o) ? h.fromPoints(o.start, o.end) : h.fromPoints(o.start, o.start)) } return n }, this.replace = function (e, t) { return this.doc.replace(e, t) }, this.moveText = function (e, t, i) { var n = this.getTextRange(e), r = this.getFoldsInRange(e), s = h.fromPoints(t, t); if (!i) { this.remove(e); var o = e.start.row - e.end.row; (c = o ? -e.end.column : e.start.column - e.end.column) && (s.start.row == e.end.row && s.start.column > e.end.column && (s.start.column += c), s.end.row == e.end.row && s.end.column > e.end.column && (s.end.column += c)), o && s.start.row >= e.end.row && (s.start.row += o, s.end.row += o) } if (s.end = this.insert(s.start, n), r.length) { var a = e.start, l = s.start, c = (o = l.row - a.row, l.column - a.column); this.addFolds(r.map((function (e) { return (e = e.clone()).start.row == a.row && (e.start.column += c), e.end.row == a.row && (e.end.column += c), e.start.row += o, e.end.row += o, e }))) } return s }, this.indentRows = function (e, t, i) { i = i.replace(/\t/g, this.getTabString()); for (var n = e; n <= t; n++)this.doc.insertInLine({ row: n, column: 0 }, i) }, this.outdentRows = function (e) { for (var t = e.collapseRows(), i = new h(0, 0, 0, 0), n = this.getTabSize(), r = t.start.row; r <= t.end.row; ++r) { var s = this.getLine(r); i.start.row = r, i.end.row = r; for (var o = 0; o < n && " " == s.charAt(o); ++o); o < n && "\t" == s.charAt(o) ? (i.start.column = o, i.end.column = o + 1) : (i.start.column = 0, i.end.column = o), this.remove(i) } }, this.$moveLines = function (e, t, i) { if (e = this.getRowFoldStart(e), t = this.getRowFoldEnd(t), i < 0) { if ((r = this.getRowFoldStart(e + i)) < 0) return 0; var n = r - e } else if (0 < i) { var r; if ((r = this.getRowFoldEnd(t + i)) > this.doc.getLength() - 1) return 0; n = r - t } else e = this.$clipRowToDocument(e), n = (t = this.$clipRowToDocument(t)) - e + 1; var s = new h(e, 0, t, Number.MAX_VALUE), o = this.getFoldsInRange(s).map((function (e) { return (e = e.clone()).start.row += n, e.end.row += n, e })), a = 0 == i ? this.doc.getLines(e, t) : this.doc.removeFullLines(e, t); return this.doc.insertFullLines(e + n, a), o.length && this.addFolds(o), n }, this.moveLinesUp = function (e, t) { return this.$moveLines(e, t, -1) }, this.moveLinesDown = function (e, t) { return this.$moveLines(e, t, 1) }, this.duplicateLines = function (e, t) { return this.$moveLines(e, t, 0) }, this.$clipRowToDocument = function (e) { return Math.max(0, Math.min(e, this.doc.getLength() - 1)) }, this.$clipColumnToRow = function (e, t) { return t < 0 ? 0 : Math.min(this.doc.getLine(e).length, t) }, this.$clipPositionToDocument = function (e, t) { if (t = Math.max(0, t), e < 0) t = e = 0; else { var i = this.doc.getLength(); t = i <= e ? (e = i - 1, this.doc.getLine(i - 1).length) : Math.min(this.doc.getLine(e).length, t) } return { row: e, column: t } }, this.$clipRangeToDocument = function (e) { e.start.row < 0 ? (e.start.row = 0, e.start.column = 0) : e.start.column = this.$clipColumnToRow(e.start.row, e.start.column); var t = this.doc.getLength() - 1; return e.end.row > t ? (e.end.row = t, e.end.column = this.doc.getLine(t).length) : e.end.column = this.$clipColumnToRow(e.end.row, e.end.column), e }, this.$wrapLimit = 80, this.$useWrapMode = !1, this.$wrapLimitRange = { min: null, max: null }, this.setUseWrapMode = function (e) { if (e != this.$useWrapMode) { if (this.$useWrapMode = e, this.$modified = !0, this.$resetRowCache(0), e) { var t = this.getLength(); this.$wrapData = Array(t), this.$updateWrapData(0, t - 1) } this._signal("changeWrapMode") } }, this.getUseWrapMode = function () { return this.$useWrapMode }, this.setWrapLimitRange = function (e, t) { this.$wrapLimitRange.min === e && this.$wrapLimitRange.max === t || (this.$wrapLimitRange = { min: e, max: t }, this.$modified = !0, this.$bidiHandler.markAsDirty(), this.$useWrapMode && this._signal("changeWrapMode")) }, this.adjustWrapLimit = function (e, t) { var i = this.$wrapLimitRange; i.max < 0 && (i = { min: t, max: t }); var n = this.$constrainWrapLimit(e, i.min, i.max); return n != this.$wrapLimit && 1 < n && (this.$wrapLimit = n, this.$modified = !0, this.$useWrapMode && (this.$updateWrapData(0, this.getLength() - 1), this.$resetRowCache(0), this._signal("changeWrapLimit")), !0) }, this.$constrainWrapLimit = function (e, t, i) { return t && (e = Math.max(t, e)), i && (e = Math.min(i, e)), e }, this.getWrapLimit = function () { return this.$wrapLimit }, this.setWrapLimit = function (e) { this.setWrapLimitRange(e, e) }, this.getWrapLimitRange = function () { return { min: this.$wrapLimitRange.min, max: this.$wrapLimitRange.max } }, this.$updateInternalDataOnChange = function (e) { var t = this.$useWrapMode, i = e.action, n = e.start, r = e.end, s = n.row, o = r.row, a = o - s, l = null; if (this.$updating = !0, 0 != a) if ("remove" === i) { this[t ? "$wrapData" : "$rowLengthCache"].splice(s, a); var c = this.$foldData; l = this.getFoldsInRange(e), this.removeFolds(l); var h = 0; if (m = this.getFoldLine(r.row)) { m.addRemoveChars(r.row, r.column, n.column - r.column), m.shiftRow(-a); var d = this.getFoldLine(s); d && d !== m && (d.merge(m), m = d), h = c.indexOf(m) + 1 } for (; h < c.length; h++)(m = c[h]).start.row >= r.row && m.shiftRow(-a); o = s } else { var u = Array(a); u.unshift(s, 0); var g = t ? this.$wrapData : this.$rowLengthCache; if (g.splice.apply(g, u), c = this.$foldData, h = 0, m = this.getFoldLine(s)) { var p = m.range.compareInside(n.row, n.column); 0 == p ? (m = m.split(n.row, n.column)) && (m.shiftRow(a), m.addRemoveChars(o, 0, r.column - n.column)) : -1 == p && (m.addRemoveChars(s, 0, r.column - n.column), m.shiftRow(a)), h = c.indexOf(m) + 1 } for (; h < c.length; h++) { var m; (m = c[h]).start.row >= s && m.shiftRow(a) } } else a = Math.abs(e.start.column - e.end.column), "remove" === i && (l = this.getFoldsInRange(e), this.removeFolds(l), a = -a), (m = this.getFoldLine(s)) && m.addRemoveChars(s, n.column, a); return t && this.$wrapData.length != this.doc.getLength() && console.error("doc.getLength() and $wrapData.length have to be the same!"), this.$updating = !1, t ? this.$updateWrapData(s, o) : this.$updateRowLengthCache(s, o), l }, this.$updateRowLengthCache = function (e, t, i) { this.$rowLengthCache[e] = null, this.$rowLengthCache[t] = null }, this.$updateWrapData = function (e, n) { var r, s, o = this.doc.getAllLines(), a = this.getTabSize(), l = this.$wrapData, c = this.$wrapLimit, h = e; for (n = Math.min(n, o.length - 1); h <= n;)(s = this.getFoldLine(h, s)) ? (r = [], s.walk(function (e, n, s, a) { var l; if (null != e) { (l = this.$getDisplayTokens(e, r.length))[0] = t; for (var c = 1; c < l.length; c++)l[c] = i } else l = this.$getDisplayTokens(o[n].substring(a, s), r.length); r = r.concat(l) }.bind(this), s.end.row, o[s.end.row].length + 1), l[s.start.row] = this.$computeWrapSplits(r, c, a), h = s.end.row + 1) : (r = this.$getDisplayTokens(o[h]), l[h] = this.$computeWrapSplits(r, c, a), h++) }; var t = 3, i = 4; function s(e) { return !(e < 4352) && (4352 <= e && e <= 4447 || 4515 <= e && e <= 4519 || 4602 <= e && e <= 4607 || 9001 <= e && e <= 9002 || 11904 <= e && e <= 11929 || 11931 <= e && e <= 12019 || 12032 <= e && e <= 12245 || 12272 <= e && e <= 12283 || 12288 <= e && e <= 12350 || 12353 <= e && e <= 12438 || 12441 <= e && e <= 12543 || 12549 <= e && e <= 12589 || 12593 <= e && e <= 12686 || 12688 <= e && e <= 12730 || 12736 <= e && e <= 12771 || 12784 <= e && e <= 12830 || 12832 <= e && e <= 12871 || 12880 <= e && e <= 13054 || 13056 <= e && e <= 19903 || 19968 <= e && e <= 42124 || 42128 <= e && e <= 42182 || 43360 <= e && e <= 43388 || 44032 <= e && e <= 55203 || 55216 <= e && e <= 55238 || 55243 <= e && e <= 55291 || 63744 <= e && e <= 64255 || 65040 <= e && e <= 65049 || 65072 <= e && e <= 65106 || 65108 <= e && e <= 65126 || 65128 <= e && e <= 65131 || 65281 <= e && e <= 65376 || 65504 <= e && e <= 65510) } this.$computeWrapSplits = function (e, n, r) { if (0 == e.length) return []; var s = [], o = e.length, a = 0, l = 0, c = this.$wrapAsCode, h = this.$indentedSoftWrap, d = n <= Math.max(2 * r, 8) || !1 === h ? 0 : Math.floor(n / 2); function u(t) { for (var i = t - a, n = a; n < t; n++) { var o = e[n]; 12 !== o && 2 !== o || --i } s.length || (g = function () { var t = 0; if (0 === d) return t; if (h) for (var i = 0; i < e.length; i++) { var n = e[i]; if (10 == n) t += 1; else { if (11 != n) { if (12 == n) continue; break } t += r } } return c && !1 !== h && (t += r), Math.min(t, d) }(), s.indent = g), l += i, s.push(l), a = t } for (var g = 0; n - g < o - a;) { var p = a + n - g; if (10 <= e[p - 1] && 10 <= e[p]) u(p); else if (e[p] != t && e[p] != i) { for (var m = Math.max(p - (n - (n >> 2)), a - 1); m < p && e[p] < t;)p--; if (c) { for (; m < p && e[p] < t;)p--; for (; m < p && 9 == e[p];)p-- } else for (; m < p && e[p] < 10;)p--; m < p ? u(++p) : (2 == e[p = a + n] && p--, u(p - g)) } else { for (; p != a - 1 && e[p] != t; p--); if (a < p) { u(p); continue } for (p = a + n; p < e.length && e[p] == i; p++); if (p == e.length) break; u(p) } } return s }, this.$getDisplayTokens = function (e, t) { var i, n = []; t = t || 0; for (var r = 0; r < e.length; r++) { var o = e.charCodeAt(r); if (9 == o) { i = this.getScreenTabSize(n.length + t), n.push(11); for (var a = 1; a < i; a++)n.push(12) } else 32 == o ? n.push(10) : 39 < o && o < 48 || 57 < o && o < 64 ? n.push(9) : 4352 <= o && s(o) ? n.push(1, 2) : n.push(1) } return n }, this.$getStringScreenWidth = function (e, t, i) { if (0 == t) return [0, 0]; var n, r; for (null == t && (t = 1 / 0), i = i || 0, r = 0; r < e.length && (9 == (n = e.charCodeAt(r)) ? i += this.getScreenTabSize(i) : 4352 <= n && s(n) ? i += 2 : i += 1, !(t < i)); r++); return [i, r] }, this.lineWidgets = null, this.getRowLength = function (e) { var t = 1; return this.lineWidgets && (t += this.lineWidgets[e] && this.lineWidgets[e].rowCount || 0), this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + t : t }, this.getRowLineCount = function (e) { return this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 : 1 }, this.getRowWrapIndent = function (e) { if (this.$useWrapMode) { var t = this.screenToDocumentPosition(e, Number.MAX_VALUE), i = this.$wrapData[t.row]; return i.length && i[0] < t.column ? i.indent : 0 } return 0 }, this.getScreenLastRowColumn = function (e) { var t = this.screenToDocumentPosition(e, Number.MAX_VALUE); return this.documentToScreenColumn(t.row, t.column) }, this.getDocumentLastRowColumn = function (e, t) { var i = this.documentToScreenRow(e, t); return this.getScreenLastRowColumn(i) }, this.getDocumentLastRowColumnPosition = function (e, t) { var i = this.documentToScreenRow(e, t); return this.screenToDocumentPosition(i, Number.MAX_VALUE / 10) }, this.getRowSplitData = function (e) { return this.$useWrapMode ? this.$wrapData[e] : void 0 }, this.getScreenTabSize = function (e) { return this.$tabSize - (e % this.$tabSize | 0) }, this.screenToDocumentRow = function (e, t) { return this.screenToDocumentPosition(e, t).row }, this.screenToDocumentColumn = function (e, t) { return this.screenToDocumentPosition(e, t).column }, this.screenToDocumentPosition = function (e, t, i) { if (e < 0) return { row: 0, column: 0 }; var n, r, s = 0, o = 0, a = 0, l = 0, c = this.$screenRowCache, h = this.$getRowCacheIndex(c, e), d = c.length; if (d && 0 <= h) { a = c[h], s = this.$docRowCache[h]; var u = e > c[d - 1] } else u = !d; for (var g = this.getLength() - 1, p = this.getNextFoldLine(s), m = p ? p.start.row : 1 / 0; a <= e && !(e < a + (l = this.getRowLength(s)) || g <= s);)a += l, m < ++s && (s = p.end.row + 1, m = (p = this.getNextFoldLine(s, p)) ? p.start.row : 1 / 0), u && (this.$docRowCache.push(s), this.$screenRowCache.push(a)); if (p && p.start.row <= s) n = this.getFoldDisplayLine(p), s = p.start.row; else { if (a + l <= e || g < s) return { row: g, column: this.getLine(g).length }; n = this.getLine(s), p = null } var f = 0, C = Math.floor(e - a); if (this.$useWrapMode) { var I = this.$wrapData[s]; I && (r = I[C], 0 < C && I.length && (f = I.indent, o = I[C - 1] || I[I.length - 1], n = n.substring(o))) } return void 0 !== i && this.$bidiHandler.isBidiRow(a + C, s, C) && (t = this.$bidiHandler.offsetToCol(i)), o += this.$getStringScreenWidth(n, t - f)[1], this.$useWrapMode && r <= o && (o = r - 1), p ? p.idxToPosition(o) : { row: s, column: o } }, this.documentToScreenPosition = function (e, t) { if (void 0 === t) var i = this.$clipPositionToDocument(e.row, e.column); else i = this.$clipPositionToDocument(e, t); e = i.row, t = i.column; var n, r, s = 0; (n = this.getFoldAt(e, t, 1)) && (e = n.start.row, t = n.start.column); var o, a = 0, l = this.$docRowCache, c = this.$getRowCacheIndex(l, e), h = l.length; if (h && 0 <= c) { a = l[c], s = this.$screenRowCache[c]; var d = e > l[h - 1] } else d = !h; for (var u = this.getNextFoldLine(a), g = u ? u.start.row : 1 / 0; a < e;) { if (g <= a) { if (e < (o = u.end.row + 1)) break; g = (u = this.getNextFoldLine(o, u)) ? u.start.row : 1 / 0 } else o = a + 1; s += this.getRowLength(a), a = o, d && (this.$docRowCache.push(a), this.$screenRowCache.push(s)) } var p = ""; r = u && g <= a ? (p = this.getFoldDisplayLine(u, e, t), u.start.row) : (p = this.getLine(e).substring(0, t), e); var m = 0; if (this.$useWrapMode) { var f = this.$wrapData[r]; if (f) { for (var C = 0; p.length >= f[C];)s++, C++; p = p.substring(f[C - 1] || 0, p.length), m = 0 < C ? f.indent : 0 } } return this.lineWidgets && this.lineWidgets[a] && this.lineWidgets[a].rowsAbove && (s += this.lineWidgets[a].rowsAbove), { row: s, column: m + this.$getStringScreenWidth(p)[0] } }, this.documentToScreenColumn = function (e, t) { return this.documentToScreenPosition(e, t).column }, this.documentToScreenRow = function (e, t) { return this.documentToScreenPosition(e, t).row }, this.getScreenLength = function () { var e = 0, t = null; if (this.$useWrapMode) for (var i = this.$wrapData.length, n = 0, r = (a = 0, (t = this.$foldData[a++]) ? t.start.row : 1 / 0); n < i;) { var s = this.$wrapData[n]; e += s ? s.length + 1 : 1, r < ++n && (n = t.end.row + 1, r = (t = this.$foldData[a++]) ? t.start.row : 1 / 0) } else { e = this.getLength(); for (var o = this.$foldData, a = 0; a < o.length; a++)e -= (t = o[a]).end.row - t.start.row } return this.lineWidgets && (e += this.$getWidgetScreenLength()), e }, this.$setFontMetrics = function (e) { this.$enableVarChar && (this.$getStringScreenWidth = function (t, i, n) { if (0 === i) return [0, 0]; var r, s; for (i = i || 1 / 0, n = n || 0, s = 0; s < t.length && !(i < (n += "\t" === (r = t.charAt(s)) ? this.getScreenTabSize(n) : e.getCharacterWidth(r))); s++); return [n, s] }) }, this.destroy = function () { this.bgTokenizer && (this.bgTokenizer.setDocument(null), this.bgTokenizer = null), this.$stopWorker() }, this.isFullWidth = s }.call(p.prototype), e("./edit_session/folding").Folding.call(p.prototype), e("./edit_session/bracket_match").BracketMatch.call(p.prototype), o.defineOptions(p.prototype, "session", { wrap: { set: function (e) { if (e && "off" != e ? "free" == e ? e = !0 : "printMargin" == e ? e = -1 : "string" == typeof e && (e = parseInt(e, 10) || !1) : e = !1, this.$wrap != e) if (this.$wrap = e) { var t = "number" == typeof e ? e : null; this.setWrapLimitRange(t, t), this.setUseWrapMode(!0) } else this.setUseWrapMode(!1) }, get: function () { return this.getUseWrapMode() ? -1 == this.$wrap ? "printMargin" : this.getWrapLimitRange().min ? this.$wrap : "free" : "off" }, handlesSet: !0 }, wrapMethod: { set: function (e) { (e = "auto" == e ? "text" != this.$mode.type : "text" != e) != this.$wrapAsCode && (this.$wrapAsCode = e, this.$useWrapMode && (this.$useWrapMode = !1, this.setUseWrapMode(!0))) }, initialValue: "auto" }, indentedSoftWrap: { set: function () { this.$useWrapMode && (this.$useWrapMode = !1, this.setUseWrapMode(!0)) }, initialValue: !0 }, firstLineNumber: { set: function () { this._signal("changeBreakpoint") }, initialValue: 1 }, useWorker: { set: function (e) { this.$useWorker = e, this.$stopWorker(), e && this.$startWorker() }, initialValue: !0 }, useSoftTabs: { initialValue: !0 }, tabSize: { set: function (e) { 0 < (e = parseInt(e)) && this.$tabSize !== e && (this.$modified = !0, this.$rowLengthCache = [], this.$tabSize = e, this._signal("changeTabSize")) }, initialValue: 4, handlesSet: !0 }, navigateWithinSoftTabs: { initialValue: !1 }, foldStyle: { set: function (e) { this.setFoldStyle(e) }, handlesSet: !0 }, overwrite: { set: function (e) { this._signal("changeOverwrite") }, initialValue: !1 }, newLineMode: { set: function (e) { this.doc.setNewLineMode(e) }, get: function () { return this.doc.getNewLineMode() }, handlesSet: !0 }, mode: { set: function (e) { this.setMode(e) }, get: function () { return this.$modeId }, handlesSet: !0 } }), t.EditSession = p })), ace.define("ace/search", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], (function (e, t, i) { "use strict"; function n() { this.$options = {} } var r = e("./lib/lang"), s = e("./lib/oop"), o = e("./range").Range; (function () { this.set = function (e) { return s.mixin(this.$options, e), this }, this.getOptions = function () { return r.copyObject(this.$options) }, this.setOptions = function (e) { this.$options = e }, this.find = function (e) { var t = this.$options, i = this.$matchIterator(e, t); if (!i) return !1; var n = null; return i.forEach((function (e, i, r, s) { return n = new o(e, i, r, s), !(i == s && t.start && t.start.start && 0 != t.skipCurrent && n.isEqual(t.start) && (n = null, 1)) })), n }, this.findAll = function (e) { var t = this.$options; if (!t.needle) return []; this.$assembleRegExp(t); var i = t.range, n = i ? e.getLines(i.start.row, i.end.row) : e.doc.getAllLines(), s = [], a = t.re; if (t.$isMultiLine) { var l, c = a.length, h = n.length - c; e: for (var d = a.offset || 0; d <= h; d++) { for (var u = 0; u < c; u++)if (-1 == n[d + u].search(a[u])) continue e; var g = n[d], p = n[d + c - 1], m = g.length - g.match(a[0])[0].length, f = p.match(a[c - 1])[0].length; l && l.end.row === d && l.end.column > m || (s.push(l = new o(d, m, d + c - 1, f)), 2 < c && (d = d + c - 2)) } } else for (var C = 0; C < n.length; C++) { var I = r.getMatchOffsets(n[C], a); for (u = 0; u < I.length; u++) { var A = I[u]; s.push(new o(C, A.offset, C, A.offset + A.length)) } } if (i) { var v = i.start.column, b = i.start.column; for (C = 0, u = s.length - 1; C < u && s[C].start.column < v && s[C].start.row == i.start.row;)C++; for (; C < u && s[u].end.column > b && s[u].end.row == i.end.row;)u--; for (s = s.slice(C, u + 1), C = 0, u = s.length; C < u; C++)s[C].start.row += i.start.row, s[C].end.row += i.start.row } return s }, this.replace = function (e, t) { var i = this.$options, n = this.$assembleRegExp(i); if (i.$isMultiLine) return t; if (n) { var r = n.exec(e); if (!r || r[0].length != e.length) return null; if (t = e.replace(n, t), i.preserveCase) { t = t.split(""); for (var s = Math.min(e.length, e.length); s--;) { var o = e[s]; o && o.toLowerCase() != o ? t[s] = t[s].toUpperCase() : t[s] = t[s].toLowerCase() } t = t.join("") } return t } }, this.$assembleRegExp = function (e, t) { if (e.needle instanceof RegExp) return e.re = e.needle; var i, n, s = e.needle; if (!e.needle) return e.re = !1; function o(e) { return /\w/.test(e) || n.regExp ? "\\b" : "" } e.regExp || (s = r.escapeRegExp(s)), e.wholeWord && (n = e, s = o((i = s)[0]) + i + o(i[i.length - 1])); var a = e.caseSensitive ? "gm" : "gmi"; if (e.$isMultiLine = !t && /[\n\r]/.test(s), e.$isMultiLine) return e.re = this.$assembleMultilineRegExp(s, a); try { var l = new RegExp(s, a) } catch (e) { l = !1 } return e.re = l }, this.$assembleMultilineRegExp = function (e, t) { for (var i = e.replace(/\r\n|\r|\n/g, "$\n^").split("\n"), n = [], r = 0; r < i.length; r++)try { n.push(new RegExp(i[r], t)) } catch (e) { return !1 } return n }, this.$matchIterator = function (e, t) { var i = this.$assembleRegExp(t); if (!i) return !1; var n = 1 == t.backwards, r = 0 != t.skipCurrent, s = t.range, o = t.start; (o = o || (s ? s[n ? "end" : "start"] : e.selection.getRange())).start && (o = o[r != n ? "end" : "start"]); var a = s ? s.start.row : 0, l = s ? s.end.row : e.getLength() - 1; if (n) var c = function (e) { var i = o.row; if (!d(i, o.column, e)) { for (i--; a <= i; i--)if (d(i, Number.MAX_VALUE, e)) return; if (0 != t.wrap) for (i = l, a = o.row; a <= i; i--)if (d(i, Number.MAX_VALUE, e)) return } }; else c = function (e) { var i = o.row; if (!d(i, o.column, e)) { for (i += 1; i <= l; i++)if (d(i, 0, e)) return; if (0 != t.wrap) for (i = a, l = o.row; i <= l; i++)if (d(i, 0, e)) return } }; if (t.$isMultiLine) var h = i.length, d = function (t, r, s) { var o = n ? t - h + 1 : t; if (!(o < 0)) { var a = e.getLine(o), l = a.search(i[0]); if (!(!n && l < r || -1 === l)) { for (var c = 1; c < h; c++)if (-1 == (a = e.getLine(o + c)).search(i[c])) return; var d = a.match(i[h - 1])[0].length; if (!(n && r < d)) return !!s(o, l, o + h - 1, d) || void 0 } } }; else d = n ? function (t, n, r) { var s, o = e.getLine(t), a = [], l = 0; for (i.lastIndex = 0; s = i.exec(o);) { var c = s[0].length; if (l = s.index, !c) { if (l >= o.length) break; i.lastIndex = l += 1 } if (s.index + c > n) break; a.push(s.index, c) } for (var h = a.length - 1; 0 <= h; h -= 2) { var d = a[h - 1]; if (r(t, d, t, d + (c = a[h]))) return !0 } } : function (t, n, r) { var s, o, a = e.getLine(t); for (i.lastIndex = n; o = i.exec(a);) { var l = o[0].length; if (r(t, s = o.index, t, s + l)) return !0; if (!l && (i.lastIndex = s += 1, s >= a.length)) return !1 } }; return { forEach: c } } }).call(n.prototype), t.Search = n })), ace.define("ace/keyboard/hash_handler", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], (function (e, t, i) { "use strict"; var n = e("../lib/keys"), r = e("../lib/useragent"), s = n.KEY_MODS; function o(e, t) { this.platform = t || (r.isMac ? "mac" : "win"), this.commands = {}, this.commandKeyBinding = {}, this.addCommands(e), this.$singleCommand = !0 } function a(e, t) { o.call(this, e, t), this.$singleCommand = !1 } a.prototype = o.prototype, function () { function e(e) { return "object" == typeof e && e.bindKey && e.bindKey.position || (e.isDefault ? -100 : 0) } this.addCommand = function (e) { this.commands[e.name] && this.removeCommand(e), (this.commands[e.name] = e).bindKey && this._buildKeyHash(e) }, this.removeCommand = function (e, t) { var i = e && ("string" == typeof e ? e : e.name); e = this.commands[i], t || delete this.commands[i]; var n = this.commandKeyBinding; for (var r in n) { var s = n[r]; if (s == e) delete n[r]; else if (Array.isArray(s)) { var o = s.indexOf(e); -1 != o && (s.splice(o, 1), 1 == s.length && (n[r] = s[0])) } } }, this.bindKey = function (e, t, i) { if ("object" == typeof e && e && (null == i && (i = e.position), e = e[this.platform]), e) return "function" == typeof t ? this.addCommand({ exec: t, bindKey: e, name: t.name || e }) : void e.split("|").forEach((function (e) { var n = ""; if (-1 != e.indexOf(" ")) { var r = e.split(/\s+/); e = r.pop(), r.forEach((function (e) { var t = this.parseKeys(e), i = s[t.hashId] + t.key; n += (n ? " " : "") + i, this._addCommandToBinding(n, "chainKeys") }), this), n += " " } var o = this.parseKeys(e), a = s[o.hashId] + o.key; this._addCommandToBinding(n + a, t, i) }), this) }, this._addCommandToBinding = function (t, i, n) { var r, s = this.commandKeyBinding; if (i) if (!s[t] || this.$singleCommand) s[t] = i; else { Array.isArray(s[t]) ? -1 != (r = s[t].indexOf(i)) && s[t].splice(r, 1) : s[t] = [s[t]], "number" != typeof n && (n = e(i)); var o = s[t]; for (r = 0; r < o.length && !(n < e(o[r])); r++); o.splice(r, 0, i) } else delete s[t] }, this.addCommands = function (e) { e && Object.keys(e).forEach((function (t) { var i = e[t]; if (i) { if ("string" == typeof i) return this.bindKey(i, t); "function" == typeof i && (i = { exec: i }), "object" == typeof i && (i.name || (i.name = t), this.addCommand(i)) } }), this) }, this.removeCommands = function (e) { Object.keys(e).forEach((function (t) { this.removeCommand(e[t]) }), this) }, this.bindKeys = function (e) { Object.keys(e).forEach((function (t) { this.bindKey(t, e[t]) }), this) }, this._buildKeyHash = function (e) { this.bindKey(e.bindKey, e) }, this.parseKeys = function (e) { var t = e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function (e) { return e })), i = t.pop(), r = n[i]; if (n.FUNCTION_KEYS[r]) i = n.FUNCTION_KEYS[r].toLowerCase(); else { if (!t.length) return { key: i, hashId: -1 }; if (1 == t.length && "shift" == t[0]) return { key: i.toUpperCase(), hashId: -1 } } for (var s = 0, o = t.length; o--;) { var a = n.KEY_MODS[t[o]]; if (null == a) return "undefined" != typeof console && console.error("invalid modifier " + t[o] + " in " + e), !1; s |= a } return { key: i, hashId: s } }, this.findKeyCommand = function (e, t) { var i = s[e] + t; return this.commandKeyBinding[i] }, this.handleKeyboard = function (e, t, i, n) { if (!(n < 0)) { var r = s[t] + i, o = this.commandKeyBinding[r]; return e.$keyChain && (e.$keyChain += " " + r, o = this.commandKeyBinding[e.$keyChain] || o), !o || "chainKeys" != o && "chainKeys" != o[o.length - 1] ? (e.$keyChain && (t && 4 != t || 1 != i.length ? (-1 == t || 0 < n) && (e.$keyChain = "") : e.$keyChain = e.$keyChain.slice(0, -r.length - 1)), { command: o }) : (e.$keyChain = e.$keyChain || r, { command: "null" }) } }, this.getStatusText = function (e, t) { return t.$keyChain || "" } }.call(o.prototype), t.HashHandler = o, t.MultiHashHandler = a })), ace.define("ace/commands/command_manager", ["require", "exports", "module", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/lib/event_emitter"], (function (e, t, i) { "use strict"; function n(e, t) { s.call(this, t, e), this.byName = this.commands, this.setDefaultHandler("exec", (function (e) { return e.command.exec(e.editor, e.args || {}) })) } var r = e("../lib/oop"), s = e("../keyboard/hash_handler").MultiHashHandler, o = e("../lib/event_emitter").EventEmitter; r.inherits(n, s), function () { r.implement(this, o), this.exec = function (e, t, i) { if (Array.isArray(e)) { for (var n = e.length; n--;)if (this.exec(e[n], t, i)) return !0; return !1 } if ("string" == typeof e && (e = this.commands[e]), !e) return !1; if (t && t.$readOnly && !e.readOnly) return !1; if (0 != this.$checkCommandState && e.isAvailable && !e.isAvailable(t)) return !1; var r = { editor: t, command: e, args: i }; return r.returnValue = this._emit("exec", r), this._signal("afterExec", r), !1 !== r.returnValue }, this.toggleRecording = function (e) { if (!this.$inReplay) return e && e._emit("changeStatus"), this.recording ? (this.macro.pop(), this.removeEventListener("exec", this.$addCommandToMacro), this.macro.length || (this.macro = this.oldMacro), this.recording = !1) : (this.$addCommandToMacro || (this.$addCommandToMacro = function (e) { this.macro.push([e.command, e.args]) }.bind(this)), this.oldMacro = this.macro, this.macro = [], this.on("exec", this.$addCommandToMacro), this.recording = !0) }, this.replay = function (e) { if (!this.$inReplay && this.macro) { if (this.recording) return this.toggleRecording(e); try { this.$inReplay = !0, this.macro.forEach((function (t) { "string" == typeof t ? this.exec(t, e) : this.exec(t[0], e, t[1]) }), this) } finally { this.$inReplay = !1 } } }, this.trimMacro = function (e) { return e.map((function (e) { return "string" != typeof e[0] && (e[0] = e[0].name), e[1] || (e = e[0]), e })) } }.call(n.prototype), t.CommandManager = n })), ace.define("ace/commands/default_commands", ["require", "exports", "module", "ace/lib/lang", "ace/config", "ace/range"], (function (e, t, i) { "use strict"; var n = e("../lib/lang"), r = e("../config"), s = e("../range").Range; function o(e, t) { return { win: e, mac: t } } t.commands = [{ name: "showSettingsMenu", bindKey: o("Ctrl-,", "Command-,"), exec: function (e) { r.loadModule("ace/ext/settings_menu", (function (t) { t.init(e), e.showSettingsMenu() })) }, readOnly: !0 }, { name: "goToNextError", bindKey: o("Alt-E", "F4"), exec: function (e) { r.loadModule("./ext/error_marker", (function (t) { t.showErrorMarker(e, 1) })) }, scrollIntoView: "animate", readOnly: !0 }, { name: "goToPreviousError", bindKey: o("Alt-Shift-E", "Shift-F4"), exec: function (e) { r.loadModule("./ext/error_marker", (function (t) { t.showErrorMarker(e, -1) })) }, scrollIntoView: "animate", readOnly: !0 }, { name: "selectall", description: "Select all", bindKey: o("Ctrl-A", "Command-A"), exec: function (e) { e.selectAll() }, readOnly: !0 }, { name: "centerselection", description: "Center selection", bindKey: o(null, "Ctrl-L"), exec: function (e) { e.centerSelection() }, readOnly: !0 }, { name: "gotoline", description: "Go to line...", bindKey: o("Ctrl-L", "Command-L"), exec: function (e, t) { "number" != typeof t || isNaN(t) || e.gotoLine(t), e.prompt({ $type: "gotoLine" }) }, readOnly: !0 }, { name: "fold", bindKey: o("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"), exec: function (e) { e.session.toggleFold(!1) }, multiSelectAction: "forEach", scrollIntoView: "center", readOnly: !0 }, { name: "unfold", bindKey: o("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"), exec: function (e) { e.session.toggleFold(!0) }, multiSelectAction: "forEach", scrollIntoView: "center", readOnly: !0 }, { name: "toggleFoldWidget", bindKey: o("F2", "F2"), exec: function (e) { e.session.toggleFoldWidget() }, multiSelectAction: "forEach", scrollIntoView: "center", readOnly: !0 }, { name: "toggleParentFoldWidget", bindKey: o("Alt-F2", "Alt-F2"), exec: function (e) { e.session.toggleFoldWidget(!0) }, multiSelectAction: "forEach", scrollIntoView: "center", readOnly: !0 }, { name: "foldall", description: "Fold all", bindKey: o(null, "Ctrl-Command-Option-0"), exec: function (e) { e.session.foldAll() }, scrollIntoView: "center", readOnly: !0 }, { name: "foldOther", description: "Fold other", bindKey: o("Alt-0", "Command-Option-0"), exec: function (e) { e.session.foldAll(), e.session.unfold(e.selection.getAllRanges()) }, scrollIntoView: "center", readOnly: !0 }, { name: "unfoldall", description: "Unfold all", bindKey: o("Alt-Shift-0", "Command-Option-Shift-0"), exec: function (e) { e.session.unfold() }, scrollIntoView: "center", readOnly: !0 }, { name: "findnext", description: "Find next", bindKey: o("Ctrl-K", "Command-G"), exec: function (e) { e.findNext() }, multiSelectAction: "forEach", scrollIntoView: "center", readOnly: !0 }, { name: "findprevious", description: "Find previous", bindKey: o("Ctrl-Shift-K", "Command-Shift-G"), exec: function (e) { e.findPrevious() }, multiSelectAction: "forEach", scrollIntoView: "center", readOnly: !0 }, { name: "selectOrFindNext", description: "Select or find next", bindKey: o("Alt-K", "Ctrl-G"), exec: function (e) { e.selection.isEmpty() ? e.selection.selectWord() : e.findNext() }, readOnly: !0 }, { name: "selectOrFindPrevious", description: "Select or find previous", bindKey: o("Alt-Shift-K", "Ctrl-Shift-G"), exec: function (e) { e.selection.isEmpty() ? e.selection.selectWord() : e.findPrevious() }, readOnly: !0 }, { name: "find", description: "Find", bindKey: o("Ctrl-F", "Command-F"), exec: function (e) { r.loadModule("ace/ext/searchbox", (function (t) { t.Search(e) })) }, readOnly: !0 }, { name: "overwrite", description: "Overwrite", bindKey: "Insert", exec: function (e) { e.toggleOverwrite() }, readOnly: !0 }, { name: "selecttostart", description: "Select to start", bindKey: o("Ctrl-Shift-Home", "Command-Shift-Home|Command-Shift-Up"), exec: function (e) { e.getSelection().selectFileStart() }, multiSelectAction: "forEach", readOnly: !0, scrollIntoView: "animate", aceCommandGroup: "fileJump" }, { name: "gotostart", description: "Go to start", bindKey: o("Ctrl-Home", "Command-Home|Command-Up"), exec: function (e) { e.navigateFileStart() }, multiSelectAction: "forEach", readOnly: !0, scrollIntoView: "animate", aceCommandGroup: "fileJump" }, { name: "selectup", description: "Select up", bindKey: o("Shift-Up", "Shift-Up|Ctrl-Shift-P"), exec: function (e) { e.getSelection().selectUp() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "golineup", description: "Go line up", bindKey: o("Up", "Up|Ctrl-P"), exec: function (e, t) { e.navigateUp(t.times) }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "selecttoend", description: "Select to end", bindKey: o("Ctrl-Shift-End", "Command-Shift-End|Command-Shift-Down"), exec: function (e) { e.getSelection().selectFileEnd() }, multiSelectAction: "forEach", readOnly: !0, scrollIntoView: "animate", aceCommandGroup: "fileJump" }, { name: "gotoend", description: "Go to end", bindKey: o("Ctrl-End", "Command-End|Command-Down"), exec: function (e) { e.navigateFileEnd() }, multiSelectAction: "forEach", readOnly: !0, scrollIntoView: "animate", aceCommandGroup: "fileJump" }, { name: "selectdown", description: "Select down", bindKey: o("Shift-Down", "Shift-Down|Ctrl-Shift-N"), exec: function (e) { e.getSelection().selectDown() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "golinedown", description: "Go line down", bindKey: o("Down", "Down|Ctrl-N"), exec: function (e, t) { e.navigateDown(t.times) }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "selectwordleft", description: "Select word left", bindKey: o("Ctrl-Shift-Left", "Option-Shift-Left"), exec: function (e) { e.getSelection().selectWordLeft() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "gotowordleft", description: "Go to word left", bindKey: o("Ctrl-Left", "Option-Left"), exec: function (e) { e.navigateWordLeft() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "selecttolinestart", description: "Select to line start", bindKey: o("Alt-Shift-Left", "Command-Shift-Left|Ctrl-Shift-A"), exec: function (e) { e.getSelection().selectLineStart() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "gotolinestart", description: "Go to line start", bindKey: o("Alt-Left|Home", "Command-Left|Home|Ctrl-A"), exec: function (e) { e.navigateLineStart() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "selectleft", description: "Select left", bindKey: o("Shift-Left", "Shift-Left|Ctrl-Shift-B"), exec: function (e) { e.getSelection().selectLeft() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "gotoleft", description: "Go to left", bindKey: o("Left", "Left|Ctrl-B"), exec: function (e, t) { e.navigateLeft(t.times) }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "selectwordright", description: "Select word right", bindKey: o("Ctrl-Shift-Right", "Option-Shift-Right"), exec: function (e) { e.getSelection().selectWordRight() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "gotowordright", description: "Go to word right", bindKey: o("Ctrl-Right", "Option-Right"), exec: function (e) { e.navigateWordRight() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "selecttolineend", description: "Select to line end", bindKey: o("Alt-Shift-Right", "Command-Shift-Right|Shift-End|Ctrl-Shift-E"), exec: function (e) { e.getSelection().selectLineEnd() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "gotolineend", description: "Go to line end", bindKey: o("Alt-Right|End", "Command-Right|End|Ctrl-E"), exec: function (e) { e.navigateLineEnd() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "selectright", description: "Select right", bindKey: o("Shift-Right", "Shift-Right"), exec: function (e) { e.getSelection().selectRight() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "gotoright", description: "Go to right", bindKey: o("Right", "Right|Ctrl-F"), exec: function (e, t) { e.navigateRight(t.times) }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "selectpagedown", description: "Select page down", bindKey: "Shift-PageDown", exec: function (e) { e.selectPageDown() }, readOnly: !0 }, { name: "pagedown", description: "Page down", bindKey: o(null, "Option-PageDown"), exec: function (e) { e.scrollPageDown() }, readOnly: !0 }, { name: "gotopagedown", description: "Go to page down", bindKey: o("PageDown", "PageDown|Ctrl-V"), exec: function (e) { e.gotoPageDown() }, readOnly: !0 }, { name: "selectpageup", description: "Select page up", bindKey: "Shift-PageUp", exec: function (e) { e.selectPageUp() }, readOnly: !0 }, { name: "pageup", description: "Page up", bindKey: o(null, "Option-PageUp"), exec: function (e) { e.scrollPageUp() }, readOnly: !0 }, { name: "gotopageup", description: "Go to page up", bindKey: "PageUp", exec: function (e) { e.gotoPageUp() }, readOnly: !0 }, { name: "scrollup", description: "Scroll up", bindKey: o("Ctrl-Up", null), exec: function (e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight) }, readOnly: !0 }, { name: "scrolldown", description: "Scroll down", bindKey: o("Ctrl-Down", null), exec: function (e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight) }, readOnly: !0 }, { name: "selectlinestart", description: "Select line start", bindKey: "Shift-Home", exec: function (e) { e.getSelection().selectLineStart() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "selectlineend", description: "Select line end", bindKey: "Shift-End", exec: function (e) { e.getSelection().selectLineEnd() }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "togglerecording", description: "Toggle recording", bindKey: o("Ctrl-Alt-E", "Command-Option-E"), exec: function (e) { e.commands.toggleRecording(e) }, readOnly: !0 }, { name: "replaymacro", description: "Replay macro", bindKey: o("Ctrl-Shift-E", "Command-Shift-E"), exec: function (e) { e.commands.replay(e) }, readOnly: !0 }, { name: "jumptomatching", description: "Jump to matching", bindKey: o("Ctrl-\\|Ctrl-P", "Command-\\"), exec: function (e) { e.jumpToMatching() }, multiSelectAction: "forEach", scrollIntoView: "animate", readOnly: !0 }, { name: "selecttomatching", description: "Select to matching", bindKey: o("Ctrl-Shift-\\|Ctrl-Shift-P", "Command-Shift-\\"), exec: function (e) { e.jumpToMatching(!0) }, multiSelectAction: "forEach", scrollIntoView: "animate", readOnly: !0 }, { name: "expandToMatching", description: "Expand to matching", bindKey: o("Ctrl-Shift-M", "Ctrl-Shift-M"), exec: function (e) { e.jumpToMatching(!0, !0) }, multiSelectAction: "forEach", scrollIntoView: "animate", readOnly: !0 }, { name: "passKeysToBrowser", description: "Pass keys to browser", bindKey: o(null, null), exec: function () { }, passEvent: !0, readOnly: !0 }, { name: "copy", description: "Copy", exec: function (e) { }, readOnly: !0 }, { name: "cut", description: "Cut", exec: function (e) { var t = e.$copyWithEmptySelection && e.selection.isEmpty() ? e.selection.getLineRange() : e.selection.getRange(); e._emit("cut", t), t.isEmpty() || e.session.remove(t), e.clearSelection() }, scrollIntoView: "cursor", multiSelectAction: "forEach" }, { name: "paste", description: "Paste", exec: function (e, t) { e.$handlePaste(t) }, scrollIntoView: "cursor" }, { name: "removeline", description: "Remove line", bindKey: o("Ctrl-D", "Command-D"), exec: function (e) { e.removeLines() }, scrollIntoView: "cursor", multiSelectAction: "forEachLine" }, { name: "duplicateSelection", description: "Duplicate selection", bindKey: o("Ctrl-Shift-D", "Command-Shift-D"), exec: function (e) { e.duplicateSelection() }, scrollIntoView: "cursor", multiSelectAction: "forEach" }, { name: "sortlines", description: "Sort lines", bindKey: o("Ctrl-Alt-S", "Command-Alt-S"), exec: function (e) { e.sortLines() }, scrollIntoView: "selection", multiSelectAction: "forEachLine" }, { name: "togglecomment", description: "Toggle comment", bindKey: o("Ctrl-/", "Command-/"), exec: function (e) { e.toggleCommentLines() }, multiSelectAction: "forEachLine", scrollIntoView: "selectionPart" }, { name: "toggleBlockComment", description: "Toggle block comment", bindKey: o("Ctrl-Shift-/", "Command-Shift-/"), exec: function (e) { e.toggleBlockComment() }, multiSelectAction: "forEach", scrollIntoView: "selectionPart" }, { name: "modifyNumberUp", description: "Modify number up", bindKey: o("Ctrl-Shift-Up", "Alt-Shift-Up"), exec: function (e) { e.modifyNumber(1) }, scrollIntoView: "cursor", multiSelectAction: "forEach" }, { name: "modifyNumberDown", description: "Modify number down", bindKey: o("Ctrl-Shift-Down", "Alt-Shift-Down"), exec: function (e) { e.modifyNumber(-1) }, scrollIntoView: "cursor", multiSelectAction: "forEach" }, { name: "replace", description: "Replace", bindKey: o("Ctrl-H", "Command-Option-F"), exec: function (e) { r.loadModule("ace/ext/searchbox", (function (t) { t.Search(e, !0) })) } }, { name: "undo", description: "Undo", bindKey: o("Ctrl-Z", "Command-Z"), exec: function (e) { e.undo() } }, { name: "redo", description: "Redo", bindKey: o("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"), exec: function (e) { e.redo() } }, { name: "copylinesup", description: "Copy lines up", bindKey: o("Alt-Shift-Up", "Command-Option-Up"), exec: function (e) { e.copyLinesUp() }, scrollIntoView: "cursor" }, { name: "movelinesup", description: "Move lines up", bindKey: o("Alt-Up", "Option-Up"), exec: function (e) { e.moveLinesUp() }, scrollIntoView: "cursor" }, { name: "copylinesdown", description: "Copy lines down", bindKey: o("Alt-Shift-Down", "Command-Option-Down"), exec: function (e) { e.copyLinesDown() }, scrollIntoView: "cursor" }, { name: "movelinesdown", description: "Move lines down", bindKey: o("Alt-Down", "Option-Down"), exec: function (e) { e.moveLinesDown() }, scrollIntoView: "cursor" }, { name: "del", description: "Delete", bindKey: o("Delete", "Delete|Ctrl-D|Shift-Delete"), exec: function (e) { e.remove("right") }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "backspace", description: "Backspace", bindKey: o("Shift-Backspace|Backspace", "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"), exec: function (e) { e.remove("left") }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "cut_or_delete", description: "Cut or delete", bindKey: o("Shift-Delete", null), exec: function (e) { if (!e.selection.isEmpty()) return !1; e.remove("left") }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "removetolinestart", description: "Remove to line start", bindKey: o("Alt-Backspace", "Command-Backspace"), exec: function (e) { e.removeToLineStart() }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "removetolineend", description: "Remove to line end", bindKey: o("Alt-Delete", "Ctrl-K|Command-Delete"), exec: function (e) { e.removeToLineEnd() }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "removetolinestarthard", description: "Remove to line start hard", bindKey: o("Ctrl-Shift-Backspace", null), exec: function (e) { var t = e.selection.getRange(); t.start.column = 0, e.session.remove(t) }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "removetolineendhard", description: "Remove to line end hard", bindKey: o("Ctrl-Shift-Delete", null), exec: function (e) { var t = e.selection.getRange(); t.end.column = Number.MAX_VALUE, e.session.remove(t) }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "removewordleft", description: "Remove word left", bindKey: o("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"), exec: function (e) { e.removeWordLeft() }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "removewordright", description: "Remove word right", bindKey: o("Ctrl-Delete", "Alt-Delete"), exec: function (e) { e.removeWordRight() }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "outdent", description: "Outdent", bindKey: o("Shift-Tab", "Shift-Tab"), exec: function (e) { e.blockOutdent() }, multiSelectAction: "forEach", scrollIntoView: "selectionPart" }, { name: "indent", description: "Indent", bindKey: o("Tab", "Tab"), exec: function (e) { e.indent() }, multiSelectAction: "forEach", scrollIntoView: "selectionPart" }, { name: "blockoutdent", description: "Block outdent", bindKey: o("Ctrl-[", "Ctrl-["), exec: function (e) { e.blockOutdent() }, multiSelectAction: "forEachLine", scrollIntoView: "selectionPart" }, { name: "blockindent", description: "Block indent", bindKey: o("Ctrl-]", "Ctrl-]"), exec: function (e) { e.blockIndent() }, multiSelectAction: "forEachLine", scrollIntoView: "selectionPart" }, { name: "insertstring", description: "Insert string", exec: function (e, t) { e.insert(t) }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "inserttext", description: "Insert text", exec: function (e, t) { e.insert(n.stringRepeat(t.text || "", t.times || 1)) }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "splitline", description: "Split line", bindKey: o(null, "Ctrl-O"), exec: function (e) { e.splitLine() }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "transposeletters", description: "Transpose letters", bindKey: o("Alt-Shift-X", "Ctrl-T"), exec: function (e) { e.transposeLetters() }, multiSelectAction: function (e) { e.transposeSelections(1) }, scrollIntoView: "cursor" }, { name: "touppercase", description: "To uppercase", bindKey: o("Ctrl-U", "Ctrl-U"), exec: function (e) { e.toUpperCase() }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "tolowercase", description: "To lowercase", bindKey: o("Ctrl-Shift-U", "Ctrl-Shift-U"), exec: function (e) { e.toLowerCase() }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "expandtoline", description: "Expand to line", bindKey: o("Ctrl-Shift-L", "Command-Shift-L"), exec: function (e) { var t = e.selection.getRange(); t.start.column = t.end.column = 0, t.end.row++, e.selection.setRange(t, !1) }, multiSelectAction: "forEach", scrollIntoView: "cursor", readOnly: !0 }, { name: "joinlines", description: "Join lines", bindKey: o(null, null), exec: function (e) { for (var t = e.selection.isBackwards(), i = t ? e.selection.getSelectionLead() : e.selection.getSelectionAnchor(), r = t ? e.selection.getSelectionAnchor() : e.selection.getSelectionLead(), o = e.session.doc.getLine(i.row).length, a = e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/, " ").length, l = e.session.doc.getLine(i.row), c = i.row + 1; c <= r.row + 1; c++) { var h = n.stringTrimLeft(n.stringTrimRight(e.session.doc.getLine(c))); 0 !== h.length && (h = " " + h), l += h } r.row + 1 < e.session.doc.getLength() - 1 && (l += e.session.doc.getNewLineCharacter()), e.clearSelection(), e.session.doc.replace(new s(i.row, 0, r.row + 2, 0), l), 0 < a ? (e.selection.moveCursorTo(i.row, i.column), e.selection.selectTo(i.row, i.column + a)) : (o = e.session.doc.getLine(i.row).length > o ? o + 1 : o, e.selection.moveCursorTo(i.row, o)) }, multiSelectAction: "forEach", readOnly: !0 }, { name: "invertSelection", description: "Invert selection", bindKey: o(null, null), exec: function (e) { var t = e.session.doc.getLength() - 1, i = e.session.doc.getLine(t).length, n = e.selection.rangeList.ranges, r = []; n.length < 1 && (n = [e.selection.getRange()]); for (var o = 0; o < n.length; o++)o == n.length - 1 && (n[o].end.row === t && n[o].end.column === i || r.push(new s(n[o].end.row, n[o].end.column, t, i))), 0 === o ? 0 === n[o].start.row && 0 === n[o].start.column || r.push(new s(0, 0, n[o].start.row, n[o].start.column)) : r.push(new s(n[o - 1].end.row, n[o - 1].end.column, n[o].start.row, n[o].start.column)); for (e.exitMultiSelectMode(), e.clearSelection(), o = 0; o < r.length; o++)e.selection.addRange(r[o], !1) }, readOnly: !0, scrollIntoView: "none" }, { name: "addLineAfter", exec: function (e) { e.selection.clearSelection(), e.navigateLineEnd(), e.insert("\n") }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "addLineBefore", exec: function (e) { e.selection.clearSelection(); var t = e.getCursorPosition(); e.selection.moveTo(t.row - 1, Number.MAX_VALUE), e.insert("\n"), 0 === t.row && e.navigateUp() }, multiSelectAction: "forEach", scrollIntoView: "cursor" }, { name: "openCommandPallete", description: "Open command pallete", bindKey: o("F1", "F1"), exec: function (e) { e.prompt({ $type: "commands" }) }, readOnly: !0 }, { name: "modeSelect", description: "Change language mode...", bindKey: o(null, null), exec: function (e) { e.prompt({ $type: "modes" }) }, readOnly: !0 }] })), ace.define("ace/editor", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/keyboard/textinput", "ace/mouse/mouse_handler", "ace/mouse/fold_handler", "ace/keyboard/keybinding", "ace/edit_session", "ace/search", "ace/range", "ace/lib/event_emitter", "ace/commands/command_manager", "ace/commands/default_commands", "ace/config", "ace/token_iterator", "ace/clipboard"], (function (e, t, i) { "use strict"; e("./lib/fixoldbrowsers"); var n = e("./lib/oop"), r = e("./lib/dom"), s = e("./lib/lang"), o = e("./lib/useragent"), a = e("./keyboard/textinput").TextInput, l = e("./mouse/mouse_handler").MouseHandler, c = e("./mouse/fold_handler").FoldHandler, h = e("./keyboard/keybinding").KeyBinding, d = e("./edit_session").EditSession, u = e("./search").Search, g = e("./range").Range, p = e("./lib/event_emitter").EventEmitter, m = e("./commands/command_manager").CommandManager, f = e("./commands/default_commands").commands, C = e("./config"), I = e("./token_iterator").TokenIterator, A = e("./clipboard"), v = function (e, t, i) { var n = e.getContainerElement(); this.container = n, this.renderer = e, this.id = "editor" + ++v.$uid, this.commands = new m(o.isMac ? "mac" : "win", f), "object" == typeof document && (this.textInput = new a(e.getTextAreaContainer(), this), this.renderer.textarea = this.textInput.getElement(), this.$mouseHandler = new l(this), new c(this)), this.keyBinding = new h(this), this.$search = (new u).set({ wrap: !0 }), this.$historyTracker = this.$historyTracker.bind(this), this.commands.on("exec", this.$historyTracker), this.$initOperationListeners(), this._$emitInputEvent = s.delayedCall(function () { this._signal("input", {}), this.session && this.session.bgTokenizer && this.session.bgTokenizer.scheduleStart() }.bind(this)), this.on("change", (function (e, t) { t._$emitInputEvent.schedule(31) })), this.setSession(t || i && i.session || new d("")), C.resetOptions(this), i && this.setOptions(i), C._signal("editor", this) }; v.$uid = 0, function () { n.implement(this, p), this.$initOperationListeners = function () { this.commands.on("exec", this.startOperation.bind(this), !0), this.commands.on("afterExec", this.endOperation.bind(this), !0), this.$opResetTimer = s.delayedCall(this.endOperation.bind(this, !0)), this.on("change", function () { this.curOp || (this.startOperation(), this.curOp.selectionBefore = this.$lastSel), this.curOp.docChanged = !0 }.bind(this), !0), this.on("changeSelection", function () { this.curOp || (this.startOperation(), this.curOp.selectionBefore = this.$lastSel), this.curOp.selectionChanged = !0 }.bind(this), !0) }, this.curOp = null, this.prevOp = {}, this.startOperation = function (e) { if (this.curOp) { if (!e || this.curOp.command) return; this.prevOp = this.curOp } e || (this.previousCommand = null, e = {}), this.$opResetTimer.schedule(), this.curOp = this.session.curOp = { command: e.command || {}, args: e.args, scrollTop: this.renderer.scrollTop }, this.curOp.selectionBefore = this.selection.toJSON() }, this.endOperation = function (e) { if (this.curOp) { if (e && !1 === e.returnValue) return this.curOp = null; if (1 == e && this.curOp.command && "mouse" == this.curOp.command.name) return; if (this._signal("beforeEndOperation"), !this.curOp) return; var t = this.curOp.command, i = t && t.scrollIntoView; if (i) { switch (i) { case "center-animate": i = "animate"; case "center": this.renderer.scrollCursorIntoView(null, .5); break; case "animate": case "cursor": this.renderer.scrollCursorIntoView(); break; case "selectionPart": var n = this.selection.getRange(), r = this.renderer.layerConfig; (n.start.row >= r.lastRow || n.end.row <= r.firstRow) && this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead) }"animate" == i && this.renderer.animateScrolling(this.curOp.scrollTop) } var s = this.selection.toJSON(); this.curOp.selectionAfter = s, this.$lastSel = this.selection.toJSON(), this.session.getUndoManager().addSelection(s), this.prevOp = this.curOp, this.curOp = null } }, this.$mergeableCommands = ["backspace", "del", "insertstring"], this.$historyTracker = function (e) { if (this.$mergeUndoDeltas) { var t = this.prevOp, i = this.$mergeableCommands, n = t.command && e.command.name == t.command.name; if ("insertstring" == e.command.name) { var r = e.args; void 0 === this.mergeNextCommand && (this.mergeNextCommand = !0), n = n && this.mergeNextCommand && (!/\s/.test(r) || /\s/.test(t.args)), this.mergeNextCommand = !0 } else n = n && -1 !== i.indexOf(e.command.name); "always" != this.$mergeUndoDeltas && 2e3 < Date.now() - this.sequenceStartTime && (n = !1), n ? this.session.mergeUndoDeltas = !0 : -1 !== i.indexOf(e.command.name) && (this.sequenceStartTime = Date.now()) } }, this.setKeyboardHandler = function (e, t) { if (e && "string" == typeof e && "ace" != e) { this.$keybindingId = e; var i = this; C.loadModule(["keybinding", e], (function (n) { i.$keybindingId == e && i.keyBinding.setKeyboardHandler(n && n.handler), t && t() })) } else this.$keybindingId = null, this.keyBinding.setKeyboardHandler(e), t && t() }, this.getKeyboardHandler = function () { return this.keyBinding.getKeyboardHandler() }, this.setSession = function (e) { if (this.session != e) { this.curOp && this.endOperation(), this.curOp = {}; var t = this.session; if (t) { this.session.off("change", this.$onDocumentChange), this.session.off("changeMode", this.$onChangeMode), this.session.off("tokenizerUpdate", this.$onTokenizerUpdate), this.session.off("changeTabSize", this.$onChangeTabSize), this.session.off("changeWrapLimit", this.$onChangeWrapLimit), this.session.off("changeWrapMode", this.$onChangeWrapMode), this.session.off("changeFold", this.$onChangeFold), this.session.off("changeFrontMarker", this.$onChangeFrontMarker), this.session.off("changeBackMarker", this.$onChangeBackMarker), this.session.off("changeBreakpoint", this.$onChangeBreakpoint), this.session.off("changeAnnotation", this.$onChangeAnnotation), this.session.off("changeOverwrite", this.$onCursorChange), this.session.off("changeScrollTop", this.$onScrollTopChange), this.session.off("changeScrollLeft", this.$onScrollLeftChange); var i = this.session.getSelection(); i.off("changeCursor", this.$onCursorChange), i.off("changeSelection", this.$onSelectionChange) } (this.session = e) ? (this.$onDocumentChange = this.onDocumentChange.bind(this), e.on("change", this.$onDocumentChange), this.renderer.setSession(e), this.$onChangeMode = this.onChangeMode.bind(this), e.on("changeMode", this.$onChangeMode), this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this), e.on("tokenizerUpdate", this.$onTokenizerUpdate), this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer), e.on("changeTabSize", this.$onChangeTabSize), this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this), e.on("changeWrapLimit", this.$onChangeWrapLimit), this.$onChangeWrapMode = this.onChangeWrapMode.bind(this), e.on("changeWrapMode", this.$onChangeWrapMode), this.$onChangeFold = this.onChangeFold.bind(this), e.on("changeFold", this.$onChangeFold), this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this), this.session.on("changeFrontMarker", this.$onChangeFrontMarker), this.$onChangeBackMarker = this.onChangeBackMarker.bind(this), this.session.on("changeBackMarker", this.$onChangeBackMarker), this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this), this.session.on("changeBreakpoint", this.$onChangeBreakpoint), this.$onChangeAnnotation = this.onChangeAnnotation.bind(this), this.session.on("changeAnnotation", this.$onChangeAnnotation), this.$onCursorChange = this.onCursorChange.bind(this), this.session.on("changeOverwrite", this.$onCursorChange), this.$onScrollTopChange = this.onScrollTopChange.bind(this), this.session.on("changeScrollTop", this.$onScrollTopChange), this.$onScrollLeftChange = this.onScrollLeftChange.bind(this), this.session.on("changeScrollLeft", this.$onScrollLeftChange), this.selection = e.getSelection(), this.selection.on("changeCursor", this.$onCursorChange), this.$onSelectionChange = this.onSelectionChange.bind(this), this.selection.on("changeSelection", this.$onSelectionChange), this.onChangeMode(), this.onCursorChange(), this.onScrollTopChange(), this.onScrollLeftChange(), this.onSelectionChange(), this.onChangeFrontMarker(), this.onChangeBackMarker(), this.onChangeBreakpoint(), this.onChangeAnnotation(), this.session.getUseWrapMode() && this.renderer.adjustWrapLimit(), this.renderer.updateFull()) : (this.selection = null, this.renderer.setSession(e)), this._signal("changeSession", { session: e, oldSession: t }), this.curOp = null, t && t._signal("changeEditor", { oldEditor: this }), e && e._signal("changeEditor", { editor: this }), e && e.bgTokenizer && e.bgTokenizer.scheduleStart() } }, this.getSession = function () { return this.session }, this.setValue = function (e, t) { return this.session.doc.setValue(e), t ? 1 == t ? this.navigateFileEnd() : -1 == t && this.navigateFileStart() : this.selectAll(), e }, this.getValue = function () { return this.session.getValue() }, this.getSelection = function () { return this.selection }, this.resize = function (e) { this.renderer.onResize(e) }, this.setTheme = function (e, t) { this.renderer.setTheme(e, t) }, this.getTheme = function () { return this.renderer.getTheme() }, this.setStyle = function (e) { this.renderer.setStyle(e) }, this.unsetStyle = function (e) { this.renderer.unsetStyle(e) }, this.getFontSize = function () { return this.getOption("fontSize") || r.computedStyle(this.container).fontSize }, this.setFontSize = function (e) { this.setOption("fontSize", e) }, this.$highlightBrackets = function () { if (!this.$highlightPending) { var e = this; this.$highlightPending = !0, setTimeout((function () { e.$highlightPending = !1; var t = e.session; if (t && t.bgTokenizer) { t.$bracketHighlight && (t.$bracketHighlight.markerIds.forEach((function (e) { t.removeMarker(e) })), t.$bracketHighlight = null); var i = t.getMatchingBracketRanges(e.getCursorPosition()); if (!i && t.$mode.getMatching && (i = t.$mode.getMatching(e.session)), i) { var n = "ace_bracket"; Array.isArray(i) ? 1 == i.length && (n = "ace_error_bracket") : i = [i], 2 == i.length && (0 == g.comparePoints(i[0].end, i[1].start) ? i = [g.fromPoints(i[0].start, i[1].end)] : 0 == g.comparePoints(i[0].start, i[1].end) && (i = [g.fromPoints(i[1].start, i[0].end)])), t.$bracketHighlight = { ranges: i, markerIds: i.map((function (e) { return t.addMarker(e, n, "text") })) } } } }), 50) } }, this.$highlightTags = function () { if (!this.$highlightTagPending) { var e = this; this.$highlightTagPending = !0, setTimeout((function () { e.$highlightTagPending = !1; var t = e.session; if (t && t.bgTokenizer) { var i = e.getCursorPosition(), n = new I(e.session, i.row, i.column), r = n.getCurrentToken(); if (!r || !/\b(?:tag-open|tag-name)/.test(r.type)) return t.removeMarker(t.$tagHighlight), void (t.$tagHighlight = null); if (-1 == r.type.indexOf("tag-open") || (r = n.stepForward())) { var s = r.value, o = 0, a = n.stepBackward(); if ("<" == a.value) for (; a = r, (r = n.stepForward()) && r.value === s && -1 !== r.type.indexOf("tag-name") && ("<" === a.value ? o++ : "</" === a.value && o--), r && 0 <= o;); else { for (; r = a, a = n.stepBackward(), r && r.value === s && -1 !== r.type.indexOf("tag-name") && ("<" === a.value ? o++ : "</" === a.value && o--), a && o <= 0;); n.stepForward() } if (!r) return t.removeMarker(t.$tagHighlight), void (t.$tagHighlight = null); var l = n.getCurrentTokenRow(), c = n.getCurrentTokenColumn(), h = new g(l, c, l, c + r.value.length), d = t.$backMarkers[t.$tagHighlight]; t.$tagHighlight && null != d && 0 !== h.compareRange(d.range) && (t.removeMarker(t.$tagHighlight), t.$tagHighlight = null), t.$tagHighlight || (t.$tagHighlight = t.addMarker(h, "ace_bracket", "text")) } } }), 50) } }, this.focus = function () { var e = this; setTimeout((function () { e.isFocused() || e.textInput.focus() })), this.textInput.focus() }, this.isFocused = function () { return this.textInput.isFocused() }, this.blur = function () { this.textInput.blur() }, this.onFocus = function (e) { this.$isFocused || (this.$isFocused = !0, this.renderer.showCursor(), this.renderer.visualizeFocus(), this._emit("focus", e)) }, this.onBlur = function (e) { this.$isFocused && (this.$isFocused = !1, this.renderer.hideCursor(), this.renderer.visualizeBlur(), this._emit("blur", e)) }, this.$cursorChange = function () { this.renderer.updateCursor() }, this.onDocumentChange = function (e) { var t = this.session.$useWrapMode, i = e.start.row == e.end.row ? e.end.row : 1 / 0; this.renderer.updateLines(e.start.row, i, t), this._signal("change", e), this.$cursorChange(), this.$updateHighlightActiveLine() }, this.onTokenizerUpdate = function (e) { var t = e.data; this.renderer.updateLines(t.first, t.last) }, this.onScrollTopChange = function () { this.renderer.scrollToY(this.session.getScrollTop()) }, this.onScrollLeftChange = function () { this.renderer.scrollToX(this.session.getScrollLeft()) }, this.onCursorChange = function () { this.$cursorChange(), this.$highlightBrackets(), this.$highlightTags(), this.$updateHighlightActiveLine(), this._signal("changeSelection") }, this.$updateHighlightActiveLine = function () { var e, t = this.getSession(); if (this.$highlightActiveLine && ("line" == this.$selectionStyle && this.selection.isMultiLine() || (e = this.getCursorPosition()), this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty() && (e = !1), !this.renderer.$maxLines || 1 !== this.session.getLength() || 1 < this.renderer.$minLines || (e = !1)), t.$highlightLineMarker && !e) t.removeMarker(t.$highlightLineMarker.id), t.$highlightLineMarker = null; else if (!t.$highlightLineMarker && e) { var i = new g(e.row, e.column, e.row, 1 / 0); i.id = t.addMarker(i, "ace_active-line", "screenLine"), t.$highlightLineMarker = i } else e && (t.$highlightLineMarker.start.row = e.row, t.$highlightLineMarker.end.row = e.row, t.$highlightLineMarker.start.column = e.column, t._signal("changeBackMarker")) }, this.onSelectionChange = function (e) { var t = this.session; if (t.$selectionMarker && t.removeMarker(t.$selectionMarker), t.$selectionMarker = null, this.selection.isEmpty()) this.$updateHighlightActiveLine(); else { var i = this.selection.getRange(), n = this.getSelectionStyle(); t.$selectionMarker = t.addMarker(i, "ace_selection", n) } var r = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp(); this.session.highlight(r), this._signal("changeSelection") }, this.$getSelectionHighLightRegexp = function () { var e = this.session, t = this.getSelectionRange(); if (!t.isEmpty() && !t.isMultiLine()) { var i = t.start.column, n = t.end.column, r = e.getLine(t.start.row), s = r.substring(i, n); if (!(5e3 < s.length) && /[\w\d]/.test(s)) { var o = this.$search.$assembleRegExp({ wholeWord: !0, caseSensitive: !0, needle: s }), a = r.substring(i - 1, n + 1); if (o.test(a)) return o } } }, this.onChangeFrontMarker = function () { this.renderer.updateFrontMarkers() }, this.onChangeBackMarker = function () { this.renderer.updateBackMarkers() }, this.onChangeBreakpoint = function () { this.renderer.updateBreakpoints() }, this.onChangeAnnotation = function () { this.renderer.setAnnotations(this.session.getAnnotations()) }, this.onChangeMode = function (e) { this.renderer.updateText(), this._emit("changeMode", e) }, this.onChangeWrapLimit = function () { this.renderer.updateFull() }, this.onChangeWrapMode = function () { this.renderer.onResize(!0) }, this.onChangeFold = function () { this.$updateHighlightActiveLine(), this.renderer.updateFull() }, this.getSelectedText = function () { return this.session.getTextRange(this.getSelectionRange()) }, this.getCopyText = function () { var e = this.getSelectedText(), t = this.session.doc.getNewLineCharacter(), i = !1; if (!e && this.$copyWithEmptySelection) { i = !0; for (var n = this.selection.getAllRanges(), r = 0; r < n.length; r++) { var s = n[r]; r && n[r - 1].start.row == s.start.row || (e += this.session.getLine(s.start.row) + t) } } var o = { text: e }; return this._signal("copy", o), A.lineMode = i ? o.text : "", o.text }, this.onCopy = function () { this.commands.exec("copy", this) }, this.onCut = function () { this.commands.exec("cut", this) }, this.onPaste = function (e, t) { var i = { text: e, event: t }; this.commands.exec("paste", this, i) }, this.$handlePaste = function (e) { "string" == typeof e && (e = { text: e }), this._signal("paste", e); var t = e.text, i = t == A.lineMode, n = this.session; if (!this.inMultiSelectMode || this.inVirtualSelectionMode) i ? n.insert({ row: this.selection.lead.row, column: 0 }, t) : this.insert(t); else if (i) this.selection.rangeList.ranges.forEach((function (e) { n.insert({ row: e.start.row, column: 0 }, t) })); else { var r = t.split(/\r\n|\r|\n/), s = this.selection.rangeList.ranges, o = !(2 != r.length || r[0] && r[1]); if (r.length != s.length || o) return this.commands.exec("insertstring", this, t); for (var a = s.length; a--;) { var l = s[a]; l.isEmpty() || n.remove(l), n.insert(l.start, r[a]) } } }, this.execCommand = function (e, t) { return this.commands.exec(e, this, t) }, this.insert = function (e, t) { var i = this.session, n = i.getMode(), r = this.getCursorPosition(); if (this.getBehavioursEnabled() && !t) { var s = n.transformAction(i.getState(r.row), "insertion", this, i, e); s && (e !== s.text && (this.inVirtualSelectionMode || (this.session.mergeUndoDeltas = !1, this.mergeNextCommand = !1)), e = s.text) } if ("\t" == e && (e = this.session.getTabString()), this.selection.isEmpty()) this.session.getOverwrite() && -1 == e.indexOf("\n") && ((o = new g.fromPoints(r, r)).end.column += e.length, this.session.remove(o)); else { var o = this.getSelectionRange(); r = this.session.remove(o), this.clearSelection() } if ("\n" == e || "\r\n" == e) { var a = i.getLine(r.row); if (r.column > a.search(/\S|$/)) { var l = a.substr(r.column).search(/\S|$/); i.doc.removeInLine(r.row, r.column, r.column + l) } } this.clearSelection(); var c = r.column, h = i.getState(r.row), d = (a = i.getLine(r.row), n.checkOutdent(h, a, e)); if (i.insert(r, e), s && s.selection && (2 == s.selection.length ? this.selection.setSelectionRange(new g(r.row, c + s.selection[0], r.row, c + s.selection[1])) : this.selection.setSelectionRange(new g(r.row + s.selection[0], s.selection[1], r.row + s.selection[2], s.selection[3]))), i.getDocument().isNewLine(e)) { var u = n.getNextLineIndent(h, a.slice(0, r.column), i.getTabString()); i.insert({ row: r.row + 1, column: 0 }, u) } d && n.autoOutdent(h, i, r.row) }, this.onTextInput = function (e, t) { if (!t) return this.keyBinding.onTextInput(e); this.startOperation({ command: { name: "insertstring" } }); var i = this.applyComposition.bind(this, e, t); this.selection.rangeCount ? this.forEachSelection(i) : i(), this.endOperation() }, this.applyComposition = function (e, t) { var i; (t.extendLeft || t.extendRight) && ((i = this.selection.getRange()).start.column -= t.extendLeft, i.end.column += t.extendRight, this.selection.setRange(i), e || i.isEmpty() || this.remove()), !e && this.selection.isEmpty() || this.insert(e, !0), (t.restoreStart || t.restoreEnd) && ((i = this.selection.getRange()).start.column -= t.restoreStart, i.end.column -= t.restoreEnd, this.selection.setRange(i)) }, this.onCommandKey = function (e, t, i) { return this.keyBinding.onCommandKey(e, t, i) }, this.setOverwrite = function (e) { this.session.setOverwrite(e) }, this.getOverwrite = function () { return this.session.getOverwrite() }, this.toggleOverwrite = function () { this.session.toggleOverwrite() }, this.setScrollSpeed = function (e) { this.setOption("scrollSpeed", e) }, this.getScrollSpeed = function () { return this.getOption("scrollSpeed") }, this.setDragDelay = function (e) { this.setOption("dragDelay", e) }, this.getDragDelay = function () { return this.getOption("dragDelay") }, this.setSelectionStyle = function (e) { this.setOption("selectionStyle", e) }, this.getSelectionStyle = function () { return this.getOption("selectionStyle") }, this.setHighlightActiveLine = function (e) { this.setOption("highlightActiveLine", e) }, this.getHighlightActiveLine = function () { return this.getOption("highlightActiveLine") }, this.setHighlightGutterLine = function (e) { this.setOption("highlightGutterLine", e) }, this.getHighlightGutterLine = function () { return this.getOption("highlightGutterLine") }, this.setHighlightSelectedWord = function (e) { this.setOption("highlightSelectedWord", e) }, this.getHighlightSelectedWord = function () { return this.$highlightSelectedWord }, this.setAnimatedScroll = function (e) { this.renderer.setAnimatedScroll(e) }, this.getAnimatedScroll = function () { return this.renderer.getAnimatedScroll() }, this.setShowInvisibles = function (e) { this.renderer.setShowInvisibles(e) }, this.getShowInvisibles = function () { return this.renderer.getShowInvisibles() }, this.setDisplayIndentGuides = function (e) { this.renderer.setDisplayIndentGuides(e) }, this.getDisplayIndentGuides = function () { return this.renderer.getDisplayIndentGuides() }, this.setShowPrintMargin = function (e) { this.renderer.setShowPrintMargin(e) }, this.getShowPrintMargin = function () { return this.renderer.getShowPrintMargin() }, this.setPrintMarginColumn = function (e) { this.renderer.setPrintMarginColumn(e) }, this.getPrintMarginColumn = function () { return this.renderer.getPrintMarginColumn() }, this.setReadOnly = function (e) { this.setOption("readOnly", e) }, this.getReadOnly = function () { return this.getOption("readOnly") }, this.setBehavioursEnabled = function (e) { this.setOption("behavioursEnabled", e) }, this.getBehavioursEnabled = function () { return this.getOption("behavioursEnabled") }, this.setWrapBehavioursEnabled = function (e) { this.setOption("wrapBehavioursEnabled", e) }, this.getWrapBehavioursEnabled = function () { return this.getOption("wrapBehavioursEnabled") }, this.setShowFoldWidgets = function (e) { this.setOption("showFoldWidgets", e) }, this.getShowFoldWidgets = function () { return this.getOption("showFoldWidgets") }, this.setFadeFoldWidgets = function (e) { this.setOption("fadeFoldWidgets", e) }, this.getFadeFoldWidgets = function () { return this.getOption("fadeFoldWidgets") }, this.remove = function (e) { this.selection.isEmpty() && ("left" == e ? this.selection.selectLeft() : this.selection.selectRight()); var t = this.getSelectionRange(); if (this.getBehavioursEnabled()) { var i = this.session, n = i.getState(t.start.row), r = i.getMode().transformAction(n, "deletion", this, i, t); if (0 === t.end.column) { var s = i.getTextRange(t); if ("\n" == s[s.length - 1]) { var o = i.getLine(t.end.row); /^\s+$/.test(o) && (t.end.column = o.length) } } r && (t = r) } this.session.remove(t), this.clearSelection() }, this.removeWordRight = function () { this.selection.isEmpty() && this.selection.selectWordRight(), this.session.remove(this.getSelectionRange()), this.clearSelection() }, this.removeWordLeft = function () { this.selection.isEmpty() && this.selection.selectWordLeft(), this.session.remove(this.getSelectionRange()), this.clearSelection() }, this.removeToLineStart = function () { this.selection.isEmpty() && this.selection.selectLineStart(), this.selection.isEmpty() && this.selection.selectLeft(), this.session.remove(this.getSelectionRange()), this.clearSelection() }, this.removeToLineEnd = function () { this.selection.isEmpty() && this.selection.selectLineEnd(); var e = this.getSelectionRange(); e.start.column == e.end.column && e.start.row == e.end.row && (e.end.column = 0, e.end.row++), this.session.remove(e), this.clearSelection() }, this.splitLine = function () { this.selection.isEmpty() || (this.session.remove(this.getSelectionRange()), this.clearSelection()); var e = this.getCursorPosition(); this.insert("\n"), this.moveCursorToPosition(e) }, this.transposeLetters = function () { if (this.selection.isEmpty()) { var e = this.getCursorPosition(), t = e.column; if (0 !== t) { var i, n, r = this.session.getLine(e.row); n = t < r.length ? (i = r.charAt(t) + r.charAt(t - 1), new g(e.row, t - 1, e.row, t + 1)) : (i = r.charAt(t - 1) + r.charAt(t - 2), new g(e.row, t - 2, e.row, t)), this.session.replace(n, i), this.session.selection.moveToPosition(n.end) } } }, this.toLowerCase = function () { var e = this.getSelectionRange(); this.selection.isEmpty() && this.selection.selectWord(); var t = this.getSelectionRange(), i = this.session.getTextRange(t); this.session.replace(t, i.toLowerCase()), this.selection.setSelectionRange(e) }, this.toUpperCase = function () { var e = this.getSelectionRange(); this.selection.isEmpty() && this.selection.selectWord(); var t = this.getSelectionRange(), i = this.session.getTextRange(t); this.session.replace(t, i.toUpperCase()), this.selection.setSelectionRange(e) }, this.indent = function () { var e = this.session, t = this.getSelectionRange(); if (!(t.start.row < t.end.row)) { if (t.start.column < t.end.column) { var i = e.getTextRange(t); if (!/^\s+$/.test(i)) return h = this.$getSelectedRows(), void e.indentRows(h.first, h.last, "\t") } var n = e.getLine(t.start.row), r = t.start, o = e.getTabSize(), a = e.documentToScreenColumn(r.row, r.column); if (this.session.getUseSoftTabs()) var l = o - a % o, c = s.stringRepeat(" ", l); else { for (l = a % o; " " == n[t.start.column - 1] && l;)t.start.column--, l--; this.selection.setSelectionRange(t), c = "\t" } return this.insert(c) } var h = this.$getSelectedRows(); e.indentRows(h.first, h.last, "\t") }, this.blockIndent = function () { var e = this.$getSelectedRows(); this.session.indentRows(e.first, e.last, "\t") }, this.blockOutdent = function () { var e = this.session.getSelection(); this.session.outdentRows(e.getRange()) }, this.sortLines = function () { for (var e = this.$getSelectedRows(), t = this.session, i = [], n = e.first; n <= e.last; n++)i.push(t.getLine(n)); i.sort((function (e, t) { return e.toLowerCase() < t.toLowerCase() ? -1 : e.toLowerCase() > t.toLowerCase() ? 1 : 0 })); var r = new g(0, 0, 0, 0); for (n = e.first; n <= e.last; n++) { var s = t.getLine(n); r.start.row = n, r.end.row = n, r.end.column = s.length, t.replace(r, i[n - e.first]) } }, this.toggleCommentLines = function () { var e = this.session.getState(this.getCursorPosition().row), t = this.$getSelectedRows(); this.session.getMode().toggleCommentLines(e, this.session, t.first, t.last) }, this.toggleBlockComment = function () { var e = this.getCursorPosition(), t = this.session.getState(e.row), i = this.getSelectionRange(); this.session.getMode().toggleBlockComment(t, this.session, i, e) }, this.getNumberAt = function (e, t) { var i = /[\-]?[0-9]+(?:\.[0-9]+)?/g; i.lastIndex = 0; for (var n = this.session.getLine(e); i.lastIndex < t;) { var r = i.exec(n); if (r.index <= t && r.index + r[0].length >= t) return { value: r[0], start: r.index, end: r.index + r[0].length } } return null }, this.modifyNumber = function (e) { var t = this.selection.getCursor().row, i = this.selection.getCursor().column, n = new g(t, i - 1, t, i), r = this.session.getTextRange(n); if (!isNaN(parseFloat(r)) && isFinite(r)) { var s = this.getNumberAt(t, i); if (s) { var o = 0 <= s.value.indexOf(".") ? s.start + s.value.indexOf(".") + 1 : s.end, a = s.start + s.value.length - o, l = parseFloat(s.value); l *= Math.pow(10, a), o !== s.end && i < o ? e *= Math.pow(10, s.end - i - 1) : e *= Math.pow(10, s.end - i), l += e; var c = (l /= Math.pow(10, a)).toFixed(a), h = new g(t, s.start, t, s.end); this.session.replace(h, c), this.moveCursorTo(t, Math.max(s.start + 1, i + c.length - s.value.length)) } } else this.toggleWord() }, this.$toggleWordPairs = [["first", "last"], ["true", "false"], ["yes", "no"], ["width", "height"], ["top", "bottom"], ["right", "left"], ["on", "off"], ["x", "y"], ["get", "set"], ["max", "min"], ["horizontal", "vertical"], ["show", "hide"], ["add", "remove"], ["up", "down"], ["before", "after"], ["even", "odd"], ["in", "out"], ["inside", "outside"], ["next", "previous"], ["increase", "decrease"], ["attach", "detach"], ["&&", "||"], ["==", "!="]], this.toggleWord = function () { var e = this.selection.getCursor().row, t = this.selection.getCursor().column; this.selection.selectWord(); var i = this.getSelectedText(), n = this.selection.getWordRange().start.column, r = i.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, "$1 ").split(/\s/), o = t - n - 1; o < 0 && (o = 0); var a = 0, l = 0, c = this; i.match(/[A-Za-z0-9_]+/) && r.forEach((function (t, r) { l = a + t.length, a <= o && o <= l && (i = t, c.selection.clearSelection(), c.moveCursorTo(e, a + n), c.selection.selectTo(e, l + n)), a = l })); for (var h, d = this.$toggleWordPairs, u = 0; u < d.length; u++)for (var g = d[u], p = 0; p <= 1; p++) { var m = +!p, f = i.match(new RegExp("^\\s?_?(" + s.escapeRegExp(g[p]) + ")\\s?$", "i")); f && i.match(new RegExp("([_]|^|\\s)(" + s.escapeRegExp(f[1]) + ")($|\\s)", "g")) && (h = i.replace(new RegExp(s.escapeRegExp(g[p]), "i"), (function (e) { var t = g[m]; return e.toUpperCase() == e ? t = t.toUpperCase() : e.charAt(0).toUpperCase() == e.charAt(0) && (t = t.substr(0, 0) + g[m].charAt(0).toUpperCase() + t.substr(1)), t })), this.insert(h), h = "") } }, this.removeLines = function () { var e = this.$getSelectedRows(); this.session.removeFullLines(e.first, e.last), this.clearSelection() }, this.duplicateSelection = function () { var e = this.selection, t = this.session, i = e.getRange(), n = e.isBackwards(); if (i.isEmpty()) { var r = i.start.row; t.duplicateLines(r, r) } else { var s = n ? i.start : i.end, o = t.insert(s, t.getTextRange(i), !1); i.start = s, i.end = o, e.setSelectionRange(i, n) } }, this.moveLinesDown = function () { this.$moveLines(1, !1) }, this.moveLinesUp = function () { this.$moveLines(-1, !1) }, this.moveText = function (e, t, i) { return this.session.moveText(e, t, i) }, this.copyLinesUp = function () { this.$moveLines(-1, !0) }, this.copyLinesDown = function () { this.$moveLines(1, !0) }, this.$moveLines = function (e, t) { var i, n, r = this.selection; if (!r.inMultiSelectMode || this.inVirtualSelectionMode) { var s = r.toOrientedRange(); i = this.$getSelectedRows(s), n = this.session.$moveLines(i.first, i.last, t ? 0 : e), t && -1 == e && (n = 0), s.moveBy(n, 0), r.fromOrientedRange(s) } else { var o = r.rangeList.ranges; r.rangeList.detach(this.session), this.inVirtualSelectionMode = !0; for (var a = 0, l = 0, c = o.length, h = 0; h < c; h++) { var d = h; o[h].moveBy(a, 0); for (var u = (i = this.$getSelectedRows(o[h])).first, g = i.last; ++h < c;) { l && o[h].moveBy(l, 0); var p = this.$getSelectedRows(o[h]); if (t && p.first != g) break; if (!t && p.first > g + 1) break; g = p.last } for (h--, a = this.session.$moveLines(u, g, t ? 0 : e), t && -1 == e && (d = h + 1); d <= h;)o[d].moveBy(a, 0), d++; t || (a = 0), l += a } r.fromOrientedRange(r.ranges[0]), r.rangeList.attach(this.session), this.inVirtualSelectionMode = !1 } }, this.$getSelectedRows = function (e) { return e = (e || this.getSelectionRange()).collapseRows(), { first: this.session.getRowFoldStart(e.start.row), last: this.session.getRowFoldEnd(e.end.row) } }, this.onCompositionStart = function (e) { this.renderer.showComposition(e) }, this.onCompositionUpdate = function (e) { this.renderer.setCompositionText(e) }, this.onCompositionEnd = function () { this.renderer.hideComposition() }, this.getFirstVisibleRow = function () { return this.renderer.getFirstVisibleRow() }, this.getLastVisibleRow = function () { return this.renderer.getLastVisibleRow() }, this.isRowVisible = function (e) { return e >= this.getFirstVisibleRow() && e <= this.getLastVisibleRow() }, this.isRowFullyVisible = function (e) { return e >= this.renderer.getFirstFullyVisibleRow() && e <= this.renderer.getLastFullyVisibleRow() }, this.$getVisibleRowCount = function () { return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1 }, this.$moveByPage = function (e, t) { var i = this.renderer, n = this.renderer.layerConfig, r = e * Math.floor(n.height / n.lineHeight); !0 === t ? this.selection.$moveSelection((function () { this.moveCursorBy(r, 0) })) : !1 === t && (this.selection.moveCursorBy(r, 0), this.selection.clearSelection()); var s = i.scrollTop; i.scrollBy(0, r * n.lineHeight), null != t && i.scrollCursorIntoView(null, .5), i.animateScrolling(s) }, this.selectPageDown = function () { this.$moveByPage(1, !0) }, this.selectPageUp = function () { this.$moveByPage(-1, !0) }, this.gotoPageDown = function () { this.$moveByPage(1, !1) }, this.gotoPageUp = function () { this.$moveByPage(-1, !1) }, this.scrollPageDown = function () { this.$moveByPage(1) }, this.scrollPageUp = function () { this.$moveByPage(-1) }, this.scrollToRow = function (e) { this.renderer.scrollToRow(e) }, this.scrollToLine = function (e, t, i, n) { this.renderer.scrollToLine(e, t, i, n) }, this.centerSelection = function () { var e = this.getSelectionRange(), t = { row: Math.floor(e.start.row + (e.end.row - e.start.row) / 2), column: Math.floor(e.start.column + (e.end.column - e.start.column) / 2) }; this.renderer.alignCursor(t, .5) }, this.getCursorPosition = function () { return this.selection.getCursor() }, this.getCursorPositionScreen = function () { return this.session.documentToScreenPosition(this.getCursorPosition()) }, this.getSelectionRange = function () { return this.selection.getRange() }, this.selectAll = function () { this.selection.selectAll() }, this.clearSelection = function () { this.selection.clearSelection() }, this.moveCursorTo = function (e, t) { this.selection.moveCursorTo(e, t) }, this.moveCursorToPosition = function (e) { this.selection.moveCursorToPosition(e) }, this.jumpToMatching = function (e, t) { var i = this.getCursorPosition(), n = new I(this.session, i.row, i.column), r = n.getCurrentToken(), s = r || n.stepForward(); if (s) { var o, a, l = !1, c = {}, h = i.column - s.start, d = { ")": "(", "(": "(", "]": "[", "[": "[", "{": "{", "}": "{" }; do { if (s.value.match(/[{}()\[\]]/g)) { for (; h < s.value.length && !l; h++)if (d[s.value[h]]) switch (a = d[s.value[h]] + "." + s.type.replace("rparen", "lparen"), isNaN(c[a]) && (c[a] = 0), s.value[h]) { case "(": case "[": case "{": c[a]++; break; case ")": case "]": case "}": c[a]--, -1 === c[a] && (o = "bracket", l = !0) } } else -1 !== s.type.indexOf("tag-name") && (isNaN(c[s.value]) && (c[s.value] = 0), "<" === r.value ? c[s.value]++ : "</" === r.value && c[s.value]--, -1 === c[s.value] && (o = "tag", l = !0)); l || (r = s, s = n.stepForward(), h = 0) } while (s && !l); if (o) { var u, p; if ("bracket" === o) (u = this.session.getBracketRange(i)) || (p = (u = new g(n.getCurrentTokenRow(), n.getCurrentTokenColumn() + h - 1, n.getCurrentTokenRow(), n.getCurrentTokenColumn() + h - 1)).start, (t || p.row === i.row && Math.abs(p.column - i.column) < 2) && (u = this.session.getBracketRange(p))); else if ("tag" === o) { if (!s || -1 === s.type.indexOf("tag-name")) return; var m = s.value; if (0 === (u = new g(n.getCurrentTokenRow(), n.getCurrentTokenColumn() - 2, n.getCurrentTokenRow(), n.getCurrentTokenColumn() - 2)).compare(i.row, i.column)) for (l = !1; s = r, (r = n.stepBackward()) && (-1 !== r.type.indexOf("tag-close") && u.setEnd(n.getCurrentTokenRow(), n.getCurrentTokenColumn() + 1), s.value === m && -1 !== s.type.indexOf("tag-name") && ("<" === r.value ? c[m]++ : "</" === r.value && c[m]--, 0 === c[m] && (l = !0))), r && !l;); s && s.type.indexOf("tag-name") && (p = u.start).row == i.row && Math.abs(p.column - i.column) < 2 && (p = u.end) } (p = u && u.cursor || p) && (e ? u && t ? this.selection.setRange(u) : u && u.isEqual(this.getSelectionRange()) ? this.clearSelection() : this.selection.selectTo(p.row, p.column) : this.selection.moveTo(p.row, p.column)) } } }, this.gotoLine = function (e, t, i) { this.selection.clearSelection(), this.session.unfold({ row: e - 1, column: t || 0 }), this.exitMultiSelectMode && this.exitMultiSelectMode(), this.moveCursorTo(e - 1, t || 0), this.isRowFullyVisible(e - 1) || this.scrollToLine(e - 1, !0, i) }, this.navigateTo = function (e, t) { this.selection.moveTo(e, t) }, this.navigateUp = function (e) { if (this.selection.isMultiLine() && !this.selection.isBackwards()) { var t = this.selection.anchor.getPosition(); return this.moveCursorToPosition(t) } this.selection.clearSelection(), this.selection.moveCursorBy(-e || -1, 0) }, this.navigateDown = function (e) { if (this.selection.isMultiLine() && this.selection.isBackwards()) { var t = this.selection.anchor.getPosition(); return this.moveCursorToPosition(t) } this.selection.clearSelection(), this.selection.moveCursorBy(e || 1, 0) }, this.navigateLeft = function (e) { if (this.selection.isEmpty()) for (e = e || 1; e--;)this.selection.moveCursorLeft(); else { var t = this.getSelectionRange().start; this.moveCursorToPosition(t) } this.clearSelection() }, this.navigateRight = function (e) { if (this.selection.isEmpty()) for (e = e || 1; e--;)this.selection.moveCursorRight(); else { var t = this.getSelectionRange().end; this.moveCursorToPosition(t) } this.clearSelection() }, this.navigateLineStart = function () { this.selection.moveCursorLineStart(), this.clearSelection() }, this.navigateLineEnd = function () { this.selection.moveCursorLineEnd(), this.clearSelection() }, this.navigateFileEnd = function () { this.selection.moveCursorFileEnd(), this.clearSelection() }, this.navigateFileStart = function () { this.selection.moveCursorFileStart(), this.clearSelection() }, this.navigateWordRight = function () { this.selection.moveCursorWordRight(), this.clearSelection() }, this.navigateWordLeft = function () { this.selection.moveCursorWordLeft(), this.clearSelection() }, this.replace = function (e, t) { t && this.$search.set(t); var i = this.$search.find(this.session), n = 0; return i && (this.$tryReplace(i, e) && (n = 1), this.selection.setSelectionRange(i), this.renderer.scrollSelectionIntoView(i.start, i.end)), n }, this.replaceAll = function (e, t) { t && this.$search.set(t); var i = this.$search.findAll(this.session), n = 0; if (!i.length) return n; var r = this.getSelectionRange(); this.selection.moveTo(0, 0); for (var s = i.length - 1; 0 <= s; --s)this.$tryReplace(i[s], e) && n++; return this.selection.setSelectionRange(r), n }, this.$tryReplace = function (e, t) { var i = this.session.getTextRange(e); return null !== (t = this.$search.replace(i, t)) ? (e.end = this.session.replace(e, t), e) : null }, this.getLastSearchOptions = function () { return this.$search.getOptions() }, this.find = function (e, t, i) { t = t || {}, "string" == typeof e || e instanceof RegExp ? t.needle = e : "object" == typeof e && n.mixin(t, e); var r = this.selection.getRange(); null == t.needle && ((e = this.session.getTextRange(r) || this.$search.$options.needle) || (r = this.session.getWordRange(r.start.row, r.start.column), e = this.session.getTextRange(r)), this.$search.set({ needle: e })), this.$search.set(t), t.start || this.$search.set({ start: r }); var s = this.$search.find(this.session); return t.preventScroll ? s : s ? (this.revealRange(s, i), s) : (t.backwards ? r.start = r.end : r.end = r.start, void this.selection.setRange(r)) }, this.findNext = function (e, t) { this.find({ skipCurrent: !0, backwards: !1 }, e, t) }, this.findPrevious = function (e, t) { this.find(e, { skipCurrent: !0, backwards: !0 }, t) }, this.revealRange = function (e, t) { this.session.unfold(e), this.selection.setSelectionRange(e); var i = this.renderer.scrollTop; this.renderer.scrollSelectionIntoView(e.start, e.end, .5), !1 !== t && this.renderer.animateScrolling(i) }, this.undo = function () { this.session.getUndoManager().undo(this.session), this.renderer.scrollCursorIntoView(null, .5) }, this.redo = function () { this.session.getUndoManager().redo(this.session), this.renderer.scrollCursorIntoView(null, .5) }, this.destroy = function () { this.renderer.destroy(), this._signal("destroy", this), this.session && this.session.destroy(), this._$emitInputEvent && this._$emitInputEvent.cancel(), this.session = null }, this.setAutoScrollEditorIntoView = function (e) { if (e) { var t, i = this, n = !1; this.$scrollAnchor || (this.$scrollAnchor = document.createElement("div")); var r = this.$scrollAnchor; r.style.cssText = "position:absolute", this.container.insertBefore(r, this.container.firstChild); var s = this.on("changeSelection", (function () { n = !0 })), o = this.renderer.on("beforeRender", (function () { n && (t = i.renderer.container.getBoundingClientRect()) })), a = this.renderer.on("afterRender", (function () { if (n && t && (i.isFocused() || i.searchBox && i.searchBox.isFocused())) { var e = i.renderer, s = e.$cursorLayer.$pixelPos, o = e.layerConfig, a = s.top - o.offset; null != (n = 0 <= s.top && a + t.top < 0 || !(s.top < o.height && s.top + t.top + o.lineHeight > window.innerHeight) && null) && (r.style.top = a + "px", r.style.left = s.left + "px", r.style.height = o.lineHeight + "px", r.scrollIntoView(n)), n = t = null } })); this.setAutoScrollEditorIntoView = function (e) { e || (delete this.setAutoScrollEditorIntoView, this.off("changeSelection", s), this.renderer.off("afterRender", a), this.renderer.off("beforeRender", o)) } } }, this.$resetCursorStyle = function () { var e = this.$cursorStyle || "ace", t = this.renderer.$cursorLayer; t && (t.setSmoothBlinking(/smooth/.test(e)), t.isBlinking = !this.$readOnly && "wide" != e, r.setCssClass(t.element, "ace_slim-cursors", /slim/.test(e))) }, this.prompt = function (e, t, i) { var n = this; C.loadModule("./ext/prompt", (function (r) { r.prompt(n, e, t, i) })) } }.call(v.prototype), C.defineOptions(v.prototype, "editor", { selectionStyle: { set: function (e) { this.onSelectionChange(), this._signal("changeSelectionStyle", { data: e }) }, initialValue: "line" }, highlightActiveLine: { set: function () { this.$updateHighlightActiveLine() }, initialValue: !0 }, highlightSelectedWord: { set: function (e) { this.$onSelectionChange() }, initialValue: !0 }, readOnly: { set: function (e) { this.textInput.setReadOnly(e), this.$resetCursorStyle() }, initialValue: !1 }, copyWithEmptySelection: { set: function (e) { this.textInput.setCopyWithEmptySelection(e) }, initialValue: !1 }, cursorStyle: { set: function (e) { this.$resetCursorStyle() }, values: ["ace", "slim", "smooth", "wide"], initialValue: "ace" }, mergeUndoDeltas: { values: [!1, !0, "always"], initialValue: !0 }, behavioursEnabled: { initialValue: !0 }, wrapBehavioursEnabled: { initialValue: !0 }, autoScrollEditorIntoView: { set: function (e) { this.setAutoScrollEditorIntoView(e) } }, keyboardHandler: { set: function (e) { this.setKeyboardHandler(e) }, get: function () { return this.$keybindingId }, handlesSet: !0 }, value: { set: function (e) { this.session.setValue(e) }, get: function () { return this.getValue() }, handlesSet: !0, hidden: !0 }, session: { set: function (e) { this.setSession(e) }, get: function () { return this.session }, handlesSet: !0, hidden: !0 }, showLineNumbers: { set: function (e) { this.renderer.$gutterLayer.setShowLineNumbers(e), this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER), e && this.$relativeLineNumbers ? b.attach(this) : b.detach(this) }, initialValue: !0 }, relativeLineNumbers: { set: function (e) { this.$showLineNumbers && e ? b.attach(this) : b.detach(this) } }, placeholder: { set: function (e) { this.$updatePlaceholder || (this.$updatePlaceholder = function () { var e = this.renderer.$composition || this.getValue(); if (e && this.renderer.placeholderNode) this.renderer.off("afterRender", this.$updatePlaceholder), r.removeCssClass(this.container, "ace_hasPlaceholder"), this.renderer.placeholderNode.remove(), this.renderer.placeholderNode = null; else if (!e && !this.renderer.placeholderNode) { this.renderer.on("afterRender", this.$updatePlaceholder), r.addCssClass(this.container, "ace_hasPlaceholder"); var t = r.createElement("div"); t.className = "ace_placeholder", t.textContent = this.$placeholder || "", this.renderer.placeholderNode = t, this.renderer.content.appendChild(this.renderer.placeholderNode) } }.bind(this), this.on("input", this.$updatePlaceholder)), this.$updatePlaceholder() } }, hScrollBarAlwaysVisible: "renderer", vScrollBarAlwaysVisible: "renderer", highlightGutterLine: "renderer", animatedScroll: "renderer", showInvisibles: "renderer", showPrintMargin: "renderer", printMarginColumn: "renderer", printMargin: "renderer", fadeFoldWidgets: "renderer", showFoldWidgets: "renderer", displayIndentGuides: "renderer", showGutter: "renderer", fontSize: "renderer", fontFamily: "renderer", maxLines: "renderer", minLines: "renderer", scrollPastEnd: "renderer", fixedWidthGutter: "renderer", theme: "renderer", hasCssTransforms: "renderer", maxPixelHeight: "renderer", useTextareaForIME: "renderer", scrollSpeed: "$mouseHandler", dragDelay: "$mouseHandler", dragEnabled: "$mouseHandler", focusTimeout: "$mouseHandler", tooltipFollowsMouse: "$mouseHandler", firstLineNumber: "session", overwrite: "session", newLineMode: "session", useWorker: "session", useSoftTabs: "session", navigateWithinSoftTabs: "session", tabSize: "session", wrap: "session", indentedSoftWrap: "session", foldStyle: "session", mode: "session" }); var b = { getText: function (e, t) { return (Math.abs(e.selection.lead.row - t) || t + 1 + (t < 9 ? "·" : "")) + "" }, getWidth: function (e, t, i) { return Math.max(t.toString().length, (i.lastRow + 1).toString().length, 2) * i.characterWidth }, update: function (e, t) { t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER) }, attach: function (e) { e.renderer.$gutterLayer.$renderer = this, e.on("changeSelection", this.update), this.update(null, e) }, detach: function (e) { e.renderer.$gutterLayer.$renderer == this && (e.renderer.$gutterLayer.$renderer = null), e.off("changeSelection", this.update), this.update(null, e) } }; t.Editor = v })), ace.define("ace/undomanager", ["require", "exports", "module", "ace/range"], (function (e, t, i) { "use strict"; function n() { this.$maxRev = 0, this.$fromUndo = !1, this.reset() } (function () { this.addSession = function (e) { this.$session = e }, this.add = function (e, t, i) { this.$fromUndo || e != this.$lastDelta && (this.$keepRedoStack || (this.$redoStack.length = 0), !1 !== t && this.lastDeltas || (this.lastDeltas = [], this.$undoStack.push(this.lastDeltas), e.id = this.$rev = ++this.$maxRev), "remove" != e.action && "insert" != e.action || (this.$lastDelta = e), this.lastDeltas.push(e)) }, this.addSelection = function (e, t) { this.selections.push({ value: e, rev: t || this.$rev }) }, this.startNewGroup = function () { return this.lastDeltas = null, this.$rev }, this.markIgnored = function (e, t) { null == t && (t = this.$rev + 1); for (var i = this.$undoStack, n = i.length; n--;) { var r = i[n][0]; if (r.id <= e) break; r.id < t && (r.ignore = !0) } this.lastDeltas = null }, this.getSelection = function (e, t) { for (var i = this.selections, n = i.length; n--;) { var r = i[n]; if (r.rev < e) return t && (r = i[n + 1]), r } }, this.getRevision = function () { return this.$rev }, this.getDeltas = function (e, t) { null == t && (t = this.$rev + 1); for (var i = this.$undoStack, n = null, r = 0, s = i.length; s--;) { var o = i[s][0]; if (o.id < t && !n && (n = s + 1), o.id <= e) { r = s + 1; break } } return i.slice(r, n) }, this.getChangedRanges = function (e, t) { null == t && (t = this.$rev + 1) }, this.getChangedLines = function (e, t) { null == t && (t = this.$rev + 1) }, this.validateDeltaBoundaries = function (e, t, i) { return !!e && e.every((function (e) { var n = e.action; switch (i && "insert" === e.action && (n = "remove"), i && "remove" === e.action && (n = "insert"), n) { case "insert": return e.start.row <= t; case "remove": return e.start.row < t && e.end.row < t; default: return !0 } })) }, this.undo = function (e, t) { this.lastDeltas = null; var i = this.$undoStack; if (function (e, t) { for (var i = t; i--;) { var n = e[i]; if (n && !n[0].ignore) { for (; i < t - 1;) { var r = h(e[i], e[i + 1]); e[i] = r[0], e[i + 1] = r[1], i++ } return 1 } } }(i, i.length)) { e = e || this.$session, this.$redoStackBaseRev !== this.$rev && this.$redoStack.length && (this.$redoStack = []), this.$fromUndo = !0; var n = i.pop(), r = null; return this.validateDeltaBoundaries(n, e.getLength(), !0) && (r = e.undoChanges(n, t), this.$redoStack.push(n), this.$syncRev()), this.$fromUndo = !1, r } }, this.redo = function (e, t) { if (this.lastDeltas = null, e = e || this.$session, this.$fromUndo = !0, this.$redoStackBaseRev != this.$rev) { var i = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1); !function (e, t) { for (var i = 0; i < t.length; i++)for (var n = t[i], r = 0; r < n.length; r++)m(e, n[r]) }(this.$redoStack, i), this.$redoStackBaseRev = this.$rev, this.$redoStack.forEach((function (e) { e[0].id = ++this.$maxRev }), this) } var n = this.$redoStack.pop(), r = null; return this.validateDeltaBoundaries(n, e.getLength(), !1) && (r = e.redoChanges(n, t), this.$undoStack.push(n), this.$syncRev()), this.$fromUndo = !1, r }, this.$syncRev = function () { var e = this.$undoStack, t = e[e.length - 1], i = t && t[0].id || 0; this.$redoStackBaseRev = i, this.$rev = i }, this.reset = function () { this.lastDeltas = null, this.$lastDelta = null, this.$undoStack = [], this.$redoStack = [], this.$rev = 0, this.mark = 0, this.$redoStackBaseRev = this.$rev, this.selections = [] }, this.canUndo = function () { return 0 < this.$undoStack.length }, this.canRedo = function () { return 0 < this.$redoStack.length }, this.bookmark = function (e) { null == e && (e = this.$rev), this.mark = e }, this.isAtBookmark = function () { return this.$rev === this.mark }, this.toJSON = function () { }, this.fromJSON = function () { }, this.hasUndo = this.canUndo, this.hasRedo = this.canRedo, this.isClean = this.isAtBookmark, this.markClean = this.bookmark, this.$prettyPrint = function (e) { return e ? a(e) : a(this.$undoStack) + "\n---\n" + a(this.$redoStack) } }).call(n.prototype); var r = e("./range").Range, s = r.comparePoints; function o(e) { return { row: e.row, column: e.column } } function a(e) { if (e = e || this, Array.isArray(e)) return e.map(a).join("\n"); var t = ""; return e.action ? (t = "insert" == e.action ? "+" : "-", t += "[" + e.lines + "]") : e.value && (t = Array.isArray(e.value) ? e.value.map(l).join("\n") : l(e.value)), e.start && (t += l(e)), (e.id || e.rev) && (t += "\t(" + (e.id || e.rev) + ")"), t } function l(e) { return e.start.row + ":" + e.start.column + "=>" + e.end.row + ":" + e.end.column } function c(e, t) { var i = "insert" == e.action, n = "insert" == t.action; if (i && n) if (0 <= s(t.start, e.end)) u(t, e, -1); else { if (!(s(t.start, e.start) <= 0)) return; u(e, t, 1) } else if (i && !n) if (0 <= s(t.start, e.end)) u(t, e, -1); else { if (!(s(t.end, e.start) <= 0)) return; u(e, t, -1) } else if (!i && n) if (0 <= s(t.start, e.start)) u(t, e, 1); else { if (!(s(t.start, e.start) <= 0)) return; u(e, t, 1) } else if (!i && !n) if (0 <= s(t.start, e.start)) u(t, e, 1); else { if (!(s(t.end, e.start) <= 0)) return; u(e, t, -1) } return 1 } function h(e, t) { for (var i = e.length; i--;)for (var n = 0; n < t.length; n++)if (!c(e[i], t[n])) { for (; i < e.length;) { for (; n--;)c(t[n], e[i]); n = t.length, i++ } return [e, t] } return e.selectionBefore = t.selectionBefore = e.selectionAfter = t.selectionAfter = null, [t, e] } function d(e, t) { var i = "insert" == e.action, n = "insert" == t.action; if (i && n) s(e.start, t.start) < 0 ? u(t, e, 1) : u(e, t, 1); else if (i && !n) 0 <= s(e.start, t.end) ? u(e, t, -1) : (s(e.start, t.start) <= 0 || u(e, r.fromPoints(t.start, e.start), -1), u(t, e, 1)); else if (!i && n) 0 <= s(t.start, e.end) ? u(t, e, -1) : (s(t.start, e.start) <= 0 || u(t, r.fromPoints(e.start, t.start), -1), u(e, t, 1)); else if (!i && !n) if (0 <= s(t.start, e.end)) u(t, e, -1); else { var o, a; if (!(s(t.end, e.start) <= 0)) return s(e.start, t.start) < 0 && (e = p(o = e, t.start)), 0 < s(e.end, t.end) && (a = p(e, t.end)), g(t.end, e.start, e.end, -1), a && !o && (e.lines = a.lines, e.start = a.start, e.end = a.end, a = e), [t, o, a].filter(Boolean); u(e, t, -1) } return [t, e] } function u(e, t, i) { g(e.start, t.start, t.end, i), g(e.end, t.start, t.end, i) } function g(e, t, i, n) { e.row == (1 == n ? t : i).row && (e.column += n * (i.column - t.column)), e.row += n * (i.row - t.row) } function p(e, t) { var i = e.lines, n = e.end; e.end = o(t); var r = e.end.row - e.start.row, s = i.splice(r, i.length), a = r ? t.column : t.column - e.start.column; return i.push(s[0].substring(0, a)), s[0] = s[0].substr(a), { start: o(t), end: n, lines: s, action: e.action } } function m(e, t) { var i; t = { start: o((i = t).start), end: o(i.end), action: i.action, lines: i.lines.slice() }; for (var n = e.length; n--;) { for (var r = e[n], s = 0; s < r.length; s++) { var a = d(r[s], t); t = a[0], 2 != a.length && (a[2] ? (r.splice(s + 1, 1, a[1], a[2]), s++) : a[1] || (r.splice(s, 1), s--)) } r.length || e.splice(n, 1) } return e } r.comparePoints, t.UndoManager = n })), ace.define("ace/layer/lines", ["require", "exports", "module", "ace/lib/dom"], (function (e, t, i) { "use strict"; function n(e, t) { this.element = e, this.canvasHeight = t || 5e5, this.element.style.height = 2 * this.canvasHeight + "px", this.cells = [], this.cellCache = [], this.$offsetCoefficient = 0 } var r = e("../lib/dom"); (function () { this.moveContainer = function (e) { r.translate(this.element, 0, -e.firstRowScreen * e.lineHeight % this.canvasHeight - e.offset * this.$offsetCoefficient) }, this.pageChanged = function (e, t) { return Math.floor(e.firstRowScreen * e.lineHeight / this.canvasHeight) !== Math.floor(t.firstRowScreen * t.lineHeight / this.canvasHeight) }, this.computeLineTop = function (e, t, i) { var n = t.firstRowScreen * t.lineHeight, r = Math.floor(n / this.canvasHeight); return i.documentToScreenRow(e, 0) * t.lineHeight - r * this.canvasHeight }, this.computeLineHeight = function (e, t, i) { return t.lineHeight * i.getRowLineCount(e) }, this.getLength = function () { return this.cells.length }, this.get = function (e) { return this.cells[e] }, this.shift = function () { this.$cacheCell(this.cells.shift()) }, this.pop = function () { this.$cacheCell(this.cells.pop()) }, this.push = function (e) { if (Array.isArray(e)) { this.cells.push.apply(this.cells, e); for (var t = r.createFragment(this.element), i = 0; i < e.length; i++)t.appendChild(e[i].element); this.element.appendChild(t) } else this.cells.push(e), this.element.appendChild(e.element) }, this.unshift = function (e) { if (Array.isArray(e)) { this.cells.unshift.apply(this.cells, e); for (var t = r.createFragment(this.element), i = 0; i < e.length; i++)t.appendChild(e[i].element); this.element.firstChild ? this.element.insertBefore(t, this.element.firstChild) : this.element.appendChild(t) } else this.cells.unshift(e), this.element.insertAdjacentElement("afterbegin", e.element) }, this.last = function () { return this.cells.length ? this.cells[this.cells.length - 1] : null }, this.$cacheCell = function (e) { e && (e.element.remove(), this.cellCache.push(e)) }, this.createCell = function (e, t, i, n) { var s = this.cellCache.pop(); if (!s) { var o = r.createElement("div"); n && n(o), this.element.appendChild(o), s = { element: o, text: "", row: e } } return s.row = e, s } }).call(n.prototype), t.Lines = n })), ace.define("ace/layer/gutter", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/layer/lines"], (function (e, t, i) { "use strict"; function n(e) { this.element = r.createElement("div"), this.element.className = "ace_layer ace_gutter-layer", e.appendChild(this.element), this.setShowFoldWidgets(this.$showFoldWidgets), this.gutterWidth = 0, this.$annotations = [], this.$updateAnnotations = this.$updateAnnotations.bind(this), this.$lines = new l(this.element), this.$lines.$offsetCoefficient = 1 } var r = e("../lib/dom"), s = e("../lib/oop"), o = e("../lib/lang"), a = e("../lib/event_emitter").EventEmitter, l = e("./lines").Lines; function c(e) { var t = document.createTextNode(""); e.appendChild(t); var i = r.createElement("span"); return e.appendChild(i), e } (function () { s.implement(this, a), this.setSession = function (e) { this.session && this.session.removeEventListener("change", this.$updateAnnotations), (this.session = e) && e.on("change", this.$updateAnnotations) }, this.addGutterDecoration = function (e, t) { window.console && console.warn && console.warn("deprecated use session.addGutterDecoration"), this.session.addGutterDecoration(e, t) }, this.removeGutterDecoration = function (e, t) { window.console && console.warn && console.warn("deprecated use session.removeGutterDecoration"), this.session.removeGutterDecoration(e, t) }, this.setAnnotations = function (e) { this.$annotations = []; for (var t = 0; t < e.length; t++) { var i = e[t], n = i.row, r = this.$annotations[n]; r = r || (this.$annotations[n] = { text: [] }); var s = i.text; s = s ? o.escapeHTML(s) : i.html || "", -1 === r.text.indexOf(s) && r.text.push(s); var a = i.type; "error" == a ? r.className = " ace_error" : "warning" == a && " ace_error" != r.className ? r.className = " ace_warning" : "info" != a || r.className || (r.className = " ace_info") } }, this.$updateAnnotations = function (e) { if (this.$annotations.length) { var t = e.start.row, i = e.end.row - t; if (0 != i) if ("remove" == e.action) this.$annotations.splice(t, 1 + i, null); else { var n = new Array(1 + i); n.unshift(t, 1), this.$annotations.splice.apply(this.$annotations, n) } } }, this.update = function (e) { this.config = e; var t = this.session, i = e.firstRow, n = Math.min(e.lastRow + e.gutterOffset, t.getLength() - 1); this.oldLastRow = n, this.config = e, this.$lines.moveContainer(e), this.$updateCursorRow(); for (var r = t.getNextFoldLine(i), s = r ? r.start.row : 1 / 0, o = null, a = -1, l = i; ;) { if (s < l && (l = r.end.row + 1, s = (r = t.getNextFoldLine(l, r)) ? r.start.row : 1 / 0), n < l) { for (; this.$lines.getLength() > a + 1;)this.$lines.pop(); break } (o = this.$lines.get(++a)) ? o.row = l : (o = this.$lines.createCell(l, e, this.session, c), this.$lines.push(o)), this.$renderCell(o, e, r, l), l++ } this._signal("afterRender"), this.$updateGutterWidth(e) }, this.$updateGutterWidth = function (e) { var t = this.session, i = t.gutterRenderer || this.$renderer, n = t.$firstLineNumber, r = this.$lines.last() ? this.$lines.last().text : ""; (this.$fixedWidth || t.$useWrapMode) && (r = t.getLength() + n - 1); var s = i ? i.getWidth(t, r, e) : r.toString().length * e.characterWidth, o = this.$padding || this.$computePadding(); (s += o.left + o.right) === this.gutterWidth || isNaN(s) || (this.gutterWidth = s, this.element.parentNode.style.width = this.element.style.width = Math.ceil(this.gutterWidth) + "px", this._signal("changeGutterWidth", s)) }, this.$updateCursorRow = function () { if (this.$highlightGutterLine) { var e = this.session.selection.getCursor(); this.$cursorRow !== e.row && (this.$cursorRow = e.row) } }, this.updateLineHighlight = function () { if (this.$highlightGutterLine) { var e = this.session.selection.cursor.row; if (this.$cursorRow = e, !this.$cursorCell || this.$cursorCell.row != e) { this.$cursorCell && (this.$cursorCell.element.className = this.$cursorCell.element.className.replace("ace_gutter-active-line ", "")); var t = this.$lines.cells; this.$cursorCell = null; for (var i = 0; i < t.length; i++) { var n = t[i]; if (n.row >= this.$cursorRow) { if (n.row > this.$cursorRow) { var r = this.session.getFoldLine(this.$cursorRow); if (!(0 < i && r && r.start.row == t[i - 1].row)) break; n = t[i - 1] } n.element.className = "ace_gutter-active-line " + n.element.className, this.$cursorCell = n; break } } } } }, this.scrollLines = function (e) { var t = this.config; if (this.config = e, this.$updateCursorRow(), this.$lines.pageChanged(t, e)) return this.update(e); this.$lines.moveContainer(e); var i = Math.min(e.lastRow + e.gutterOffset, this.session.getLength() - 1), n = this.oldLastRow; if (this.oldLastRow = i, !t || n < e.firstRow) return this.update(e); if (i < t.firstRow) return this.update(e); if (t.firstRow < e.firstRow) for (var r = this.session.getFoldedRowCount(t.firstRow, e.firstRow - 1); 0 < r; r--)this.$lines.shift(); if (i < n) for (r = this.session.getFoldedRowCount(i + 1, n); 0 < r; r--)this.$lines.pop(); e.firstRow < t.firstRow && this.$lines.unshift(this.$renderLines(e, e.firstRow, t.firstRow - 1)), n < i && this.$lines.push(this.$renderLines(e, n + 1, i)), this.updateLineHighlight(), this._signal("afterRender"), this.$updateGutterWidth(e) }, this.$renderLines = function (e, t, i) { for (var n = [], r = t, s = this.session.getNextFoldLine(r), o = s ? s.start.row : 1 / 0; o < r && (r = s.end.row + 1, o = (s = this.session.getNextFoldLine(r, s)) ? s.start.row : 1 / 0), !(i < r);) { var a = this.$lines.createCell(r, e, this.session, c); this.$renderCell(a, e, s, r), n.push(a), r++ } return n }, this.$renderCell = function (e, t, i, n) { var s = e.element, o = this.session, a = s.childNodes[0], l = s.childNodes[1], c = o.$firstLineNumber, h = o.$breakpoints, d = o.$decorations, u = o.gutterRenderer || this.$renderer, g = this.$showFoldWidgets && o.foldWidgets, p = i ? i.start.row : Number.MAX_VALUE, m = "ace_gutter-cell "; if (this.$highlightGutterLine && (n == this.$cursorRow || i && n < this.$cursorRow && p <= n && this.$cursorRow <= i.end.row) && (m += "ace_gutter-active-line ", this.$cursorCell != e && (this.$cursorCell && (this.$cursorCell.element.className = this.$cursorCell.element.className.replace("ace_gutter-active-line ", "")), this.$cursorCell = e)), h[n] && (m += h[n]), d[n] && (m += d[n]), this.$annotations[n] && (m += this.$annotations[n].className), s.className != m && (s.className = m), g) { var f = g[n]; null == f && (f = g[n] = o.getFoldWidget(n)) } if (f) { m = "ace_fold-widget ace_" + f, "start" == f && n == p && n < i.end.row ? m += " ace_closed" : m += " ace_open", l.className != m && (l.className = m); var C = t.lineHeight + "px"; r.setStyle(l.style, "height", C), r.setStyle(l.style, "display", "inline-block") } else l && r.setStyle(l.style, "display", "none"); var I = (u ? u.getText(o, n) : n + c).toString(); return I !== a.data && (a.data = I), r.setStyle(e.element.style, "height", this.$lines.computeLineHeight(n, t, o) + "px"), r.setStyle(e.element.style, "top", this.$lines.computeLineTop(n, t, o) + "px"), e.text = I, e }, this.$fixedWidth = !1, this.$highlightGutterLine = !0, this.$renderer = "", this.setHighlightGutterLine = function (e) { this.$highlightGutterLine = e }, this.$showLineNumbers = !0, this.$renderer = "", this.setShowLineNumbers = function (e) { this.$renderer = !e && { getWidth: function () { return 0 }, getText: function () { return "" } } }, this.getShowLineNumbers = function () { return this.$showLineNumbers }, this.$showFoldWidgets = !0, this.setShowFoldWidgets = function (e) { e ? r.addCssClass(this.element, "ace_folding-enabled") : r.removeCssClass(this.element, "ace_folding-enabled"), this.$showFoldWidgets = e, this.$padding = null }, this.getShowFoldWidgets = function () { return this.$showFoldWidgets }, this.$computePadding = function () { if (!this.element.firstChild) return { left: 0, right: 0 }; var e = r.computedStyle(this.element.firstChild); return this.$padding = {}, this.$padding.left = (parseInt(e.borderLeftWidth) || 0) + (parseInt(e.paddingLeft) || 0) + 1, this.$padding.right = (parseInt(e.borderRightWidth) || 0) + (parseInt(e.paddingRight) || 0), this.$padding }, this.getRegion = function (e) { var t = this.$padding || this.$computePadding(), i = this.element.getBoundingClientRect(); return e.x < t.left + i.left ? "markers" : this.$showFoldWidgets && e.x > i.right - t.right ? "foldWidgets" : void 0 } }).call(n.prototype), t.Gutter = n })), ace.define("ace/layer/marker", ["require", "exports", "module", "ace/range", "ace/lib/dom"], (function (e, t, i) { "use strict"; function n(e) { this.element = s.createElement("div"), this.element.className = "ace_layer ace_marker-layer", e.appendChild(this.element) } var r = e("../range").Range, s = e("../lib/dom"); (function () { this.$padding = 0, this.setPadding = function (e) { this.$padding = e }, this.setSession = function (e) { this.session = e }, this.setMarkers = function (e) { this.markers = e }, this.elt = function (e, t) { var i = -1 != this.i && this.element.childNodes[this.i]; i ? this.i++ : (i = document.createElement("div"), this.element.appendChild(i), this.i = -1), i.style.cssText = t, i.className = e }, this.update = function (e) { if (e) { var t; for (var i in this.config = e, this.i = 0, this.markers) { var n = this.markers[i]; if (n.range) { var r = n.range.clipRows(e.firstRow, e.lastRow); if (!r.isEmpty()) if (r = r.toScreenRange(this.session), n.renderer) { var s = this.$getTop(r.start.row, e), o = this.$padding + r.start.column * e.characterWidth; n.renderer(t, r, o, s, e) } else "fullLine" == n.type ? this.drawFullLineMarker(t, r, n.clazz, e) : "screenLine" == n.type ? this.drawScreenLineMarker(t, r, n.clazz, e) : r.isMultiLine() ? "text" == n.type ? this.drawTextMarker(t, r, n.clazz, e) : this.drawMultiLineMarker(t, r, n.clazz, e) : this.drawSingleLineMarker(t, r, n.clazz + " ace_start ace_br15", e) } else n.update(t, this, this.session, e) } if (-1 != this.i) for (; this.i < this.element.childElementCount;)this.element.removeChild(this.element.lastChild) } }, this.$getTop = function (e, t) { return (e - t.firstRowScreen) * t.lineHeight }, this.drawTextMarker = function (e, t, i, n, s) { for (var o = this.session, a = t.start.row, l = t.end.row, c = a, h = 0, d = 0, u = o.getScreenLastRowColumn(c), g = new r(c, t.start.column, c, d); c <= l; c++)g.start.row = g.end.row = c, g.start.column = c == a ? t.start.column : o.getRowWrapIndent(c), h = d, d = g.end.column = u, u = c + 1 < l ? o.getScreenLastRowColumn(c + 1) : c == l ? 0 : t.end.column, this.drawSingleLineMarker(e, g, i + (c == a ? " ace_start" : "") + " ace_br" + ((c == a || c == a + 1 && t.start.column ? 1 : 0) | (h < d ? 2 : 0) | (u < d ? 4 : 0) | (c == l ? 8 : 0)), n, c == l ? 0 : 1, s) }, this.drawMultiLineMarker = function (e, t, i, n, r) { var s = this.$padding, o = n.lineHeight, a = this.$getTop(t.start.row, n), l = s + t.start.column * n.characterWidth; if (r = r || "", this.session.$bidiHandler.isBidiRow(t.start.row) ? ((c = t.clone()).end.row = c.start.row, c.end.column = this.session.getLine(c.start.row).length, this.drawBidiSingleLineMarker(e, c, i + " ace_br1 ace_start", n, null, r)) : this.elt(i + " ace_br1 ace_start", "height:" + o + "px;right:0;top:" + a + "px;left:" + l + "px;" + (r || "")), this.session.$bidiHandler.isBidiRow(t.end.row)) { var c; (c = t.clone()).start.row = c.end.row, c.start.column = 0, this.drawBidiSingleLineMarker(e, c, i + " ace_br12", n, null, r) } else { a = this.$getTop(t.end.row, n); var h = t.end.column * n.characterWidth; this.elt(i + " ace_br12", "height:" + o + "px;width:" + h + "px;top:" + a + "px;left:" + s + "px;" + (r || "")) } if (!((o = (t.end.row - t.start.row - 1) * n.lineHeight) <= 0)) { a = this.$getTop(t.start.row + 1, n); var d = (t.start.column ? 1 : 0) | (t.end.column ? 0 : 8); this.elt(i + (d ? " ace_br" + d : ""), "height:" + o + "px;right:0;top:" + a + "px;left:" + s + "px;" + (r || "")) } }, this.drawSingleLineMarker = function (e, t, i, n, r, s) { if (this.session.$bidiHandler.isBidiRow(t.start.row)) return this.drawBidiSingleLineMarker(e, t, i, n, r, s); var o = n.lineHeight, a = (t.end.column + (r || 0) - t.start.column) * n.characterWidth, l = this.$getTop(t.start.row, n), c = this.$padding + t.start.column * n.characterWidth; this.elt(i, "height:" + o + "px;width:" + a + "px;top:" + l + "px;left:" + c + "px;" + (s || "")) }, this.drawBidiSingleLineMarker = function (e, t, i, n, r, s) { var o = n.lineHeight, a = this.$getTop(t.start.row, n), l = this.$padding; this.session.$bidiHandler.getSelections(t.start.column, t.end.column).forEach((function (e) { this.elt(i, "height:" + o + "px;width:" + e.width + (r || 0) + "px;top:" + a + "px;left:" + (l + e.left) + "px;" + (s || "")) }), this) }, this.drawFullLineMarker = function (e, t, i, n, r) { var s = this.$getTop(t.start.row, n), o = n.lineHeight; t.start.row != t.end.row && (o += this.$getTop(t.end.row, n) - s), this.elt(i, "height:" + o + "px;top:" + s + "px;left:0;right:0;" + (r || "")) }, this.drawScreenLineMarker = function (e, t, i, n, r) { var s = this.$getTop(t.start.row, n), o = n.lineHeight; this.elt(i, "height:" + o + "px;top:" + s + "px;left:0;right:0;" + (r || "")) } }).call(n.prototype), t.Marker = n })), ace.define("ace/layer/text", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/layer/lines", "ace/lib/event_emitter"], (function (e, t, i) { "use strict"; function n(e) { this.dom = s, this.element = this.dom.createElement("div"), this.element.className = "ace_layer ace_text-layer", e.appendChild(this.element), this.$updateEolChar = this.$updateEolChar.bind(this), this.$lines = new a(this.element) } var r = e("../lib/oop"), s = e("../lib/dom"), o = e("../lib/lang"), a = e("./lines").Lines, l = e("../lib/event_emitter").EventEmitter; (function () { r.implement(this, l), this.EOF_CHAR = "¶", this.EOL_CHAR_LF = "¬", this.EOL_CHAR_CRLF = "¤", this.EOL_CHAR = this.EOL_CHAR_LF, this.TAB_CHAR = "—", this.SPACE_CHAR = "·", this.$padding = 0, this.MAX_LINE_LENGTH = 1e4, this.$updateEolChar = function () { var e = this.session.doc, t = "\n" == e.getNewLineCharacter() && "windows" != e.getNewLineMode() ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF; if (this.EOL_CHAR != t) return this.EOL_CHAR = t, !0 }, this.setPadding = function (e) { this.$padding = e, this.element.style.margin = "0 " + e + "px" }, this.getLineHeight = function () { return this.$fontMetrics.$characterSize.height || 0 }, this.getCharacterWidth = function () { return this.$fontMetrics.$characterSize.width || 0 }, this.$setFontMetrics = function (e) { this.$fontMetrics = e, this.$fontMetrics.on("changeCharacterSize", function (e) { this._signal("changeCharacterSize", e) }.bind(this)), this.$pollSizeChanges() }, this.checkForSizeChanges = function () { this.$fontMetrics.checkForSizeChanges() }, this.$pollSizeChanges = function () { return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges() }, this.setSession = function (e) { (this.session = e) && this.$computeTabString() }, this.showInvisibles = !1, this.setShowInvisibles = function (e) { return this.showInvisibles != e && (this.showInvisibles = e, this.$computeTabString(), !0) }, this.displayIndentGuides = !0, this.setDisplayIndentGuides = function (e) { return this.displayIndentGuides != e && (this.displayIndentGuides = e, this.$computeTabString(), !0) }, this.$tabStrings = [], this.onChangeTabSize = this.$computeTabString = function () { var e = this.session.getTabSize(); this.tabSize = e; for (var t = this.$tabStrings = [0], i = 1; i < e + 1; i++)this.showInvisibles ? ((n = this.dom.createElement("span")).className = "ace_invisible ace_invisible_tab", n.textContent = o.stringRepeat(this.TAB_CHAR, i), t.push(n)) : t.push(this.dom.createTextNode(o.stringRepeat(" ", i), this.element)); if (this.displayIndentGuides) { this.$indentGuideRe = /\s\S| \t|\t |\s$/; var n, r = "ace_indent-guide", s = "", a = ""; if (this.showInvisibles) { r += " ace_invisible", s = " ace_invisible_space", a = " ace_invisible_tab"; var l = o.stringRepeat(this.SPACE_CHAR, this.tabSize), c = o.stringRepeat(this.TAB_CHAR, this.tabSize) } else c = l = o.stringRepeat(" ", this.tabSize); (n = this.dom.createElement("span")).className = r + s, n.textContent = l, this.$tabStrings[" "] = n, (n = this.dom.createElement("span")).className = r + a, n.textContent = c, this.$tabStrings["\t"] = n } }, this.updateLines = function (e, t, i) { if (this.config.lastRow != e.lastRow || this.config.firstRow != e.firstRow) return this.update(e); this.config = e; for (var n = Math.max(t, e.firstRow), r = Math.min(i, e.lastRow), s = this.element.childNodes, o = 0, a = e.firstRow; a < n; a++) { if (l = this.session.getFoldLine(a)) { if (l.containsRow(n)) { n = l.start.row; break } a = l.end.row } o++ } for (var l, c = !1, h = (a = n, (l = this.session.getNextFoldLine(a)) ? l.start.row : 1 / 0); h < a && (a = l.end.row + 1, h = (l = this.session.getNextFoldLine(a, l)) ? l.start.row : 1 / 0), !(r < a);) { var d = s[o++]; if (d) { this.dom.removeChildren(d), this.$renderLine(d, a, a == h && l), c && (d.style.top = this.$lines.computeLineTop(a, e, this.session) + "px"); var u = e.lineHeight * this.session.getRowLength(a) + "px"; d.style.height != u && (c = !0, d.style.height = u) } a++ } if (c) for (; o < this.$lines.cells.length;) { var g = this.$lines.cells[o++]; g.element.style.top = this.$lines.computeLineTop(g.row, e, this.session) + "px" } }, this.scrollLines = function (e) { var t = this.config; if (this.config = e, this.$lines.pageChanged(t, e)) return this.update(e); this.$lines.moveContainer(e); var i = e.lastRow, n = t ? t.lastRow : -1; if (!t || n < e.firstRow) return this.update(e); if (i < t.firstRow) return this.update(e); if (!t || t.lastRow < e.firstRow) return this.update(e); if (e.lastRow < t.firstRow) return this.update(e); if (t.firstRow < e.firstRow) for (var r = this.session.getFoldedRowCount(t.firstRow, e.firstRow - 1); 0 < r; r--)this.$lines.shift(); if (t.lastRow > e.lastRow) for (r = this.session.getFoldedRowCount(e.lastRow + 1, t.lastRow); 0 < r; r--)this.$lines.pop(); e.firstRow < t.firstRow && this.$lines.unshift(this.$renderLinesFragment(e, e.firstRow, t.firstRow - 1)), e.lastRow > t.lastRow && this.$lines.push(this.$renderLinesFragment(e, t.lastRow + 1, e.lastRow)) }, this.$renderLinesFragment = function (e, t, i) { for (var n = [], r = t, o = this.session.getNextFoldLine(r), a = o ? o.start.row : 1 / 0; a < r && (r = o.end.row + 1, a = (o = this.session.getNextFoldLine(r, o)) ? o.start.row : 1 / 0), !(i < r);) { var l = this.$lines.createCell(r, e, this.session), c = l.element; this.dom.removeChildren(c), s.setStyle(c.style, "height", this.$lines.computeLineHeight(r, e, this.session) + "px"), s.setStyle(c.style, "top", this.$lines.computeLineTop(r, e, this.session) + "px"), this.$renderLine(c, r, r == a && o), this.$useLineGroups() ? c.className = "ace_line_group" : c.className = "ace_line", n.push(l), r++ } return n }, this.update = function (e) { this.$lines.moveContainer(e); for (var t = (this.config = e).firstRow, i = e.lastRow, n = this.$lines; n.getLength();)n.pop(); n.push(this.$renderLinesFragment(e, t, i)) }, this.$textToken = { text: !0, rparen: !0, lparen: !0 }, this.$renderToken = function (e, t, i, n) { for (var r, s = this, a = /(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g, l = this.dom.createFragment(this.element), c = 0; r = a.exec(n);) { var h = r[1], d = r[2], u = r[3], g = r[4], p = r[5]; if (s.showInvisibles || !d) { var m = c != r.index ? n.slice(c, r.index) : ""; if (c = r.index + r[0].length, m && l.appendChild(this.dom.createTextNode(m, this.element)), h) { var f = s.session.getScreenTabSize(t + r.index); l.appendChild(s.$tabStrings[f].cloneNode(!0)), t += f - 1 } else d ? s.showInvisibles ? ((I = this.dom.createElement("span")).className = "ace_invisible ace_invisible_space", I.textContent = o.stringRepeat(s.SPACE_CHAR, d.length), l.appendChild(I)) : l.appendChild(this.com.createTextNode(d, this.element)) : u ? ((I = this.dom.createElement("span")).className = "ace_invisible ace_invisible_space ace_invalid", I.textContent = o.stringRepeat(s.SPACE_CHAR, u.length), l.appendChild(I)) : g ? (t += 1, (I = this.dom.createElement("span")).style.width = 2 * s.config.characterWidth + "px", I.className = s.showInvisibles ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk", I.textContent = s.showInvisibles ? s.SPACE_CHAR : g, l.appendChild(I)) : p && (t += 1, (I = this.dom.createElement("span")).style.width = 2 * s.config.characterWidth + "px", I.className = "ace_cjk", I.textContent = p, l.appendChild(I)) } } if (l.appendChild(this.dom.createTextNode(c ? n.slice(c) : n, this.element)), this.$textToken[i.type]) e.appendChild(l); else { var C = "ace_" + i.type.replace(/\./g, " ace_"), I = this.dom.createElement("span"); "fold" == i.type && (I.style.width = i.value.length * this.config.characterWidth + "px"), I.className = C, I.appendChild(l), e.appendChild(I) } return t + n.length }, this.renderIndentGuide = function (e, t, i) { var n = t.search(this.$indentGuideRe); if (n <= 0 || i <= n) return t; if (" " == t[0]) { for (var r = (n -= n % this.tabSize) / this.tabSize, s = 0; s < r; s++)e.appendChild(this.$tabStrings[" "].cloneNode(!0)); return t.substr(n) } if ("\t" != t[0]) return t; for (s = 0; s < n; s++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0)); return t.substr(n) }, this.$createLineElement = function (e) { var t = this.dom.createElement("div"); return t.className = "ace_line", t.style.height = this.config.lineHeight + "px", t }, this.$renderWrappedLine = function (e, t, i) { var n = 0, r = 0, s = i[0], a = 0, l = this.$createLineElement(); e.appendChild(l); for (var c = 0; c < t.length; c++) { var h = t[c], d = h.value; if (0 == c && this.displayIndentGuides) { if (n = d.length, !(d = this.renderIndentGuide(l, d, s))) continue; n -= d.length } if (n + d.length < s) a = this.$renderToken(l, a, h, d), n += d.length; else { for (; n + d.length >= s;)a = this.$renderToken(l, a, h, d.substring(0, s - n)), d = d.substring(s - n), n = s, l = this.$createLineElement(), e.appendChild(l), l.appendChild(this.dom.createTextNode(o.stringRepeat(" ", i.indent), this.element)), a = 0, s = i[++r] || Number.MAX_VALUE; 0 != d.length && (n += d.length, a = this.$renderToken(l, a, h, d)) } } i[i.length - 1] > this.MAX_LINE_LENGTH && this.$renderOverflowMessage(l, a, null, "", !0) }, this.$renderSimpleLine = function (e, t) { var i = 0, n = t[0], r = n.value; this.displayIndentGuides && (r = this.renderIndentGuide(e, r)), r && (i = this.$renderToken(e, i, n, r)); for (var s = 1; s < t.length; s++) { if (i + (r = (n = t[s]).value).length > this.MAX_LINE_LENGTH) return this.$renderOverflowMessage(e, i, n, r); i = this.$renderToken(e, i, n, r) } }, this.$renderOverflowMessage = function (e, t, i, n, r) { i && this.$renderToken(e, t, i, n.slice(0, this.MAX_LINE_LENGTH - t)); var s = this.dom.createElement("span"); s.className = "ace_inline_button ace_keyword ace_toggle_wrap", s.textContent = r ? "<hide>" : "<click to see more...>", e.appendChild(s) }, this.$renderLine = function (e, t, i) { if (i || 0 == i || (i = this.session.getFoldLine(t)), i) var n = this.$getFoldLineTokens(t, i); else n = this.session.getTokens(t); var r = e; if (n.length) { var s = this.session.getRowSplitData(t); s && s.length ? (this.$renderWrappedLine(e, n, s), r = e.lastChild) : (r = e, this.$useLineGroups() && (r = this.$createLineElement(), e.appendChild(r)), this.$renderSimpleLine(r, n)) } else this.$useLineGroups() && (r = this.$createLineElement(), e.appendChild(r)); if (this.showInvisibles && r) { i && (t = i.end.row); var o = this.dom.createElement("span"); o.className = "ace_invisible ace_invisible_eol", o.textContent = t == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR, r.appendChild(o) } }, this.$getFoldLineTokens = function (e, t) { var i = this.session, n = [], r = i.getTokens(e); return t.walk((function (e, t, s, o, a) { null != e ? n.push({ type: "fold", value: e }) : (a && (r = i.getTokens(t)), r.length && function (e, t, i) { for (var r = 0, s = 0; s + e[r].value.length < t;)if (s += e[r].value.length, ++r == e.length) return; for (s != t && ((o = e[r].value.substring(t - s)).length > i - t && (o = o.substring(0, i - t)), n.push({ type: e[r].type, value: o }), s = t + o.length, r += 1); s < i && r < e.length;) { var o; (o = e[r].value).length + s > i ? n.push({ type: e[r].type, value: o.substring(0, i - s) }) : n.push(e[r]), s += o.length, r += 1 } }(r, o, s)) }), t.end.row, this.session.getLine(t.end.row).length), n }, this.$useLineGroups = function () { return this.session.getUseWrapMode() }, this.destroy = function () { } }).call(n.prototype), t.Text = n })), ace.define("ace/layer/cursor", ["require", "exports", "module", "ace/lib/dom"], (function (e, t, i) { "use strict"; function n(e) { this.element = r.createElement("div"), this.element.className = "ace_layer ace_cursor-layer", e.appendChild(this.element), this.isVisible = !1, this.isBlinking = !0, this.blinkInterval = 1e3, this.smoothBlinking = !1, this.cursors = [], this.cursor = this.addCursor(), r.addCssClass(this.element, "ace_hidden-cursors"), this.$updateCursors = this.$updateOpacity.bind(this) } var r = e("../lib/dom"); (function () { this.$updateOpacity = function (e) { for (var t = this.cursors, i = t.length; i--;)r.setStyle(t[i].style, "opacity", e ? "" : "0") }, this.$startCssAnimation = function () { for (var e = this.cursors, t = e.length; t--;)e[t].style.animationDuration = this.blinkInterval + "ms"; setTimeout(function () { r.addCssClass(this.element, "ace_animate-blinking") }.bind(this)) }, this.$stopCssAnimation = function () { r.removeCssClass(this.element, "ace_animate-blinking") }, this.$padding = 0, this.setPadding = function (e) { this.$padding = e }, this.setSession = function (e) { this.session = e }, this.setBlinking = function (e) { e != this.isBlinking && (this.isBlinking = e, this.restartTimer()) }, this.setBlinkInterval = function (e) { e != this.blinkInterval && (this.blinkInterval = e, this.restartTimer()) }, this.setSmoothBlinking = function (e) { e != this.smoothBlinking && (this.smoothBlinking = e, r.setCssClass(this.element, "ace_smooth-blinking", e), this.$updateCursors(!0), this.restartTimer()) }, this.addCursor = function () { var e = r.createElement("div"); return e.className = "ace_cursor", this.element.appendChild(e), this.cursors.push(e), e }, this.removeCursor = function () { if (1 < this.cursors.length) { var e = this.cursors.pop(); return e.parentNode.removeChild(e), e } }, this.hideCursor = function () { this.isVisible = !1, r.addCssClass(this.element, "ace_hidden-cursors"), this.restartTimer() }, this.showCursor = function () { this.isVisible = !0, r.removeCssClass(this.element, "ace_hidden-cursors"), this.restartTimer() }, this.restartTimer = function () { var e = this.$updateCursors; if (clearInterval(this.intervalId), clearTimeout(this.timeoutId), this.$stopCssAnimation(), this.smoothBlinking && r.removeCssClass(this.element, "ace_smooth-blinking"), e(!0), this.isBlinking && this.blinkInterval && this.isVisible) if (this.smoothBlinking && setTimeout(function () { r.addCssClass(this.element, "ace_smooth-blinking") }.bind(this)), r.HAS_CSS_ANIMATION) this.$startCssAnimation(); else { var t = function () { this.timeoutId = setTimeout((function () { e(!1) }), .6 * this.blinkInterval) }.bind(this); this.intervalId = setInterval((function () { e(!0), t() }), this.blinkInterval), t() } else this.$stopCssAnimation() }, this.getPixelPosition = function (e, t) { if (!this.config || !this.session) return { left: 0, top: 0 }; e = e || this.session.selection.getCursor(); var i = this.session.documentToScreenPosition(e); return { left: this.$padding + (this.session.$bidiHandler.isBidiRow(i.row, e.row) ? this.session.$bidiHandler.getPosLeft(i.column) : i.column * this.config.characterWidth), top: (i.row - (t ? this.config.firstRowScreen : 0)) * this.config.lineHeight } }, this.isCursorInView = function (e, t) { return 0 <= e.top && e.top < t.maxHeight }, this.update = function (e) { this.config = e; var t = this.session.$selectionMarkers, i = 0, n = 0; void 0 !== t && 0 !== t.length || (t = [{ cursor: null }]), i = 0; for (var s = t.length; i < s; i++) { var o = this.getPixelPosition(t[i].cursor, !0); if (!((o.top > e.height + e.offset || o.top < 0) && 1 < i)) { var a = this.cursors[n++] || this.addCursor(), l = a.style; this.drawCursor ? this.drawCursor(a, o, e, t[i], this.session) : this.isCursorInView(o, e) ? (r.setStyle(l, "display", "block"), r.translate(a, o.left, o.top), r.setStyle(l, "width", Math.round(e.characterWidth) + "px"), r.setStyle(l, "height", e.lineHeight + "px")) : r.setStyle(l, "display", "none") } } for (; this.cursors.length > n;)this.removeCursor(); var c = this.session.getOverwrite(); this.$setOverwrite(c), this.$pixelPos = o, this.restartTimer() }, this.drawCursor = null, this.$setOverwrite = function (e) { e != this.overwrite && ((this.overwrite = e) ? r.addCssClass(this.element, "ace_overwrite-cursors") : r.removeCssClass(this.element, "ace_overwrite-cursors")) }, this.destroy = function () { clearInterval(this.intervalId), clearTimeout(this.timeoutId) } }).call(n.prototype), t.Cursor = n })), ace.define("ace/scrollbar", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter"], (function (e, t, i) { "use strict"; function n(e) { this.element = s.createElement("div"), this.element.className = "ace_scrollbar ace_scrollbar" + this.classSuffix, this.inner = s.createElement("div"), this.inner.className = "ace_scrollbar-inner", this.inner.textContent = " ", this.element.appendChild(this.inner), e.appendChild(this.element), this.setVisible(!1), this.skipEvent = !1, o.addListener(this.element, "scroll", this.onScroll.bind(this)), o.addListener(this.element, "mousedown", o.preventDefault) } var r = e("./lib/oop"), s = e("./lib/dom"), o = e("./lib/event"), a = e("./lib/event_emitter").EventEmitter; function l(e, t) { n.call(this, e), this.scrollTop = 0, this.scrollHeight = 0, t.$scrollbarWidth = this.width = s.scrollbarWidth(e.ownerDocument), this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + "px", this.$minWidth = 0 } function c(e, t) { n.call(this, e), this.scrollLeft = 0, this.height = t.$scrollbarWidth, this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + "px" } (function () { r.implement(this, a), this.setVisible = function (e) { this.element.style.display = e ? "" : "none", this.isVisible = e, this.coeff = 1 } }).call(n.prototype), r.inherits(l, n), function () { this.classSuffix = "-v", this.onScroll = function () { if (!this.skipEvent) { if (this.scrollTop = this.element.scrollTop, 1 != this.coeff) { var e = this.element.clientHeight / this.scrollHeight; this.scrollTop = this.scrollTop * (1 - e) / (this.coeff - e) } this._emit("scroll", { data: this.scrollTop }) } this.skipEvent = !1 }, this.getWidth = function () { return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0) }, this.setHeight = function (e) { this.element.style.height = e + "px" }, this.setInnerHeight = this.setScrollHeight = function (e) { 32768 < (this.scrollHeight = e) ? (this.coeff = 32768 / e, e = 32768) : 1 != this.coeff && (this.coeff = 1), this.inner.style.height = e + "px" }, this.setScrollTop = function (e) { this.scrollTop != e && (this.skipEvent = !0, this.scrollTop = e, this.element.scrollTop = e * this.coeff) } }.call(l.prototype), r.inherits(c, n), function () { this.classSuffix = "-h", this.onScroll = function () { this.skipEvent || (this.scrollLeft = this.element.scrollLeft, this._emit("scroll", { data: this.scrollLeft })), this.skipEvent = !1 }, this.getHeight = function () { return this.isVisible ? this.height : 0 }, this.setWidth = function (e) { this.element.style.width = e + "px" }, this.setInnerWidth = function (e) { this.inner.style.width = e + "px" }, this.setScrollWidth = function (e) { this.inner.style.width = e + "px" }, this.setScrollLeft = function (e) { this.scrollLeft != e && (this.skipEvent = !0, this.scrollLeft = this.element.scrollLeft = e) } }.call(c.prototype), t.ScrollBar = l, t.ScrollBarV = l, t.ScrollBarH = c, t.VScrollBar = l, t.HScrollBar = c })), ace.define("ace/renderloop", ["require", "exports", "module", "ace/lib/event"], (function (e, t, i) { "use strict"; function n(e, t) { this.onRender = e, this.pending = !1, this.changes = 0, this.$recursionLimit = 2, this.window = t || window; var i = this; this._flush = function (e) { i.pending = !1; var t = i.changes; if (t && (r.blockIdle(100), i.changes = 0, i.onRender(t)), i.changes) { if (i.$recursionLimit-- < 0) return; i.schedule() } else i.$recursionLimit = 2 } } var r = e("./lib/event"); (function () { this.schedule = function (e) { this.changes = this.changes | e, this.changes && !this.pending && (r.nextFrame(this._flush), this.pending = !0) }, this.clear = function (e) { var t = this.changes; return this.changes = 0, t } }).call(n.prototype), t.RenderLoop = n })), ace.define("ace/layer/font_metrics", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/event", "ace/lib/useragent", "ace/lib/event_emitter"], (function (e, t, i) { var n = e("../lib/oop"), r = e("../lib/dom"), s = e("../lib/lang"), o = e("../lib/event"), a = e("../lib/useragent"), l = e("../lib/event_emitter").EventEmitter, c = "function" == typeof ResizeObserver, h = t.FontMetrics = function (e) { this.el = r.createElement("div"), this.$setMeasureNodeStyles(this.el.style, !0), this.$main = r.createElement("div"), this.$setMeasureNodeStyles(this.$main.style), this.$measureNode = r.createElement("div"), this.$setMeasureNodeStyles(this.$measureNode.style), this.el.appendChild(this.$main), this.el.appendChild(this.$measureNode), e.appendChild(this.el), this.$measureNode.innerHTML = s.stringRepeat("X", 256), this.$characterSize = { width: 0, height: 0 }, c ? this.$addObserver() : this.checkForSizeChanges() }; (function () { n.implement(this, l), this.$characterSize = { width: 0, height: 0 }, this.$setMeasureNodeStyles = function (e, t) { e.width = e.height = "auto", e.left = e.top = "0px", e.visibility = "hidden", e.position = "absolute", e.whiteSpace = "pre", a.isIE < 8 ? e["font-family"] = "inherit" : e.font = "inherit", e.overflow = t ? "hidden" : "visible" }, this.checkForSizeChanges = function (e) { if (void 0 === e && (e = this.$measureSizes()), e && (this.$characterSize.width !== e.width || this.$characterSize.height !== e.height)) { this.$measureNode.style.fontWeight = "bold"; var t = this.$measureSizes(); this.$measureNode.style.fontWeight = "", this.$characterSize = e, this.charSizes = Object.create(null), this.allowBoldFonts = t && t.width === e.width && t.height === e.height, this._emit("changeCharacterSize", { data: e }) } }, this.$addObserver = function () { var e = this; this.$observer = new window.ResizeObserver((function (t) { var i = t[0].contentRect; e.checkForSizeChanges({ height: i.height, width: i.width / 256 }) })), this.$observer.observe(this.$measureNode) }, this.$pollSizeChanges = function () { if (this.$pollSizeChangesTimer || this.$observer) return this.$pollSizeChangesTimer; var e = this; return this.$pollSizeChangesTimer = o.onIdle((function t() { e.checkForSizeChanges(), o.onIdle(t, 500) }), 500) }, this.setPolling = function (e) { e ? this.$pollSizeChanges() : this.$pollSizeChangesTimer && (clearInterval(this.$pollSizeChangesTimer), this.$pollSizeChangesTimer = 0) }, this.$measureSizes = function (e) { var t = { height: (e || this.$measureNode).clientHeight, width: (e || this.$measureNode).clientWidth / 256 }; return 0 === t.width || 0 === t.height ? null : t }, this.$measureCharWidth = function (e) { return this.$main.innerHTML = s.stringRepeat(e, 256), this.$main.getBoundingClientRect().width / 256 }, this.getCharacterWidth = function (e) { var t = this.charSizes[e]; return void 0 === t && (t = this.charSizes[e] = this.$measureCharWidth(e) / this.$characterSize.width), t }, this.destroy = function () { clearInterval(this.$pollSizeChangesTimer), this.$observer && this.$observer.disconnect(), this.el && this.el.parentNode && this.el.parentNode.removeChild(this.el) }, this.$getZoom = function e(t) { return t ? (window.getComputedStyle(t).zoom || 1) * e(t.parentElement) : 1 }, this.$initTransformMeasureNodes = function () { function e(e, t) { return ["div", { style: "position: absolute;top:" + e + "px;left:" + t + "px;" }] } this.els = r.buildDom([e(0, 0), e(200, 0), e(0, 200), e(200, 200)], this.el) }, this.transformCoordinates = function (e, t) { function i(e, t, i) { var n = e[1] * t[0] - e[0] * t[1]; return [(-t[1] * i[0] + t[0] * i[1]) / n, (e[1] * i[0] - e[0] * i[1]) / n] } function n(e, t) { return [e[0] - t[0], e[1] - t[1]] } function r(e, t) { return [e[0] + t[0], e[1] + t[1]] } function s(e, t) { return [e * t[0], e * t[1]] } function o(e) { var t = e.getBoundingClientRect(); return [t.left, t.top] } e = e && s(1 / this.$getZoom(this.el), e), this.els || this.$initTransformMeasureNodes(); var a = o(this.els[0]), l = o(this.els[1]), c = o(this.els[2]), h = o(this.els[3]), d = i(n(h, l), n(h, c), n(r(l, c), r(h, a))), u = s(1 + d[0], n(l, a)), g = s(1 + d[1], n(c, a)); if (t) { var p = d[0] * t[0] / 200 + d[1] * t[1] / 200 + 1, m = r(s(t[0], u), s(t[1], g)); return r(s(1 / p / 200, m), a) } var f = n(e, a), C = i(n(u, s(d[0], f)), n(g, s(d[1], f)), f); return s(200, C) } }).call(h.prototype) })), ace.define("ace/virtual_renderer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/config", "ace/layer/gutter", "ace/layer/marker", "ace/layer/text", "ace/layer/cursor", "ace/scrollbar", "ace/scrollbar", "ace/renderloop", "ace/layer/font_metrics", "ace/lib/event_emitter", "ace/lib/useragent"], (function (e, t, i) { "use strict"; var n = e("./lib/oop"), r = e("./lib/dom"), s = e("./config"), o = e("./layer/gutter").Gutter, a = e("./layer/marker").Marker, l = e("./layer/text").Text, c = e("./layer/cursor").Cursor, h = e("./scrollbar").HScrollBar, d = e("./scrollbar").VScrollBar, u = e("./renderloop").RenderLoop, g = e("./layer/font_metrics").FontMetrics, p = e("./lib/event_emitter").EventEmitter, m = '.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}', f = e("./lib/useragent"), C = f.isIE; function I(e, t) { var i = this; this.container = e || r.createElement("div"), r.addCssClass(this.container, "ace_editor"), r.HI_DPI && r.addCssClass(this.container, "ace_hidpi"), this.setTheme(t), this.$gutter = r.createElement("div"), this.$gutter.className = "ace_gutter", this.container.appendChild(this.$gutter), this.$gutter.setAttribute("aria-hidden", !0), this.scroller = r.createElement("div"), this.scroller.className = "ace_scroller", this.container.appendChild(this.scroller), this.content = r.createElement("div"), this.content.className = "ace_content", this.scroller.appendChild(this.content), this.$gutterLayer = new o(this.$gutter), this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this)), this.$markerBack = new a(this.content); var n = this.$textLayer = new l(this.content); this.canvas = n.element, this.$markerFront = new a(this.content), this.$cursorLayer = new c(this.content), this.$horizScroll = !1, this.$vScroll = !1, this.scrollBar = this.scrollBarV = new d(this.container, this), this.scrollBarH = new h(this.container, this), this.scrollBarV.addEventListener("scroll", (function (e) { i.$scrollAnimation || i.session.setScrollTop(e.data - i.scrollMargin.top) })), this.scrollBarH.addEventListener("scroll", (function (e) { i.$scrollAnimation || i.session.setScrollLeft(e.data - i.scrollMargin.left) })), this.scrollTop = 0, this.scrollLeft = 0, this.cursorPos = { row: 0, column: 0 }, this.$fontMetrics = new g(this.container), this.$textLayer.$setFontMetrics(this.$fontMetrics), this.$textLayer.addEventListener("changeCharacterSize", (function (e) { i.updateCharacterSize(), i.onResize(!0, i.gutterWidth, i.$size.width, i.$size.height), i._signal("changeCharacterSize", e) })), this.$size = { width: 0, height: 0, scrollerHeight: 0, scrollerWidth: 0, $dirty: !0 }, this.layerConfig = { width: 1, padding: 0, firstRow: 0, firstRowScreen: 0, lastRow: 0, lineHeight: 0, characterWidth: 0, minHeight: 1, maxHeight: 1, offset: 0, height: 1, gutterOffset: 1 }, this.scrollMargin = { left: 0, right: 0, top: 0, bottom: 0, v: 0, h: 0 }, this.margin = { left: 0, right: 0, top: 0, bottom: 0, v: 0, h: 0 }, this.$keepTextAreaAtCursor = !f.isIOS, this.$loop = new u(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView), this.$loop.schedule(this.CHANGE_FULL), this.updateCharacterSize(), this.setPadding(4), s.resetOptions(this), s._signal("renderer", this) } r.importCssString(m, "ace_editor.css"), function () { this.CHANGE_CURSOR = 1, this.CHANGE_MARKER = 2, this.CHANGE_GUTTER = 4, this.CHANGE_SCROLL = 8, this.CHANGE_LINES = 16, this.CHANGE_TEXT = 32, this.CHANGE_SIZE = 64, this.CHANGE_MARKER_BACK = 128, this.CHANGE_MARKER_FRONT = 256, this.CHANGE_FULL = 512, this.CHANGE_H_SCROLL = 1024, n.implement(this, p), this.updateCharacterSize = function () { this.$textLayer.allowBoldFonts != this.$allowBoldFonts && (this.$allowBoldFonts = this.$textLayer.allowBoldFonts, this.setStyle("ace_nobold", !this.$allowBoldFonts)), this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth(), this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight(), this.$updatePrintMargin(), r.setStyle(this.scroller.style, "line-height", this.lineHeight + "px") }, this.setSession = function (e) { this.session && this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode), (this.session = e) && this.scrollMargin.top && e.getScrollTop() <= 0 && e.setScrollTop(-this.scrollMargin.top), this.$cursorLayer.setSession(e), this.$markerBack.setSession(e), this.$markerFront.setSession(e), this.$gutterLayer.setSession(e), this.$textLayer.setSession(e), e && (this.$loop.schedule(this.CHANGE_FULL), this.session.$setFontMetrics(this.$fontMetrics), this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null, this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this), this.onChangeNewLineMode(), this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode)) }, this.updateLines = function (e, t, i) { if (void 0 === t && (t = 1 / 0), this.$changedLines ? (this.$changedLines.firstRow > e && (this.$changedLines.firstRow = e), this.$changedLines.lastRow < t && (this.$changedLines.lastRow = t)) : this.$changedLines = { firstRow: e, lastRow: t }, this.$changedLines.lastRow < this.layerConfig.firstRow) { if (!i) return; this.$changedLines.lastRow = this.layerConfig.lastRow } this.$changedLines.firstRow > this.layerConfig.lastRow || this.$loop.schedule(this.CHANGE_LINES) }, this.onChangeNewLineMode = function () { this.$loop.schedule(this.CHANGE_TEXT), this.$textLayer.$updateEolChar(), this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR) }, this.onChangeTabSize = function () { this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER), this.$textLayer.onChangeTabSize() }, this.updateText = function () { this.$loop.schedule(this.CHANGE_TEXT) }, this.updateFull = function (e) { e ? this.$renderChanges(this.CHANGE_FULL, !0) : this.$loop.schedule(this.CHANGE_FULL) }, this.updateFontSize = function () { this.$textLayer.checkForSizeChanges() }, this.$changes = 0, this.$updateSizeAsync = function () { this.$loop.pending ? this.$size.$dirty = !0 : this.onResize() }, this.onResize = function (e, t, i, n) { if (!(2 < this.resizing)) { 0 < this.resizing ? this.resizing++ : this.resizing = e ? 1 : 0; var r = this.container; n = n || r.clientHeight || r.scrollHeight, i = i || r.clientWidth || r.scrollWidth; var s = this.$updateCachedSize(e, t, i, n); if (!this.$size.scrollerHeight || !i && !n) return this.resizing = 0; e && (this.$gutterLayer.$padding = null), e ? this.$renderChanges(s | this.$changes, !0) : this.$loop.schedule(s | this.$changes), this.resizing && (this.resizing = 0), this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null } }, this.$updateCachedSize = function (e, t, i, n) { n -= this.$extraHeight || 0; var s = 0, o = this.$size, a = { width: o.width, height: o.height, scrollerHeight: o.scrollerHeight, scrollerWidth: o.scrollerWidth }; if (n && (e || o.height != n) && (o.height = n, s |= this.CHANGE_SIZE, o.scrollerHeight = o.height, this.$horizScroll && (o.scrollerHeight -= this.scrollBarH.getHeight()), this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px", s |= this.CHANGE_SCROLL), i && (e || o.width != i)) { s |= this.CHANGE_SIZE, o.width = i, null == t && (t = this.$showGutter ? this.$gutter.offsetWidth : 0), this.gutterWidth = t, r.setStyle(this.scrollBarH.element.style, "left", t + "px"), r.setStyle(this.scroller.style, "left", t + this.margin.left + "px"), o.scrollerWidth = Math.max(0, i - t - this.scrollBarV.getWidth() - this.margin.h), r.setStyle(this.$gutter.style, "left", this.margin.left + "px"); var l = this.scrollBarV.getWidth() + "px"; r.setStyle(this.scrollBarH.element.style, "right", l), r.setStyle(this.scroller.style, "right", l), r.setStyle(this.scroller.style, "bottom", this.scrollBarH.getHeight()), (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || e) && (s |= this.CHANGE_FULL) } return o.$dirty = !i || !n, s && this._signal("resize", a), s }, this.onGutterResize = function (e) { var t = this.$showGutter ? e : 0; t != this.gutterWidth && (this.$changes |= this.$updateCachedSize(!0, t, this.$size.width, this.$size.height)), this.session.getUseWrapMode() && this.adjustWrapLimit() || this.$size.$dirty ? this.$loop.schedule(this.CHANGE_FULL) : this.$computeLayerConfig() }, this.adjustWrapLimit = function () { var e = this.$size.scrollerWidth - 2 * this.$padding, t = Math.floor(e / this.characterWidth); return this.session.adjustWrapLimit(t, this.$showPrintMargin && this.$printMarginColumn) }, this.setAnimatedScroll = function (e) { this.setOption("animatedScroll", e) }, this.getAnimatedScroll = function () { return this.$animatedScroll }, this.setShowInvisibles = function (e) { this.setOption("showInvisibles", e), this.session.$bidiHandler.setShowInvisibles(e) }, this.getShowInvisibles = function () { return this.getOption("showInvisibles") }, this.getDisplayIndentGuides = function () { return this.getOption("displayIndentGuides") }, this.setDisplayIndentGuides = function (e) { this.setOption("displayIndentGuides", e) }, this.setShowPrintMargin = function (e) { this.setOption("showPrintMargin", e) }, this.getShowPrintMargin = function () { return this.getOption("showPrintMargin") }, this.setPrintMarginColumn = function (e) { this.setOption("printMarginColumn", e) }, this.getPrintMarginColumn = function () { return this.getOption("printMarginColumn") }, this.getShowGutter = function () { return this.getOption("showGutter") }, this.setShowGutter = function (e) { return this.setOption("showGutter", e) }, this.getFadeFoldWidgets = function () { return this.getOption("fadeFoldWidgets") }, this.setFadeFoldWidgets = function (e) { this.setOption("fadeFoldWidgets", e) }, this.setHighlightGutterLine = function (e) { this.setOption("highlightGutterLine", e) }, this.getHighlightGutterLine = function () { return this.getOption("highlightGutterLine") }, this.$updatePrintMargin = function () { if (this.$showPrintMargin || this.$printMarginEl) { if (!this.$printMarginEl) { var e = r.createElement("div"); e.className = "ace_layer ace_print-margin-layer", this.$printMarginEl = r.createElement("div"), this.$printMarginEl.className = "ace_print-margin", e.appendChild(this.$printMarginEl), this.content.insertBefore(e, this.content.firstChild) } var t = this.$printMarginEl.style; t.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + "px", t.visibility = this.$showPrintMargin ? "visible" : "hidden", this.session && -1 == this.session.$wrap && this.adjustWrapLimit() } }, this.getContainerElement = function () { return this.container }, this.getMouseEventTarget = function () { return this.scroller }, this.getTextAreaContainer = function () { return this.container }, this.$moveTextAreaToCursor = function () { if (!this.$isMousePressed) { var e = this.textarea.style, t = this.$composition; if (this.$keepTextAreaAtCursor || t) { var i = this.$cursorLayer.$pixelPos; if (i) { t && t.markerRange && (i = this.$cursorLayer.getPixelPosition(t.markerRange.start, !0)); var n = this.layerConfig, s = i.top, o = i.left; s -= n.offset; var a = t && t.useTextareaForIME ? this.lineHeight : C ? 0 : 1; if (s < 0 || s > n.height - a) r.translate(this.textarea, 0, 0); else { var l = 1, c = this.$size.height - a; if (t) if (t.useTextareaForIME) { var h = this.textarea.value; l = this.characterWidth * this.session.$getStringScreenWidth(h)[0] } else s += this.lineHeight + 2; else s += this.lineHeight; (o -= this.scrollLeft) > this.$size.scrollerWidth - l && (o = this.$size.scrollerWidth - l), o += this.gutterWidth + this.margin.left, r.setStyle(e, "height", a + "px"), r.setStyle(e, "width", l + "px"), r.translate(this.textarea, Math.min(o, this.$size.scrollerWidth - l), Math.min(s, c)) } } } else r.translate(this.textarea, -100, 0) } }, this.getFirstVisibleRow = function () { return this.layerConfig.firstRow }, this.getFirstFullyVisibleRow = function () { return this.layerConfig.firstRow + (0 === this.layerConfig.offset ? 0 : 1) }, this.getLastFullyVisibleRow = function () { var e = this.layerConfig, t = e.lastRow; return this.session.documentToScreenRow(t, 0) * e.lineHeight - this.session.getScrollTop() > e.height - e.lineHeight ? t - 1 : t }, this.getLastVisibleRow = function () { return this.layerConfig.lastRow }, this.$padding = null, this.setPadding = function (e) { this.$padding = e, this.$textLayer.setPadding(e), this.$cursorLayer.setPadding(e), this.$markerFront.setPadding(e), this.$markerBack.setPadding(e), this.$loop.schedule(this.CHANGE_FULL), this.$updatePrintMargin() }, this.setScrollMargin = function (e, t, i, n) { var r = this.scrollMargin; r.top = 0 | e, r.bottom = 0 | t, r.right = 0 | n, r.left = 0 | i, r.v = r.top + r.bottom, r.h = r.left + r.right, r.top && this.scrollTop <= 0 && this.session && this.session.setScrollTop(-r.top), this.updateFull() }, this.setMargin = function (e, t, i, n) { var r = this.margin; r.top = 0 | e, r.bottom = 0 | t, r.right = 0 | n, r.left = 0 | i, r.v = r.top + r.bottom, r.h = r.left + r.right, this.$updateCachedSize(!0, this.gutterWidth, this.$size.width, this.$size.height), this.updateFull() }, this.getHScrollBarAlwaysVisible = function () { return this.$hScrollBarAlwaysVisible }, this.setHScrollBarAlwaysVisible = function (e) { this.setOption("hScrollBarAlwaysVisible", e) }, this.getVScrollBarAlwaysVisible = function () { return this.$vScrollBarAlwaysVisible }, this.setVScrollBarAlwaysVisible = function (e) { this.setOption("vScrollBarAlwaysVisible", e) }, this.$updateScrollBarV = function () { var e = this.layerConfig.maxHeight, t = this.$size.scrollerHeight; !this.$maxLines && this.$scrollPastEnd && (e -= (t - this.lineHeight) * this.$scrollPastEnd, this.scrollTop > e - t && (e = this.scrollTop + t, this.scrollBarV.scrollTop = null)), this.scrollBarV.setScrollHeight(e + this.scrollMargin.v), this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top) }, this.$updateScrollBarH = function () { this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h), this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left) }, this.$frozen = !1, this.freeze = function () { this.$frozen = !0 }, this.unfreeze = function () { this.$frozen = !1 }, this.$renderChanges = function (e, t) { if (this.$changes && (e |= this.$changes, this.$changes = 0), this.session && this.container.offsetWidth && !this.$frozen && (e || t)) { if (this.$size.$dirty) return this.$changes |= e, this.onResize(!0); this.lineHeight || this.$textLayer.checkForSizeChanges(), this._signal("beforeRender", e), this.session && this.session.$bidiHandler && this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics); var i = this.layerConfig; if (e & this.CHANGE_FULL || e & this.CHANGE_SIZE || e & this.CHANGE_TEXT || e & this.CHANGE_LINES || e & this.CHANGE_SCROLL || e & this.CHANGE_H_SCROLL) { if (e |= this.$computeLayerConfig() | this.$loop.clear(), i.firstRow != this.layerConfig.firstRow && i.firstRowScreen == this.layerConfig.firstRowScreen) { var n = this.scrollTop + (i.firstRow - this.layerConfig.firstRow) * this.lineHeight; 0 < n && (this.scrollTop = n, e |= this.CHANGE_SCROLL, e |= this.$computeLayerConfig() | this.$loop.clear()) } i = this.layerConfig, this.$updateScrollBarV(), e & this.CHANGE_H_SCROLL && this.$updateScrollBarH(), r.translate(this.content, -this.scrollLeft, -i.offset); var s = i.width + 2 * this.$padding + "px", o = i.minHeight + "px"; r.setStyle(this.content.style, "width", s), r.setStyle(this.content.style, "height", o) } if (e & this.CHANGE_H_SCROLL && (r.translate(this.content, -this.scrollLeft, -i.offset), this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller" : "ace_scroller ace_scroll-left"), e & this.CHANGE_FULL) return this.$changedLines = null, this.$textLayer.update(i), this.$showGutter && this.$gutterLayer.update(i), this.$markerBack.update(i), this.$markerFront.update(i), this.$cursorLayer.update(i), this.$moveTextAreaToCursor(), void this._signal("afterRender", e); if (e & this.CHANGE_SCROLL) return this.$changedLines = null, e & this.CHANGE_TEXT || e & this.CHANGE_LINES ? this.$textLayer.update(i) : this.$textLayer.scrollLines(i), this.$showGutter && (e & this.CHANGE_GUTTER || e & this.CHANGE_LINES ? this.$gutterLayer.update(i) : this.$gutterLayer.scrollLines(i)), this.$markerBack.update(i), this.$markerFront.update(i), this.$cursorLayer.update(i), this.$moveTextAreaToCursor(), void this._signal("afterRender", e); e & this.CHANGE_TEXT ? (this.$changedLines = null, this.$textLayer.update(i), this.$showGutter && this.$gutterLayer.update(i)) : e & this.CHANGE_LINES ? (this.$updateLines() || e & this.CHANGE_GUTTER && this.$showGutter) && this.$gutterLayer.update(i) : e & this.CHANGE_TEXT || e & this.CHANGE_GUTTER ? this.$showGutter && this.$gutterLayer.update(i) : e & this.CHANGE_CURSOR && this.$highlightGutterLine && this.$gutterLayer.updateLineHighlight(i), e & this.CHANGE_CURSOR && (this.$cursorLayer.update(i), this.$moveTextAreaToCursor()), e & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT) && this.$markerFront.update(i), e & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK) && this.$markerBack.update(i), this._signal("afterRender", e) } else this.$changes |= e }, this.$autosize = function () { var e = this.session.getScreenLength() * this.lineHeight, t = this.$maxLines * this.lineHeight, i = Math.min(t, Math.max((this.$minLines || 1) * this.lineHeight, e)) + this.scrollMargin.v + (this.$extraHeight || 0); this.$horizScroll && (i += this.scrollBarH.getHeight()), this.$maxPixelHeight && i > this.$maxPixelHeight && (i = this.$maxPixelHeight); var n = !(i <= 2 * this.lineHeight) && t < e; if (i != this.desiredHeight || this.$size.height != this.desiredHeight || n != this.$vScroll) { n != this.$vScroll && (this.$vScroll = n, this.scrollBarV.setVisible(n)); var r = this.container.clientWidth; this.container.style.height = i + "px", this.$updateCachedSize(!0, this.$gutterWidth, r, i), this.desiredHeight = i, this._signal("autosize") } }, this.$computeLayerConfig = function () { var e = this.session, t = this.$size, i = t.height <= 2 * this.lineHeight, n = this.session.getScreenLength() * this.lineHeight, r = this.$getLongestLine(), s = !i && (this.$hScrollBarAlwaysVisible || t.scrollerWidth - r - 2 * this.$padding < 0), o = this.$horizScroll !== s; o && (this.$horizScroll = s, this.scrollBarH.setVisible(s)); var a = this.$vScroll; this.$maxLines && 1 < this.lineHeight && this.$autosize(); var l = t.scrollerHeight + this.lineHeight, c = !this.$maxLines && this.$scrollPastEnd ? (t.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0; n += c; var h = this.scrollMargin; this.session.setScrollTop(Math.max(-h.top, Math.min(this.scrollTop, n - t.scrollerHeight + h.bottom))), this.session.setScrollLeft(Math.max(-h.left, Math.min(this.scrollLeft, r + 2 * this.$padding - t.scrollerWidth + h.right))); var d = !i && (this.$vScrollBarAlwaysVisible || t.scrollerHeight - n + c < 0 || this.scrollTop > h.top), u = a !== d; u && (this.$vScroll = d, this.scrollBarV.setVisible(d)); var g, p, m = this.scrollTop % this.lineHeight, f = Math.ceil(l / this.lineHeight) - 1, C = Math.max(0, Math.round((this.scrollTop - m) / this.lineHeight)), I = C + f, A = this.lineHeight; C = e.screenToDocumentRow(C, 0); var v = e.getFoldLine(C); v && (C = v.start.row), g = e.documentToScreenRow(C, 0), p = e.getRowLength(C) * A, I = Math.min(e.screenToDocumentRow(I, 0), e.getLength() - 1), l = t.scrollerHeight + e.getRowLength(I) * A + p, m = this.scrollTop - g * A; var b = 0; return this.layerConfig.width == r && !o || (b = this.CHANGE_H_SCROLL), (o || u) && (b |= this.$updateCachedSize(!0, this.gutterWidth, t.width, t.height), this._signal("scrollbarVisibilityChanged"), u && (r = this.$getLongestLine())), this.layerConfig = { width: r, padding: this.$padding, firstRow: C, firstRowScreen: g, lastRow: I, lineHeight: A, characterWidth: this.characterWidth, minHeight: l, maxHeight: n, offset: m, gutterOffset: A ? Math.max(0, Math.ceil((m + t.height - t.scrollerHeight) / A)) : 0, height: this.$size.scrollerHeight }, this.session.$bidiHandler && this.session.$bidiHandler.setContentWidth(r - this.$padding), b }, this.$updateLines = function () { if (this.$changedLines) { var e = this.$changedLines.firstRow, t = this.$changedLines.lastRow; this.$changedLines = null; var i = this.layerConfig; if (!(e > i.lastRow + 1 || t < i.firstRow)) return t === 1 / 0 ? (this.$showGutter && this.$gutterLayer.update(i), void this.$textLayer.update(i)) : (this.$textLayer.updateLines(i, e, t), !0) } }, this.$getLongestLine = function () { var e = this.session.getScreenWidth(); return this.showInvisibles && !this.session.$useWrapMode && (e += 1), this.$textLayer && e > this.$textLayer.MAX_LINE_LENGTH && (e = this.$textLayer.MAX_LINE_LENGTH + 30), Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(e * this.characterWidth)) }, this.updateFrontMarkers = function () { this.$markerFront.setMarkers(this.session.getMarkers(!0)), this.$loop.schedule(this.CHANGE_MARKER_FRONT) }, this.updateBackMarkers = function () { this.$markerBack.setMarkers(this.session.getMarkers()), this.$loop.schedule(this.CHANGE_MARKER_BACK) }, this.addGutterDecoration = function (e, t) { this.$gutterLayer.addGutterDecoration(e, t) }, this.removeGutterDecoration = function (e, t) { this.$gutterLayer.removeGutterDecoration(e, t) }, this.updateBreakpoints = function (e) { this.$loop.schedule(this.CHANGE_GUTTER) }, this.setAnnotations = function (e) { this.$gutterLayer.setAnnotations(e), this.$loop.schedule(this.CHANGE_GUTTER) }, this.updateCursor = function () { this.$loop.schedule(this.CHANGE_CURSOR) }, this.hideCursor = function () { this.$cursorLayer.hideCursor() }, this.showCursor = function () { this.$cursorLayer.showCursor() }, this.scrollSelectionIntoView = function (e, t, i) { this.scrollCursorIntoView(e, i), this.scrollCursorIntoView(t, i) }, this.scrollCursorIntoView = function (e, t, i) { if (0 !== this.$size.scrollerHeight) { var n = this.$cursorLayer.getPixelPosition(e), r = n.left, s = n.top, o = i && i.top || 0, a = i && i.bottom || 0, l = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop; s < l + o ? (t && l + o > s + this.lineHeight && (s -= t * this.$size.scrollerHeight), 0 === s && (s = -this.scrollMargin.top), this.session.setScrollTop(s)) : l + this.$size.scrollerHeight - a < s + this.lineHeight && (t && l + this.$size.scrollerHeight - a < s - this.lineHeight && (s += t * this.$size.scrollerHeight), this.session.setScrollTop(s + this.lineHeight + a - this.$size.scrollerHeight)); var c = this.scrollLeft; r < c ? (r < this.$padding + 2 * this.layerConfig.characterWidth && (r = -this.scrollMargin.left), this.session.setScrollLeft(r)) : c + this.$size.scrollerWidth < r + this.characterWidth ? this.session.setScrollLeft(Math.round(r + this.characterWidth - this.$size.scrollerWidth)) : c <= this.$padding && r - c < this.characterWidth && this.session.setScrollLeft(0) } }, this.getScrollTop = function () { return this.session.getScrollTop() }, this.getScrollLeft = function () { return this.session.getScrollLeft() }, this.getScrollTopRow = function () { return this.scrollTop / this.lineHeight }, this.getScrollBottomRow = function () { return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1) }, this.scrollToRow = function (e) { this.session.setScrollTop(e * this.lineHeight) }, this.alignCursor = function (e, t) { "number" == typeof e && (e = { row: e, column: 0 }); var i = this.$cursorLayer.getPixelPosition(e), n = this.$size.scrollerHeight - this.lineHeight, r = i.top - n * (t || 0); return this.session.setScrollTop(r), r }, this.STEPS = 8, this.$calcSteps = function (e, t) { var i, n, r = 0, s = this.STEPS, o = []; for (r = 0; r < s; ++r)o.push((i = r / this.STEPS, (t - (n = e)) * (Math.pow(i - 1, 3) + 1) + n)); return o }, this.scrollToLine = function (e, t, i, n) { var r = this.$cursorLayer.getPixelPosition({ row: e, column: 0 }).top; t && (r -= this.$size.scrollerHeight / 2); var s = this.scrollTop; this.session.setScrollTop(r), !1 !== i && this.animateScrolling(s, n) }, this.animateScrolling = function (e, t) { var i = this.scrollTop; if (this.$animatedScroll) { var n = this; if (e != i) { if (this.$scrollAnimation) { var r = this.$scrollAnimation.steps; if (r.length && (e = r[0]) == i) return } var s = n.$calcSteps(e, i); this.$scrollAnimation = { from: e, to: i, steps: s }, clearInterval(this.$timer), n.session.setScrollTop(s.shift()), n.session.$scrollTop = i, this.$timer = setInterval((function () { s.length ? (n.session.setScrollTop(s.shift()), n.session.$scrollTop = i) : null != i ? (n.session.$scrollTop = -1, n.session.setScrollTop(i), i = null) : (n.$timer = clearInterval(n.$timer), n.$scrollAnimation = null, t && t()) }), 10) } } }, this.scrollToY = function (e) { this.scrollTop !== e && (this.$loop.schedule(this.CHANGE_SCROLL), this.scrollTop = e) }, this.scrollToX = function (e) { this.scrollLeft !== e && (this.scrollLeft = e), this.$loop.schedule(this.CHANGE_H_SCROLL) }, this.scrollTo = function (e, t) { this.session.setScrollTop(t), this.session.setScrollLeft(t) }, this.scrollBy = function (e, t) { t && this.session.setScrollTop(this.session.getScrollTop() + t), e && this.session.setScrollLeft(this.session.getScrollLeft() + e) }, this.isScrollableBy = function (e, t) { return t < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top || 0 < t && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom || e < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left || 0 < e && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right || void 0 }, this.pixelToScreenCoordinates = function (e, t) { var i; if (this.$hasCssTransforms) { i = { top: 0, left: 0 }; var n = this.$fontMetrics.transformCoordinates([e, t]); e = n[1] - this.gutterWidth - this.margin.left, t = n[0] } else i = this.scroller.getBoundingClientRect(); var r = e + this.scrollLeft - i.left - this.$padding, s = r / this.characterWidth, o = Math.floor((t + this.scrollTop - i.top) / this.lineHeight), a = this.$blockCursor ? Math.floor(s) : Math.round(s); return { row: o, column: a, side: 0 < s - a ? 1 : -1, offsetX: r } }, this.screenToTextCoordinates = function (e, t) { var i; if (this.$hasCssTransforms) { i = { top: 0, left: 0 }; var n = this.$fontMetrics.transformCoordinates([e, t]); e = n[1] - this.gutterWidth - this.margin.left, t = n[0] } else i = this.scroller.getBoundingClientRect(); var r = e + this.scrollLeft - i.left - this.$padding, s = r / this.characterWidth, o = this.$blockCursor ? Math.floor(s) : Math.round(s), a = Math.floor((t + this.scrollTop - i.top) / this.lineHeight); return this.session.screenToDocumentPosition(a, Math.max(o, 0), r) }, this.textToScreenCoordinates = function (e, t) { var i = this.scroller.getBoundingClientRect(), n = this.session.documentToScreenPosition(e, t), r = this.$padding + (this.session.$bidiHandler.isBidiRow(n.row, e) ? this.session.$bidiHandler.getPosLeft(n.column) : Math.round(n.column * this.characterWidth)), s = n.row * this.lineHeight; return { pageX: i.left + r - this.scrollLeft, pageY: i.top + s - this.scrollTop } }, this.visualizeFocus = function () { r.addCssClass(this.container, "ace_focus") }, this.visualizeBlur = function () { r.removeCssClass(this.container, "ace_focus") }, this.showComposition = function (e) { (this.$composition = e).cssText || (e.cssText = this.textarea.style.cssText), e.useTextareaForIME = this.$useTextareaForIME, this.$useTextareaForIME ? (r.addCssClass(this.textarea, "ace_composition"), this.textarea.style.cssText = "", this.$moveTextAreaToCursor(), this.$cursorLayer.element.style.display = "none") : e.markerId = this.session.addMarker(e.markerRange, "ace_composition_marker", "text") }, this.setCompositionText = function (e) { var t = this.session.selection.cursor; this.addToken(e, "composition_placeholder", t.row, t.column), this.$moveTextAreaToCursor() }, this.hideComposition = function () { this.$composition && (this.$composition.markerId && this.session.removeMarker(this.$composition.markerId), r.removeCssClass(this.textarea, "ace_composition"), this.textarea.style.cssText = this.$composition.cssText, this.$composition = null, this.$cursorLayer.element.style.display = "") }, this.addToken = function (e, t, i, n) { var r = this.session; r.bgTokenizer.lines[i] = null; var s = { type: t, value: e }, o = r.getTokens(i); if (null == n) o.push(s); else for (var a = 0, l = 0; l < o.length; l++) { var c = o[l]; if (n <= (a += c.value.length)) { var h = c.value.length - (a - n), d = c.value.slice(0, h), u = c.value.slice(h); o.splice(l, 1, { type: c.type, value: d }, s, { type: c.type, value: u }); break } } this.updateLines(i, i) }, this.setTheme = function (e, t) { var i = this; if (this.$themeId = e, i._dispatchEvent("themeChange", { theme: e }), e && "string" != typeof e) o(e); else { var n = e || this.$options.theme.initialValue; s.loadModule(["theme", n], o) } function o(n) { if (i.$themeId != e) return t && t(); if (!n || !n.cssClass) throw new Error("couldn't load module " + e + " or it didn't call define"); n.$id && (i.$themeId = n.$id), r.importCssString(n.cssText, n.cssClass, i.container), i.theme && r.removeCssClass(i.container, i.theme.cssClass); var s = "padding" in n ? n.padding : "padding" in (i.theme || {}) ? 4 : i.$padding; i.$padding && s != i.$padding && i.setPadding(s), i.$theme = n.cssClass, i.theme = n, r.addCssClass(i.container, n.cssClass), r.setCssClass(i.container, "ace_dark", n.isDark), i.$size && (i.$size.width = 0, i.$updateSizeAsync()), i._dispatchEvent("themeLoaded", { theme: n }), t && t() } }, this.getTheme = function () { return this.$themeId }, this.setStyle = function (e, t) { r.setCssClass(this.container, e, !1 !== t) }, this.unsetStyle = function (e) { r.removeCssClass(this.container, e) }, this.setCursorStyle = function (e) { r.setStyle(this.scroller.style, "cursor", e) }, this.setMouseCursor = function (e) { r.setStyle(this.scroller.style, "cursor", e) }, this.attachToShadowRoot = function () { r.importCssString(m, "ace_editor.css", this.container) }, this.destroy = function () { this.freeze(), this.$fontMetrics.destroy(), this.$cursorLayer.destroy() } }.call(I.prototype), s.defineOptions(I.prototype, "renderer", { animatedScroll: { initialValue: !1 }, showInvisibles: { set: function (e) { this.$textLayer.setShowInvisibles(e) && this.$loop.schedule(this.CHANGE_TEXT) }, initialValue: !1 }, showPrintMargin: { set: function () { this.$updatePrintMargin() }, initialValue: !0 }, printMarginColumn: { set: function () { this.$updatePrintMargin() }, initialValue: 80 }, printMargin: { set: function (e) { "number" == typeof e && (this.$printMarginColumn = e), this.$showPrintMargin = !!e, this.$updatePrintMargin() }, get: function () { return this.$showPrintMargin && this.$printMarginColumn } }, showGutter: { set: function (e) { this.$gutter.style.display = e ? "block" : "none", this.$loop.schedule(this.CHANGE_FULL), this.onGutterResize() }, initialValue: !0 }, fadeFoldWidgets: { set: function (e) { r.setCssClass(this.$gutter, "ace_fade-fold-widgets", e) }, initialValue: !1 }, showFoldWidgets: { set: function (e) { this.$gutterLayer.setShowFoldWidgets(e), this.$loop.schedule(this.CHANGE_GUTTER) }, initialValue: !0 }, displayIndentGuides: { set: function (e) { this.$textLayer.setDisplayIndentGuides(e) && this.$loop.schedule(this.CHANGE_TEXT) }, initialValue: !0 }, highlightGutterLine: { set: function (e) { this.$gutterLayer.setHighlightGutterLine(e), this.$loop.schedule(this.CHANGE_GUTTER) }, initialValue: !0 }, hScrollBarAlwaysVisible: { set: function (e) { this.$hScrollBarAlwaysVisible && this.$horizScroll || this.$loop.schedule(this.CHANGE_SCROLL) }, initialValue: !1 }, vScrollBarAlwaysVisible: { set: function (e) { this.$vScrollBarAlwaysVisible && this.$vScroll || this.$loop.schedule(this.CHANGE_SCROLL) }, initialValue: !1 }, fontSize: { set: function (e) { "number" == typeof e && (e += "px"), this.container.style.fontSize = e, this.updateFontSize() }, initialValue: 12 }, fontFamily: { set: function (e) { this.container.style.fontFamily = e, this.updateFontSize() } }, maxLines: { set: function (e) { this.updateFull() } }, minLines: { set: function (e) { this.$minLines < 562949953421311 || (this.$minLines = 0), this.updateFull() } }, maxPixelHeight: { set: function (e) { this.updateFull() }, initialValue: 0 }, scrollPastEnd: { set: function (e) { e = +e || 0, this.$scrollPastEnd != e && (this.$scrollPastEnd = e, this.$loop.schedule(this.CHANGE_SCROLL)) }, initialValue: 0, handlesSet: !0 }, fixedWidthGutter: { set: function (e) { this.$gutterLayer.$fixedWidth = !!e, this.$loop.schedule(this.CHANGE_GUTTER) } }, theme: { set: function (e) { this.setTheme(e) }, get: function () { return this.$themeId || this.theme }, initialValue: "./theme/textmate", handlesSet: !0 }, hasCssTransforms: {}, useTextareaForIME: { initialValue: !f.isMobile && !f.isIE } }), t.VirtualRenderer = I })), ace.define("ace/worker/worker_client", ["require", "exports", "module", "ace/lib/oop", "ace/lib/net", "ace/lib/event_emitter", "ace/config"], (function (e, t, i) { "use strict"; var n = e("../lib/oop"), r = e("../lib/net"), s = e("../lib/event_emitter").EventEmitter, o = e("../config"); function a(e) { if ("undefined" == typeof Worker) return { postMessage: function () { }, terminate: function () { } }; if (o.get("loadWorkerFromBlob")) { var t = function (e) { var t = "importScripts('" + r.qualifyURL(e) + "');"; try { return new Blob([t], { type: "application/javascript" }) } catch (e) { var i = new (window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder); return i.append(t), i.getBlob("application/javascript") } }(e), i = (window.URL || window.webkitURL).createObjectURL(t); return new Worker(i) } return new Worker(e) } function l(e) { e.postMessage || (e = this.$createWorkerFromOldConfig.apply(this, arguments)), this.$worker = e, this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this), this.changeListener = this.changeListener.bind(this), this.onMessage = this.onMessage.bind(this), this.callbackId = 1, this.callbacks = {}, this.$worker.onmessage = this.onMessage } (function () { n.implement(this, s), this.$createWorkerFromOldConfig = function (t, i, n, r, s) { if (e.nameToUrl && !e.toUrl && (e.toUrl = e.nameToUrl), o.get("packaged") || !e.toUrl) r = r || o.moduleUrl(i, "worker"); else { var l = this.$normalizePath; r = r || l(e.toUrl("ace/worker/worker.js", null, "_")); var c = {}; t.forEach((function (t) { c[t] = l(e.toUrl(t, null, "_").replace(/(\.js)?(\?.*)?$/, "")) })) } return this.$worker = a(r), s && this.send("importScripts", s), this.$worker.postMessage({ init: !0, tlns: c, module: i, classname: n }), this.$worker }, this.onMessage = function (e) { var t = e.data; switch (t.type) { case "event": this._signal(t.name, { data: t.data }); break; case "call": var i = this.callbacks[t.id]; i && (i(t.data), delete this.callbacks[t.id]); break; case "error": this.reportError(t.data); break; case "log": window.console && console.log && console.log.apply(console, t.data) } }, this.reportError = function (e) { window.console && console.error && console.error(e) }, this.$normalizePath = function (e) { return r.qualifyURL(e) }, this.terminate = function () { this._signal("terminate", {}), this.deltaQueue = null, this.$worker.terminate(), this.$worker = null, this.$doc && this.$doc.off("change", this.changeListener), this.$doc = null }, this.send = function (e, t) { this.$worker.postMessage({ command: e, args: t }) }, this.call = function (e, t, i) { if (i) { var n = this.callbackId++; this.callbacks[n] = i, t.push(n) } this.send(e, t) }, this.emit = function (e, t) { try { t.data && t.data.err && (t.data.err = { message: t.data.err.message, stack: t.data.err.stack, code: t.data.err.code }), this.$worker.postMessage({ event: e, data: { data: t.data } }) } catch (e) { console.error(e.stack) } }, this.attachToDocument = function (e) { this.$doc && this.terminate(), this.$doc = e, this.call("setValue", [e.getValue()]), e.on("change", this.changeListener) }, this.changeListener = function (e) { this.deltaQueue || (this.deltaQueue = [], setTimeout(this.$sendDeltaQueue, 0)), "insert" == e.action ? this.deltaQueue.push(e.start, e.lines) : this.deltaQueue.push(e.start, e.end) }, this.$sendDeltaQueue = function () { var e = this.deltaQueue; e && (this.deltaQueue = null, 50 < e.length && e.length > this.$doc.getLength() >> 1 ? this.call("setValue", [this.$doc.getValue()]) : this.emit("change", { data: e })) } }).call(l.prototype), t.UIWorkerClient = function (e, t, i) { var n = null, r = !1, a = Object.create(s), c = [], h = new l({ messageBuffer: c, terminate: function () { }, postMessage: function (e) { c.push(e), n && (r ? setTimeout(d) : d()) } }); h.setEmitSync = function (e) { r = e }; var d = function () { var e = c.shift(); e.command ? n[e.command].apply(n, e.args) : e.event && a._signal(e.event, e.data) }; return a.postMessage = function (e) { h.onMessage({ data: e }) }, a.callback = function (e, t) { this.postMessage({ type: "call", id: t, data: e }) }, a.emit = function (e, t) { this.postMessage({ type: "event", name: e, data: t }) }, o.loadModule(["worker", t], (function (e) { for (n = new e[i](a); c.length;)d() })), h }, t.WorkerClient = l, t.createWorker = a })), ace.define("ace/placeholder", ["require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/oop"], (function (e, t, i) { "use strict"; function n(e, t, i, n, r, s) { var o = this; this.length = t, this.session = e, this.doc = e.getDocument(), this.mainClass = r, this.othersClass = s, this.$onUpdate = this.onUpdate.bind(this), this.doc.on("change", this.$onUpdate), this.$others = n, this.$onCursorChange = function () { setTimeout((function () { o.onCursorChange() })) }, this.$pos = i; var a = e.getUndoManager().$undoStack || e.getUndoManager().$undostack || { length: -1 }; this.$undoStackDepth = a.length, this.setup(), e.selection.on("changeCursor", this.$onCursorChange) } var r = e("./range").Range, s = e("./lib/event_emitter").EventEmitter, o = e("./lib/oop"); (function () { o.implement(this, s), this.setup = function () { var e = this, t = this.doc, i = this.session; this.selectionBefore = i.selection.toJSON(), i.selection.inMultiSelectMode && i.selection.toSingleRange(), this.pos = t.createAnchor(this.$pos.row, this.$pos.column); var n = this.pos; n.$insertRight = !0, n.detach(), n.markerId = i.addMarker(new r(n.row, n.column, n.row, n.column + this.length), this.mainClass, null, !1), this.others = [], this.$others.forEach((function (i) { var n = t.createAnchor(i.row, i.column); n.$insertRight = !0, n.detach(), e.others.push(n) })), i.setUndoSelect(!1) }, this.showOtherMarkers = function () { if (!this.othersActive) { var e = this.session, t = this; this.othersActive = !0, this.others.forEach((function (i) { i.markerId = e.addMarker(new r(i.row, i.column, i.row, i.column + t.length), t.othersClass, null, !1) })) } }, this.hideOtherMarkers = function () { if (this.othersActive) { this.othersActive = !1; for (var e = 0; e < this.others.length; e++)this.session.removeMarker(this.others[e].markerId) } }, this.onUpdate = function (e) { if (this.$updating) return this.updateAnchors(e); var t = e; if (t.start.row === t.end.row && t.start.row === this.pos.row) { this.$updating = !0; var i = "insert" === e.action ? t.end.column - t.start.column : t.start.column - t.end.column, n = t.start.column >= this.pos.column && t.start.column <= this.pos.column + this.length + 1, s = t.start.column - this.pos.column; if (this.updateAnchors(e), n && (this.length += i), n && !this.session.$fromUndo) if ("insert" === e.action) for (var o = this.others.length - 1; 0 <= o; o--) { var a = { row: (l = this.others[o]).row, column: l.column + s }; this.doc.insertMergedLines(a, e.lines) } else if ("remove" === e.action) for (o = this.others.length - 1; 0 <= o; o--) { var l; a = { row: (l = this.others[o]).row, column: l.column + s }, this.doc.remove(new r(a.row, a.column, a.row, a.column - i)) } this.$updating = !1, this.updateMarkers() } }, this.updateAnchors = function (e) { this.pos.onChange(e); for (var t = this.others.length; t--;)this.others[t].onChange(e); this.updateMarkers() }, this.updateMarkers = function () { if (!this.$updating) { var e = this, t = this.session, i = function (i, n) { t.removeMarker(i.markerId), i.markerId = t.addMarker(new r(i.row, i.column, i.row, i.column + e.length), n, null, !1) }; i(this.pos, this.mainClass); for (var n = this.others.length; n--;)i(this.others[n], this.othersClass) } }, this.onCursorChange = function (e) { if (!this.$updating && this.session) { var t = this.session.selection.getCursor(); t.row === this.pos.row && t.column >= this.pos.column && t.column <= this.pos.column + this.length ? (this.showOtherMarkers(), this._emit("cursorEnter", e)) : (this.hideOtherMarkers(), this._emit("cursorLeave", e)) } }, this.detach = function () { this.session.removeMarker(this.pos && this.pos.markerId), this.hideOtherMarkers(), this.doc.removeEventListener("change", this.$onUpdate), this.session.selection.removeEventListener("changeCursor", this.$onCursorChange), this.session.setUndoSelect(!0), this.session = null }, this.cancel = function () { if (-1 !== this.$undoStackDepth) { for (var e = this.session.getUndoManager(), t = (e.$undoStack || e.$undostack).length - this.$undoStackDepth, i = 0; i < t; i++)e.undo(this.session, !0); this.selectionBefore && this.session.selection.fromJSON(this.selectionBefore) } } }).call(n.prototype), t.PlaceHolder = n })), ace.define("ace/mouse/multi_select_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], (function (e, t, i) { var n = e("../lib/event"), r = e("../lib/useragent"); function s(e, t) { return e.row == t.row && e.column == t.column } t.onMouseDown = function (e) { var t = e.domEvent, i = t.altKey, o = t.shiftKey, a = t.ctrlKey, l = e.getAccelKey(), c = e.getButton(); if (a && r.isMac && (c = t.button), e.editor.inMultiSelectMode && 2 == c) e.editor.textInput.onContextMenu(e.domEvent); else if (a || i || l) { if (0 === c) { var h, d = e.editor, u = d.selection, g = d.inMultiSelectMode, p = e.getDocumentPosition(), m = u.getCursor(), f = e.inSelection() || u.isEmpty() && s(p, m), C = e.x, I = e.y, A = d.session, v = d.renderer.pixelToScreenCoordinates(C, I), b = v; if (d.$mouseHandler.$enableJumpToDef) a && i || l && i ? h = o ? "block" : "add" : i && d.$blockSelectEnabled && (h = "block"); else if (l && !i) { if (h = "add", !g && o) return } else i && d.$blockSelectEnabled && (h = "block"); if (h && r.isMac && t.ctrlKey && d.$mouseHandler.cancelContextMenu(), "add" == h) { if (!g && f) return; if (!g) { var y = u.toOrientedRange(); d.addSelectionMarker(y) } var w = u.rangeList.rangeAtPoint(p); d.inVirtualSelectionMode = !0, o && (w = null, y = u.ranges[0] || y, d.removeSelectionMarker(y)), d.once("mouseup", (function () { var e = u.toOrientedRange(); w && e.isEmpty() && s(w.cursor, e.cursor) ? u.substractPoint(e.cursor) : (o ? u.substractPoint(y.cursor) : y && (d.removeSelectionMarker(y), u.addRange(y)), u.addRange(e)), d.inVirtualSelectionMode = !1 })) } else if ("block" == h) { var S; function x() { var e = d.renderer.pixelToScreenCoordinates(C, I), t = A.screenToDocumentPosition(e.row, e.column, e.offsetX); s(b, e) && s(t, u.lead) || (b = e, d.selection.moveToPosition(t), d.renderer.scrollCursorIntoView(), d.removeSelectionMarkers(k), k = u.rectangularRangeBlock(b, v), d.$mouseHandler.$clickSelection && 1 == k.length && k[0].isEmpty() && (k[0] = d.$mouseHandler.$clickSelection.clone()), k.forEach(d.addSelectionMarker, d), d.updateSelectionMarkers()) } e.stop(), d.inVirtualSelectionMode = !0; var k = []; g && !l ? u.toSingleRange() : !g && l && (S = u.toOrientedRange(), d.addSelectionMarker(S)), o ? v = A.documentToScreenPosition(u.lead) : u.moveToPosition(p), b = { row: -1, column: -1 }; var R = x; n.capture(d.container, (function (e) { C = e.clientX, I = e.clientY }), (function (e) { x(), clearInterval(E), d.removeSelectionMarkers(k), k.length || (k = [u.toOrientedRange()]), S && (d.removeSelectionMarker(S), u.toSingleRange(S)); for (var t = 0; t < k.length; t++)u.addRange(k[t]); d.inVirtualSelectionMode = !1, d.$mouseHandler.$clickSelection = null })); var E = setInterval((function () { R() }), 20); return e.preventDefault() } } } else 0 === c && e.editor.inMultiSelectMode && e.editor.exitMultiSelectMode() } })), ace.define("ace/commands/multi_select_commands", ["require", "exports", "module", "ace/keyboard/hash_handler"], (function (e, t, i) { t.defaultCommands = [{ name: "addCursorAbove", description: "Add cursor above", exec: function (e) { e.selectMoreLines(-1) }, bindKey: { win: "Ctrl-Alt-Up", mac: "Ctrl-Alt-Up" }, scrollIntoView: "cursor", readOnly: !0 }, { name: "addCursorBelow", description: "Add cursor below", exec: function (e) { e.selectMoreLines(1) }, bindKey: { win: "Ctrl-Alt-Down", mac: "Ctrl-Alt-Down" }, scrollIntoView: "cursor", readOnly: !0 }, { name: "addCursorAboveSkipCurrent", description: "Add cursor above (skip current)", exec: function (e) { e.selectMoreLines(-1, !0) }, bindKey: { win: "Ctrl-Alt-Shift-Up", mac: "Ctrl-Alt-Shift-Up" }, scrollIntoView: "cursor", readOnly: !0 }, { name: "addCursorBelowSkipCurrent", description: "Add cursor below (skip current)", exec: function (e) { e.selectMoreLines(1, !0) }, bindKey: { win: "Ctrl-Alt-Shift-Down", mac: "Ctrl-Alt-Shift-Down" }, scrollIntoView: "cursor", readOnly: !0 }, { name: "selectMoreBefore", description: "Select more before", exec: function (e) { e.selectMore(-1) }, bindKey: { win: "Ctrl-Alt-Left", mac: "Ctrl-Alt-Left" }, scrollIntoView: "cursor", readOnly: !0 }, { name: "selectMoreAfter", description: "Select more after", exec: function (e) { e.selectMore(1) }, bindKey: { win: "Ctrl-Alt-Right", mac: "Ctrl-Alt-Right" }, scrollIntoView: "cursor", readOnly: !0 }, { name: "selectNextBefore", description: "Select next before", exec: function (e) { e.selectMore(-1, !0) }, bindKey: { win: "Ctrl-Alt-Shift-Left", mac: "Ctrl-Alt-Shift-Left" }, scrollIntoView: "cursor", readOnly: !0 }, { name: "selectNextAfter", description: "Select next after", exec: function (e) { e.selectMore(1, !0) }, bindKey: { win: "Ctrl-Alt-Shift-Right", mac: "Ctrl-Alt-Shift-Right" }, scrollIntoView: "cursor", readOnly: !0 }, { name: "toggleSplitSelectionIntoLines", description: "Split into lines", exec: function (e) { 1 < e.multiSelect.rangeCount ? e.multiSelect.joinSelections() : e.multiSelect.splitIntoLines() }, bindKey: { win: "Ctrl-Alt-L", mac: "Ctrl-Alt-L" }, readOnly: !0 }, { name: "splitSelectionIntoLines", description: "Split into lines", exec: function (e) { e.multiSelect.splitIntoLines() }, readOnly: !0 }, { name: "alignCursors", description: "Align cursors", exec: function (e) { e.alignCursors() }, bindKey: { win: "Ctrl-Alt-A", mac: "Ctrl-Alt-A" }, scrollIntoView: "cursor" }, { name: "findAll", description: "Find all", exec: function (e) { e.findAll() }, bindKey: { win: "Ctrl-Alt-K", mac: "Ctrl-Alt-G" }, scrollIntoView: "cursor", readOnly: !0 }], t.multiSelectCommands = [{ name: "singleSelection", description: "Single selection", bindKey: "esc", exec: function (e) { e.exitMultiSelectMode() }, scrollIntoView: "cursor", readOnly: !0, isAvailable: function (e) { return e && e.inMultiSelectMode } }]; var n = e("../keyboard/hash_handler").HashHandler; t.keyboardHandler = new n(t.multiSelectCommands) })), ace.define("ace/multi_select", ["require", "exports", "module", "ace/range_list", "ace/range", "ace/selection", "ace/mouse/multi_select_handler", "ace/lib/event", "ace/lib/lang", "ace/commands/multi_select_commands", "ace/search", "ace/edit_session", "ace/editor", "ace/config"], (function (e, t, i) { var n = e("./range_list").RangeList, r = e("./range").Range, s = e("./selection").Selection, o = e("./mouse/multi_select_handler").onMouseDown, a = e("./lib/event"), l = e("./lib/lang"), c = e("./commands/multi_select_commands"); t.commands = c.defaultCommands.concat(c.multiSelectCommands); var h = new (e("./search").Search), d = e("./edit_session").EditSession; (function () { this.getSelectionMarkers = function () { return this.$selectionMarkers } }).call(d.prototype), function () { this.ranges = null, this.rangeList = null, this.addRange = function (e, t) { if (e) { if (!this.inMultiSelectMode && 0 === this.rangeCount) { var i = this.toOrientedRange(); if (this.rangeList.add(i), this.rangeList.add(e), 2 != this.rangeList.ranges.length) return this.rangeList.removeAll(), t || this.fromOrientedRange(e); this.rangeList.removeAll(), this.rangeList.add(i), this.$onAddRange(i) } e.cursor || (e.cursor = e.end); var n = this.rangeList.add(e); return this.$onAddRange(e), n.length && this.$onRemoveRange(n), 1 < this.rangeCount && !this.inMultiSelectMode && (this._signal("multiSelect"), this.inMultiSelectMode = !0, this.session.$undoSelect = !1, this.rangeList.attach(this.session)), t || this.fromOrientedRange(e) } }, this.toSingleRange = function (e) { e = e || this.ranges[0]; var t = this.rangeList.removeAll(); t.length && this.$onRemoveRange(t), e && this.fromOrientedRange(e) }, this.substractPoint = function (e) { var t = this.rangeList.substractPoint(e); if (t) return this.$onRemoveRange(t), t[0] }, this.mergeOverlappingRanges = function () { var e = this.rangeList.merge(); e.length && this.$onRemoveRange(e) }, this.$onAddRange = function (e) { this.rangeCount = this.rangeList.ranges.length, this.ranges.unshift(e), this._signal("addRange", { range: e }) }, this.$onRemoveRange = function (e) { if (this.rangeCount = this.rangeList.ranges.length, 1 == this.rangeCount && this.inMultiSelectMode) { var t = this.rangeList.ranges.pop(); e.push(t), this.rangeCount = 0 } for (var i = e.length; i--;) { var n = this.ranges.indexOf(e[i]); this.ranges.splice(n, 1) } this._signal("removeRange", { ranges: e }), 0 === this.rangeCount && this.inMultiSelectMode && (this.inMultiSelectMode = !1, this._signal("singleSelect"), this.session.$undoSelect = !0, this.rangeList.detach(this.session)), (t = t || this.ranges[0]) && !t.isEqual(this.getRange()) && this.fromOrientedRange(t) }, this.$initRangeList = function () { this.rangeList || (this.rangeList = new n, this.ranges = [], this.rangeCount = 0) }, this.getAllRanges = function () { return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()] }, this.splitIntoLines = function () { for (var e = this.ranges.length ? this.ranges : [this.getRange()], t = [], i = 0; i < e.length; i++) { var n = e[i], s = n.start.row, o = n.end.row; if (s === o) t.push(n.clone()); else { for (t.push(new r(s, n.start.column, s, this.session.getLine(s).length)); ++s < o;)t.push(this.getLineRange(s, !0)); t.push(new r(o, 0, o, n.end.column)) } 0 != i || this.isBackwards() || (t = t.reverse()) } for (this.toSingleRange(), i = t.length; i--;)this.addRange(t[i]) }, this.joinSelections = function () { var e = this.rangeList.ranges, t = e[e.length - 1], i = r.fromPoints(e[0].start, t.end); this.toSingleRange(), this.setSelectionRange(i, t.cursor == t.start) }, this.toggleBlockSelection = function () { if (1 < this.rangeCount) { var e = this.rangeList.ranges, t = e[e.length - 1], i = r.fromPoints(e[0].start, t.end); this.toSingleRange(), this.setSelectionRange(i, t.cursor == t.start) } else { var n = this.session.documentToScreenPosition(this.cursor), s = this.session.documentToScreenPosition(this.anchor); this.rectangularRangeBlock(n, s).forEach(this.addRange, this) } }, this.rectangularRangeBlock = function (e, t, i) { var n = [], s = e.column < t.column; if (s) var o = e.column, a = t.column, l = e.offsetX, c = t.offsetX; else o = t.column, a = e.column, l = t.offsetX, c = e.offsetX; var h, d, u, g = e.row < t.row; if (g) var p = e.row, m = t.row; else p = t.row, m = e.row; o < 0 && (o = 0), p < 0 && (p = 0), p == m && (i = !0); for (var f = p; f <= m; f++) { var C = r.fromPoints(this.session.screenToDocumentPosition(f, o, l), this.session.screenToDocumentPosition(f, a, c)); if (C.isEmpty()) { if (h && (u = h, (d = C.end).row == u.row && d.column == u.column)) break; h = C.end } C.cursor = s ? C.start : C.end, n.push(C) } if (g && n.reverse(), !i) { for (var I = n.length - 1; n[I].isEmpty() && 0 < I;)I--; if (0 < I) for (var A = 0; n[A].isEmpty();)A++; for (var v = I; A <= v; v--)n[v].isEmpty() && n.splice(v, 1) } return n } }.call(s.prototype); var u = e("./editor").Editor; function g(e) { e.$multiselectOnSessionChange || (e.$onAddRange = e.$onAddRange.bind(e), e.$onRemoveRange = e.$onRemoveRange.bind(e), e.$onMultiSelect = e.$onMultiSelect.bind(e), e.$onSingleSelect = e.$onSingleSelect.bind(e), e.$multiselectOnSessionChange = t.onSessionChange.bind(e), e.$checkMultiselectChange = e.$checkMultiselectChange.bind(e), e.$multiselectOnSessionChange(e), e.on("changeSession", e.$multiselectOnSessionChange), e.on("mousedown", o), e.commands.addCommands(c.defaultCommands), function (e) { if (e.textInput) { var t = e.textInput.getElement(), i = !1; a.addListener(t, "keydown", (function (t) { var r = 18 == t.keyCode && !(t.ctrlKey || t.shiftKey || t.metaKey); e.$blockSelectEnabled && r ? i || (e.renderer.setMouseCursor("crosshair"), i = !0) : i && n() })), a.addListener(t, "keyup", n), a.addListener(t, "blur", n) } function n(t) { i && (e.renderer.setMouseCursor(""), i = !1) } }(e)) } (function () { this.updateSelectionMarkers = function () { this.renderer.updateCursor(), this.renderer.updateBackMarkers() }, this.addSelectionMarker = function (e) { e.cursor || (e.cursor = e.end); var t = this.getSelectionStyle(); return e.marker = this.session.addMarker(e, "ace_selection", t), this.session.$selectionMarkers.push(e), this.session.selectionMarkerCount = this.session.$selectionMarkers.length, e }, this.removeSelectionMarker = function (e) { if (e.marker) { this.session.removeMarker(e.marker); var t = this.session.$selectionMarkers.indexOf(e); -1 != t && this.session.$selectionMarkers.splice(t, 1), this.session.selectionMarkerCount = this.session.$selectionMarkers.length } }, this.removeSelectionMarkers = function (e) { for (var t = this.session.$selectionMarkers, i = e.length; i--;) { var n = e[i]; if (n.marker) { this.session.removeMarker(n.marker); var r = t.indexOf(n); -1 != r && t.splice(r, 1) } } this.session.selectionMarkerCount = t.length }, this.$onAddRange = function (e) { this.addSelectionMarker(e.range), this.renderer.updateCursor(), this.renderer.updateBackMarkers() }, this.$onRemoveRange = function (e) { this.removeSelectionMarkers(e.ranges), this.renderer.updateCursor(), this.renderer.updateBackMarkers() }, this.$onMultiSelect = function (e) { this.inMultiSelectMode || (this.inMultiSelectMode = !0, this.setStyle("ace_multiselect"), this.keyBinding.addKeyboardHandler(c.keyboardHandler), this.commands.setDefaultHandler("exec", this.$onMultiSelectExec), this.renderer.updateCursor(), this.renderer.updateBackMarkers()) }, this.$onSingleSelect = function (e) { this.session.multiSelect.inVirtualMode || (this.inMultiSelectMode = !1, this.unsetStyle("ace_multiselect"), this.keyBinding.removeKeyboardHandler(c.keyboardHandler), this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec), this.renderer.updateCursor(), this.renderer.updateBackMarkers(), this._emit("changeSelection")) }, this.$onMultiSelectExec = function (e) { var t = e.command, i = e.editor; if (i.multiSelect) { if (t.multiSelectAction) n = "forEach" == t.multiSelectAction ? i.forEachSelection(t, e.args) : "forEachLine" == t.multiSelectAction ? i.forEachSelection(t, e.args, !0) : "single" == t.multiSelectAction ? (i.exitMultiSelectMode(), t.exec(i, e.args || {})) : t.multiSelectAction(i, e.args || {}); else { var n = t.exec(i, e.args || {}); i.multiSelect.addRange(i.multiSelect.toOrientedRange()), i.multiSelect.mergeOverlappingRanges() } return n } }, this.forEachSelection = function (e, t, i) { if (!this.inVirtualSelectionMode) { var n, r = i && i.keepOrder, o = 1 == i || i && i.$byLines, a = this.session, l = this.selection, c = l.rangeList, h = (r ? l : c).ranges; if (!h.length) return e.exec ? e.exec(this, t || {}) : e(this, t || {}); var d = l._eventRegistry; l._eventRegistry = {}; var u = new s(a); this.inVirtualSelectionMode = !0; for (var g = h.length; g--;) { if (o) for (; 0 < g && h[g].start.row == h[g - 1].end.row;)g--; u.fromOrientedRange(h[g]), u.index = g, this.selection = a.selection = u; var p = e.exec ? e.exec(this, t || {}) : e(this, t || {}); n || void 0 === p || (n = p), u.toOrientedRange(h[g]) } u.detach(), this.selection = a.selection = l, this.inVirtualSelectionMode = !1, l._eventRegistry = d, l.mergeOverlappingRanges(), l.ranges[0] && l.fromOrientedRange(l.ranges[0]); var m = this.renderer.$scrollAnimation; return this.onCursorChange(), this.onSelectionChange(), m && m.from == m.to && this.renderer.animateScrolling(m.from), n } }, this.exitMultiSelectMode = function () { this.inMultiSelectMode && !this.inVirtualSelectionMode && this.multiSelect.toSingleRange() }, this.getSelectedText = function () { var e = ""; if (this.inMultiSelectMode && !this.inVirtualSelectionMode) { for (var t = this.multiSelect.rangeList.ranges, i = [], n = 0; n < t.length; n++)i.push(this.session.getTextRange(t[n])); var r = this.session.getDocument().getNewLineCharacter(); (e = i.join(r)).length == (i.length - 1) * r.length && (e = "") } else this.selection.isEmpty() || (e = this.session.getTextRange(this.getSelectionRange())); return e }, this.$checkMultiselectChange = function (e, t) { if (this.inMultiSelectMode && !this.inVirtualSelectionMode) { var i = this.multiSelect.ranges[0]; if (this.multiSelect.isEmpty() && t == this.multiSelect.anchor) return; var n = t == this.multiSelect.anchor ? i.cursor == i.start ? i.end : i.start : i.cursor; n.row != t.row || this.session.$clipPositionToDocument(n.row, n.column).column != t.column ? this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()) : this.multiSelect.mergeOverlappingRanges() } }, this.findAll = function (e, t, i) { if ((t = t || {}).needle = e || t.needle, null == t.needle) { var n = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange(); t.needle = this.session.getTextRange(n) } this.$search.set(t); var r = this.$search.findAll(this.session); if (!r.length) return 0; var s = this.multiSelect; i || s.toSingleRange(r[0]); for (var o = r.length; o--;)s.addRange(r[o], !0); return n && s.rangeList.rangeAtPoint(n.start) && s.addRange(n, !0), r.length }, this.selectMoreLines = function (e, t) { var i = this.selection.toOrientedRange(), n = i.cursor == i.end, s = this.session.documentToScreenPosition(i.cursor); this.selection.$desiredColumn && (s.column = this.selection.$desiredColumn); var o, a = this.session.screenToDocumentPosition(s.row + e, s.column); if (i.isEmpty()) c = a; else var l = this.session.documentToScreenPosition(n ? i.end : i.start), c = this.session.screenToDocumentPosition(l.row + e, l.column); if (n ? (o = r.fromPoints(a, c)).cursor = o.start : (o = r.fromPoints(c, a)).cursor = o.end, o.desiredColumn = s.column, this.selection.inMultiSelectMode) { if (t) var h = i.cursor } else this.selection.addRange(i); this.selection.addRange(o), h && this.selection.substractPoint(h) }, this.transposeSelections = function (e) { for (var t = this.session, i = t.multiSelect, n = i.ranges, r = n.length; r--;)if ((a = n[r]).isEmpty()) { var s = t.getWordRange(a.start.row, a.start.column); a.start.row = s.start.row, a.start.column = s.start.column, a.end.row = s.end.row, a.end.column = s.end.column } i.mergeOverlappingRanges(); var o = []; for (r = n.length; r--;) { var a = n[r]; o.unshift(t.getTextRange(a)) } for (e < 0 ? o.unshift(o.pop()) : o.push(o.shift()), r = n.length; r--;)s = (a = n[r]).clone(), t.replace(a, o[r]), a.start.row = s.start.row, a.start.column = s.start.column; i.fromOrientedRange(i.ranges[0]) }, this.selectMore = function (e, t, i) { var n = this.session, r = n.multiSelect.toOrientedRange(); if (!r.isEmpty() || ((r = n.getWordRange(r.start.row, r.start.column)).cursor = -1 == e ? r.start : r.end, this.multiSelect.addRange(r), !i)) { var s, o, a, l = n.getTextRange(r), c = (s = n, o = l, a = e, h.$options.wrap = !0, h.$options.needle = o, h.$options.backwards = -1 == a, h.find(s)); c && (c.cursor = -1 == e ? c.start : c.end, this.session.unfold(c), this.multiSelect.addRange(c), this.renderer.scrollCursorIntoView(null, .5)), t && this.multiSelect.substractPoint(r.cursor) } }, this.alignCursors = function () { var e = this.session, t = e.multiSelect, i = t.ranges, n = -1, s = i.filter((function (e) { if (e.cursor.row == n) return !0; n = e.cursor.row })); if (i.length && s.length != i.length - 1) { s.forEach((function (e) { t.substractPoint(e.cursor) })); var o = 0, a = 1 / 0, c = i.map((function (t) { var i = t.cursor, n = e.getLine(i.row).substr(i.column).search(/\S/g); return -1 == n && (n = 0), i.column > o && (o = i.column), n < a && (a = n), n })); i.forEach((function (t, i) { var n = t.cursor, s = o - n.column, h = c[i] - a; h < s ? e.insert(n, l.stringRepeat(" ", s - h)) : e.remove(new r(n.row, n.column, n.row, n.column - s + h)), t.start.column = t.end.column = o, t.start.row = t.end.row = n.row, t.cursor = t.end })), t.fromOrientedRange(i[0]), this.renderer.updateCursor(), this.renderer.updateBackMarkers() } else { var h = this.selection.getRange(), d = h.start.row, u = h.end.row, g = d == u; if (g) { for (var p, m = this.session.getLength(); p = this.session.getLine(u), /[=:]/.test(p) && ++u < m;); for (; p = this.session.getLine(d), /[=:]/.test(p) && 0 < --d;); d < 0 && (d = 0), m <= u && (u = m - 1) } var f = this.session.removeFullLines(d, u); f = this.$reAlignText(f, g), this.session.insert({ row: d, column: 0 }, f.join("\n") + "\n"), g || (h.start.column = 0, h.end.column = f[f.length - 1].length), this.selection.setRange(h) } }, this.$reAlignText = function (e, t) { var i, n, r, s = !0, o = !0; return e.map((function (e) { var t = e.match(/(\s*)(.*?)(\s*)([=:].*)/); return t ? (null == i ? (i = t[1].length, n = t[2].length, r = t[3].length) : (i + n + r != t[1].length + t[2].length + t[3].length && (o = !1), i != t[1].length && (s = !1), i > t[1].length && (i = t[1].length), n < t[2].length && (n = t[2].length), r > t[3].length && (r = t[3].length)), t) : [e] })).map(t ? c : s ? o ? function (e) { return e[2] ? a(i + n - e[2].length) + e[2] + a(r) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0] } : c : function (e) { return e[2] ? a(i) + e[2] + a(r) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0] }); function a(e) { return l.stringRepeat(" ", e) } function c(e) { return e[2] ? a(i) + e[2] + a(n - e[2].length + r) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0] } } }).call(u.prototype), t.onSessionChange = function (e) { var t = e.session; t && !t.multiSelect && (t.$selectionMarkers = [], t.selection.$initRangeList(), t.multiSelect = t.selection), this.multiSelect = t && t.multiSelect; var i = e.oldSession; i && (i.multiSelect.off("addRange", this.$onAddRange), i.multiSelect.off("removeRange", this.$onRemoveRange), i.multiSelect.off("multiSelect", this.$onMultiSelect), i.multiSelect.off("singleSelect", this.$onSingleSelect), i.multiSelect.lead.off("change", this.$checkMultiselectChange), i.multiSelect.anchor.off("change", this.$checkMultiselectChange)), t && (t.multiSelect.on("addRange", this.$onAddRange), t.multiSelect.on("removeRange", this.$onRemoveRange), t.multiSelect.on("multiSelect", this.$onMultiSelect), t.multiSelect.on("singleSelect", this.$onSingleSelect), t.multiSelect.lead.on("change", this.$checkMultiselectChange), t.multiSelect.anchor.on("change", this.$checkMultiselectChange)), t && this.inMultiSelectMode != t.selection.inMultiSelectMode && (t.selection.inMultiSelectMode ? this.$onMultiSelect() : this.$onSingleSelect()) }, t.MultiSelect = g, e("./config").defineOptions(u.prototype, "editor", { enableMultiselect: { set: function (e) { g(this), e ? (this.on("changeSession", this.$multiselectOnSessionChange), this.on("mousedown", o)) : (this.off("changeSession", this.$multiselectOnSessionChange), this.off("mousedown", o)) }, value: !0 }, enableBlockSelect: { set: function (e) { this.$blockSelectEnabled = e }, value: !0 } }) })), ace.define("ace/mode/folding/fold_mode", ["require", "exports", "module", "ace/range"], (function (e, t, i) { "use strict"; var n = e("../../range").Range, r = t.FoldMode = function () { }; (function () { this.foldingStartMarker = null, this.foldingStopMarker = null, this.getFoldWidget = function (e, t, i) { var n = e.getLine(i); return this.foldingStartMarker.test(n) ? "start" : "markbeginend" == t && this.foldingStopMarker && this.foldingStopMarker.test(n) ? "end" : "" }, this.getFoldWidgetRange = function (e, t, i) { return null }, this.indentationBlock = function (e, t, i) { var r = /\S/, s = e.getLine(t), o = s.search(r); if (-1 != o) { for (var a = i || s.length, l = e.getLength(), c = t, h = t; ++t < l;) { var d = e.getLine(t).search(r); if (-1 != d) { if (d <= o) { var u = e.getTokenAt(t, 0); if (!u || "string" !== u.type) break } h = t } } if (c < h) { var g = e.getLine(h).length; return new n(c, a, h, g) } } }, this.openingBracketBlock = function (e, t, i, r, s) { var o = { row: i, column: r + 1 }, a = e.$findClosingBracket(t, o, s); if (a) { var l = e.foldWidgets[a.row]; return null == l && (l = e.getFoldWidget(a.row)), "start" == l && a.row > o.row && (a.row--, a.column = e.getLine(a.row).length), n.fromPoints(o, a) } }, this.closingBracketBlock = function (e, t, i, r, s) { var o = { row: i, column: r }, a = e.$findOpeningBracket(t, o); if (a) return a.column++, o.column--, n.fromPoints(a, o) } }).call(r.prototype) })), ace.define("ace/theme/textmate", ["require", "exports", "module", "ace/lib/dom"], (function (e, t, i) { "use strict"; t.isDark = !1, t.cssClass = "ace-tm", t.cssText = '.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}', t.$id = "ace/theme/textmate", e("../lib/dom").importCssString(t.cssText, t.cssClass) })), ace.define("ace/line_widgets", ["require", "exports", "module", "ace/lib/dom"], (function (e, t, i) { "use strict"; var n = e("./lib/dom"); function r(e) { this.session = e, (this.session.widgetManager = this).session.getRowLength = this.getRowLength, this.session.$getWidgetScreenLength = this.$getWidgetScreenLength, this.updateOnChange = this.updateOnChange.bind(this), this.renderWidgets = this.renderWidgets.bind(this), this.measureWidgets = this.measureWidgets.bind(this), this.session._changedWidgets = [], this.$onChangeEditor = this.$onChangeEditor.bind(this), this.session.on("change", this.updateOnChange), this.session.on("changeFold", this.updateOnFold), this.session.on("changeEditor", this.$onChangeEditor) } (function () { this.getRowLength = function (e) { var t; return t = this.lineWidgets && this.lineWidgets[e] && this.lineWidgets[e].rowCount || 0, this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 + t : 1 + t }, this.$getWidgetScreenLength = function () { var e = 0; return this.lineWidgets.forEach((function (t) { t && t.rowCount && !t.hidden && (e += t.rowCount) })), e }, this.$onChangeEditor = function (e) { this.attach(e.editor) }, this.attach = function (e) { e && e.widgetManager && e.widgetManager != this && e.widgetManager.detach(), this.editor != e && (this.detach(), (this.editor = e) && (e.widgetManager = this, e.renderer.on("beforeRender", this.measureWidgets), e.renderer.on("afterRender", this.renderWidgets))) }, this.detach = function (e) { var t = this.editor; if (t) { this.editor = null, t.widgetManager = null, t.renderer.off("beforeRender", this.measureWidgets), t.renderer.off("afterRender", this.renderWidgets); var i = this.session.lineWidgets; i && i.forEach((function (e) { e && e.el && e.el.parentNode && (e._inDocument = !1, e.el.parentNode.removeChild(e.el)) })) } }, this.updateOnFold = function (e, t) { var i = t.lineWidgets; if (i && e.action) { for (var n = e.data, r = n.start.row, s = n.end.row, o = "add" == e.action, a = r + 1; a < s; a++)i[a] && (i[a].hidden = o); i[s] && (o ? i[r] ? i[s].hidden = o : i[r] = i[s] : (i[r] == i[s] && (i[r] = void 0), i[s].hidden = o)) } }, this.updateOnChange = function (e) { var t = this.session.lineWidgets; if (t) { var i = e.start.row, n = e.end.row - i; if (0 != n) if ("remove" == e.action) { var r = t.splice(i + 1, n); !t[i] && r[r.length - 1] && (t[i] = r.pop()), r.forEach((function (e) { e && this.removeLineWidget(e) }), this), this.$updateRows() } else { var s = new Array(n); t[i] && null != t[i].column && e.start.column > t[i].column && i++, s.unshift(i, 0), t.splice.apply(t, s), this.$updateRows() } } }, this.$updateRows = function () { var e = this.session.lineWidgets; if (e) { var t = !0; e.forEach((function (e, i) { if (e) for (t = !1, e.row = i; e.$oldWidget;)e.$oldWidget.row = i, e = e.$oldWidget })), t && (this.session.lineWidgets = null) } }, this.$registerLineWidget = function (e) { this.session.lineWidgets || (this.session.lineWidgets = new Array(this.session.getLength())); var t = this.session.lineWidgets[e.row]; return t && (e.$oldWidget = t).el && t.el.parentNode && (t.el.parentNode.removeChild(t.el), t._inDocument = !1), this.session.lineWidgets[e.row] = e }, this.addLineWidget = function (e) { if (this.$registerLineWidget(e), e.session = this.session, !this.editor) return e; var t = this.editor.renderer; e.html && !e.el && (e.el = n.createElement("div"), e.el.innerHTML = e.html), e.el && (n.addCssClass(e.el, "ace_lineWidgetContainer"), e.el.style.position = "absolute", e.el.style.zIndex = 5, t.container.appendChild(e.el), e._inDocument = !0, e.coverGutter || (e.el.style.zIndex = 3), null == e.pixelHeight && (e.pixelHeight = e.el.offsetHeight)), null == e.rowCount && (e.rowCount = e.pixelHeight / t.layerConfig.lineHeight); var i = this.session.getFoldAt(e.row, 0); if (e.$fold = i) { var r = this.session.lineWidgets; e.row != i.end.row || r[i.start.row] ? e.hidden = !0 : r[i.start.row] = e } return this.session._emit("changeFold", { data: { start: { row: e.row } } }), this.$updateRows(), this.renderWidgets(null, t), this.onWidgetChanged(e), e }, this.removeLineWidget = function (e) { if (e._inDocument = !1, e.session = null, e.el && e.el.parentNode && e.el.parentNode.removeChild(e.el), e.editor && e.editor.destroy) try { e.editor.destroy() } catch (e) { } if (this.session.lineWidgets) { var t = this.session.lineWidgets[e.row]; if (t == e) this.session.lineWidgets[e.row] = e.$oldWidget, e.$oldWidget && this.onWidgetChanged(e.$oldWidget); else for (; t;) { if (t.$oldWidget == e) { t.$oldWidget = e.$oldWidget; break } t = t.$oldWidget } } this.session._emit("changeFold", { data: { start: { row: e.row } } }), this.$updateRows() }, this.getWidgetsAtRow = function (e) { for (var t = this.session.lineWidgets, i = t && t[e], n = []; i;)n.push(i), i = i.$oldWidget; return n }, this.onWidgetChanged = function (e) { this.session._changedWidgets.push(e), this.editor && this.editor.renderer.updateFull() }, this.measureWidgets = function (e, t) { var i = this.session._changedWidgets, n = t.layerConfig; if (i && i.length) { for (var r = 1 / 0, s = 0; s < i.length; s++) { var o = i[s]; if (o && o.el && o.session == this.session) { if (!o._inDocument) { if (this.session.lineWidgets[o.row] != o) continue; o._inDocument = !0, t.container.appendChild(o.el) } o.h = o.el.offsetHeight, o.fixedWidth || (o.w = o.el.offsetWidth, o.screenWidth = Math.ceil(o.w / n.characterWidth)); var a = o.h / n.lineHeight; o.coverLine && (a -= this.session.getRowLineCount(o.row)) < 0 && (a = 0), o.rowCount != a && (o.rowCount = a, o.row < r && (r = o.row)) } } r != 1 / 0 && (this.session._emit("changeFold", { data: { start: { row: r } } }), this.session.lineWidgetWidth = null), this.session._changedWidgets = [] } }, this.renderWidgets = function (e, t) { var i = t.layerConfig, n = this.session.lineWidgets; if (n) { for (var r = Math.min(this.firstRow, i.firstRow), s = Math.max(this.lastRow, i.lastRow, n.length); 0 < r && !n[r];)r--; this.firstRow = i.firstRow, this.lastRow = i.lastRow, t.$cursorLayer.config = i; for (var o = r; o <= s; o++) { var a = n[o]; if (a && a.el) if (a.hidden) a.el.style.top = -100 - (a.pixelHeight || 0) + "px"; else { a._inDocument || (a._inDocument = !0, t.container.appendChild(a.el)); var l = t.$cursorLayer.getPixelPosition({ row: o, column: 0 }, !0).top; a.coverLine || (l += i.lineHeight * this.session.getRowLineCount(a.row)), a.el.style.top = l - i.offset + "px"; var c = a.coverGutter ? 0 : t.gutterWidth; a.fixedWidth || (c -= t.scrollLeft), a.el.style.left = c + "px", a.fullWidth && a.screenWidth && (a.el.style.minWidth = i.width + 2 * i.padding + "px"), a.fixedWidth ? a.el.style.right = t.scrollBar.getWidth() + "px" : a.el.style.right = "" } } } } }).call(r.prototype), t.LineWidgets = r })), ace.define("ace/ext/error_marker", ["require", "exports", "module", "ace/line_widgets", "ace/lib/dom", "ace/range"], (function (e, t, i) { "use strict"; var n = e("../line_widgets").LineWidgets, r = e("../lib/dom"), s = e("../range").Range; function o(e, t, i) { var n = e.getAnnotations().sort(s.comparePoints); if (n.length) { var r = function (e, t, i) { for (var n = 0, r = e.length - 1; n <= r;) { var s = n + r >> 1, o = i(t, e[s]); if (0 < o) n = 1 + s; else { if (!(o < 0)) return s; r = s - 1 } } return -(n + 1) }(n, { row: t, column: -1 }, s.comparePoints); r < 0 && (r = -r - 1), r >= n.length ? r = 0 < i ? 0 : n.length - 1 : 0 === r && i < 0 && (r = n.length - 1); var o = n[r]; if (o && i) { if (o.row === t) { for (; (o = n[r += i]) && o.row === t;); if (!o) return n.slice() } var a = []; for (t = o.row; a[i < 0 ? "unshift" : "push"](o), (o = n[r += i]) && o.row == t;); return a.length && a } } } t.showErrorMarker = function (e, t) { var i = e.session; i.widgetManager || (i.widgetManager = new n(i), i.widgetManager.attach(e)); var s = e.getCursorPosition(), a = s.row, l = i.widgetManager.getWidgetsAtRow(a).filter((function (e) { return "errorMarker" == e.type }))[0]; l ? l.destroy() : a -= t; var c, h = o(i, a, t); if (h) { var d = h[0]; s.column = (d.pos && "number" != typeof d.column ? d.pos.sc : d.column) || 0, s.row = d.row, c = e.renderer.$gutterLayer.$annotations[s.row] } else { if (l) return; c = { text: ["Looks good!"], className: "ace_ok" } } e.session.unfold(s.row), e.selection.moveToPosition(s); var u = { row: s.row, fixedWidth: !0, coverGutter: !0, el: r.createElement("div"), type: "errorMarker" }, g = u.el.appendChild(r.createElement("div")), p = u.el.appendChild(r.createElement("div")); p.className = "error_widget_arrow " + c.className; var m = e.renderer.$cursorLayer.getPixelPosition(s).left; function f(e, t, i) { if (0 === t && ("esc" === i || "return" === i)) return u.destroy(), { command: "null" } } p.style.left = m + e.renderer.gutterWidth - 5 + "px", u.el.className = "error_widget_wrapper", g.className = "error_widget " + c.className, g.innerHTML = c.text.join("<br>"), g.appendChild(r.createElement("div")), u.destroy = function () { e.$mouseHandler.isMousePressed || (e.keyBinding.removeKeyboardHandler(f), i.widgetManager.removeLineWidget(u), e.off("changeSelection", u.destroy), e.off("changeSession", u.destroy), e.off("mouseup", u.destroy), e.off("change", u.destroy)) }, e.keyBinding.addKeyboardHandler(f), e.on("changeSelection", u.destroy), e.on("changeSession", u.destroy), e.on("mouseup", u.destroy), e.on("change", u.destroy), e.session.widgetManager.addLineWidget(u), u.el.onmousedown = e.focus.bind(e), e.renderer.scrollCursorIntoView(null, .5, { bottom: u.el.offsetHeight }) }, r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }", "") })), ace.define("ace/ace", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/dom", "ace/lib/event", "ace/range", "ace/editor", "ace/edit_session", "ace/undomanager", "ace/virtual_renderer", "ace/worker/worker_client", "ace/keyboard/hash_handler", "ace/placeholder", "ace/multi_select", "ace/mode/folding/fold_mode", "ace/theme/textmate", "ace/ext/error_marker", "ace/config"], (function (e, t, n) { "use strict"; e("./lib/fixoldbrowsers"); var r = e("./lib/dom"), s = e("./lib/event"), o = e("./range").Range, a = e("./editor").Editor, l = e("./edit_session").EditSession, c = e("./undomanager").UndoManager, h = e("./virtual_renderer").VirtualRenderer; e("./worker/worker_client"), e("./keyboard/hash_handler"), e("./placeholder"), e("./multi_select"), e("./mode/folding/fold_mode"), e("./theme/textmate"), e("./ext/error_marker"), t.config = e("./config"), t.require = e, t.define = i(23), t.edit = function (e, i) { if ("string" == typeof e) { var n = e; if (!(e = document.getElementById(n))) throw new Error("ace.edit can't find div #" + n) } if (e && e.env && e.env.editor instanceof a) return e.env.editor; var o = ""; if (e && /input|textarea/i.test(e.tagName)) { var l = e; o = l.value, e = r.createElement("pre"), l.parentNode.replaceChild(e, l) } else e && (o = e.textContent, e.innerHTML = ""); var c = t.createEditSession(o), d = new a(new h(e), c, i), u = { document: c, editor: d, onResize: d.resize.bind(d, null) }; return l && (u.textarea = l), s.addListener(window, "resize", u.onResize), d.on("destroy", (function () { s.removeListener(window, "resize", u.onResize), u.editor.container.env = null })), d.container.env = d.env = u, d }, t.createEditSession = function (e, t) { var i = new l(e, t); return i.setUndoManager(new c), i }, t.Range = o, t.Editor = a, t.EditSession = l, t.UndoManager = c, t.VirtualRenderer = h, t.version = t.config.version })), ace.require(["ace/ace"], (function (t) { for (var i in t && (t.config.init(!0), t.define = ace.define), window.ace || (window.ace = t), t) t.hasOwnProperty(i) && (window.ace[i] = t[i]); window.ace["default"] = window.ace, e && (e.exports = window.ace) })) }).call(this, i(16)(e)) }, function (e, t, i) { (function (e) { ace.define("ace/mode/json_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], (function (e, t, i) { "use strict"; function n() { this.$rules = { start: [{ token: "variable", regex: '["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)' }, { token: "string", regex: '"', next: "string" }, { token: "constant.numeric", regex: "0[xX][0-9a-fA-F]+\\b" }, { token: "constant.numeric", regex: "[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b" }, { token: "constant.language.boolean", regex: "(?:true|false)\\b" }, { token: "text", regex: "['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']" }, { token: "comment", regex: "\\/\\/.*$" }, { token: "comment.start", regex: "\\/\\*", next: "comment" }, { token: "paren.lparen", regex: "[[({]" }, { token: "paren.rparen", regex: "[\\])}]" }, { token: "text", regex: "\\s+" }], string: [{ token: "constant.language.escape", regex: /\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/ }, { token: "string", regex: '"|$', next: "start" }, { defaultToken: "string" }], comment: [{ token: "comment.end", regex: "\\*\\/", next: "start" }, { defaultToken: "comment" }] } } var r = e("../lib/oop"), s = e("./text_highlight_rules").TextHighlightRules; r.inherits(n, s), t.JsonHighlightRules = n })), ace.define("ace/mode/matching_brace_outdent", ["require", "exports", "module", "ace/range"], (function (e, t, i) { "use strict"; function n() { } var r = e("../range").Range; (function () { this.checkOutdent = function (e, t) { return !!/^\s+$/.test(e) && /^\s*\}/.test(t) }, this.autoOutdent = function (e, t) { var i = e.getLine(t).match(/^(\s*\})/); if (!i) return 0; var n = i[1].length, s = e.findMatchingBracket({ row: t, column: n }); if (!s || s.row == t) return 0; var o = this.$getIndent(e.getLine(s.row)); e.replace(new r(t, 0, t, n - 1), o) }, this.$getIndent = function (e) { return e.match(/^\s*/)[0] } }).call(n.prototype), t.MatchingBraceOutdent = n })), ace.define("ace/mode/folding/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode"], (function (e, t, i) { "use strict"; var n = e("../../lib/oop"), r = e("../../range").Range, s = e("./fold_mode").FoldMode, o = t.FoldMode = function (e) { e && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e.end))) }; n.inherits(o, s), function () { this.foldingStartMarker = /([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function (e, t, i) { var n = e.getLine(i); if (this.singleLineBlockCommentRe.test(n) && !this.startRegionRe.test(n) && !this.tripleStarBlockCommentRe.test(n)) return ""; var r = this._getFoldWidgetBase(e, t, i); return !r && this.startRegionRe.test(n) ? "start" : r }, this.getFoldWidgetRange = function (e, t, i, n) { var r, s = e.getLine(i); if (this.startRegionRe.test(s)) return this.getCommentRegionBlock(e, s, i); if (r = s.match(this.foldingStartMarker)) { var o = r.index; if (r[1]) return this.openingBracketBlock(e, r[1], i, o); var a = e.getCommentFoldRange(i, o + r[0].length, 1); return a && !a.isMultiLine() && (n ? a = this.getSectionRange(e, i) : "all" != t && (a = null)), a } return "markbegin" !== t && (r = s.match(this.foldingStopMarker)) ? (o = r.index + r[0].length, r[1] ? this.closingBracketBlock(e, r[1], i, o) : e.getCommentFoldRange(i, o, -1)) : void 0 }, this.getSectionRange = function (e, t) { for (var i = e.getLine(t), n = i.search(/\S/), s = t, o = i.length, a = t += 1, l = e.getLength(); ++t < l;) { var c = (i = e.getLine(t)).search(/\S/); if (-1 !== c) { if (c < n) break; var h = this.getFoldWidgetRange(e, "all", t); if (h) { if (h.start.row <= s) break; if (h.isMultiLine()) t = h.end.row; else if (n == c) break } a = t } } return new r(s, o, a, e.getLine(a).length) }, this.getCommentRegionBlock = function (e, t, i) { for (var n = t.search(/\s*$/), s = e.getLength(), o = i, a = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/, l = 1; ++i < s;) { t = e.getLine(i); var c = a.exec(t); if (c && (c[1] ? l-- : l++, !l)) break } if (o < i) return new r(o, n, i, t.length) } }.call(o.prototype) })), ace.define("ace/mode/json", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/json_highlight_rules", "ace/mode/matching_brace_outdent", "ace/mode/behaviour/cstyle", "ace/mode/folding/cstyle", "ace/worker/worker_client"], (function (e, t, i) { "use strict"; function n() { this.HighlightRules = o, this.$outdent = new a, this.$behaviour = new l, this.foldingRules = new c } var r = e("../lib/oop"), s = e("./text").Mode, o = e("./json_highlight_rules").JsonHighlightRules, a = e("./matching_brace_outdent").MatchingBraceOutdent, l = e("./behaviour/cstyle").CstyleBehaviour, c = e("./folding/cstyle").FoldMode, h = e("../worker/worker_client").WorkerClient; r.inherits(n, s), function () { this.getNextLineIndent = function (e, t, i) { var n = this.$getIndent(t); return "start" == e && t.match(/^.*[\{\(\[]\s*$/) && (n += i), n }, this.checkOutdent = function (e, t, i) { return this.$outdent.checkOutdent(t, i) }, this.autoOutdent = function (e, t, i) { this.$outdent.autoOutdent(t, i) }, this.createWorker = function (e) { var t = new h(["ace"], "ace/mode/json_worker", "JsonWorker"); return t.attachToDocument(e.getDocument()), t.on("annotate", (function (t) { e.setAnnotations(t.data) })), t.on("terminate", (function () { e.clearAnnotations() })), t }, this.$id = "ace/mode/json" }.call(n.prototype), t.Mode = n })), ace.require(["ace/mode/json"], (function (t) { e && (e.exports = t) })) }).call(this, i(16)(e)) }, function (e, t, i) { (function (e) { ace.define("ace/ext/searchbox", ["require", "exports", "module", "ace/lib/dom", "ace/lib/lang", "ace/lib/event", "ace/keyboard/hash_handler", "ace/lib/keys"], (function (e, t, i) { "use strict"; var n = e("../lib/dom"), r = e("../lib/lang"), s = e("../lib/event"), o = '.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;min-height: 1.8em;box-sizing: content-box;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}', a = e("../keyboard/hash_handler").HashHandler, l = e("../lib/keys"); function c(e, t, i) { var r = n.createElement("div"); n.buildDom(["div", { "class": "ace_search right" }, ["span", { action: "hide", "class": "ace_searchbtn_close" }], ["div", { "class": "ace_search_form" }, ["input", { "class": "ace_search_field", placeholder: "Search for", spellcheck: "false" }], ["span", { action: "findPrev", "class": "ace_searchbtn prev" }, "​"], ["span", { action: "findNext", "class": "ace_searchbtn next" }, "​"], ["span", { action: "findAll", "class": "ace_searchbtn", title: "Alt-Enter" }, "All"]], ["div", { "class": "ace_replace_form" }, ["input", { "class": "ace_search_field", placeholder: "Replace with", spellcheck: "false" }], ["span", { action: "replaceAndFindNext", "class": "ace_searchbtn" }, "Replace"], ["span", { action: "replaceAll", "class": "ace_searchbtn" }, "All"]], ["div", { "class": "ace_search_options" }, ["span", { action: "toggleReplace", "class": "ace_button", title: "Toggle Replace mode", style: "float:left;margin-top:-2px;padding:0 5px;" }, "+"], ["span", { "class": "ace_search_counter" }], ["span", { action: "toggleRegexpMode", "class": "ace_button", title: "RegExp Search" }, ".*"], ["span", { action: "toggleCaseSensitive", "class": "ace_button", title: "CaseSensitive Search" }, "Aa"], ["span", { action: "toggleWholeWords", "class": "ace_button", title: "Whole Word Search" }, "\\b"], ["span", { action: "searchInSelection", "class": "ace_button", title: "Search In Selection" }, "S"]]], r), this.element = r.firstChild, this.setSession = this.setSession.bind(this), this.$init(), this.setEditor(e), n.importCssString(o, "ace_searchbox", e.container) } n.importCssString(o, "ace_searchbox"), function () { this.setEditor = function (e) { e.searchBox = this, e.renderer.scroller.appendChild(this.element), this.editor = e }, this.setSession = function (e) { this.searchRange = null, this.$syncOptions(!0) }, this.$initElements = function (e) { this.searchBox = e.querySelector(".ace_search_form"), this.replaceBox = e.querySelector(".ace_replace_form"), this.searchOption = e.querySelector("[action=searchInSelection]"), this.replaceOption = e.querySelector("[action=toggleReplace]"), this.regExpOption = e.querySelector("[action=toggleRegexpMode]"), this.caseSensitiveOption = e.querySelector("[action=toggleCaseSensitive]"), this.wholeWordOption = e.querySelector("[action=toggleWholeWords]"), this.searchInput = this.searchBox.querySelector(".ace_search_field"), this.replaceInput = this.replaceBox.querySelector(".ace_search_field"), this.searchCounter = e.querySelector(".ace_search_counter") }, this.$init = function () { var e = this.element; this.$initElements(e); var t = this; s.addListener(e, "mousedown", (function (e) { setTimeout((function () { t.activeInput.focus() }), 0), s.stopPropagation(e) })), s.addListener(e, "click", (function (e) { var i = (e.target || e.srcElement).getAttribute("action"); i && t[i] ? t[i]() : t.$searchBarKb.commands[i] && t.$searchBarKb.commands[i].exec(t), s.stopPropagation(e) })), s.addCommandKeyListener(e, (function (e, i, n) { var r = l.keyCodeToString(n), o = t.$searchBarKb.findKeyCommand(i, r); o && o.exec && (o.exec(t), s.stopEvent(e)) })), this.$onChange = r.delayedCall((function () { t.find(!1, !1) })), s.addListener(this.searchInput, "input", (function () { t.$onChange.schedule(20) })), s.addListener(this.searchInput, "focus", (function () { t.activeInput = t.searchInput, t.searchInput.value && t.highlight() })), s.addListener(this.replaceInput, "focus", (function () { t.activeInput = t.replaceInput, t.searchInput.value && t.highlight() })) }, this.$closeSearchBarKb = new a([{ bindKey: "Esc", name: "closeSearchBar", exec: function (e) { e.searchBox.hide() } }]), this.$searchBarKb = new a, this.$searchBarKb.bindKeys({ "Ctrl-f|Command-f": function (e) { var t = e.isReplace = !e.isReplace; e.replaceBox.style.display = t ? "" : "none", e.replaceOption.checked = !1, e.$syncOptions(), e.searchInput.focus() }, "Ctrl-H|Command-Option-F": function (e) { e.editor.getReadOnly() || (e.replaceOption.checked = !0, e.$syncOptions(), e.replaceInput.focus()) }, "Ctrl-G|Command-G": function (e) { e.findNext() }, "Ctrl-Shift-G|Command-Shift-G": function (e) { e.findPrev() }, esc: function (e) { setTimeout((function () { e.hide() })) }, Return: function (e) { e.activeInput == e.replaceInput && e.replace(), e.findNext() }, "Shift-Return": function (e) { e.activeInput == e.replaceInput && e.replace(), e.findPrev() }, "Alt-Return": function (e) { e.activeInput == e.replaceInput && e.replaceAll(), e.findAll() }, Tab: function (e) { (e.activeInput == e.replaceInput ? e.searchInput : e.replaceInput).focus() } }), this.$searchBarKb.addCommands([{ name: "toggleRegexpMode", bindKey: { win: "Alt-R|Alt-/", mac: "Ctrl-Alt-R|Ctrl-Alt-/" }, exec: function (e) { e.regExpOption.checked = !e.regExpOption.checked, e.$syncOptions() } }, { name: "toggleCaseSensitive", bindKey: { win: "Alt-C|Alt-I", mac: "Ctrl-Alt-R|Ctrl-Alt-I" }, exec: function (e) { e.caseSensitiveOption.checked = !e.caseSensitiveOption.checked, e.$syncOptions() } }, { name: "toggleWholeWords", bindKey: { win: "Alt-B|Alt-W", mac: "Ctrl-Alt-B|Ctrl-Alt-W" }, exec: function (e) { e.wholeWordOption.checked = !e.wholeWordOption.checked, e.$syncOptions() } }, { name: "toggleReplace", exec: function (e) { e.replaceOption.checked = !e.replaceOption.checked, e.$syncOptions() } }, { name: "searchInSelection", exec: function (e) { e.searchOption.checked = !e.searchRange, e.setSearchRange(e.searchOption.checked && e.editor.getSelectionRange()), e.$syncOptions() } }]), this.setSearchRange = function (e) { (this.searchRange = e) ? this.searchRangeMarker = this.editor.session.addMarker(e, "ace_active-line") : this.searchRangeMarker && (this.editor.session.removeMarker(this.searchRangeMarker), this.searchRangeMarker = null) }, this.$syncOptions = function (e) { n.setCssClass(this.replaceOption, "checked", this.searchRange), n.setCssClass(this.searchOption, "checked", this.searchOption.checked), this.replaceOption.textContent = this.replaceOption.checked ? "-" : "+", n.setCssClass(this.regExpOption, "checked", this.regExpOption.checked), n.setCssClass(this.wholeWordOption, "checked", this.wholeWordOption.checked), n.setCssClass(this.caseSensitiveOption, "checked", this.caseSensitiveOption.checked); var t = this.editor.getReadOnly(); this.replaceOption.style.display = t ? "none" : "", this.replaceBox.style.display = this.replaceOption.checked && !t ? "" : "none", this.find(!1, !1, e) }, this.highlight = function (e) { this.editor.session.highlight(e || this.editor.$search.$options.re), this.editor.renderer.updateBackMarkers() }, this.find = function (e, t, i) { var r = !this.editor.find(this.searchInput.value, { skipCurrent: e, backwards: t, wrap: !0, regExp: this.regExpOption.checked, caseSensitive: this.caseSensitiveOption.checked, wholeWord: this.wholeWordOption.checked, preventScroll: i, range: this.searchRange }) && this.searchInput.value; n.setCssClass(this.searchBox, "ace_nomatch", r), this.editor._emit("findSearchBox", { match: !r }), this.highlight(), this.updateCounter() }, this.updateCounter = function () { var e = this.editor, t = e.$search.$options.re, i = 0, n = 0; if (t) { var r = this.searchRange ? e.session.getTextRange(this.searchRange) : e.getValue(), s = e.session.doc.positionToIndex(e.selection.anchor); this.searchRange && (s -= e.session.doc.positionToIndex(this.searchRange.start)); for (var o, a = t.lastIndex = 0; (o = t.exec(r)) && (i++, (a = o.index) <= s && n++, !(999 < i)) && (o[0] || (t.lastIndex = a += 1, !(a >= r.length)));); } this.searchCounter.textContent = n + " of " + (999 < i ? "999+" : i) }, this.findNext = function () { this.find(!0, !1) }, this.findPrev = function () { this.find(!0, !0) }, this.findAll = function () { var e = !this.editor.findAll(this.searchInput.value, { regExp: this.regExpOption.checked, caseSensitive: this.caseSensitiveOption.checked, wholeWord: this.wholeWordOption.checked }) && this.searchInput.value; n.setCssClass(this.searchBox, "ace_nomatch", e), this.editor._emit("findSearchBox", { match: !e }), this.highlight(), this.hide() }, this.replace = function () { this.editor.getReadOnly() || this.editor.replace(this.replaceInput.value) }, this.replaceAndFindNext = function () { this.editor.getReadOnly() || (this.editor.replace(this.replaceInput.value), this.findNext()) }, this.replaceAll = function () { this.editor.getReadOnly() || this.editor.replaceAll(this.replaceInput.value) }, this.hide = function () { this.active = !1, this.setSearchRange(null), this.editor.off("changeSession", this.setSession), this.element.style.display = "none", this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb), this.editor.focus() }, this.show = function (e, t) { this.active = !0, this.editor.on("changeSession", this.setSession), this.element.style.display = "", this.replaceOption.checked = t, e && (this.searchInput.value = e), this.searchInput.focus(), this.searchInput.select(), this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb), this.$syncOptions(!0) }, this.isFocused = function () { var e = document.activeElement; return e == this.searchInput || e == this.replaceInput } }.call(c.prototype), t.SearchBox = c, t.Search = function (e, t) { (e.searchBox || new c(e)).show(e.session.getTextRange(), t) } })), ace.require(["ace/ext/searchbox"], (function (t) { e && (e.exports = t) })) }).call(this, i(16)(e)) }, function (e, t) { e.exports = "data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyLmRhdGEsCiAgICAgICAgZmlsZTogZmlsZSwKICAgICAgICBsaW5lOiBsaW5lLCAKICAgICAgICBjb2w6IGNvbCwKICAgICAgICBzdGFjazogZXJyLnN0YWNrCiAgICB9fSk7Cn07Cgp3aW5kb3cubm9ybWFsaXplTW9kdWxlID0gZnVuY3Rpb24ocGFyZW50SWQsIG1vZHVsZU5hbWUpIHsKICAgIC8vIG5vcm1hbGl6ZSBwbHVnaW4gcmVxdWlyZXMKICAgIGlmIChtb2R1bGVOYW1lLmluZGV4T2YoIiEiKSAhPT0gLTEpIHsKICAgICAgICB2YXIgY2h1bmtzID0gbW9kdWxlTmFtZS5zcGxpdCgiISIpOwogICAgICAgIHJldHVybiB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMF0pICsgIiEiICsgd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgY2h1bmtzWzFdKTsKICAgIH0KICAgIC8vIG5vcm1hbGl6ZSByZWxhdGl2ZSByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuY2hhckF0KDApID09ICIuIikgewogICAgICAgIHZhciBiYXNlID0gcGFyZW50SWQuc3BsaXQoIi8iKS5zbGljZSgwLCAtMSkuam9pbigiLyIpOwogICAgICAgIG1vZHVsZU5hbWUgPSAoYmFzZSA/IGJhc2UgKyAiLyIgOiAiIikgKyBtb2R1bGVOYW1lOwogICAgICAgIAogICAgICAgIHdoaWxlIChtb2R1bGVOYW1lLmluZGV4T2YoIi4iKSAhPT0gLTEgJiYgcHJldmlvdXMgIT0gbW9kdWxlTmFtZSkgewogICAgICAgICAgICB2YXIgcHJldmlvdXMgPSBtb2R1bGVOYW1lOwogICAgICAgICAgICBtb2R1bGVOYW1lID0gbW9kdWxlTmFtZS5yZXBsYWNlKC9eXC5cLy8sICIiKS5yZXBsYWNlKC9cL1wuXC8vLCAiLyIpLnJlcGxhY2UoL1teXC9dK1wvXC5cLlwvLywgIiIpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgcmV0dXJuIG1vZHVsZU5hbWU7Cn07Cgp3aW5kb3cucmVxdWlyZSA9IGZ1bmN0aW9uIHJlcXVpcmUocGFyZW50SWQsIGlkKSB7CiAgICBpZiAoIWlkKSB7CiAgICAgICAgaWQgPSBwYXJlbnRJZDsKICAgICAgICBwYXJlbnRJZCA9IG51bGw7CiAgICB9CiAgICBpZiAoIWlkLmNoYXJBdCkKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIndvcmtlci5qcyByZXF1aXJlKCkgYWNjZXB0cyBvbmx5IChwYXJlbnRJZCwgaWQpIGFzIGFyZ3VtZW50cyIpOwoKICAgIGlkID0gd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgaWQpOwoKICAgIHZhciBtb2R1bGUgPSB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXTsKICAgIGlmIChtb2R1bGUpIHsKICAgICAgICBpZiAoIW1vZHVsZS5pbml0aWFsaXplZCkgewogICAgICAgICAgICBtb2R1bGUuaW5pdGlhbGl6ZWQgPSB0cnVlOwogICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG1vZHVsZS5mYWN0b3J5KCkuZXhwb3J0czsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgfQogICAKICAgIGlmICghd2luZG93LnJlcXVpcmUudGxucykKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coInVuYWJsZSB0byBsb2FkICIgKyBpZCk7CiAgICAKICAgIHZhciBwYXRoID0gcmVzb2x2ZU1vZHVsZUlkKGlkLCB3aW5kb3cucmVxdWlyZS50bG5zKTsKICAgIGlmIChwYXRoLnNsaWNlKC0zKSAhPSAiLmpzIikgcGF0aCArPSAiLmpzIjsKICAgIAogICAgd2luZG93LnJlcXVpcmUuaWQgPSBpZDsKICAgIHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdID0ge307IC8vIHByZXZlbnQgaW5maW5pdGUgbG9vcCBvbiBicm9rZW4gbW9kdWxlcwogICAgaW1wb3J0U2NyaXB0cyhwYXRoKTsKICAgIHJldHVybiB3aW5kb3cucmVxdWlyZShwYXJlbnRJZCwgaWQpOwp9OwpmdW5jdGlvbiByZXNvbHZlTW9kdWxlSWQoaWQsIHBhdGhzKSB7CiAgICB2YXIgdGVzdFBhdGggPSBpZCwgdGFpbCA9ICIiOwogICAgd2hpbGUgKHRlc3RQYXRoKSB7CiAgICAgICAgdmFyIGFsaWFzID0gcGF0aHNbdGVzdFBhdGhdOwogICAgICAgIGlmICh0eXBlb2YgYWxpYXMgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgcmV0dXJuIGFsaWFzICsgdGFpbDsKICAgICAgICB9IGVsc2UgaWYgKGFsaWFzKSB7CiAgICAgICAgICAgIHJldHVybiAgYWxpYXMubG9jYXRpb24ucmVwbGFjZSgvXC8qJC8sICIvIikgKyAodGFpbCB8fCBhbGlhcy5tYWluIHx8IGFsaWFzLm5hbWUpOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9CiAgICAgICAgdmFyIGkgPSB0ZXN0UGF0aC5sYXN0SW5kZXhPZigiLyIpOwogICAgICAgIGlmIChpID09PSAtMSkgYnJlYWs7CiAgICAgICAgdGFpbCA9IHRlc3RQYXRoLnN1YnN0cihpKSArIHRhaWw7CiAgICAgICAgdGVzdFBhdGggPSB0ZXN0UGF0aC5zbGljZSgwLCBpKTsKICAgIH0KICAgIHJldHVybiBpZDsKfQp3aW5kb3cucmVxdWlyZS5tb2R1bGVzID0ge307CndpbmRvdy5yZXF1aXJlLnRsbnMgPSB7fTsKCndpbmRvdy5kZWZpbmUgPSBmdW5jdGlvbihpZCwgZGVwcywgZmFjdG9yeSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICAgIGZhY3RvcnkgPSBkZXBzOwogICAgICAgIGlmICh0eXBlb2YgaWQgIT0gInN0cmluZyIpIHsKICAgICAgICAgICAgZGVwcyA9IGlkOwogICAgICAgICAgICBpZCA9IHdpbmRvdy5yZXF1aXJlLmlkOwogICAgICAgIH0KICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgZmFjdG9yeSA9IGlkOwogICAgICAgIGRlcHMgPSBbXTsKICAgICAgICBpZCA9IHdpbmRvdy5yZXF1aXJlLmlkOwogICAgfQogICAgCiAgICBpZiAodHlwZW9mIGZhY3RvcnkgIT0gImZ1bmN0aW9uIikgewogICAgICAgIHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdID0gewogICAgICAgICAgICBleHBvcnRzOiBmYWN0b3J5LAogICAgICAgICAgICBpbml0aWFsaXplZDogdHJ1ZQogICAgICAgIH07CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICghZGVwcy5sZW5ndGgpCiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZGVwZW5kZW5jaWVzLCB3ZSBpbmplY3QgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kCiAgICAgICAgLy8gIm1vZHVsZSIgYXMgZGVwZW5kZW5jaWVzLCB0byBwcm92aWRlIENvbW1vbkpTIGNvbXBhdGliaWxpdHkuCiAgICAgICAgZGVwcyA9IFsicmVxdWlyZSIsICJleHBvcnRzIiwgIm1vZHVsZSJdOwoKICAgIHZhciByZXEgPSBmdW5jdGlvbihjaGlsZElkKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKGlkLCBjaGlsZElkKTsKICAgIH07CgogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgZXhwb3J0czoge30sCiAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBtb2R1bGUgPSB0aGlzOwogICAgICAgICAgICB2YXIgcmV0dXJuRXhwb3J0cyA9IGZhY3RvcnkuYXBwbHkodGhpcywgZGVwcy5zbGljZSgwLCBmYWN0b3J5Lmxlbmd0aCkubWFwKGZ1bmN0aW9uKGRlcCkgewogICAgICAgICAgICAgICAgc3dpdGNoIChkZXApIHsKICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlICJyZXF1aXJlIiwgImV4cG9ydHMiIGFuZCAibW9kdWxlIiBhcmVuJ3QgYWN0dWFsCiAgICAgICAgICAgICAgICAgICAgLy8gZGVwZW5kZW5jaWVzLCB3ZSBtdXN0IGhhbmRsZSB0aGVtIHNlcGVyYXRlbHkuCiAgICAgICAgICAgICAgICAgICAgY2FzZSAicmVxdWlyZSI6IHJldHVybiByZXE7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZXhwb3J0cyI6IHJldHVybiBtb2R1bGUuZXhwb3J0czsKICAgICAgICAgICAgICAgICAgICBjYXNlICJtb2R1bGUiOiAgcmV0dXJuIG1vZHVsZTsKICAgICAgICAgICAgICAgICAgICAvLyBCdXQgZm9yIGFsbCBvdGhlciBkZXBlbmRlbmNpZXMsIHdlIGNhbiBqdXN0IGdvIGFoZWFkIGFuZAogICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmUgdGhlbS4KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAgICAgICAgcmV0dXJuIHJlcShkZXApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGlmIChyZXR1cm5FeHBvcnRzKQogICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSByZXR1cm5FeHBvcnRzOwogICAgICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICAgIH0KICAgIH07Cn07CndpbmRvdy5kZWZpbmUuYW1kID0ge307CnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHJlcXVpcmUudGxuc1tpXSA9IHRvcExldmVsTmFtZXNwYWNlc1tpXTsKfTsKCndpbmRvdy5pbml0U2VuZGVyID0gZnVuY3Rpb24gaW5pdFNlbmRlcigpIHsKCiAgICB2YXIgRXZlbnRFbWl0dGVyID0gd2luZG93LnJlcXVpcmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKICAgIHZhciBvb3AgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9vb3AiKTsKICAgIAogICAgdmFyIFNlbmRlciA9IGZ1bmN0aW9uKCkge307CiAgICAKICAgIChmdW5jdGlvbigpIHsKICAgICAgICAKICAgICAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICAgICAgICAgICAgICAKICAgICAgICB0aGlzLmNhbGxiYWNrID0gZnVuY3Rpb24oZGF0YSwgY2FsbGJhY2tJZCkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiY2FsbCIsCiAgICAgICAgICAgICAgICBpZDogY2FsbGJhY2tJZCwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgIAogICAgICAgIHRoaXMuZW1pdCA9IGZ1bmN0aW9uKG5hbWUsIGRhdGEpIHsKICAgICAgICAgICAgcG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogImV2ZW50IiwKICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgCiAgICB9KS5jYWxsKFNlbmRlci5wcm90b3R5cGUpOwogICAgCiAgICByZXR1cm4gbmV3IFNlbmRlcigpOwp9OwoKdmFyIG1haW4gPSB3aW5kb3cubWFpbiA9IG51bGw7CnZhciBzZW5kZXIgPSB3aW5kb3cuc2VuZGVyID0gbnVsbDsKCndpbmRvdy5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7CiAgICB2YXIgbXNnID0gZS5kYXRhOwogICAgaWYgKG1zZy5ldmVudCAmJiBzZW5kZXIpIHsKICAgICAgICBzZW5kZXIuX3NpZ25hbChtc2cuZXZlbnQsIG1zZy5kYXRhKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5jb21tYW5kKSB7CiAgICAgICAgaWYgKG1haW5bbXNnLmNvbW1hbmRdKQogICAgICAgICAgICBtYWluW21zZy5jb21tYW5kXS5hcHBseShtYWluLCBtc2cuYXJncyk7CiAgICAgICAgZWxzZSBpZiAod2luZG93W21zZy5jb21tYW5kXSkKICAgICAgICAgICAgd2luZG93W21zZy5jb21tYW5kXS5hcHBseSh3aW5kb3csIG1zZy5hcmdzKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBjb21tYW5kOiIgKyBtc2cuY29tbWFuZCk7CiAgICB9CiAgICBlbHNlIGlmIChtc2cuaW5pdCkgewogICAgICAgIHdpbmRvdy5pbml0QmFzZVVybHMobXNnLnRsbnMpOwogICAgICAgIHJlcXVpcmUoImFjZS9saWIvZXM1LXNoaW0iKTsKICAgICAgICBzZW5kZXIgPSB3aW5kb3cuc2VuZGVyID0gd2luZG93LmluaXRTZW5kZXIoKTsKICAgICAgICB2YXIgY2xhenogPSByZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbihjdG9yLCBzdXBlckN0b3IpIHsKICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yOwogICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHsKICAgICAgICBjb25zdHJ1Y3RvcjogewogICAgICAgICAgICB2YWx1ZTogY3RvciwKICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKICAgICAgICB9CiAgICB9KTsKfTsKCmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbihvYmosIG1peGluKSB7CiAgICBmb3IgKHZhciBrZXkgaW4gbWl4aW4pIHsKICAgICAgICBvYmpba2V5XSA9IG1peGluW2tleV07CiAgICB9CiAgICByZXR1cm4gb2JqOwp9OwoKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbihwcm90bywgbWl4aW4pIHsKICAgIGV4cG9ydHMubWl4aW4ocHJvdG8sIG1peGluKTsKfTsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKdmFyIGNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbihwMSwgcDIpIHsKICAgIHJldHVybiBwMS5yb3cgLSBwMi5yb3cgfHwgcDEuY29sdW1uIC0gcDIuY29sdW1uOwp9Owp2YXIgUmFuZ2UgPSBmdW5jdGlvbihzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKSB7CiAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgIHJvdzogc3RhcnRSb3csCiAgICAgICAgY29sdW1uOiBzdGFydENvbHVtbgogICAgfTsKCiAgICB0aGlzLmVuZCA9IHsKICAgICAgICByb3c6IGVuZFJvdywKICAgICAgICBjb2x1bW46IGVuZENvbHVtbgogICAgfTsKfTsKCihmdW5jdGlvbigpIHsKICAgIHRoaXMuaXNFcXVhbCA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gKCJSYW5nZTogWyIgKyB0aGlzLnN0YXJ0LnJvdyArICIvIiArIHRoaXMuc3RhcnQuY29sdW1uICsKICAgICAgICAgICAgIl0gLT4gWyIgKyB0aGlzLmVuZC5yb3cgKyAiLyIgKyB0aGlzLmVuZC5jb2x1bW4gKyAiXSIpOwogICAgfTsKCiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICB2YXIgY21wLAogICAgICAgICAgICBlbmQgPSByYW5nZS5lbmQsCiAgICAgICAgICAgIHN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7CgogICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShlbmQucm93LCBlbmQuY29sdW1uKTsKICAgICAgICBpZiAoY21wID09IDEpIHsKICAgICAgICAgICAgY21wID0gdGhpcy5jb21wYXJlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uKTsKICAgICAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMjsKICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoc3RhcnQucm93LCBzdGFydC5jb2x1bW4pOwogICAgICAgICAgICBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09IDEpIHsKICAgICAgICAgICAgICAgIHJldHVybiA0MjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZVBvaW50ID0gZnVuY3Rpb24ocCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocC5yb3csIHAuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVQb2ludChyYW5nZS5zdGFydCkgPT0gMCAmJiB0aGlzLmNvbXBhcmVQb2ludChyYW5nZS5lbmQpID09IDA7CiAgICB9OwogICAgdGhpcy5pbnRlcnNlY3RzID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlUmFuZ2UocmFuZ2UpOwogICAgICAgIHJldHVybiAoY21wID09IC0xIHx8IGNtcCA9PSAwIHx8IGNtcCA9PSAxKTsKICAgIH07CiAgICB0aGlzLmlzRW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuaXNTdGFydCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW47CiAgICB9OwogICAgdGhpcy5zZXRTdGFydCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHR5cGVvZiByb3cgPT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLnN0YXJ0LnJvdyA9IHJvdy5yb3c7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5zdGFydC5yb3cgPSByb3c7CiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID0gY29sdW1uOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLnNldEVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHR5cGVvZiByb3cgPT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID0gcm93LmNvbHVtbjsKICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93LnJvdzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3c7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5pbnNpZGUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQocm93LCBjb2x1bW4pIHx8IHRoaXMuaXNTdGFydChyb3csIGNvbHVtbikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgICB0aGlzLmluc2lkZVN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlRW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQocm93LCBjb2x1bW4pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogICAgdGhpcy5jb21wYXJlID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aUxpbmUoKSkgewogICAgICAgICAgICBpZiAocm93ID09PSB0aGlzLnN0YXJ0LnJvdykgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8IHRoaXMuc3RhcnQuY29sdW1uID8gLTEgOiAoY29sdW1uID4gdGhpcy5lbmQuY29sdW1uID8gMSA6IDApOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAocm93IDwgdGhpcy5zdGFydC5yb3cpCiAgICAgICAgICAgIHJldHVybiAtMTsKCiAgICAgICAgaWYgKHJvdyA+IHRoaXMuZW5kLnJvdykKICAgICAgICAgICAgcmV0dXJuIDE7CgogICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uID49IHRoaXMuc3RhcnQuY29sdW1uID8gMCA6IC0xOwoKICAgICAgICBpZiAodGhpcy5lbmQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPD0gdGhpcy5lbmQuY29sdW1uID8gMCA6IDE7CgogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZUVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlSW5zaWRlID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY2xpcFJvd3MgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0ge3JvdzogbGFzdFJvdyArIDEsIGNvbHVtbjogMH07CiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmQucm93IDwgZmlyc3RSb3cpCiAgICAgICAgICAgIHZhciBlbmQgPSB7cm93OiBmaXJzdFJvdywgY29sdW1uOiAwfTsKCiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge3JvdzogbGFzdFJvdyArIDEsIGNvbHVtbjogMH07CiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge3JvdzogZmlyc3RSb3csIGNvbHVtbjogMH07CgogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwoKICAgICAgICBpZiAoY21wID09IDApCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMSkKICAgICAgICAgICAgdmFyIHN0YXJ0ID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07CiAgICAgICAgZWxzZQogICAgICAgICAgICB2YXIgZW5kID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07CgogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwoKICAgIHRoaXMuaXNFbXB0eSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgPT09IHRoaXMuZW5kLnJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PT0gdGhpcy5lbmQuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXJ0LnJvdyAhPT0gdGhpcy5lbmQucm93KTsKICAgIH07CiAgICB0aGlzLmNsb25lID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHModGhpcy5zdGFydCwgdGhpcy5lbmQpOwogICAgfTsKICAgIHRoaXMuY29sbGFwc2VSb3dzID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLmNvbHVtbiA9PSAwKQogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCBNYXRoLm1heCh0aGlzLnN0YXJ0LnJvdywgdGhpcy5lbmQucm93LTEpLCAwKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csIDAsIHRoaXMuZW5kLnJvdywgMCk7CiAgICB9OwogICAgdGhpcy50b1NjcmVlblJhbmdlID0gZnVuY3Rpb24oc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CgogICAgICAgIHJldHVybiBuZXcgUmFuZ2UoCiAgICAgICAgICAgIHNjcmVlblBvc1N0YXJ0LnJvdywgc2NyZWVuUG9zU3RhcnQuY29sdW1uLAogICAgICAgICAgICBzY3JlZW5Qb3NFbmQucm93LCBzY3JlZW5Qb3NFbmQuY29sdW1uCiAgICAgICAgKTsKICAgIH07CiAgICB0aGlzLm1vdmVCeSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgdGhpcy5zdGFydC5yb3cgKz0gcm93OwogICAgICAgIHRoaXMuc3RhcnQuY29sdW1uICs9IGNvbHVtbjsKICAgICAgICB0aGlzLmVuZC5yb3cgKz0gcm93OwogICAgICAgIHRoaXMuZW5kLmNvbHVtbiArPSBjb2x1bW47CiAgICB9OwoKfSkuY2FsbChSYW5nZS5wcm90b3R5cGUpOwpSYW5nZS5mcm9tUG9pbnRzID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkgewogICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbiwgZW5kLnJvdywgZW5kLmNvbHVtbik7Cn07ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBjb21wYXJlUG9pbnRzOwoKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGZ1bmN0aW9uKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CgoKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7CgpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCl7CiAgICBjb25zb2xlLmxvZygiSW52YWxpZCBEZWx0YToiLCBkZWx0YSk7CiAgICB0aHJvdyAiSW52YWxpZCBEZWx0YTogIiArIGVycm9yVGV4dDsKfQoKZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyAgICA+PSAwICYmIHBvc2l0aW9uLnJvdyAgICA8ICBkb2NMaW5lcy5sZW5ndGggJiYKICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPj0gMCAmJiBwb3NpdGlvbi5jb2x1bW4gPD0gZG9jTGluZXNbcG9zaXRpb24ucm93XS5sZW5ndGg7Cn0KCmZ1bmN0aW9uIHZhbGlkYXRlRGVsdGEoZG9jTGluZXMsIGRlbHRhKSB7CiAgICBpZiAoZGVsdGEuYWN0aW9uICE9ICJpbnNlcnQiICYmIGRlbHRhLmFjdGlvbiAhPSAicmVtb3ZlIikKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5hY3Rpb24gbXVzdCBiZSAnaW5zZXJ0JyBvciAncmVtb3ZlJyIpOwogICAgaWYgKCEoZGVsdGEubGluZXMgaW5zdGFuY2VvZiBBcnJheSkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEubGluZXMgbXVzdCBiZSBhbiBBcnJheSIpOwogICAgaWYgKCFkZWx0YS5zdGFydCB8fCAhZGVsdGEuZW5kKQogICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQvZW5kIG11c3QgYmUgYW4gcHJlc2VudCIpOwogICAgdmFyIHN0YXJ0ID0gZGVsdGEuc3RhcnQ7CiAgICBpZiAoIXBvc2l0aW9uSW5Eb2N1bWVudChkb2NMaW5lcywgZGVsdGEuc3RhcnQpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLnN0YXJ0IG11c3QgYmUgY29udGFpbmVkIGluIGRvY3VtZW50Iik7CiAgICB2YXIgZW5kID0gZGVsdGEuZW5kOwogICAgaWYgKGRlbHRhLmFjdGlvbiA9PSAicmVtb3ZlIiAmJiAhcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBlbmQpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmVuZCBtdXN0IGNvbnRhaW5lZCBpbiBkb2N1bWVudCBmb3IgJ3JlbW92ZScgYWN0aW9ucyIpOwogICAgdmFyIG51bVJhbmdlUm93cyA9IGVuZC5yb3cgLSBzdGFydC5yb3c7CiAgICB2YXIgbnVtUmFuZ2VMYXN0TGluZUNoYXJzID0gKGVuZC5jb2x1bW4gLSAobnVtUmFuZ2VSb3dzID09IDAgPyBzdGFydC5jb2x1bW4gOiAwKSk7CiAgICBpZiAobnVtUmFuZ2VSb3dzICE9IGRlbHRhLmxpbmVzLmxlbmd0aCAtIDEgfHwgZGVsdGEubGluZXNbbnVtUmFuZ2VSb3dzXS5sZW5ndGggIT0gbnVtUmFuZ2VMYXN0TGluZUNoYXJzKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLnJhbmdlIG11c3QgbWF0Y2ggZGVsdGEgbGluZXMiKTsKfQoKZXhwb3J0cy5hcHBseURlbHRhID0gZnVuY3Rpb24oZG9jTGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKSB7CiAgICAKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKAogICAgICAgICAgICAgICAgICAgIHJvdywgZW5kUm93IC0gcm93ICsgMSwKICAgICAgICAgICAgICAgICAgICBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBkb2NMaW5lc1tlbmRSb3ddLnN1YnN0cmluZyhlbmRDb2x1bW4pCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgfQp9Owp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHsgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlOyB9Owp2YXIgcHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHsgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTsgfTsKCkV2ZW50RW1pdHRlci5fZW1pdCA9CkV2ZW50RW1pdHRlci5fZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZSkgewogICAgdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCAodGhpcy5fZXZlbnRSZWdpc3RyeSA9IHt9KTsKICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVycyB8fCAodGhpcy5fZGVmYXVsdEhhbmRsZXJzID0ge30pOwoKICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gfHwgW107CiAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgIGlmICghbGlzdGVuZXJzLmxlbmd0aCAmJiAhZGVmYXVsdEhhbmRsZXIpCiAgICAgICAgcmV0dXJuOwoKICAgIGlmICh0eXBlb2YgZSAhPSAib2JqZWN0IiB8fCAhZSkKICAgICAgICBlID0ge307CgogICAgaWYgKCFlLnR5cGUpCiAgICAgICAgZS50eXBlID0gZXZlbnROYW1lOwogICAgaWYgKCFlLnN0b3BQcm9wYWdhdGlvbikKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgIGlmICghZS5wcmV2ZW50RGVmYXVsdCkKICAgICAgICBlLnByZXZlbnREZWZhdWx0ID0gcHJldmVudERlZmF1bHQ7CgogICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKCk7CiAgICBmb3IgKHZhciBpPTA7IGk8bGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGlzdGVuZXJzW2ldKGUsIHRoaXMpOwogICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgYnJlYWs7CiAgICB9CiAgICAKICAgIGlmIChkZWZhdWx0SGFuZGxlciAmJiAhZS5kZWZhdWx0UHJldmVudGVkKQogICAgICAgIHJldHVybiBkZWZhdWx0SGFuZGxlcihlLCB0aGlzKTsKfTsKCgpFdmVudEVtaXR0ZXIuX3NpZ25hbCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgZSkgewogICAgdmFyIGxpc3RlbmVycyA9ICh0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9KVtldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5lcnMpCiAgICAgICAgcmV0dXJuOwogICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKCk7CiAgICBmb3IgKHZhciBpPTA7IGk8bGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKCkV2ZW50RW1pdHRlci5vbmNlID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGZ1bmN0aW9uIG5ld0NhbGxiYWNrKCkgewogICAgICAgIF9zZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7CiAgICAgICAgICAgIGNhbGxiYWNrID0gcmVzb2x2ZTsKICAgICAgICB9KTsKICAgIH0KfTsKCgpFdmVudEVtaXR0ZXIuc2V0RGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0ge19kaXNhYmxlZF86IHt9fTsKICAgIAogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkgCiAgICAgICAgICAgIGRpc2FibGVkLnNwbGljZShpLCAxKTsKICAgIH0KICAgIGhhbmRsZXJzW2V2ZW50TmFtZV0gPSBjYWxsYmFjazsKfTsKRXZlbnRFbWl0dGVyLnJlbW92ZURlZmF1bHRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAKICAgIGlmIChoYW5kbGVyc1tldmVudE5hbWVdID09IGNhbGxiYWNrKSB7CiAgICAgICAgaWYgKGRpc2FibGVkKQogICAgICAgICAgICB0aGlzLnNldERlZmF1bHRIYW5kbGVyKGV2ZW50TmFtZSwgZGlzYWJsZWQucG9wKCkpOwogICAgfSBlbHNlIGlmIChkaXNhYmxlZCkgewogICAgICAgIHZhciBpID0gZGlzYWJsZWQuaW5kZXhPZihjYWxsYmFjayk7CiAgICAgICAgaWYgKGkgIT0gLTEpCiAgICAgICAgICAgIGRpc2FibGVkLnNwbGljZShpLCAxKTsKICAgIH0KfTsKCkV2ZW50RW1pdHRlci5vbiA9CkV2ZW50RW1pdHRlci5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCB7fTsKCiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5lcnMpCiAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CgogICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICBsaXN0ZW5lcnNbY2FwdHVyaW5nID8gInVuc2hpZnQiIDogInB1c2giXShjYWxsYmFjayk7CiAgICByZXR1cm4gY2FsbGJhY2s7Cn07CgpFdmVudEVtaXR0ZXIub2ZmID0KRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KRXZlbnRFbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZXZlbnRSZWdpc3RyeSB8fCB7fTsKCiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5lcnMpCiAgICAgICAgcmV0dXJuOwoKICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTsKICAgIGlmIChpbmRleCAhPT0gLTEpCiAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7Cn07CgpFdmVudEVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnROYW1lKSB7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkgdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107Cn07CgpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL2FuY2hvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwoKdmFyIEFuY2hvciA9IGV4cG9ydHMuQW5jaG9yID0gZnVuY3Rpb24oZG9jLCByb3csIGNvbHVtbikgewogICAgdGhpcy4kb25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7CiAgICB0aGlzLmF0dGFjaChkb2MpOwogICAgCiAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSAidW5kZWZpbmVkIikKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdy5yb3csIHJvdy5jb2x1bW4pOwogICAgZWxzZQogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwp9OwoKKGZ1bmN0aW9uKCkgewoKICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgIHRoaXMuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudDsKICAgIH07CiAgICB0aGlzLiRpbnNlcnRSaWdodCA9IGZhbHNlOwogICAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uKGRlbHRhKSB7CiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA9PSBkZWx0YS5lbmQucm93ICYmIGRlbHRhLnN0YXJ0LnJvdyAhPSB0aGlzLnJvdykKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID4gdGhpcy5yb3cpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgdmFyIHBvaW50ID0gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHtyb3c6IHRoaXMucm93LCBjb2x1bW46IHRoaXMuY29sdW1ufSwgdGhpcy4kaW5zZXJ0UmlnaHQpOwogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocG9pbnQucm93LCBwb2ludC5jb2x1bW4sIHRydWUpOwogICAgfTsKICAgIAogICAgZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uOwogICAgICAgIHJldHVybiAocG9pbnQxLnJvdyA8IHBvaW50Mi5yb3cpIHx8IChwb2ludDEucm93ID09IHBvaW50Mi5yb3cgJiYgYkNvbElzQWZ0ZXIpOwogICAgfQogICAgICAgICAgICAKICAgIGZ1bmN0aW9uICRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLCBwb2ludCwgbW92ZUlmRXF1YWwpIHsKICAgICAgICB2YXIgZGVsdGFJc0luc2VydCA9IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IjsKICAgICAgICB2YXIgZGVsdGFSb3dTaGlmdCA9IChkZWx0YUlzSW5zZXJ0ID8gMSA6IC0xKSAqIChkZWx0YS5lbmQucm93ICAgIC0gZGVsdGEuc3RhcnQucm93KTsKICAgICAgICB2YXIgZGVsdGFDb2xTaGlmdCA9IChkZWx0YUlzSW5zZXJ0ID8gMSA6IC0xKSAqIChkZWx0YS5lbmQuY29sdW1uIC0gZGVsdGEuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZGVsdGFTdGFydCA9IGRlbHRhLnN0YXJ0OwogICAgICAgIHZhciBkZWx0YUVuZCA9IGRlbHRhSXNJbnNlcnQgPyBkZWx0YVN0YXJ0IDogZGVsdGEuZW5kOyAvLyBDb2xsYXBzZSBpbnNlcnQgcmFuZ2UuCiAgICAgICAgaWYgKCRwb2ludHNJbk9yZGVyKHBvaW50LCBkZWx0YVN0YXJ0LCBtb3ZlSWZFcXVhbCkpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHJvdzogcG9pbnQucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb2ludC5jb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgaWYgKCRwb2ludHNJbk9yZGVyKGRlbHRhRW5kLCBwb2ludCwgIW1vdmVJZkVxdWFsKSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3cgKyBkZWx0YVJvd1NoaWZ0LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb2ludC5jb2x1bW4gKyAocG9pbnQucm93ID09IGRlbHRhRW5kLnJvdyA/IGRlbHRhQ29sU2hpZnQgOiAwKQogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByb3c6IGRlbHRhU3RhcnQucm93LAogICAgICAgICAgICBjb2x1bW46IGRlbHRhU3RhcnQuY29sdW1uCiAgICAgICAgfTsKICAgIH0KICAgIHRoaXMuc2V0UG9zaXRpb24gPSBmdW5jdGlvbihyb3csIGNvbHVtbiwgbm9DbGlwKSB7CiAgICAgICAgdmFyIHBvczsKICAgICAgICBpZiAobm9DbGlwKSB7CiAgICAgICAgICAgIHBvcyA9IHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwb3MgPSB0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHJvdywgY29sdW1uKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLnJvdyA9PSBwb3Mucm93ICYmIHRoaXMuY29sdW1uID09IHBvcy5jb2x1bW4pCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgdmFyIG9sZCA9IHsKICAgICAgICAgICAgcm93OiB0aGlzLnJvdywKICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbgogICAgICAgIH07CgogICAgICAgIHRoaXMucm93ID0gcG9zLnJvdzsKICAgICAgICB0aGlzLmNvbHVtbiA9IHBvcy5jb2x1bW47CiAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLCB7CiAgICAgICAgICAgIG9sZDogb2xkLAogICAgICAgICAgICB2YWx1ZTogcG9zCiAgICAgICAgfSk7CiAgICB9OwogICAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbigpIHsKICAgICAgICB0aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIHRoaXMuJG9uQ2hhbmdlKTsKICAgIH07CiAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgdmFyIHBvcyA9IHt9OwoKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNvbHVtbiA8IDApCiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwoKICAgICAgICByZXR1cm4gcG9zOwogICAgfTsKCn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKCnZhciBEb2N1bWVudCA9IGZ1bmN0aW9uKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRleHRPckxpbmVzKSkgewogICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3JvdzogMCwgY29sdW1uOiAwfSwgdGV4dE9yTGluZXMpOwogICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmluc2VydCh7cm93OiAwLCBjb2x1bW46MH0sIHRleHRPckxpbmVzKTsKICAgIH0KfTsKCihmdW5jdGlvbigpIHsKCiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgIHZhciBsZW4gPSB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB0aGlzLnJlbW92ZShuZXcgUmFuZ2UoMCwgMCwgbGVuLCB0aGlzLmdldExpbmUobGVuKS5sZW5ndGgpKTsKICAgICAgICB0aGlzLmluc2VydCh7cm93OiAwLCBjb2x1bW46IDB9LCB0ZXh0KTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsTGluZXMoKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmNyZWF0ZUFuY2hvciA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIG5ldyBBbmNob3IodGhpcywgcm93LCBjb2x1bW4pOwogICAgfTsKICAgIGlmICgiYWFhIi5zcGxpdCgvYS8pLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJHNwbGl0ID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHNwbGl0ID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5zcGxpdCgvXHJcbnxccnxcbi8pOwogICAgICAgIH07CiAgICB9CgoKICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbih0ZXh0KSB7CiAgICAgICAgdmFyIG1hdGNoID0gdGV4dC5tYXRjaCgvXi4qPyhcclxufFxyfFxuKS9tKTsKICAgICAgICB0aGlzLiRhdXRvTmV3TGluZSA9IG1hdGNoID8gbWF0Y2hbMV0gOiAiXG4iOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICBzd2l0Y2ggKHRoaXMuJG5ld0xpbmVNb2RlKSB7CiAgICAgICAgICBjYXNlICJ3aW5kb3dzIjoKICAgICAgICAgICAgcmV0dXJuICJcclxuIjsKICAgICAgICAgIGNhc2UgInVuaXgiOgogICAgICAgICAgICByZXR1cm4gIlxuIjsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRvTmV3TGluZSB8fCAiXG4iOwogICAgICAgIH0KICAgIH07CgogICAgdGhpcy4kYXV0b05ld0xpbmUgPSAiIjsKICAgIHRoaXMuJG5ld0xpbmVNb2RlID0gImF1dG8iOwogICAgdGhpcy5zZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKG5ld0xpbmVNb2RlKSB7CiAgICAgICAgaWYgKHRoaXMuJG5ld0xpbmVNb2RlID09PSBuZXdMaW5lTW9kZSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICB0aGlzLiRuZXdMaW5lTW9kZSA9IG5ld0xpbmVNb2RlOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICB0aGlzLmdldE5ld0xpbmVNb2RlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlOwogICAgfTsKICAgIHRoaXMuaXNOZXdMaW5lID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24ocm93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzW3Jvd10gfHwgIiI7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICB9OwogICAgdGhpcy5nZXRBbGxMaW5lcyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgIH07CiAgICB0aGlzLmdldFRleHRSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lc0ZvclJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGluZXMgPSB0aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2UuZW5kLnJvdyk7CiAgICAgICAgICAgIGxpbmVzWzBdID0gKGxpbmVzWzBdIHx8ICIiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSAxOwogICAgICAgICAgICBpZiAocmFuZ2UuZW5kLnJvdyAtIHJhbmdlLnN0YXJ0LnJvdyA9PSBsKQogICAgICAgICAgICAgICAgbGluZXNbbF0gPSBsaW5lc1tsXS5zdWJzdHJpbmcoMCwgcmFuZ2UuZW5kLmNvbHVtbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaW5lczsKICAgIH07CiAgICB0aGlzLmluc2VydExpbmVzID0gZnVuY3Rpb24ocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5yZW1vdmVMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIHJlbW92ZUZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC4iKTsKICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csIGxhc3RSb3cpOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TmV3TGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TmV3TGluZSBpcyBkZXByZWNhdGVkLiBVc2UgaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsnJywgJyddKSBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbIiIsICIiXSk7CiAgICB9OwogICAgdGhpcy5pbnNlcnQgPSBmdW5jdGlvbihwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uLCB0ZXh0KSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5wb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4gKyB0ZXh0Lmxlbmd0aCk7CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IFt0ZXh0XQogICAgICAgIH0sIHRydWUpOwogICAgICAgIAogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKGVuZCk7CiAgICB9OwogICAgCiAgICB0aGlzLmNsaXBwZWRQb3MgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfSBlbHNlIGlmIChyb3cgPCAwKSB7CiAgICAgICAgICAgIHJvdyA9IDA7CiAgICAgICAgfSBlbHNlIGlmIChyb3cgPj0gbGVuZ3RoKSB7CiAgICAgICAgICAgIHJvdyA9IGxlbmd0aCAtIDE7CiAgICAgICAgICAgIGNvbHVtbiA9IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUocm93KTsKICAgICAgICBpZiAoY29sdW1uID09IHVuZGVmaW5lZCkKICAgICAgICAgICAgY29sdW1uID0gbGluZS5sZW5ndGg7CiAgICAgICAgY29sdW1uID0gTWF0aC5taW4oTWF0aC5tYXgoY29sdW1uLCAwKSwgbGluZS5sZW5ndGgpOwogICAgICAgIHJldHVybiB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTsKICAgIH07CiAgICAKICAgIHRoaXMuY2xvbmVQb3MgPSBmdW5jdGlvbihwb3MpIHsKICAgICAgICByZXR1cm4ge3JvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1ufTsKICAgIH07CiAgICAKICAgIHRoaXMucG9zID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07CiAgICB9OwogICAgCiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbihwb3NpdGlvbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChwb3NpdGlvbi5yb3cgPj0gbGVuZ3RoKSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIGxlbmd0aCAtIDEpOwogICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPSB0aGlzLmdldExpbmUobGVuZ3RoIC0gMSkubGVuZ3RoOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uKHJvdywgbGluZXMpIHsKICAgICAgICByb3cgPSBNYXRoLm1pbihNYXRoLm1heChyb3csIDApLCB0aGlzLmdldExlbmd0aCgpKTsKICAgICAgICB2YXIgY29sdW1uID0gMDsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSkgewogICAgICAgICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChbIiJdKTsKICAgICAgICAgICAgY29sdW1uID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59LCBsaW5lcyk7CiAgICB9OyAgICAKICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMgPSBmdW5jdGlvbihwb3NpdGlvbiwgbGluZXMpIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB7CiAgICAgICAgICAgIHJvdzogc3RhcnQucm93ICsgbGluZXMubGVuZ3RoIC0gMSwKICAgICAgICAgICAgY29sdW1uOiAobGluZXMubGVuZ3RoID09IDEgPyBzdGFydC5jb2x1bW4gOiAwKSArIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aAogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IGxpbmVzCiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2Uoe3N0YXJ0OiBzdGFydCwgZW5kOiBlbmR9KQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUluTGluZSA9IGZ1bmN0aW9uKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICAKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDogc3RhcnQsIGVuZDogZW5kfSkKICAgICAgICB9LCB0cnVlKTsKICAgICAgICAKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhzdGFydCk7CiAgICB9OwogICAgdGhpcy5yZW1vdmVGdWxsTGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyAgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBsYXN0Um93ICksIHRoaXMuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICB2YXIgZGVsZXRlRmlyc3ROZXdMaW5lID0gbGFzdFJvdyA9PSB0aGlzLmdldExlbmd0aCgpIC0gMSAmJiBmaXJzdFJvdyA+IDA7CiAgICAgICAgdmFyIGRlbGV0ZUxhc3ROZXdMaW5lICA9IGxhc3RSb3cgIDwgdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gKCBkZWxldGVGaXJzdE5ld0xpbmUgPyBmaXJzdFJvdyAtIDEgICAgICAgICAgICAgICAgICA6IGZpcnN0Um93ICAgICAgICAgICAgICAgICAgICApOwogICAgICAgIHZhciBzdGFydENvbCA9ICggZGVsZXRlRmlyc3ROZXdMaW5lID8gdGhpcy5nZXRMaW5lKHN0YXJ0Um93KS5sZW5ndGggOiAwICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICB2YXIgZW5kUm93ICAgPSAoIGRlbGV0ZUxhc3ROZXdMaW5lICA/IGxhc3RSb3cgKyAxICAgICAgICAgICAgICAgICAgIDogbGFzdFJvdyAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgdmFyIGVuZENvbCAgID0gKCBkZWxldGVMYXN0TmV3TGluZSAgPyAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0TGluZShlbmRSb3cpLmxlbmd0aCApOyAKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uKHJvdykgewogICAgICAgIGlmIChyb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMSAmJiByb3cgPj0gMCkgewogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMucG9zKHJvdywgdGhpcy5nZXRMaW5lKHJvdykubGVuZ3RoKSwKICAgICAgICAgICAgICAgIGVuZDogdGhpcy5wb3Mocm93ICsgMSwgMCksCiAgICAgICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICAgICAgbGluZXM6IFsiIiwgIiJdCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLnJlcGxhY2UgPSBmdW5jdGlvbihyYW5nZSwgdGV4dCkgewogICAgICAgIGlmICghKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2UpKQogICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCk7CiAgICAgICAgaWYgKHRleHQubGVuZ3RoID09PSAwICYmIHJhbmdlLmlzRW1wdHkoKSkKICAgICAgICAgICAgcmV0dXJuIHJhbmdlLnN0YXJ0OwogICAgICAgIGlmICh0ZXh0ID09IHRoaXMuZ2V0VGV4dFJhbmdlKHJhbmdlKSkKICAgICAgICAgICAgcmV0dXJuIHJhbmdlLmVuZDsKCiAgICAgICAgdGhpcy5yZW1vdmUocmFuZ2UpOwogICAgICAgIHZhciBlbmQ7CiAgICAgICAgaWYgKHRleHQpIHsKICAgICAgICAgICAgZW5kID0gdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsIHRleHQpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgZW5kID0gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiBlbmQ7CiAgICB9OwogICAgdGhpcy5hcHBseURlbHRhcyA9IGZ1bmN0aW9uKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGk9MDsgaTxkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24oZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaT1kZWx0YXMubGVuZ3RoLTE7IGk+PTA7IGktLSkgewogICAgICAgICAgICB0aGlzLnJldmVydERlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uKGRlbHRhLCBkb05vdFZhbGlkYXRlKSB7CiAgICAgICAgdmFyIGlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIGlmIChpc0luc2VydCA/IGRlbHRhLmxpbmVzLmxlbmd0aCA8PSAxICYmICFkZWx0YS5saW5lc1swXQogICAgICAgICAgICA6ICFSYW5nZS5jb21wYXJlUG9pbnRzKGRlbHRhLnN0YXJ0LCBkZWx0YS5lbmQpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKGlzSW5zZXJ0ICYmIGRlbHRhLmxpbmVzLmxlbmd0aCA+IDIwMDAwKSB7CiAgICAgICAgICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhKGRlbHRhLCAyMDAwMCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBhcHBseURlbHRhKHRoaXMuJGxpbmVzLCBkZWx0YSwgZG9Ob3RWYWxpZGF0ZSk7CiAgICAgICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlIiwgZGVsdGEpOwogICAgICAgIH0KICAgIH07CiAgICAKICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24oZGVsdGEsIE1BWCkgewogICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgIHZhciBsID0gbGluZXMubGVuZ3RoIC0gTUFYICsgMTsKICAgICAgICB2YXIgcm93ID0gZGVsdGEuc3RhcnQucm93OyAKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbihkZWx0YSkgewogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSwKICAgICAgICAgICAgZW5kOiB0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksCiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiA/ICJyZW1vdmUiIDogImluc2VydCIpLAogICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKQogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuaW5kZXhUb1Bvc2l0aW9uID0gZnVuY3Rpb24oaW5kZXgsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdyB8fCAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICAgIGluZGV4IC09IGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGg7CiAgICAgICAgICAgIGlmIChpbmRleCA8IDApCiAgICAgICAgICAgICAgICByZXR1cm4ge3JvdzogaSwgY29sdW1uOiBpbmRleCArIGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGh9OwogICAgICAgIH0KICAgICAgICByZXR1cm4ge3JvdzogbC0xLCBjb2x1bW46IGluZGV4ICsgbGluZXNbbC0xXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RofTsKICAgIH07CiAgICB0aGlzLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uKHBvcywgc3RhcnRSb3cpIHsKICAgICAgICB2YXIgbGluZXMgPSB0aGlzLiRsaW5lcyB8fCB0aGlzLmdldEFsbExpbmVzKCk7CiAgICAgICAgdmFyIG5ld2xpbmVMZW5ndGggPSB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGg7CiAgICAgICAgdmFyIGluZGV4ID0gMDsKICAgICAgICB2YXIgcm93ID0gTWF0aC5taW4ocG9zLnJvdywgbGluZXMubGVuZ3RoKTsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMDsgaSA8IHJvdzsgKytpKQogICAgICAgICAgICBpbmRleCArPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwoKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKCn0pLmNhbGwoRG9jdW1lbnQucHJvdG90eXBlKTsKCmV4cG9ydHMuRG9jdW1lbnQgPSBEb2N1bWVudDsKfSk7CgphY2UuZGVmaW5lKCJhY2UvbGliL2xhbmciLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKZXhwb3J0cy5sYXN0ID0gZnVuY3Rpb24oYSkgewogICAgcmV0dXJuIGFbYS5sZW5ndGggLSAxXTsKfTsKCmV4cG9ydHMuc3RyaW5nUmV2ZXJzZSA9IGZ1bmN0aW9uKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpOwp9OwoKZXhwb3J0cy5zdHJpbmdSZXBlYXQgPSBmdW5jdGlvbiAoc3RyaW5nLCBjb3VudCkgewogICAgdmFyIHJlc3VsdCA9ICcnOwogICAgd2hpbGUgKGNvdW50ID4gMCkgewogICAgICAgIGlmIChjb3VudCAmIDEpCiAgICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7CgogICAgICAgIGlmIChjb3VudCA+Pj0gMSkKICAgICAgICAgICAgc3RyaW5nICs9IHN0cmluZzsKICAgIH0KICAgIHJldHVybiByZXN1bHQ7Cn07Cgp2YXIgdHJpbUJlZ2luUmVnZXhwID0gL15cc1xzKi87CnZhciB0cmltRW5kUmVnZXhwID0gL1xzXHMqJC87CgpleHBvcnRzLnN0cmluZ1RyaW1MZWZ0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCwgJycpOwp9OwoKZXhwb3J0cy5zdHJpbmdUcmltUmlnaHQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCwgJycpOwp9OwoKZXhwb3J0cy5jb3B5T2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7CiAgICB2YXIgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIGNvcHlba2V5XSA9IG9ialtrZXldOwogICAgfQogICAgcmV0dXJuIGNvcHk7Cn07CgpleHBvcnRzLmNvcHlBcnJheSA9IGZ1bmN0aW9uKGFycmF5KXsKICAgIHZhciBjb3B5ID0gW107CiAgICBmb3IgKHZhciBpPTAsIGw9YXJyYXkubGVuZ3RoOyBpPGw7IGkrKykgewogICAgICAgIGlmIChhcnJheVtpXSAmJiB0eXBlb2YgYXJyYXlbaV0gPT0gIm9iamVjdCIpCiAgICAgICAgICAgIGNvcHlbaV0gPSB0aGlzLmNvcHlPYmplY3QoYXJyYXlbaV0pOwogICAgICAgIGVsc2UgCiAgICAgICAgICAgIGNvcHlbaV0gPSBhcnJheVtpXTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwoKZXhwb3J0cy5kZWVwQ29weSA9IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgaWYgKHR5cGVvZiBvYmogIT09ICJvYmplY3QiIHx8ICFvYmopCiAgICAgICAgcmV0dXJuIG9iajsKICAgIHZhciBjb3B5OwogICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewogICAgICAgIGNvcHkgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBvYmoubGVuZ3RoOyBrZXkrKykgewogICAgICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3B5OwogICAgfQogICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAiW29iamVjdCBPYmplY3RdIikKICAgICAgICByZXR1cm4gb2JqOwogICAgCiAgICBjb3B5ID0ge307CiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKQogICAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTsKICAgIHJldHVybiBjb3B5Owp9OwoKZXhwb3J0cy5hcnJheVRvTWFwID0gZnVuY3Rpb24oYXJyKSB7CiAgICB2YXIgbWFwID0ge307CiAgICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbWFwW2FycltpXV0gPSAxOwogICAgfQogICAgcmV0dXJuIG1hcDsKCn07CgpleHBvcnRzLmNyZWF0ZU1hcCA9IGZ1bmN0aW9uKHByb3BzKSB7CiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIGZvciAodmFyIGkgaW4gcHJvcHMpIHsKICAgICAgICBtYXBbaV0gPSBwcm9wc1tpXTsKICAgIH0KICAgIHJldHVybiBtYXA7Cn07CmV4cG9ydHMuYXJyYXlSZW1vdmUgPSBmdW5jdGlvbihhcnJheSwgdmFsdWUpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8PSBhcnJheS5sZW5ndGg7IGkrKykgewogICAgaWYgKHZhbHVlID09PSBhcnJheVtpXSkgewogICAgICBhcnJheS5zcGxpY2UoaSwgMSk7CiAgICB9CiAgfQp9OwoKZXhwb3J0cy5lc2NhcGVSZWdFeHAgPSBmdW5jdGlvbihzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvKFsuKis/XiR7fSgpfFtcXVwvXFxdKS9nLCAnXFwkMScpOwp9OwoKZXhwb3J0cy5lc2NhcGVIVE1MID0gZnVuY3Rpb24oc3RyKSB7CiAgICByZXR1cm4gKCIiICsgc3RyKS5yZXBsYWNlKC8mL2csICImIzM4OyIpLnJlcGxhY2UoLyIvZywgIiYjMzQ7IikucmVwbGFjZSgvJy9nLCAiJiMzOTsiKS5yZXBsYWNlKC88L2csICImIzYwOyIpOwp9OwoKZXhwb3J0cy5nZXRNYXRjaE9mZnNldHMgPSBmdW5jdGlvbihzdHJpbmcsIHJlZ0V4cCkgewogICAgdmFyIG1hdGNoZXMgPSBbXTsKCiAgICBzdHJpbmcucmVwbGFjZShyZWdFeHAsIGZ1bmN0aW9uKHN0cikgewogICAgICAgIG1hdGNoZXMucHVzaCh7CiAgICAgICAgICAgIG9mZnNldDogYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMl0sCiAgICAgICAgICAgIGxlbmd0aDogc3RyLmxlbmd0aAogICAgICAgIH0pOwogICAgfSk7CgogICAgcmV0dXJuIG1hdGNoZXM7Cn07CmV4cG9ydHMuZGVmZXJyZWRDYWxsID0gZnVuY3Rpb24oZmNuKSB7CiAgICB2YXIgdGltZXIgPSBudWxsOwogICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgICAgIGZjbigpOwogICAgfTsKCiAgICB2YXIgZGVmZXJyZWQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgZGVmZXJyZWQuY2FuY2VsKCk7CiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IDApOwogICAgICAgIHJldHVybiBkZWZlcnJlZDsKICAgIH07CgogICAgZGVmZXJyZWQuc2NoZWR1bGUgPSBkZWZlcnJlZDsKCiAgICBkZWZlcnJlZC5jYWxsID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICBmY24oKTsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwoKICAgIGRlZmVycmVkLmNhbmNlbCA9IGZ1bmN0aW9uKCkgewogICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgICAgIHJldHVybiBkZWZlcnJlZDsKICAgIH07CiAgICAKICAgIGRlZmVycmVkLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CgogICAgcmV0dXJuIGRlZmVycmVkOwp9OwoKCmV4cG9ydHMuZGVsYXllZENhbGwgPSBmdW5jdGlvbihmY24sIGRlZmF1bHRUaW1lb3V0KSB7CiAgICB2YXIgdGltZXIgPSBudWxsOwogICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgICAgIGZjbigpOwogICAgfTsKCiAgICB2YXIgX3NlbGYgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgaWYgKHRpbWVyID09IG51bGwpCiAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCBkZWZhdWx0VGltZW91dCk7CiAgICB9OwoKICAgIF9zZWxmLmRlbGF5ID0gZnVuY3Rpb24odGltZW91dCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CiAgICBfc2VsZi5zY2hlZHVsZSA9IF9zZWxmOwoKICAgIF9zZWxmLmNhbGwgPSBmdW5jdGlvbigpIHsKICAgICAgICB0aGlzLmNhbmNlbCgpOwogICAgICAgIGZjbigpOwogICAgfTsKCiAgICBfc2VsZi5jYW5jZWwgPSBmdW5jdGlvbigpIHsKICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgIH07CgogICAgX3NlbGYuaXNQZW5kaW5nID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRpbWVyOwogICAgfTsKCiAgICByZXR1cm4gX3NlbGY7Cn07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL3dvcmtlci9taXJyb3IiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIFJhbmdlID0gcmVxdWlyZSgiLi4vcmFuZ2UiKS5SYW5nZTsKdmFyIERvY3VtZW50ID0gcmVxdWlyZSgiLi4vZG9jdW1lbnQiKS5Eb2N1bWVudDsKdmFyIGxhbmcgPSByZXF1aXJlKCIuLi9saWIvbGFuZyIpOwogICAgCnZhciBNaXJyb3IgPSBleHBvcnRzLk1pcnJvciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgdGhpcy5zZW5kZXIgPSBzZW5kZXI7CiAgICB2YXIgZG9jID0gdGhpcy5kb2MgPSBuZXcgRG9jdW1lbnQoIiIpOwogICAgCiAgICB2YXIgZGVmZXJyZWRVcGRhdGUgPSB0aGlzLmRlZmVycmVkVXBkYXRlID0gbGFuZy5kZWxheWVkQ2FsbCh0aGlzLm9uVXBkYXRlLmJpbmQodGhpcykpOwogICAgCiAgICB2YXIgX3NlbGYgPSB0aGlzOwogICAgc2VuZGVyLm9uKCJjaGFuZ2UiLCBmdW5jdGlvbihlKSB7CiAgICAgICAgdmFyIGRhdGEgPSBlLmRhdGE7CiAgICAgICAgaWYgKGRhdGFbMF0uc3RhcnQpIHsKICAgICAgICAgICAgZG9jLmFwcGx5RGVsdGFzKGRhdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gMikgewogICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YVtpKzFdKSkgewogICAgICAgICAgICAgICAgICAgIHZhciBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSB7YWN0aW9uOiAicmVtb3ZlIiwgc3RhcnQ6IGRhdGFbaV0sIGVuZDogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRvYy5hcHBseURlbHRhKGQsIHRydWUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChfc2VsZi4kdGltZW91dCkKICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkVXBkYXRlLnNjaGVkdWxlKF9zZWxmLiR0aW1lb3V0KTsKICAgICAgICBfc2VsZi5vblVwZGF0ZSgpOwogICAgfSk7Cn07CgooZnVuY3Rpb24oKSB7CiAgICAKICAgIHRoaXMuJHRpbWVvdXQgPSA1MDA7CiAgICAKICAgIHRoaXMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsKICAgICAgICB0aGlzLiR0aW1lb3V0ID0gdGltZW91dDsKICAgIH07CiAgICAKICAgIHRoaXMuc2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgIHRoaXMuZG9jLnNldFZhbHVlKHZhbHVlKTsKICAgICAgICB0aGlzLmRlZmVycmVkVXBkYXRlLnNjaGVkdWxlKHRoaXMuJHRpbWVvdXQpOwogICAgfTsKICAgIAogICAgdGhpcy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrSWQpIHsKICAgICAgICB0aGlzLnNlbmRlci5jYWxsYmFjayh0aGlzLmRvYy5nZXRWYWx1ZSgpLCBjYWxsYmFja0lkKTsKICAgIH07CiAgICAKICAgIHRoaXMub25VcGRhdGUgPSBmdW5jdGlvbigpIHsKICAgIH07CiAgICAKICAgIHRoaXMuaXNQZW5kaW5nID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVmZXJyZWRVcGRhdGUuaXNQZW5kaW5nKCk7CiAgICB9OwogICAgCn0pLmNhbGwoTWlycm9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9tb2RlL2pzb24vanNvbl9wYXJzZSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7CgogICAgdmFyIGF0LCAgICAgLy8gVGhlIGluZGV4IG9mIHRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGNoLCAgICAgLy8gVGhlIGN1cnJlbnQgY2hhcmFjdGVyCiAgICAgICAgZXNjYXBlZSA9IHsKICAgICAgICAgICAgJyInOiAgJyInLAogICAgICAgICAgICAnXFwnOiAnXFwnLAogICAgICAgICAgICAnLyc6ICAnLycsCiAgICAgICAgICAgIGI6ICAgICdcYicsCiAgICAgICAgICAgIGY6ICAgICdcZicsCiAgICAgICAgICAgIG46ICAgICdcbicsCiAgICAgICAgICAgIHI6ICAgICdccicsCiAgICAgICAgICAgIHQ6ICAgICdcdCcKICAgICAgICB9LAogICAgICAgIHRleHQsCgogICAgICAgIGVycm9yID0gZnVuY3Rpb24gKG0pIHsKCiAgICAgICAgICAgIHRocm93IHsKICAgICAgICAgICAgICAgIG5hbWU6ICAgICdTeW50YXhFcnJvcicsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtLAogICAgICAgICAgICAgICAgYXQ6ICAgICAgYXQsCiAgICAgICAgICAgICAgICB0ZXh0OiAgICB0ZXh0CiAgICAgICAgICAgIH07CiAgICAgICAgfSwKCiAgICAgICAgbmV4dCA9IGZ1bmN0aW9uIChjKSB7CgogICAgICAgICAgICBpZiAoYyAmJiBjICE9PSBjaCkgewogICAgICAgICAgICAgICAgZXJyb3IoIkV4cGVjdGVkICciICsgYyArICInIGluc3RlYWQgb2YgJyIgKyBjaCArICInIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNoID0gdGV4dC5jaGFyQXQoYXQpOwogICAgICAgICAgICBhdCArPSAxOwogICAgICAgICAgICByZXR1cm4gY2g7CiAgICAgICAgfSwKCiAgICAgICAgbnVtYmVyID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIG51bWJlciwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnOwoKICAgICAgICAgICAgaWYgKGNoID09PSAnLScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyA9ICctJzsKICAgICAgICAgICAgICAgIG5leHQoJy0nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB3aGlsZSAoY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChjaCA9PT0gJy4nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gJy4nOwogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSAmJiBjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChjaCA9PT0gJ2UnIHx8IGNoID09PSAnRScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nIHx8IGNoID09PSAnKycpIHsKICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIG51bWJlciA9ICtzdHJpbmc7CiAgICAgICAgICAgIGlmIChpc05hTihudW1iZXIpKSB7CiAgICAgICAgICAgICAgICBlcnJvcigiQmFkIG51bWJlciIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHN0cmluZyA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBoZXgsCiAgICAgICAgICAgICAgICBpLAogICAgICAgICAgICAgICAgc3RyaW5nID0gJycsCiAgICAgICAgICAgICAgICB1ZmZmZjsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dCgpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAnIicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd1JykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdWZmZmYgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDQ7IGkgKz0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhleCA9IHBhcnNlSW50KG5leHQoKSwgMTYpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNGaW5pdGUoaGV4KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWZmZmYgPSB1ZmZmZiAqIDE2ICsgaGV4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodWZmZmYpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBlc2NhcGVlW2NoXSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBlc2NhcGVlW2NoXTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PSAiXG4iIHx8IGNoID09ICJcciIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIHN0cmluZyIpOwogICAgICAgIH0sCgogICAgICAgIHdoaXRlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgd2hpbGUgKGNoICYmIGNoIDw9ICcgJykgewogICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgd29yZCA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICAgICAgY2FzZSAndCc6CiAgICAgICAgICAgICAgICBuZXh0KCd0Jyk7CiAgICAgICAgICAgICAgICBuZXh0KCdyJyk7CiAgICAgICAgICAgICAgICBuZXh0KCd1Jyk7CiAgICAgICAgICAgICAgICBuZXh0KCdlJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgY2FzZSAnZic6CiAgICAgICAgICAgICAgICBuZXh0KCdmJyk7CiAgICAgICAgICAgICAgICBuZXh0KCdhJyk7CiAgICAgICAgICAgICAgICBuZXh0KCdsJyk7CiAgICAgICAgICAgICAgICBuZXh0KCdzJyk7CiAgICAgICAgICAgICAgICBuZXh0KCdlJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIGNhc2UgJ24nOgogICAgICAgICAgICAgICAgbmV4dCgnbicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIlVuZXhwZWN0ZWQgJyIgKyBjaCArICInIik7CiAgICAgICAgfSwKCiAgICAgICAgdmFsdWUsICAvLyBQbGFjZSBob2xkZXIgZm9yIHRoZSB2YWx1ZSBmdW5jdGlvbi4KCiAgICAgICAgYXJyYXkgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgYXJyYXkgPSBbXTsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJ1snKSB7CiAgICAgICAgICAgICAgICBuZXh0KCdbJyk7CiAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgaWYgKGNoID09PSAnXScpIHsKICAgICAgICAgICAgICAgICAgICBuZXh0KCddJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OyAgIC8vIGVtcHR5IGFycmF5CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3aGlsZSAoY2gpIHsKICAgICAgICAgICAgICAgICAgICBhcnJheS5wdXNoKHZhbHVlKCkpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAnXScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG5leHQoJywnKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJCYWQgYXJyYXkiKTsKICAgICAgICB9LAoKICAgICAgICBvYmplY3QgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIga2V5LAogICAgICAgICAgICAgICAgb2JqZWN0ID0ge307CgogICAgICAgICAgICBpZiAoY2ggPT09ICd7JykgewogICAgICAgICAgICAgICAgbmV4dCgneycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnfScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Q7ICAgLy8gZW1wdHkgb2JqZWN0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3aGlsZSAoY2gpIHsKICAgICAgICAgICAgICAgICAgICBrZXkgPSBzdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIG5leHQoJzonKTsKICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKCdEdXBsaWNhdGUga2V5ICInICsga2V5ICsgJyInKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZSgpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAnfScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgnfScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIG9iamVjdCIpOwogICAgICAgIH07CgogICAgdmFsdWUgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgIHdoaXRlKCk7CiAgICAgICAgc3dpdGNoIChjaCkgewogICAgICAgIGNhc2UgJ3snOgogICAgICAgICAgICByZXR1cm4gb2JqZWN0KCk7CiAgICAgICAgY2FzZSAnWyc6CiAgICAgICAgICAgIHJldHVybiBhcnJheSgpOwogICAgICAgIGNhc2UgJyInOgogICAgICAgICAgICByZXR1cm4gc3RyaW5nKCk7CiAgICAgICAgY2FzZSAnLSc6CiAgICAgICAgICAgIHJldHVybiBudW1iZXIoKTsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gY2ggPj0gJzAnICYmIGNoIDw9ICc5JyA/IG51bWJlcigpIDogd29yZCgpOwogICAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UsIHJldml2ZXIpIHsKICAgICAgICB2YXIgcmVzdWx0OwoKICAgICAgICB0ZXh0ID0gc291cmNlOwogICAgICAgIGF0ID0gMDsKICAgICAgICBjaCA9ICcgJzsKICAgICAgICByZXN1bHQgPSB2YWx1ZSgpOwogICAgICAgIHdoaXRlKCk7CiAgICAgICAgaWYgKGNoKSB7CiAgICAgICAgICAgIGVycm9yKCJTeW50YXggZXJyb3IiKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0eXBlb2YgcmV2aXZlciA9PT0gJ2Z1bmN0aW9uJyA/IGZ1bmN0aW9uIHdhbGsoaG9sZGVyLCBrZXkpIHsKICAgICAgICAgICAgdmFyIGssIHYsIHZhbHVlID0gaG9sZGVyW2tleV07CiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgICAgICBmb3IgKGsgaW4gdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGspKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHYgPSB3YWxrKHZhbHVlLCBrKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVba10gPSB2OwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlW2tdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZXZpdmVyLmNhbGwoaG9sZGVyLCBrZXksIHZhbHVlKTsKICAgICAgICB9KHsnJzogcmVzdWx0fSwgJycpIDogcmVzdWx0OwogICAgfTsKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uX3dvcmtlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgTWlycm9yID0gcmVxdWlyZSgiLi4vd29ya2VyL21pcnJvciIpLk1pcnJvcjsKdmFyIHBhcnNlID0gcmVxdWlyZSgiLi9qc29uL2pzb25fcGFyc2UiKTsKCnZhciBKc29uV29ya2VyID0gZXhwb3J0cy5Kc29uV29ya2VyID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICBNaXJyb3IuY2FsbCh0aGlzLCBzZW5kZXIpOwogICAgdGhpcy5zZXRUaW1lb3V0KDIwMCk7Cn07Cgpvb3AuaW5oZXJpdHMoSnNvbldvcmtlciwgTWlycm9yKTsKCihmdW5jdGlvbigpIHsKCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5kb2MuZ2V0VmFsdWUoKTsKICAgICAgICB2YXIgZXJyb3JzID0gW107CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKHZhbHVlKQogICAgICAgICAgICAgICAgcGFyc2UodmFsdWUpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMuZG9jLmluZGV4VG9Qb3NpdGlvbihlLmF0LTEpOwogICAgICAgICAgICBlcnJvcnMucHVzaCh7CiAgICAgICAgICAgICAgICByb3c6IHBvcy5yb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvcy5jb2x1bW4sCiAgICAgICAgICAgICAgICB0ZXh0OiBlLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICB0aGlzLnNlbmRlci5lbWl0KCJhbm5vdGF0ZSIsIGVycm9ycyk7CiAgICB9OwoKfSkuY2FsbChKc29uV29ya2VyLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXM1LXNoaW0iLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKCmZ1bmN0aW9uIEVtcHR5KCkge30KCmlmICghRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpIHsKICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZCh0aGF0KSB7IC8vIC5sZW5ndGggaXMgMQogICAgICAgIHZhciB0YXJnZXQgPSB0aGlzOwogICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSAiICsgdGFyZ2V0KTsKICAgICAgICB9CiAgICAgICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7IC8vIGZvciBub3JtYWwgY2FsbAogICAgICAgIHZhciBib3VuZCA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHsKCiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGFyZ2V0LmFwcGx5KAogICAgICAgICAgICAgICAgICAgIHRoaXMsCiAgICAgICAgICAgICAgICAgICAgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIGlmIChPYmplY3QocmVzdWx0KSA9PT0gcmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOwoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoCiAgICAgICAgICAgICAgICAgICAgdGhhdCwKICAgICAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgfQoKICAgICAgICB9OwogICAgICAgIGlmKHRhcmdldC5wcm90b3R5cGUpIHsKICAgICAgICAgICAgRW1wdHkucHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTsKICAgICAgICAgICAgYm91bmQucHJvdG90eXBlID0gbmV3IEVtcHR5KCk7CiAgICAgICAgICAgIEVtcHR5LnByb3RvdHlwZSA9IG51bGw7CiAgICAgICAgfQogICAgICAgIHJldHVybiBib3VuZDsKICAgIH07Cn0KdmFyIGNhbGwgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbDsKdmFyIHByb3RvdHlwZU9mQXJyYXkgPSBBcnJheS5wcm90b3R5cGU7CnZhciBwcm90b3R5cGVPZk9iamVjdCA9IE9iamVjdC5wcm90b3R5cGU7CnZhciBzbGljZSA9IHByb3RvdHlwZU9mQXJyYXkuc2xpY2U7CnZhciBfdG9TdHJpbmcgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QudG9TdHJpbmcpOwp2YXIgb3ducyA9IGNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5oYXNPd25Qcm9wZXJ0eSk7CnZhciBkZWZpbmVHZXR0ZXI7CnZhciBkZWZpbmVTZXR0ZXI7CnZhciBsb29rdXBHZXR0ZXI7CnZhciBsb29rdXBTZXR0ZXI7CnZhciBzdXBwb3J0c0FjY2Vzc29yczsKaWYgKChzdXBwb3J0c0FjY2Vzc29ycyA9IG93bnMocHJvdG90eXBlT2ZPYmplY3QsICJfX2RlZmluZUdldHRlcl9fIikpKSB7CiAgICBkZWZpbmVHZXR0ZXIgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19kZWZpbmVHZXR0ZXJfXyk7CiAgICBkZWZpbmVTZXR0ZXIgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19kZWZpbmVTZXR0ZXJfXyk7CiAgICBsb29rdXBHZXR0ZXIgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBHZXR0ZXJfXyk7CiAgICBsb29rdXBTZXR0ZXIgPSBjYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBTZXR0ZXJfXyk7Cn0KaWYgKFsxLDJdLnNwbGljZSgwKS5sZW5ndGggIT0gMikgewogICAgaWYoZnVuY3Rpb24oKSB7IC8vIHRlc3QgSUUgPCA5IHRvIHNwbGljZSBidWcgLSBzZWUgaXNzdWUgIzEzOAogICAgICAgIGZ1bmN0aW9uIG1ha2VBcnJheShsKSB7CiAgICAgICAgICAgIHZhciBhID0gbmV3IEFycmF5KGwrMik7CiAgICAgICAgICAgIGFbMF0gPSBhWzFdID0gMDsKICAgICAgICAgICAgcmV0dXJuIGE7CiAgICAgICAgfQogICAgICAgIHZhciBhcnJheSA9IFtdLCBsZW5ndGhCZWZvcmU7CiAgICAgICAgCiAgICAgICAgYXJyYXkuc3BsaWNlLmFwcGx5KGFycmF5LCBtYWtlQXJyYXkoMjApKTsKICAgICAgICBhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksIG1ha2VBcnJheSgyNikpOwoKICAgICAgICBsZW5ndGhCZWZvcmUgPSBhcnJheS5sZW5ndGg7IC8vNDYKICAgICAgICBhcnJheS5zcGxpY2UoNSwgMCwgIlhYWCIpOyAvLyBhZGQgb25lIGVsZW1lbnQKCiAgICAgICAgbGVuZ3RoQmVmb3JlICsgMSA9PSBhcnJheS5sZW5ndGgKCiAgICAgICAgaWYgKGxlbmd0aEJlZm9yZSArIDEgPT0gYXJyYXkubGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOy8vIGhhcyByaWdodCBzcGxpY2UgaW1wbGVtZW50YXRpb24gd2l0aG91dCBidWdzCiAgICAgICAgfQogICAgfSgpKSB7Ly9JRSA2LzcKICAgICAgICB2YXIgYXJyYXlfc3BsaWNlID0gQXJyYXkucHJvdG90eXBlLnNwbGljZTsKICAgICAgICBBcnJheS5wcm90b3R5cGUuc3BsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGRlbGV0ZUNvdW50KSB7CiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5X3NwbGljZS5hcHBseSh0aGlzLCBbCiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPT09IHZvaWQgMCA/IDAgOiBzdGFydCwKICAgICAgICAgICAgICAgICAgICBkZWxldGVDb3VudCA9PT0gdm9pZCAwID8gKHRoaXMubGVuZ3RoIC0gc3RhcnQpIDogZGVsZXRlQ291bnQKICAgICAgICAgICAgICAgIF0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSkpCiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfSBlbHNlIHsvL0lFOAogICAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UgPSBmdW5jdGlvbihwb3MsIHJlbW92ZUNvdW50KXsKICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoOwogICAgICAgICAgICBpZiAocG9zID4gMCkgewogICAgICAgICAgICAgICAgaWYgKHBvcyA+IGxlbmd0aCkKICAgICAgICAgICAgICAgICAgICBwb3MgPSBsZW5ndGg7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zID09IHZvaWQgMCkgewogICAgICAgICAgICAgICAgcG9zID0gMDsKICAgICAgICAgICAgfSBlbHNlIGlmIChwb3MgPCAwKSB7CiAgICAgICAgICAgICAgICBwb3MgPSBNYXRoLm1heChsZW5ndGggKyBwb3MsIDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIShwb3MrcmVtb3ZlQ291bnQgPCBsZW5ndGgpKQogICAgICAgICAgICAgICAgcmVtb3ZlQ291bnQgPSBsZW5ndGggLSBwb3M7CgogICAgICAgICAgICB2YXIgcmVtb3ZlZCA9IHRoaXMuc2xpY2UocG9zLCBwb3MrcmVtb3ZlQ291bnQpOwogICAgICAgICAgICB2YXIgaW5zZXJ0ID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpOwogICAgICAgICAgICB2YXIgYWRkID0gaW5zZXJ0Lmxlbmd0aDsgICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHBvcyA9PT0gbGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBpZiAoYWRkKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoLmFwcGx5KHRoaXMsIGluc2VydCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlID0gTWF0aC5taW4ocmVtb3ZlQ291bnQsIGxlbmd0aCAtIHBvcyk7CiAgICAgICAgICAgICAgICB2YXIgdGFpbE9sZFBvcyA9IHBvcyArIHJlbW92ZTsKICAgICAgICAgICAgICAgIHZhciB0YWlsTmV3UG9zID0gdGFpbE9sZFBvcyArIGFkZCAtIHJlbW92ZTsKICAgICAgICAgICAgICAgIHZhciB0YWlsQ291bnQgPSBsZW5ndGggLSB0YWlsT2xkUG9zOwogICAgICAgICAgICAgICAgdmFyIGxlbmd0aEFmdGVyUmVtb3ZlID0gbGVuZ3RoIC0gcmVtb3ZlOwoKICAgICAgICAgICAgICAgIGlmICh0YWlsTmV3UG9zIDwgdGFpbE9sZFBvcykgeyAvLyBjYXNlIEEKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhaWxDb3VudDsgKytpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbdGFpbE5ld1BvcytpXSA9IHRoaXNbdGFpbE9sZFBvcytpXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhaWxOZXdQb3MgPiB0YWlsT2xkUG9zKSB7IC8vIGNhc2UgQgogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IHRhaWxDb3VudDsgaS0tOyApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1t0YWlsTmV3UG9zK2ldID0gdGhpc1t0YWlsT2xkUG9zK2ldOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gLy8gZWxzZSwgYWRkID09IHJlbW92ZSAobm90aGluZyB0byBkbykKCiAgICAgICAgICAgICAgICBpZiAoYWRkICYmIHBvcyA9PT0gbGVuZ3RoQWZ0ZXJSZW1vdmUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aEFmdGVyUmVtb3ZlOyAvLyB0cnVuY2F0ZSBhcnJheQogICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaC5hcHBseSh0aGlzLCBpbnNlcnQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aEFmdGVyUmVtb3ZlICsgYWRkOyAvLyByZXNlcnZlcyBzcGFjZQogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhZGQ7ICsraSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3BvcytpXSA9IGluc2VydFtpXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJlbW92ZWQ7CiAgICAgICAgfTsKICAgIH0KfQppZiAoIUFycmF5LmlzQXJyYXkpIHsKICAgIEFycmF5LmlzQXJyYXkgPSBmdW5jdGlvbiBpc0FycmF5KG9iaikgewogICAgICAgIHJldHVybiBfdG9TdHJpbmcob2JqKSA9PSAiW29iamVjdCBBcnJheV0iOwogICAgfTsKfQp2YXIgYm94ZWRTdHJpbmcgPSBPYmplY3QoImEiKSwKICAgIHNwbGl0U3RyaW5nID0gYm94ZWRTdHJpbmdbMF0gIT0gImEiIHx8ICEoMCBpbiBib3hlZFN0cmluZyk7CgppZiAoIUFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSB7CiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZnVuIC8qLCB0aGlzcCovKSB7CiAgICAgICAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KHRoaXMpLAogICAgICAgICAgICBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09ICJbb2JqZWN0IFN0cmluZ10iID8KICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoIiIpIDoKICAgICAgICAgICAgICAgIG9iamVjdCwKICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV0sCiAgICAgICAgICAgIGkgPSAtMSwKICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7CiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpOyAvLyBUT0RPIG1lc3NhZ2UKICAgICAgICB9CgogICAgICAgIHdoaWxlICgrK2kgPCBsZW5ndGgpIHsKICAgICAgICAgICAgaWYgKGkgaW4gc2VsZikgewogICAgICAgICAgICAgICAgZnVuLmNhbGwodGhpc3AsIHNlbGZbaV0sIGksIG9iamVjdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Owp9CmlmICghQXJyYXkucHJvdG90eXBlLm1hcCkgewogICAgQXJyYXkucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcChmdW4gLyosIHRoaXNwKi8pIHsKICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksCiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gIltvYmplY3QgU3RyaW5nXSIgPwogICAgICAgICAgICAgICAgdGhpcy5zcGxpdCgiIikgOgogICAgICAgICAgICAgICAgb2JqZWN0LAogICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMCwKICAgICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSwKICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV07CiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyAiIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNlbGYpCiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBmdW4uY2FsbCh0aGlzcCwgc2VsZltpXSwgaSwgb2JqZWN0KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07Cn0KaWYgKCFBcnJheS5wcm90b3R5cGUuZmlsdGVyKSB7CiAgICBBcnJheS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gZmlsdGVyKGZ1biAvKiwgdGhpc3AgKi8pIHsKICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksCiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gIltvYmplY3QgU3RyaW5nXSIgPwogICAgICAgICAgICAgICAgdGhpcy5zcGxpdCgiIikgOgogICAgICAgICAgICAgICAgICAgIG9iamVjdCwKICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDAsCiAgICAgICAgICAgIHJlc3VsdCA9IFtdLAogICAgICAgICAgICB2YWx1ZSwKICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV07CiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyAiIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNlbGYpIHsKICAgICAgICAgICAgICAgIHZhbHVlID0gc2VsZltpXTsKICAgICAgICAgICAgICAgIGlmIChmdW4uY2FsbCh0aGlzcCwgdmFsdWUsIGksIG9iamVjdCkpIHsKICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07Cn0KaWYgKCFBcnJheS5wcm90b3R5cGUuZXZlcnkpIHsKICAgIEFycmF5LnByb3RvdHlwZS5ldmVyeSA9IGZ1bmN0aW9uIGV2ZXJ5KGZ1biAvKiwgdGhpc3AgKi8pIHsKICAgICAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QodGhpcyksCiAgICAgICAgICAgIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gIltvYmplY3QgU3RyaW5nXSIgPwogICAgICAgICAgICAgICAgdGhpcy5zcGxpdCgiIikgOgogICAgICAgICAgICAgICAgb2JqZWN0LAogICAgICAgICAgICBsZW5ndGggPSBzZWxmLmxlbmd0aCA+Pj4gMCwKICAgICAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV07CiAgICAgICAgaWYgKF90b1N0cmluZyhmdW4pICE9ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4gKyAiIGlzIG5vdCBhIGZ1bmN0aW9uIik7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNlbGYgJiYgIWZ1bi5jYWxsKHRoaXNwLCBzZWxmW2ldLCBpLCBvYmplY3QpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9Owp9CmlmICghQXJyYXkucHJvdG90eXBlLnNvbWUpIHsKICAgIEFycmF5LnByb3RvdHlwZS5zb21lID0gZnVuY3Rpb24gc29tZShmdW4gLyosIHRoaXNwICovKSB7CiAgICAgICAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KHRoaXMpLAogICAgICAgICAgICBzZWxmID0gc3BsaXRTdHJpbmcgJiYgX3RvU3RyaW5nKHRoaXMpID09ICJbb2JqZWN0IFN0cmluZ10iID8KICAgICAgICAgICAgICAgIHRoaXMuc3BsaXQoIiIpIDoKICAgICAgICAgICAgICAgIG9iamVjdCwKICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDAsCiAgICAgICAgICAgIHRoaXNwID0gYXJndW1lbnRzWzFdOwogICAgICAgIGlmIChfdG9TdHJpbmcoZnVuKSAhPSAiW29iamVjdCBGdW5jdGlvbl0iKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZnVuICsgIiBpcyBub3QgYSBmdW5jdGlvbiIpOwogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoaSBpbiBzZWxmICYmIGZ1bi5jYWxsKHRoaXNwLCBzZWxmW2ldLCBpLCBvYmplY3QpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Owp9CmlmICghQXJyYXkucHJvdG90eXBlLnJlZHVjZSkgewogICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIHJlZHVjZShmdW4gLyosIGluaXRpYWwqLykgewogICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSwKICAgICAgICAgICAgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSAiW29iamVjdCBTdHJpbmddIiA/CiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KCIiKSA6CiAgICAgICAgICAgICAgICBvYmplY3QsCiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwOwogICAgICAgIGlmIChfdG9TdHJpbmcoZnVuKSAhPSAiW29iamVjdCBGdW5jdGlvbl0iKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZnVuICsgIiBpcyBub3QgYSBmdW5jdGlvbiIpOwogICAgICAgIH0KICAgICAgICBpZiAoIWxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGkgPSAwOwogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikgewogICAgICAgICAgICByZXN1bHQgPSBhcmd1bWVudHNbMV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZG8gewogICAgICAgICAgICAgICAgaWYgKGkgaW4gc2VsZikgewogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNlbGZbaSsrXTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgrK2kgPj0gbGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IHdoaWxlICh0cnVlKTsKICAgICAgICB9CgogICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKGkgaW4gc2VsZikgewogICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuLmNhbGwodm9pZCAwLCByZXN1bHQsIHNlbGZbaV0sIGksIG9iamVjdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9Owp9CmlmICghQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0KSB7CiAgICBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQgPSBmdW5jdGlvbiByZWR1Y2VSaWdodChmdW4gLyosIGluaXRpYWwqLykgewogICAgICAgIHZhciBvYmplY3QgPSB0b09iamVjdCh0aGlzKSwKICAgICAgICAgICAgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSAiW29iamVjdCBTdHJpbmddIiA/CiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KCIiKSA6CiAgICAgICAgICAgICAgICBvYmplY3QsCiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwOwogICAgICAgIGlmIChfdG9TdHJpbmcoZnVuKSAhPSAiW29iamVjdCBGdW5jdGlvbl0iKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZnVuICsgIiBpcyBub3QgYSBmdW5jdGlvbiIpOwogICAgICAgIH0KICAgICAgICBpZiAoIWxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigicmVkdWNlUmlnaHQgb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7CiAgICAgICAgfQoKICAgICAgICB2YXIgcmVzdWx0LCBpID0gbGVuZ3RoIC0gMTsKICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgICAgIHJlc3VsdCA9IGFyZ3VtZW50c1sxXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgICBpZiAoaSBpbiBzZWxmKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc2VsZltpLS1dOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKC0taSA8IDApIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSB3aGlsZSAodHJ1ZSk7CiAgICAgICAgfQoKICAgICAgICBkbyB7CiAgICAgICAgICAgIGlmIChpIGluIHRoaXMpIHsKICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bi5jYWxsKHZvaWQgMCwgcmVzdWx0LCBzZWxmW2ldLCBpLCBvYmplY3QpOwogICAgICAgICAgICB9CiAgICAgICAgfSB3aGlsZSAoaS0tKTsKCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07Cn0KaWYgKCFBcnJheS5wcm90b3R5cGUuaW5kZXhPZiB8fCAoWzAsIDFdLmluZGV4T2YoMSwgMikgIT0gLTEpKSB7CiAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2Yoc291Z2h0IC8qLCBmcm9tSW5kZXggKi8gKSB7CiAgICAgICAgdmFyIHNlbGYgPSBzcGxpdFN0cmluZyAmJiBfdG9TdHJpbmcodGhpcykgPT0gIltvYmplY3QgU3RyaW5nXSIgPwogICAgICAgICAgICAgICAgdGhpcy5zcGxpdCgiIikgOgogICAgICAgICAgICAgICAgdG9PYmplY3QodGhpcyksCiAgICAgICAgICAgIGxlbmd0aCA9IHNlbGYubGVuZ3RoID4+PiAwOwoKICAgICAgICBpZiAoIWxlbmd0aCkgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQoKICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgIGkgPSB0b0ludGVnZXIoYXJndW1lbnRzWzFdKTsKICAgICAgICB9CiAgICAgICAgaSA9IGkgPj0gMCA/IGkgOiBNYXRoLm1heCgwLCBsZW5ndGggKyBpKTsKICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpIGluIHNlbGYgJiYgc2VsZltpXSA9PT0gc291Z2h0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gLTE7CiAgICB9Owp9CmlmICghQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mIHx8IChbMCwgMV0ubGFzdEluZGV4T2YoMCwgLTMpICE9IC0xKSkgewogICAgQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2Yoc291Z2h0IC8qLCBmcm9tSW5kZXggKi8pIHsKICAgICAgICB2YXIgc2VsZiA9IHNwbGl0U3RyaW5nICYmIF90b1N0cmluZyh0aGlzKSA9PSAiW29iamVjdCBTdHJpbmddIiA/CiAgICAgICAgICAgICAgICB0aGlzLnNwbGl0KCIiKSA6CiAgICAgICAgICAgICAgICB0b09iamVjdCh0aGlzKSwKICAgICAgICAgICAgbGVuZ3RoID0gc2VsZi5sZW5ndGggPj4+IDA7CgogICAgICAgIGlmICghbGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9CiAgICAgICAgdmFyIGkgPSBsZW5ndGggLSAxOwogICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgewogICAgICAgICAgICBpID0gTWF0aC5taW4oaSwgdG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSkpOwogICAgICAgIH0KICAgICAgICBpID0gaSA+PSAwID8gaSA6IGxlbmd0aCAtIE1hdGguYWJzKGkpOwogICAgICAgIGZvciAoOyBpID49IDA7IGktLSkgewogICAgICAgICAgICBpZiAoaSBpbiBzZWxmICYmIHNvdWdodCA9PT0gc2VsZltpXSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIC0xOwogICAgfTsKfQppZiAoIU9iamVjdC5nZXRQcm90b3R5cGVPZikgewogICAgT2JqZWN0LmdldFByb3RvdHlwZU9mID0gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2Yob2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIG9iamVjdC5fX3Byb3RvX18gfHwgKAogICAgICAgICAgICBvYmplY3QuY29uc3RydWN0b3IgPwogICAgICAgICAgICBvYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlIDoKICAgICAgICAgICAgcHJvdG90eXBlT2ZPYmplY3QKICAgICAgICApOwogICAgfTsKfQppZiAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpIHsKICAgIHZhciBFUlJfTk9OX09CSkVDVCA9ICJPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIGNhbGxlZCBvbiBhICIgKwogICAgICAgICAgICAgICAgICAgICAgICAgIm5vbi1vYmplY3Q6ICI7CiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpIHsKICAgICAgICBpZiAoKHR5cGVvZiBvYmplY3QgIT0gIm9iamVjdCIgJiYgdHlwZW9mIG9iamVjdCAhPSAiZnVuY3Rpb24iKSB8fCBvYmplY3QgPT09IG51bGwpCiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1QgKyBvYmplY3QpOwogICAgICAgIGlmICghb3ducyhvYmplY3QsIHByb3BlcnR5KSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICB2YXIgZGVzY3JpcHRvciwgZ2V0dGVyLCBzZXR0ZXI7CiAgICAgICAgZGVzY3JpcHRvciA9ICB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9OwogICAgICAgIGlmIChzdXBwb3J0c0FjY2Vzc29ycykgewogICAgICAgICAgICB2YXIgcHJvdG90eXBlID0gb2JqZWN0Ll9fcHJvdG9fXzsKICAgICAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZU9mT2JqZWN0OwoKICAgICAgICAgICAgdmFyIGdldHRlciA9IGxvb2t1cEdldHRlcihvYmplY3QsIHByb3BlcnR5KTsKICAgICAgICAgICAgdmFyIHNldHRlciA9IGxvb2t1cFNldHRlcihvYmplY3QsIHByb3BlcnR5KTsKICAgICAgICAgICAgb2JqZWN0Ll9fcHJvdG9fXyA9IHByb3RvdHlwZTsKCiAgICAgICAgICAgIGlmIChnZXR0ZXIgfHwgc2V0dGVyKSB7CiAgICAgICAgICAgICAgICBpZiAoZ2V0dGVyKSBkZXNjcmlwdG9yLmdldCA9IGdldHRlcjsKICAgICAgICAgICAgICAgIGlmIChzZXR0ZXIpIGRlc2NyaXB0b3Iuc2V0ID0gc2V0dGVyOwogICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IG9iamVjdFtwcm9wZXJ0eV07CiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7CiAgICB9Owp9CmlmICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMpIHsKICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpIHsKICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KTsKICAgIH07Cn0KaWYgKCFPYmplY3QuY3JlYXRlKSB7CiAgICB2YXIgY3JlYXRlRW1wdHk7CiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5fX3Byb3RvX18gPT09IG51bGwpIHsKICAgICAgICBjcmVhdGVFbXB0eSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHsgIl9fcHJvdG9fXyI6IG51bGwgfTsKICAgICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgICBjcmVhdGVFbXB0eSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGVtcHR5ID0ge307CiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZW1wdHkpCiAgICAgICAgICAgICAgICBlbXB0eVtpXSA9IG51bGw7CiAgICAgICAgICAgIGVtcHR5LmNvbnN0cnVjdG9yID0KICAgICAgICAgICAgZW1wdHkuaGFzT3duUHJvcGVydHkgPQogICAgICAgICAgICBlbXB0eS5wcm9wZXJ0eUlzRW51bWVyYWJsZSA9CiAgICAgICAgICAgIGVtcHR5LmlzUHJvdG90eXBlT2YgPQogICAgICAgICAgICBlbXB0eS50b0xvY2FsZVN0cmluZyA9CiAgICAgICAgICAgIGVtcHR5LnRvU3RyaW5nID0KICAgICAgICAgICAgZW1wdHkudmFsdWVPZiA9CiAgICAgICAgICAgIGVtcHR5Ll9fcHJvdG9fXyA9IG51bGw7CiAgICAgICAgICAgIHJldHVybiBlbXB0eTsKICAgICAgICB9CiAgICB9CgogICAgT2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHsKICAgICAgICB2YXIgb2JqZWN0OwogICAgICAgIGlmIChwcm90b3R5cGUgPT09IG51bGwpIHsKICAgICAgICAgICAgb2JqZWN0ID0gY3JlYXRlRW1wdHkoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAodHlwZW9mIHByb3RvdHlwZSAhPSAib2JqZWN0IikKICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoInR5cGVvZiBwcm90b3R5cGVbIisodHlwZW9mIHByb3RvdHlwZSkrIl0gIT0gJ29iamVjdCciKTsKICAgICAgICAgICAgdmFyIFR5cGUgPSBmdW5jdGlvbiAoKSB7fTsKICAgICAgICAgICAgVHlwZS5wcm90b3R5cGUgPSBwcm90b3R5cGU7CiAgICAgICAgICAgIG9iamVjdCA9IG5ldyBUeXBlKCk7CiAgICAgICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7CiAgICAgICAgfQogICAgICAgIGlmIChwcm9wZXJ0aWVzICE9PSB2b2lkIDApCiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCwgcHJvcGVydGllcyk7CiAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgIH07Cn0KCmZ1bmN0aW9uIGRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsob2JqZWN0KSB7CiAgICB0cnkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsICJzZW50aW5lbCIsIHt9KTsKICAgICAgICByZXR1cm4gInNlbnRpbmVsIiBpbiBvYmplY3Q7CiAgICB9IGNhdGNoIChleGNlcHRpb24pIHsKICAgIH0KfQppZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7CiAgICB2YXIgZGVmaW5lUHJvcGVydHlXb3Jrc09uT2JqZWN0ID0gZG9lc0RlZmluZVByb3BlcnR5V29yayh7fSk7CiAgICB2YXIgZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tID0gdHlwZW9mIGRvY3VtZW50ID09ICJ1bmRlZmluZWQiIHx8CiAgICAgICAgZG9lc0RlZmluZVByb3BlcnR5V29yayhkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7CiAgICBpZiAoIWRlZmluZVByb3BlcnR5V29ya3NPbk9iamVjdCB8fCAhZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tKSB7CiAgICAgICAgdmFyIGRlZmluZVByb3BlcnR5RmFsbGJhY2sgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7CiAgICB9Cn0KCmlmICghT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGRlZmluZVByb3BlcnR5RmFsbGJhY2spIHsKICAgIHZhciBFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SID0gIlByb3BlcnR5IGRlc2NyaXB0aW9uIG11c3QgYmUgYW4gb2JqZWN0OiAiOwogICAgdmFyIEVSUl9OT05fT0JKRUNUX1RBUkdFVCA9ICJPYmplY3QuZGVmaW5lUHJvcGVydHkgY2FsbGVkIG9uIG5vbi1vYmplY3Q6ICIKICAgIHZhciBFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQgPSAiZ2V0dGVycyAmIHNldHRlcnMgY2FuIG5vdCBiZSBkZWZpbmVkICIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvbiB0aGlzIGphdmFzY3JpcHQgZW5naW5lIjsKCiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCBkZXNjcmlwdG9yKSB7CiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqZWN0ICE9ICJvYmplY3QiICYmIHR5cGVvZiBvYmplY3QgIT0gImZ1bmN0aW9uIikgfHwgb2JqZWN0ID09PSBudWxsKQogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX1RBUkdFVCArIG9iamVjdCk7CiAgICAgICAgaWYgKCh0eXBlb2YgZGVzY3JpcHRvciAhPSAib2JqZWN0IiAmJiB0eXBlb2YgZGVzY3JpcHRvciAhPSAiZnVuY3Rpb24iKSB8fCBkZXNjcmlwdG9yID09PSBudWxsKQogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX0RFU0NSSVBUT1IgKyBkZXNjcmlwdG9yKTsKICAgICAgICBpZiAoZGVmaW5lUHJvcGVydHlGYWxsYmFjaykgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5RmFsbGJhY2suY2FsbChPYmplY3QsIG9iamVjdCwgcHJvcGVydHksIGRlc2NyaXB0b3IpOwogICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAob3ducyhkZXNjcmlwdG9yLCAidmFsdWUiKSkgewoKICAgICAgICAgICAgaWYgKHN1cHBvcnRzQWNjZXNzb3JzICYmIChsb29rdXBHZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSkgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29rdXBTZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSkpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgcHJvdG90eXBlID0gb2JqZWN0Ll9fcHJvdG9fXzsKICAgICAgICAgICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGVPZk9iamVjdDsKICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldOwogICAgICAgICAgICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IGRlc2NyaXB0b3IudmFsdWU7CiAgICAgICAgICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IGRlc2NyaXB0b3IudmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoIXN1cHBvcnRzQWNjZXNzb3JzKQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQpOwogICAgICAgICAgICBpZiAob3ducyhkZXNjcmlwdG9yLCAiZ2V0IikpCiAgICAgICAgICAgICAgICBkZWZpbmVHZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvci5nZXQpOwogICAgICAgICAgICBpZiAob3ducyhkZXNjcmlwdG9yLCAic2V0IikpCiAgICAgICAgICAgICAgICBkZWZpbmVTZXR0ZXIob2JqZWN0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvci5zZXQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgIH07Cn0KaWYgKCFPYmplY3QuZGVmaW5lUHJvcGVydGllcykgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCwgcHJvcGVydGllcykgewogICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHsKICAgICAgICAgICAgaWYgKG93bnMocHJvcGVydGllcywgcHJvcGVydHkpKQogICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHByb3BlcnRpZXNbcHJvcGVydHldKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgIH07Cn0KaWYgKCFPYmplY3Quc2VhbCkgewogICAgT2JqZWN0LnNlYWwgPSBmdW5jdGlvbiBzZWFsKG9iamVjdCkgewogICAgICAgIHJldHVybiBvYmplY3Q7CiAgICB9Owp9CmlmICghT2JqZWN0LmZyZWV6ZSkgewogICAgT2JqZWN0LmZyZWV6ZSA9IGZ1bmN0aW9uIGZyZWV6ZShvYmplY3QpIHsKICAgICAgICByZXR1cm4gb2JqZWN0OwogICAgfTsKfQp0cnkgewogICAgT2JqZWN0LmZyZWV6ZShmdW5jdGlvbiAoKSB7fSk7Cn0gY2F0Y2ggKGV4Y2VwdGlvbikgewogICAgT2JqZWN0LmZyZWV6ZSA9IChmdW5jdGlvbiBmcmVlemUoZnJlZXplT2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGZyZWV6ZShvYmplY3QpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBmcmVlemVPYmplY3Qob2JqZWN0KTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9KShPYmplY3QuZnJlZXplKTsKfQppZiAoIU9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucykgewogICAgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zID0gZnVuY3Rpb24gcHJldmVudEV4dGVuc2lvbnMob2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgIH07Cn0KaWYgKCFPYmplY3QuaXNTZWFsZWQpIHsKICAgIE9iamVjdC5pc1NlYWxlZCA9IGZ1bmN0aW9uIGlzU2VhbGVkKG9iamVjdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07Cn0KaWYgKCFPYmplY3QuaXNGcm96ZW4pIHsKICAgIE9iamVjdC5pc0Zyb3plbiA9IGZ1bmN0aW9uIGlzRnJvemVuKG9iamVjdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07Cn0KaWYgKCFPYmplY3QuaXNFeHRlbnNpYmxlKSB7CiAgICBPYmplY3QuaXNFeHRlbnNpYmxlID0gZnVuY3Rpb24gaXNFeHRlbnNpYmxlKG9iamVjdCkgewogICAgICAgIGlmIChPYmplY3Qob2JqZWN0KSA9PT0gb2JqZWN0KSB7CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsgLy8gVE9ETyBtZXNzYWdlCiAgICAgICAgfQogICAgICAgIHZhciBuYW1lID0gJyc7CiAgICAgICAgd2hpbGUgKG93bnMob2JqZWN0LCBuYW1lKSkgewogICAgICAgICAgICBuYW1lICs9ICc/JzsKICAgICAgICB9CiAgICAgICAgb2JqZWN0W25hbWVdID0gdHJ1ZTsKICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSBvd25zKG9iamVjdCwgbmFtZSk7CiAgICAgICAgZGVsZXRlIG9iamVjdFtuYW1lXTsKICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7CiAgICB9Owp9CmlmICghT2JqZWN0LmtleXMpIHsKICAgIHZhciBoYXNEb250RW51bUJ1ZyA9IHRydWUsCiAgICAgICAgZG9udEVudW1zID0gWwogICAgICAgICAgICAidG9TdHJpbmciLAogICAgICAgICAgICAidG9Mb2NhbGVTdHJpbmciLAogICAgICAgICAgICAidmFsdWVPZiIsCiAgICAgICAgICAgICJoYXNPd25Qcm9wZXJ0eSIsCiAgICAgICAgICAgICJpc1Byb3RvdHlwZU9mIiwKICAgICAgICAgICAgInByb3BlcnR5SXNFbnVtZXJhYmxlIiwKICAgICAgICAgICAgImNvbnN0cnVjdG9yIgogICAgICAgIF0sCiAgICAgICAgZG9udEVudW1zTGVuZ3RoID0gZG9udEVudW1zLmxlbmd0aDsKCiAgICBmb3IgKHZhciBrZXkgaW4geyJ0b1N0cmluZyI6IG51bGx9KSB7CiAgICAgICAgaGFzRG9udEVudW1CdWcgPSBmYWxzZTsKICAgIH0KCiAgICBPYmplY3Qua2V5cyA9IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7CgogICAgICAgIGlmICgKICAgICAgICAgICAgKHR5cGVvZiBvYmplY3QgIT0gIm9iamVjdCIgJiYgdHlwZW9mIG9iamVjdCAhPSAiZnVuY3Rpb24iKSB8fAogICAgICAgICAgICBvYmplY3QgPT09IG51bGwKICAgICAgICApIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdCIpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGtleXMgPSBbXTsKICAgICAgICBmb3IgKHZhciBuYW1lIGluIG9iamVjdCkgewogICAgICAgICAgICBpZiAob3ducyhvYmplY3QsIG5hbWUpKSB7CiAgICAgICAgICAgICAgICBrZXlzLnB1c2gobmFtZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChoYXNEb250RW51bUJ1ZykgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkb250RW51bXNMZW5ndGg7IGkgPCBpaTsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgZG9udEVudW0gPSBkb250RW51bXNbaV07CiAgICAgICAgICAgICAgICBpZiAob3ducyhvYmplY3QsIGRvbnRFbnVtKSkgewogICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChkb250RW51bSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGtleXM7CiAgICB9OwoKfQppZiAoIURhdGUubm93KSB7CiAgICBEYXRlLm5vdyA9IGZ1bmN0aW9uIG5vdygpIHsKICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICB9Owp9CnZhciB3cyA9ICJceDA5XHgwQVx4MEJceDBDXHgwRFx4MjBceEEwXHUxNjgwXHUyMDAwXHUyMDAxXHUyMDAyXHUyMDAzIiArCiAgICAiXHUyMDA0XHUyMDA1XHUyMDA2XHUyMDA3XHUyMDA4XHUyMDA5XHUyMDBBXHUyMDJGXHUyMDVGXHUzMDAwXHUyMDI4IiArCiAgICAiXHUyMDI5XHVGRUZGIjsKaWYgKCFTdHJpbmcucHJvdG90eXBlLnRyaW0pIHsKICAgIHdzID0gIlsiICsgd3MgKyAiXSI7CiAgICB2YXIgdHJpbUJlZ2luUmVnZXhwID0gbmV3IFJlZ0V4cCgiXiIgKyB3cyArIHdzICsgIioiKSwKICAgICAgICB0cmltRW5kUmVnZXhwID0gbmV3IFJlZ0V4cCh3cyArIHdzICsgIiokIik7CiAgICBTdHJpbmcucHJvdG90eXBlLnRyaW0gPSBmdW5jdGlvbiB0cmltKCkgewogICAgICAgIHJldHVybiBTdHJpbmcodGhpcykucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsICIiKS5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICIiKTsKICAgIH07Cn0KCmZ1bmN0aW9uIHRvSW50ZWdlcihuKSB7CiAgICBuID0gK247CiAgICBpZiAobiAhPT0gbikgeyAvLyBpc05hTgogICAgICAgIG4gPSAwOwogICAgfSBlbHNlIGlmIChuICE9PSAwICYmIG4gIT09ICgxLzApICYmIG4gIT09IC0oMS8wKSkgewogICAgICAgIG4gPSAobiA+IDAgfHwgLTEpICogTWF0aC5mbG9vcihNYXRoLmFicyhuKSk7CiAgICB9CiAgICByZXR1cm4gbjsKfQoKZnVuY3Rpb24gaXNQcmltaXRpdmUoaW5wdXQpIHsKICAgIHZhciB0eXBlID0gdHlwZW9mIGlucHV0OwogICAgcmV0dXJuICgKICAgICAgICBpbnB1dCA9PT0gbnVsbCB8fAogICAgICAgIHR5cGUgPT09ICJ1bmRlZmluZWQiIHx8CiAgICAgICAgdHlwZSA9PT0gImJvb2xlYW4iIHx8CiAgICAgICAgdHlwZSA9PT0gIm51bWJlciIgfHwKICAgICAgICB0eXBlID09PSAic3RyaW5nIgogICAgKTsKfQoKZnVuY3Rpb24gdG9QcmltaXRpdmUoaW5wdXQpIHsKICAgIHZhciB2YWwsIHZhbHVlT2YsIHRvU3RyaW5nOwogICAgaWYgKGlzUHJpbWl0aXZlKGlucHV0KSkgewogICAgICAgIHJldHVybiBpbnB1dDsKICAgIH0KICAgIHZhbHVlT2YgPSBpbnB1dC52YWx1ZU9mOwogICAgaWYgKHR5cGVvZiB2YWx1ZU9mID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgdmFsID0gdmFsdWVPZi5jYWxsKGlucHV0KTsKICAgICAgICBpZiAoaXNQcmltaXRpdmUodmFsKSkgewogICAgICAgICAgICByZXR1cm4gdmFsOwogICAgICAgIH0KICAgIH0KICAgIHRvU3RyaW5nID0gaW5wdXQudG9TdHJpbmc7CiAgICBpZiAodHlwZW9mIHRvU3RyaW5nID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgdmFsID0gdG9TdHJpbmcuY2FsbChpbnB1dCk7CiAgICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbCkpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgICB9CiAgICB9CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7Cn0KdmFyIHRvT2JqZWN0ID0gZnVuY3Rpb24gKG8pIHsKICAgIGlmIChvID09IG51bGwpIHsgLy8gdGhpcyBtYXRjaGVzIGJvdGggbnVsbCBhbmQgdW5kZWZpbmVkCiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiY2FuJ3QgY29udmVydCAiK28rIiB0byBvYmplY3QiKTsKICAgIH0KICAgIHJldHVybiBPYmplY3Qobyk7Cn07Cgp9KTsK" }, function (e, t, i) { e.exports = function () { "use strict"; var e = function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }, t = function () { function e(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (t, i, n) { return i && e(t.prototype, i), n && e(t, n), t } }(), i = function (e, t) { if (Array.isArray(e)) return e; if (Symbol.iterator in Object(e)) return function (e, t) { var i = [], n = !0, r = !1, s = undefined; try { for (var o, a = e[Symbol.iterator](); !(n = (o = a.next()).done) && (i.push(o.value), !t || i.length !== t); n = !0); } catch (e) { r = !0, s = e } finally { try { !n && a["return"] && a["return"]() } finally { if (r) throw s } } return i }(e, t); throw new TypeError("Invalid attempt to destructure non-iterable instance") }; String.prototype.startsWith = String.prototype.startsWith || function (e) { return 0 === this.indexOf(e) }, String.prototype.padStart = String.prototype.padStart || function (e, t) { for (var i = this; i.length < e;)i = t + i; return i }; var n = { cb: "0f8ff", tqw: "aebd7", q: "-ffff", qmrn: "7fffd4", zr: "0ffff", bg: "5f5dc", bsq: "e4c4", bck: "---", nch: "ebcd", b: "--ff", bvt: "8a2be2", brwn: "a52a2a", brw: "deb887", ctb: "5f9ea0", hrt: "7fff-", chcT: "d2691e", cr: "7f50", rnw: "6495ed", crns: "8dc", crms: "dc143c", cn: "-ffff", Db: "--8b", Dcn: "-8b8b", Dgnr: "b8860b", Dgr: "a9a9a9", Dgrn: "-64-", Dkhk: "bdb76b", Dmgn: "8b-8b", Dvgr: "556b2f", Drng: "8c-", Drch: "9932cc", Dr: "8b--", Dsmn: "e9967a", Dsgr: "8fbc8f", DsTb: "483d8b", DsTg: "2f4f4f", Dtrq: "-ced1", Dvt: "94-d3", ppnk: "1493", pskb: "-bfff", mgr: "696969", grb: "1e90ff", rbrc: "b22222", rwht: "af0", stg: "228b22", chs: "-ff", gnsb: "dcdcdc", st: "8f8ff", g: "d7-", gnr: "daa520", gr: "808080", grn: "-8-0", grnw: "adff2f", hnw: "0fff0", htpn: "69b4", nnr: "cd5c5c", ng: "4b-82", vr: "0", khk: "0e68c", vnr: "e6e6fa", nrb: "0f5", wngr: "7cfc-", mnch: "acd", Lb: "add8e6", Lcr: "08080", Lcn: "e0ffff", Lgnr: "afad2", Lgr: "d3d3d3", Lgrn: "90ee90", Lpnk: "b6c1", Lsmn: "a07a", Lsgr: "20b2aa", Lskb: "87cefa", LsTg: "778899", Lstb: "b0c4de", Lw: "e0", m: "-ff-", mgrn: "32cd32", nn: "af0e6", mgnt: "-ff", mrn: "8--0", mqm: "66cdaa", mmb: "--cd", mmrc: "ba55d3", mmpr: "9370db", msg: "3cb371", mmsT: "7b68ee", "": "-fa9a", mtr: "48d1cc", mmvt: "c71585", mnLb: "191970", ntc: "5fffa", mstr: "e4e1", mccs: "e4b5", vjw: "dead", nv: "--80", c: "df5e6", v: "808-0", vrb: "6b8e23", rng: "a5-", rngr: "45-", rch: "da70d6", pgnr: "eee8aa", pgrn: "98fb98", ptrq: "afeeee", pvtr: "db7093", ppwh: "efd5", pchp: "dab9", pr: "cd853f", pnk: "c0cb", pm: "dda0dd", pwrb: "b0e0e6", prp: "8-080", cc: "663399", r: "--", sbr: "bc8f8f", rb: "4169e1", sbrw: "8b4513", smn: "a8072", nbr: "4a460", sgrn: "2e8b57", ssh: "5ee", snn: "a0522d", svr: "c0c0c0", skb: "87ceeb", sTb: "6a5acd", sTgr: "708090", snw: "afa", n: "-ff7f", stb: "4682b4", tn: "d2b48c", t: "-8080", thst: "d8bfd8", tmT: "6347", trqs: "40e0d0", vt: "ee82ee", whT: "5deb3", wht: "", hts: "5f5f5", w: "-", wgrn: "9acd32" }; function r(e) { var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1; return (t > 0 ? e.toFixed(t).replace(/0+$/, "").replace(/\.$/, "") : e.toString()) || "0" } var s = function () { function s(t, n, r, o) { e(this, s); var a = this; if (t === undefined); else if (Array.isArray(t)) this.rgba = t; else if (r === undefined) { var l = t && "" + t; l && function (e) { if (e.startsWith("hsl")) { var t = e.match(/([\-\d\.e]+)/g).map(Number), n = i(t, 4), r = n[0], o = n[1], l = n[2], c = n[3]; c === undefined && (c = 1), r /= 360, o /= 100, l /= 100, a.hsla = [r, o, l, c] } else if (e.startsWith("rgb")) { var h = e.match(/([\-\d\.e]+)/g).map(Number), d = i(h, 4), u = d[0], g = d[1], p = d[2], m = d[3]; m === undefined && (m = 1), a.rgba = [u, g, p, m] } else e.startsWith("#") ? a.rgba = s.hexToRgb(e) : a.rgba = s.nameToRgb(e) || s.hexToRgb(e) }(l.toLowerCase()) } else this.rgba = [t, n, r, o === undefined ? 1 : o] } return t(s, [{ key: "printRGB", value: function (e) { var t = (e ? this.rgba : this.rgba.slice(0, 3)).map((function (e, t) { return r(e, 3 === t ? 3 : 0) })); return e ? "rgba(" + t + ")" : "rgb(" + t + ")" } }, { key: "printHSL", value: function (e) { var t = [360, 100, 100, 1], i = ["", "%", "%", ""], n = (e ? this.hsla : this.hsla.slice(0, 3)).map((function (e, n) { return r(e * t[n], 3 === n ? 3 : 1) + i[n] })); return e ? "hsla(" + n + ")" : "hsl(" + n + ")" } }, { key: "printHex", value: function (e) { var t = this.hex; return e ? t : t.substring(0, 7) } }, { key: "rgba", get: function () { if (this._rgba) return this._rgba; if (!this._hsla) throw new Error("No color is set"); return this._rgba = s.hslToRgb(this._hsla) }, set: function (e) { 3 === e.length && (e[3] = 1), this._rgba = e, this._hsla = null } }, { key: "rgbString", get: function () { return this.printRGB() } }, { key: "rgbaString", get: function () { return this.printRGB(!0) } }, { key: "hsla", get: function () { if (this._hsla) return this._hsla; if (!this._rgba) throw new Error("No color is set"); return this._hsla = s.rgbToHsl(this._rgba) }, set: function (e) { 3 === e.length && (e[3] = 1), this._hsla = e, this._rgba = null } }, { key: "hslString", get: function () { return this.printHSL() } }, { key: "hslaString", get: function () { return this.printHSL(!0) } }, { key: "hex", get: function () { return "#" + this.rgba.map((function (e, t) { return t < 3 ? e.toString(16) : Math.round(255 * e).toString(16) })).map((function (e) { return e.padStart(2, "0") })).join("") }, set: function (e) { this.rgba = s.hexToRgb(e) } }], [{ key: "hexToRgb", value: function (e) { var t = (e.startsWith("#") ? e.slice(1) : e).replace(/^(\w{3})$/, "$1F").replace(/^(\w)(\w)(\w)(\w)$/, "$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/, "$1FF"); if (!t.match(/^([0-9a-fA-F]{8})$/)) throw new Error("Unknown hex color; " + e); var i = t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function (e) { return parseInt(e, 16) })); return i[3] = i[3] / 255, i } }, { key: "nameToRgb", value: function (e) { var t = e.toLowerCase().replace("at", "T").replace(/[aeiouyldf]/g, "").replace("ght", "L").replace("rk", "D").slice(-5, 4), i = n[t]; return i === undefined ? i : s.hexToRgb(i.replace(/\-/g, "00").padStart(6, "f")) } }, { key: "rgbToHsl", value: function (e) { var t = i(e, 4), n = t[0], r = t[1], s = t[2], o = t[3]; n /= 255, r /= 255, s /= 255; var a = Math.max(n, r, s), l = Math.min(n, r, s), c = void 0, h = void 0, d = (a + l) / 2; if (a === l) c = h = 0; else { var u = a - l; switch (h = d > .5 ? u / (2 - a - l) : u / (a + l), a) { case n: c = (r - s) / u + (r < s ? 6 : 0); break; case r: c = (s - n) / u + 2; break; case s: c = (n - r) / u + 4 }c /= 6 } return [c, h, d, o] } }, { key: "hslToRgb", value: function (e) { var t = i(e, 4), n = t[0], r = t[1], s = t[2], o = t[3], a = void 0, l = void 0, c = void 0; if (0 === r) a = l = c = s; else { var h = function (e, t, i) { return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? e + 6 * (t - e) * i : i < .5 ? t : i < 2 / 3 ? e + (t - e) * (2 / 3 - i) * 6 : e }, d = s < .5 ? s * (1 + r) : s + r - s * r, u = 2 * s - d; a = h(u, d, n + 1 / 3), l = h(u, d, n), c = h(u, d, n - 1 / 3) } var g = [255 * a, 255 * l, 255 * c].map(Math.round); return g[3] = o, g } }]), s }(), o = function () { function i() { e(this, i), this._events = [] } return t(i, [{ key: "add", value: function (e, t, i) { e.addEventListener(t, i, !1), this._events.push({ target: e, type: t, handler: i }) } }, { key: "remove", value: function (e, t, n) { this._events = this._events.filter((function (r) { var s = !0; return e && e !== r.target && (s = !1), t && t !== r.type && (s = !1), n && n !== r.handler && (s = !1), s && i._doRemove(r.target, r.type, r.handler), !s })) } }, { key: "destroy", value: function () { this._events.forEach((function (e) { return i._doRemove(e.target, e.type, e.handler) })), this._events = [] } }], [{ key: "_doRemove", value: function (e, t, i) { e.removeEventListener(t, i, !1) } }]), i }(); function a(e, t, i) { var n = !1; function r(e, t, i) { return Math.max(t, Math.min(e, i)) } function s(e, s, o) { if (o && (n = !0), n) { e.preventDefault(); var a = t.getBoundingClientRect(), l = a.width, c = a.height, h = s.clientX, d = s.clientY, u = r(h - a.left, 0, l), g = r(d - a.top, 0, c); i(u / l, g / c) } } function o(e, t) { 1 === (e.buttons === undefined ? e.which : e.buttons) ? s(e, e, t) : n = !1 } function a(e, t) { 1 === e.touches.length ? s(e, e.touches[0], t) : n = !1 } e.add(t, "mousedown", (function (e) { o(e, !0) })), e.add(t, "touchstart", (function (e) { a(e, !0) })), e.add(window, "mousemove", o), e.add(t, "touchmove", a), e.add(window, "mouseup", (function (e) { n = !1 })), e.add(t, "touchend", (function (e) { n = !1 })), e.add(t, "touchcancel", (function (e) { n = !1 })) } var l = "keydown", c = "mousedown", h = "focusin"; function d(e, t) { return (t || document).querySelector(e) } function u(e) { e.preventDefault(), e.stopPropagation() } function g(e, t, i, n, r) { e.add(t, l, (function (e) { i.indexOf(e.key) >= 0 && (r && u(e), n(e)) })) } var p = document.createElement("style"); return p.textContent = ".picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{-webkit-box-ordinal-group:2;order:1;-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{-webkit-box-ordinal-group:2;order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px dodgerblue}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:whitesmoke;background-image:-webkit-gradient(linear, left bottom, left top, from(gainsboro), to(transparent));background-image:-webkit-linear-gradient(bottom, gainsboro, transparent);background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:-webkit-gradient(linear, left bottom, left top, from(transparent), to(gainsboro));background-image:-webkit-linear-gradient(bottom, transparent, gainsboro);background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:white}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:-webkit-linear-gradient(left, red, yellow, lime, cyan, blue, magenta, red);background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:-webkit-linear-gradient(top, white, rgba(255,255,255,0) 50%),-webkit-linear-gradient(bottom, black, rgba(0,0,0,0) 50%),-webkit-linear-gradient(left, gray, rgba(128,128,128,0));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}", document.documentElement.firstElementChild.appendChild(p), function () { function i(t) { e(this, i), this.settings = { popup: "right", layout: "default", alpha: !0, editor: !0, editorFormat: "hex", cancelButton: !1, defaultColor: "#0cf" }, this._events = new o, this.onChange = null, this.onDone = null, this.onOpen = null, this.onClose = null, this.setOptions(t) } return t(i, [{ key: "setOptions", value: function (e) { var t = this; if (e) { var i = this.settings; if (e instanceof HTMLElement) i.parent = e; else { i.parent && e.parent && i.parent !== e.parent && (this._events.remove(i.parent), this._popupInited = !1), function (e, t, i) { for (var n in e) t[n] = e[n] }(e, i), e.onChange && (this.onChange = e.onChange), e.onDone && (this.onDone = e.onDone), e.onOpen && (this.onOpen = e.onOpen), e.onClose && (this.onClose = e.onClose); var n = e.color || e.colour; n && this._setColor(n) } var r = i.parent; if (r && i.popup && !this._popupInited) { function s(e) { return t.openHandler(e) } this._events.add(r, "click", s), g(this._events, r, [" ", "Spacebar", "Enter"], s), this._popupInited = !0 } else e.parent && !i.popup && this.show() } } }, { key: "openHandler", value: function (e) { if (this.show()) { e && e.preventDefault(), this.settings.parent.style.pointerEvents = "none"; var t = e && "keydown" === e.type ? this._domEdit : this.domElement; setTimeout((function () { return t.focus() }), 100), this.onOpen && this.onOpen(this.colour) } } }, { key: "closeHandler", value: function (e) { var t = e && e.type, i = !1; if (e) if (t === c || t === h) { var n = (this.__containedEvent || 0) + 100; e.timeStamp > n && (i = !0) } else u(e), i = !0; else i = !0; i && this.hide() && (this.settings.parent.style.pointerEvents = "", t !== c && this.settings.parent.focus(), this.onClose && this.onClose(this.colour)) } }, { key: "movePopup", value: function (e, t) { this.closeHandler(), this.setOptions(e), t && this.openHandler() } }, { key: "setColor", value: function (e, t) { this._setColor(e, { silent: t }) } }, { key: "_setColor", value: function (e, t) { if ("string" == typeof e && (e = e.trim()), e) { t = t || {}; var i = void 0; try { i = new s(e) } catch (e) { if (t.failSilently) return; throw e } if (!this.settings.alpha) { var n = i.hsla; n[3] = 1, i.hsla = n } this.colour = this.color = i, this._setHSLA(null, null, null, null, t) } } }, { key: "setColour", value: function (e, t) { this.setColor(e, t) } }, { key: "show", value: function () { if (!this.settings.parent) return !1; if (this.domElement) { var e = this._toggleDOM(!0); return this._setPosition(), e } var t, i, n = (t = this.settings.template || '<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>', (i = document.createElement("div")).innerHTML = t, i.firstElementChild); return this.domElement = n, this._domH = d(".picker_hue", n), this._domSL = d(".picker_sl", n), this._domA = d(".picker_alpha", n), this._domEdit = d(".picker_editor input", n), this._domSample = d(".picker_sample", n), this._domOkay = d(".picker_done button", n), this._domCancel = d(".picker_cancel button", n), n.classList.add("layout_" + this.settings.layout), this.settings.alpha || n.classList.add("no_alpha"), this.settings.editor || n.classList.add("no_editor"), this.settings.cancelButton || n.classList.add("no_cancel"), this._ifPopup((function () { return n.classList.add("popup") })), this._setPosition(), this.colour ? this._updateUI() : this._setColor(this.settings.defaultColor), this._bindEvents(), !0 } }, { key: "hide", value: function () { return this._toggleDOM(!1) } }, { key: "destroy", value: function () { this._events.destroy(), this.domElement && this.settings.parent.removeChild(this.domElement) } }, { key: "_bindEvents", value: function () { var e = this, t = this, i = this.domElement, n = this._events; function r(e, t, i) { n.add(e, t, i) } r(i, "click", (function (e) { return e.preventDefault() })), a(n, this._domH, (function (e, i) { return t._setHSLA(e) })), a(n, this._domSL, (function (e, i) { return t._setHSLA(null, e, 1 - i) })), this.settings.alpha && a(n, this._domA, (function (e, i) { return t._setHSLA(null, null, null, 1 - i) })); var s = this._domEdit; function o(t) { e._ifPopup((function () { return e.closeHandler(t) })), e.onDone && e.onDone(e.colour) } r(s, "input", (function (e) { t._setColor(this.value, { fromEditor: !0, failSilently: !0 }) })), r(s, "focus", (function (e) { this.selectionStart === this.selectionEnd && this.select() })), this._ifPopup((function () { function t(t) { return e.closeHandler(t) } function s(t) { e.__containedEvent = t.timeStamp } r(window, c, t), r(window, h, t), g(n, i, ["Esc", "Escape"], t), r(i, c, s), r(i, h, s), r(e._domCancel, "click", t) })), r(this._domOkay, "click", o), g(n, i, ["Enter"], o) } }, { key: "_setPosition", value: function () { var e = this.settings.parent, t = this.domElement; e !== t.parentNode && e.appendChild(t), this._ifPopup((function (i) { "static" === getComputedStyle(e).position && (e.style.position = "relative"); var n = !0 === i ? "popup_right" : "popup_" + i;["popup_top", "popup_bottom", "popup_left", "popup_right"].forEach((function (e) { e === n ? t.classList.add(e) : t.classList.remove(e) })), t.classList.add(n) })) } }, { key: "_setHSLA", value: function (e, t, i, n, r) { r = r || {}; var s = this.colour, o = s.hsla;[e, t, i, n].forEach((function (e, t) { !e && 0 !== e || (o[t] = e) })), s.hsla = o, this._updateUI(r), this.onChange && !r.silent && this.onChange(s) } }, { key: "_updateUI", value: function (e) { if (this.domElement) { e = e || {}; var t = this.colour, i = t.hsla, n = "hsl(" + 360 * i[0] + ", 100%, 50%)", r = t.hslString, s = t.hslaString, o = this._domH, a = this._domSL, l = this._domA, c = d(".picker_selector", o), h = d(".picker_selector", a), u = d(".picker_selector", l); A(0, c, i[0]), this._domSL.style.backgroundColor = this._domH.style.color = n, A(0, h, i[1]), v(0, h, 1 - i[2]), a.style.color = r, v(0, u, 1 - i[3]); var g = r, p = g.replace("hsl", "hsla").replace(")", ", 0)"), m = "linear-gradient(" + [g, p] + ")"; if (this._domA.style.backgroundImage = m + ", url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")", !e.fromEditor) { var f = this.settings.editorFormat, C = this.settings.alpha, I = void 0; switch (f) { case "rgb": I = t.printRGB(C); break; case "hsl": I = t.printHSL(C); break; default: I = t.printHex(C) }this._domEdit.value = I } this._domSample.style.color = s } function A(e, t, i) { t.style.left = 100 * i + "%" } function v(e, t, i) { t.style.top = 100 * i + "%" } } }, { key: "_ifPopup", value: function (e, t) { this.settings.parent && this.settings.popup ? e && e(this.settings.popup) : t && t() } }, { key: "_toggleDOM", value: function (e) { var t = this.domElement; if (!t) return !1; var i = e ? "" : "none", n = t.style.display !== i; return n && (t.style.display = i), n } }], [{ key: "StyleElement", get: function () { return p } }]), i }() }() }, function (e, t) { window.ace.define("ace/theme/jsoneditor", ["require", "exports", "module", "ace/lib/dom"], (function (e, t, i) { t.isDark = !1, t.cssClass = "ace-jsoneditor", t.cssText = '.ace-jsoneditor .ace_gutter {\nbackground: #ebebeb;\ncolor: #333\n}\n\n.ace-jsoneditor.ace_editor {\nfont-family: "dejavu sans mono", "droid sans mono", consolas, monaco, "lucida console", "courier new", courier, monospace, sans-serif;\nline-height: 1.3;\nbackground-color: #fff;\n}\n.ace-jsoneditor .ace_print-margin {\nwidth: 1px;\nbackground: #e8e8e8\n}\n.ace-jsoneditor .ace_scroller {\nbackground-color: #FFFFFF\n}\n.ace-jsoneditor .ace_text-layer {\ncolor: gray\n}\n.ace-jsoneditor .ace_variable {\ncolor: #1a1a1a\n}\n.ace-jsoneditor .ace_cursor {\nborder-left: 2px solid #000000\n}\n.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\nborder-left: 0px;\nborder-bottom: 1px solid #000000\n}\n.ace-jsoneditor .ace_marker-layer .ace_selection {\nbackground: lightgray\n}\n.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\nbox-shadow: 0 0 3px 0px #FFFFFF;\nborder-radius: 2px\n}\n.ace-jsoneditor .ace_marker-layer .ace_step {\nbackground: rgb(255, 255, 0)\n}\n.ace-jsoneditor .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid #BFBFBF\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\nbackground: #FFFBD1\n}\n.ace-jsoneditor .ace_gutter-active-line {\nbackground-color : #dcdcdc\n}\n.ace-jsoneditor .ace_marker-layer .ace_selected-word {\nborder: 1px solid lightgray\n}\n.ace-jsoneditor .ace_invisible {\ncolor: #BFBFBF\n}\n.ace-jsoneditor .ace_keyword,\n.ace-jsoneditor .ace_meta,\n.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\ncolor: #AF956F\n}\n.ace-jsoneditor .ace_keyword.ace_operator {\ncolor: #484848\n}\n.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\ncolor: #96DC5F\n}\n.ace-jsoneditor .ace_constant.ace_language {\ncolor: darkorange\n}\n.ace-jsoneditor .ace_constant.ace_numeric {\ncolor: red\n}\n.ace-jsoneditor .ace_constant.ace_character.ace_entity {\ncolor: #BF78CC\n}\n.ace-jsoneditor .ace_invalid {\ncolor: #FFFFFF;\nbackground-color: #FF002A;\n}\n.ace-jsoneditor .ace_fold {\nbackground-color: #AF956F;\nborder-color: #000000\n}\n.ace-jsoneditor .ace_storage,\n.ace-jsoneditor .ace_support.ace_class,\n.ace-jsoneditor .ace_support.ace_function,\n.ace-jsoneditor .ace_support.ace_other,\n.ace-jsoneditor .ace_support.ace_type {\ncolor: #C52727\n}\n.ace-jsoneditor .ace_string {\ncolor: green\n}\n.ace-jsoneditor .ace_comment {\ncolor: #BCC8BA\n}\n.ace-jsoneditor .ace_entity.ace_name.ace_tag,\n.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\ncolor: #606060\n}\n.ace-jsoneditor .ace_markup.ace_underline {\ntext-decoration: underline\n}\n.ace-jsoneditor .ace_indent-guide {\nbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\n}', e("../lib/dom").importCssString(t.cssText, t.cssClass) })) }, function (e, t, i) { t.tryRequireAjv = function () { try { return i(44) } catch (e) { } } }, function (e, t, i) { "use strict"; var n = i(45), r = i(17), s = i(49), o = i(25), a = i(26), l = i(50), c = i(51), h = i(72), d = i(7); (e.exports = C).prototype.validate = function (e, t) { var i; if ("string" == typeof e) { if (!(i = this.getSchema(e))) throw new Error('no schema with key or ref "' + e + '"') } else { var n = this._addSchema(e); i = n.validate || this._compile(n) } var r = i(t); return !0 !== i.$async && (this.errors = i.errors), r }, C.prototype.compile = function (e, t) { var i = this._addSchema(e, void 0, t); return i.validate || this._compile(i) }, C.prototype.addSchema = function (e, t, i, n) { if (Array.isArray(e)) { for (var s = 0; s < e.length; s++)this.addSchema(e[s], void 0, i, n); return this } var o = this._getId(e); if (void 0 !== o && "string" != typeof o) throw new Error("schema id must be string"); return w(this, t = r.normalizeId(t || o)), this._schemas[t] = this._addSchema(e, i, n, !0), this }, C.prototype.addMetaSchema = function (e, t, i) { return this.addSchema(e, t, i, !0), this }, C.prototype.validateSchema = function (e, t) { var i = e.$schema; if (void 0 !== i && "string" != typeof i) throw new Error("$schema must be a string"); if (!(i = i || this._opts.defaultMeta || function (e) { var t = e._opts.meta; return e._opts.defaultMeta = "object" == typeof t ? e._getId(t) || t : e.getSchema(p) ? p : void 0, e._opts.defaultMeta }(this))) return this.logger.warn("meta-schema not available"), !(this.errors = null); var n = this.validate(i, e); if (!n && t) { var r = "schema is invalid: " + this.errorsText(); if ("log" != this._opts.validateSchema) throw new Error(r); this.logger.error(r) } return n }, C.prototype.getSchema = function (e) { var t = I(this, e); switch (typeof t) { case "object": return t.validate || this._compile(t); case "string": return this.getSchema(t); case "undefined": return function (e, t) { var i = r.schema.call(e, { schema: {} }, t); if (i) { var s = i.schema, a = i.root, l = i.baseId, c = n.call(e, s, a, void 0, l); return e._fragments[t] = new o({ ref: t, fragment: !0, schema: s, root: a, baseId: l, validate: c }), c } }(this, e) } }, C.prototype.removeSchema = function (e) { if (e instanceof RegExp) return A(this, this._schemas, e), A(this, this._refs, e), this; switch (typeof e) { case "undefined": return A(this, this._schemas), A(this, this._refs), this._cache.clear(), this; case "string": var t = I(this, e); return t && this._cache.del(t.cacheKey), delete this._schemas[e], delete this._refs[e], this; case "object": var i = this._opts.serialize, n = i ? i(e) : e; this._cache.del(n); var s = this._getId(e); s && (s = r.normalizeId(s), delete this._schemas[s], delete this._refs[s]) }return this }, C.prototype.addFormat = function (e, t) { return "string" == typeof t && (t = new RegExp(t)), this._formats[e] = t, this }, C.prototype.errorsText = function (e, t) { if (!(e = e || this.errors)) return "No errors"; for (var i = void 0 === (t = t || {}).separator ? ", " : t.separator, n = void 0 === t.dataVar ? "data" : t.dataVar, r = "", s = 0; s < e.length; s++) { var o = e[s]; o && (r += n + o.dataPath + " " + o.message + i) } return r.slice(0, -i.length) }, C.prototype._addSchema = function (e, t, i, n) { if ("object" != typeof e && "boolean" != typeof e) throw new Error("schema should be object or boolean"); var s = this._opts.serialize, a = s ? s(e) : e, l = this._cache.get(a); if (l) return l; n = n || !1 !== this._opts.addUsedSchema; var c = r.normalizeId(this._getId(e)); c && n && w(this, c); var h, d = !1 !== this._opts.validateSchema && !t; d && !(h = c && c == r.normalizeId(e.$schema)) && this.validateSchema(e, !0); var u = r.ids.call(this, e), g = new o({ id: c, schema: e, localRefs: u, cacheKey: a, meta: i }); return "#" != c[0] && n && (this._refs[c] = g), this._cache.put(a, g), d && h && this.validateSchema(e, !0), g }, C.prototype._compile = function (e, t) { if (e.compiling) return (e.validate = s).schema = e.schema, s.errors = null, s.root = t || s, !0 === e.schema.$async && (s.$async = !0), s; var i, r; e.compiling = !0, e.meta && (i = this._opts, this._opts = this._metaOpts); try { r = n.call(this, e.schema, t, e.localRefs) } catch (t) { throw delete e.validate, t } finally { e.compiling = !1, e.meta && (this._opts = i) } return e.validate = r, e.refs = r.refs, e.refVal = r.refVal, e.root = r.root, r; function s() { var t = e.validate, i = t.apply(this, arguments); return s.errors = t.errors, i } }, C.prototype.compileAsync = i(73); var u = i(74); C.prototype.addKeyword = u.add, C.prototype.getKeyword = u.get, C.prototype.removeKeyword = u.remove, C.prototype.validateKeyword = u.validate; var g = i(19); C.ValidationError = g.Validation, C.MissingRefError = g.MissingRef, C.$dataMetaSchema = h; var p = "http://json-schema.org/draft-07/schema", m = ["removeAdditional", "useDefaults", "coerceTypes", "strictDefaults"], f = ["/properties"]; function C(e) { if (!(this instanceof C)) return new C(e); e = this._opts = d.copy(e) || {}, function (e) { var t = e._opts.logger; if (!1 === t) e.logger = { log: S, warn: S, error: S }; else { if (void 0 === t && (t = console), !("object" == typeof t && t.log && t.warn && t.error)) throw new Error("logger must implement log, warn and error methods"); e.logger = t } }(this), this._schemas = {}, this._refs = {}, this._fragments = {}, this._formats = l(e.format), this._cache = e.cache || new s, this._loadingSchemas = {}, this._compilations = [], this.RULES = c(), this._getId = function (e) { switch (e.schemaId) { case "auto": return y; case "id": return v; default: return b } }(e), e.loopRequired = e.loopRequired || 1 / 0, "property" == e.errorDataPath && (e._errorDataPathProperty = !0), void 0 === e.serialize && (e.serialize = a), this._metaOpts = function (e) { for (var t = d.copy(e._opts), i = 0; i < m.length; i++)delete t[m[i]]; return t }(this), e.formats && function (e) { for (var t in e._opts.formats) { var i = e._opts.formats[t]; e.addFormat(t, i) } }(this), function (e) { var t; if (e._opts.$data && (t = i(77), e.addMetaSchema(t, t.$id, !0)), !1 !== e._opts.meta) { var n = i(32); e._opts.$data && (n = h(n, f)), e.addMetaSchema(n, p, !0), e._refs["http://json-schema.org/schema"] = p } }(this), "object" == typeof e.meta && this.addMetaSchema(e.meta), e.nullable && this.addKeyword("nullable", { metaSchema: { type: "boolean" } }), function (e) { var t = e._opts.schemas; if (t) if (Array.isArray(t)) e.addSchema(t); else for (var i in t) e.addSchema(t[i], i) }(this) } function I(e, t) { return t = r.normalizeId(t), e._schemas[t] || e._refs[t] || e._fragments[t] } function A(e, t, i) { for (var n in t) { var r = t[n]; r.meta || i && !i.test(n) || (e._cache.del(r.cacheKey), delete t[n]) } } function v(e) { return e.$id && this.logger.warn("schema $id ignored", e.$id), e.id } function b(e) { return e.id && this.logger.warn("schema id ignored", e.id), e.$id } function y(e) { if (e.$id && e.id && e.$id != e.id) throw new Error("schema $id is different from id"); return e.$id || e.id } function w(e, t) { if (e._schemas[t] || e._refs[t]) throw new Error('schema with key or id "' + t + '" already exists') } function S() { } }, function (e, t, i) { "use strict"; var n = i(17), r = i(7), s = i(19), o = i(26), a = i(27), l = r.ucs2length, c = i(18), h = s.Validation; function d(e, t, i) { var n = g.call(this, e, t, i); return 0 <= n ? { index: n, compiling: !0 } : { index: n = this._compilations.length, compiling: !(this._compilations[n] = { schema: e, root: t, baseId: i }) } } function u(e, t, i) { var n = g.call(this, e, t, i); 0 <= n && this._compilations.splice(n, 1) } function g(e, t, i) { for (var n = 0; n < this._compilations.length; n++) { var r = this._compilations[n]; if (r.schema == e && r.root == t && r.baseId == i) return n } return -1 } function p(e, t) { return "var pattern" + e + " = new RegExp(" + r.toQuotedString(t[e]) + ");" } function m(e) { return "var default" + e + " = defaults[" + e + "];" } function f(e, t) { return void 0 === t[e] ? "" : "var refVal" + e + " = refVal[" + e + "];" } function C(e) { return "var customRule" + e + " = customRules[" + e + "];" } function I(e, t) { if (!e.length) return ""; for (var i = "", n = 0; n < e.length; n++)i += t(n, e); return i } e.exports = function A(e, t, i, g) { var v = this, b = this._opts, y = [void 0], w = {}, S = [], x = {}, k = [], R = {}, E = []; t = t || { schema: e, refVal: y, refs: w }; var B = d.call(this, e, t, g), G = this._compilations[B.index]; if (B.compiling) return G.callValidate = function P() { var e = G.validate, t = e.apply(this, arguments); return P.errors = e.errors, t }; var T = this._formats, Z = this.RULES; try { var W = L(e, t, i, g); G.validate = W; var _ = G.callValidate; return _ && (_.schema = W.schema, _.errors = null, _.refs = W.refs, _.refVal = W.refVal, _.root = W.root, _.$async = W.$async, b.sourceCode && (_.source = W.source)), W } finally { u.call(this, e, t, g) } function L(e, i, o, d) { var u = !i || i && i.schema == e; if (i.schema != t.schema) return A.call(v, e, i, o, d); var g, x = !0 === e.$async, R = a({ isTop: !0, schema: e, isRoot: u, baseId: d, root: i, schemaPath: "", errSchemaPath: "#", errorPath: '""', MissingRefError: s.MissingRef, RULES: Z, validate: a, util: r, resolve: n, resolveRef: H, usePattern: N, useDefault: O, useCustomRule: F, opts: b, formats: T, logger: v.logger, self: v }); R = I(y, f) + I(S, p) + I(k, m) + I(E, C) + R, b.processCode && (R = b.processCode(R)); try { g = new Function("self", "RULES", "formats", "root", "refVal", "defaults", "customRules", "equal", "ucs2length", "ValidationError", R)(v, Z, T, t, y, k, E, c, l, h), y[0] = g } catch (e) { throw v.logger.error("Error compiling schema, function code:", R), e } return g.schema = e, g.errors = null, g.refs = w, g.refVal = y, g.root = u ? g : i, x && (g.$async = !0), !0 === b.sourceCode && (g.source = { code: R, patterns: S, defaults: k }), g } function H(e, r, s) { r = n.url(e, r); var o, a, l = w[r]; if (void 0 !== l) return V(o = y[l], a = "refVal[" + l + "]"); if (!s && t.refs) { var c = t.refs[r]; if (void 0 !== c) return V(o = t.refVal[c], a = $(r, o)) } a = $(r); var h = n.call(v, L, t, r); if (void 0 === h) { var d = i && i[r]; d && (h = n.inlineRef(d, b.inlineRefs) ? d : A.call(v, d, t, i, e)) } if (void 0 !== h) return function (e, t) { var i = w[e]; y[i] = t }(r, h), V(h, a); !function (e) { delete w[e] }(r) } function $(e, t) { var i = y.length; return y[i] = t, "refVal" + (w[e] = i) } function V(e, t) { return "object" == typeof e || "boolean" == typeof e ? { code: t, schema: e, inline: !0 } : { code: t, $async: e && !!e.$async } } function N(e) { var t = x[e]; return void 0 === t && (t = x[e] = S.length, S[t] = e), "pattern" + t } function O(e) { switch (typeof e) { case "boolean": case "number": return "" + e; case "string": return r.toQuotedString(e); case "object": if (null === e) return "null"; var t = o(e), i = R[t]; return void 0 === i && (i = R[t] = k.length, k[i] = e), "default" + i } } function F(e, t, i, n) { if (!1 !== v._opts.validateSchema) { var r = e.definition.dependencies; if (r && !r.every((function (e) { return Object.prototype.hasOwnProperty.call(i, e) }))) throw new Error("parent schema must have all required keywords: " + r.join(",")); var s = e.definition.validateSchema; if (s) if (!s(t)) { var o = "keyword schema is invalid: " + v.errorsText(s.errors); if ("log" != v._opts.validateSchema) throw new Error(o); v.logger.error(o) } } var a, l = e.definition.compile, c = e.definition.inline, h = e.definition.macro; if (l) a = l.call(v, t, i, n); else if (h) a = h.call(v, t, i, n), !1 !== b.validateSchema && v.validateSchema(a, !0); else if (c) a = c.call(v, n, e.keyword, t, i); else if (!(a = e.definition.validate)) return; if (void 0 === a) throw new Error('custom keyword "' + e.keyword + '"failed to compile'); var d = E.length; return E[d] = a, { code: "customRule" + d, validate: a } } } }, function (e, t, i) {
                /** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
                !function (e) { "use strict"; function t() { for (var e = arguments.length, t = Array(e), i = 0; i < e; i++)t[i] = arguments[i]; if (t.length > 1) { t[0] = t[0].slice(0, -1); for (var n = t.length - 1, r = 1; r < n; ++r)t[r] = t[r].slice(1, -1); return t[n] = t[n].slice(1), t.join("") } return t[0] } function i(e) { return "(?:" + e + ")" } function n(e) { return e === undefined ? "undefined" : null === e ? "null" : Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase() } function r(e) { return e.toUpperCase() } function s(e) { var n = "[A-Za-z]", r = "[0-9]", s = t(r, "[A-Fa-f]"), o = i(i("%[EFef]" + s + "%" + s + s + "%" + s + s) + "|" + i("%[89A-Fa-f]" + s + "%" + s + s) + "|" + i("%" + s + s)), a = "[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]", l = t("[\\:\\/\\?\\#\\[\\]\\@]", a), c = e ? "[\\uE000-\\uF8FF]" : "[]", h = t(n, r, "[\\-\\.\\_\\~]", e ? "[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]" : "[]"), d = i(n + t(n, r, "[\\+\\-\\.]") + "*"), u = i(i(o + "|" + t(h, a, "[\\:]")) + "*"), g = (i(i("25[0-5]") + "|" + i("2[0-4]" + r) + "|" + i("1" + r + r) + "|" + i("[1-9]" + r) + "|" + r), i(i("25[0-5]") + "|" + i("2[0-4]" + r) + "|" + i("1" + r + r) + "|" + i("0?[1-9]" + r) + "|0?0?" + r)), p = i(g + "\\." + g + "\\." + g + "\\." + g), m = i(s + "{1,4}"), f = i(i(m + "\\:" + m) + "|" + p), C = i(i(m + "\\:") + "{6}" + f), I = i("\\:\\:" + i(m + "\\:") + "{5}" + f), A = i(i(m) + "?\\:\\:" + i(m + "\\:") + "{4}" + f), v = i(i(i(m + "\\:") + "{0,1}" + m) + "?\\:\\:" + i(m + "\\:") + "{3}" + f), b = i(i(i(m + "\\:") + "{0,2}" + m) + "?\\:\\:" + i(m + "\\:") + "{2}" + f), y = i(i(i(m + "\\:") + "{0,3}" + m) + "?\\:\\:" + m + "\\:" + f), w = i(i(i(m + "\\:") + "{0,4}" + m) + "?\\:\\:" + f), S = i(i(i(m + "\\:") + "{0,5}" + m) + "?\\:\\:" + m), x = i(i(i(m + "\\:") + "{0,6}" + m) + "?\\:\\:"), k = i([C, I, A, v, b, y, w, S, x].join("|")), R = i(i(h + "|" + o) + "+"), E = (i(k + "\\%25" + R), i(k + i("\\%25|\\%(?!" + s + "{2})") + R)), B = i("[vV]" + s + "+\\." + t(h, a, "[\\:]") + "+"), G = i("\\[" + i(E + "|" + k + "|" + B) + "\\]"), T = i(i(o + "|" + t(h, a)) + "*"), Z = i(G + "|" + p + "(?!" + T + ")|" + T), W = i(r + "*"), _ = i(i(u + "@") + "?" + Z + i("\\:" + W) + "?"), L = i(o + "|" + t(h, a, "[\\:\\@]")), H = i(L + "*"), $ = i(L + "+"), V = i(i(o + "|" + t(h, a, "[\\@]")) + "+"), N = i(i("\\/" + H) + "*"), O = i("\\/" + i($ + N) + "?"), F = i(V + N), P = i($ + N), K = "(?!" + L + ")", M = (i(N + "|" + O + "|" + F + "|" + P + "|" + K), i(i(L + "|" + t("[\\/\\?]", c)) + "*")), D = i(i(L + "|[\\/\\?]") + "*"), j = i(i("\\/\\/" + _ + N) + "|" + O + "|" + P + "|" + K), X = i(d + "\\:" + j + i("\\?" + M) + "?" + i("\\#" + D) + "?"), Y = i(i("\\/\\/" + _ + N) + "|" + O + "|" + F + "|" + K), J = i(Y + i("\\?" + M) + "?" + i("\\#" + D) + "?"); i(X + "|" + J), i(d + "\\:" + j + i("\\?" + M) + "?"), i(i("\\/\\/(" + i("(" + u + ")@") + "?(" + Z + ")" + i("\\:(" + W + ")") + "?)") + "?(" + N + "|" + O + "|" + P + "|" + K + ")"), i("\\?(" + M + ")"), i("\\#(" + D + ")"), i(i("\\/\\/(" + i("(" + u + ")@") + "?(" + Z + ")" + i("\\:(" + W + ")") + "?)") + "?(" + N + "|" + O + "|" + F + "|" + K + ")"), i("\\?(" + M + ")"), i("\\#(" + D + ")"), i(i("\\/\\/(" + i("(" + u + ")@") + "?(" + Z + ")" + i("\\:(" + W + ")") + "?)") + "?(" + N + "|" + O + "|" + P + "|" + K + ")"), i("\\?(" + M + ")"), i("\\#(" + D + ")"), i("(" + u + ")@"), i("\\:(" + W + ")"); return { NOT_SCHEME: new RegExp(t("[^]", n, r, "[\\+\\-\\.]"), "g"), NOT_USERINFO: new RegExp(t("[^\\%\\:]", h, a), "g"), NOT_HOST: new RegExp(t("[^\\%\\[\\]\\:]", h, a), "g"), NOT_PATH: new RegExp(t("[^\\%\\/\\:\\@]", h, a), "g"), NOT_PATH_NOSCHEME: new RegExp(t("[^\\%\\/\\@]", h, a), "g"), NOT_QUERY: new RegExp(t("[^\\%]", h, a, "[\\:\\@\\/\\?]", c), "g"), NOT_FRAGMENT: new RegExp(t("[^\\%]", h, a, "[\\:\\@\\/\\?]"), "g"), ESCAPE: new RegExp(t("[^]", h, a), "g"), UNRESERVED: new RegExp(h, "g"), OTHER_CHARS: new RegExp(t("[^\\%]", h, l), "g"), PCT_ENCODED: new RegExp(o, "g"), IPV4ADDRESS: new RegExp("^(" + p + ")$"), IPV6ADDRESS: new RegExp("^\\[?(" + k + ")" + i(i("\\%25|\\%(?!" + s + "{2})") + "(" + R + ")") + "?\\]?$") } } var o = s(!1), a = s(!0), l = function (e, t) { if (Array.isArray(e)) return e; if (Symbol.iterator in Object(e)) return function (e, t) { var i = [], n = !0, r = !1, s = undefined; try { for (var o, a = e[Symbol.iterator](); !(n = (o = a.next()).done) && (i.push(o.value), !t || i.length !== t); n = !0); } catch (e) { r = !0, s = e } finally { try { !n && a["return"] && a["return"]() } finally { if (r) throw s } } return i }(e, t); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, c = 2147483647, h = 36, d = /^xn--/, u = /[^\0-\x7E]/, g = /[\x2E\u3002\uFF0E\uFF61]/g, p = { overflow: "Overflow: input needs wider integers to process", "not-basic": "Illegal input >= 0x80 (not a basic code point)", "invalid-input": "Invalid input" }, m = Math.floor, f = String.fromCharCode; function C(e) { throw new RangeError(p[e]) } function I(e, t) { var i = e.split("@"), n = ""; i.length > 1 && (n = i[0] + "@", e = i[1]); var r = function (e, t) { for (var i = [], n = e.length; n--;)i[n] = t(e[n]); return i }((e = e.replace(g, ".")).split("."), t).join("."); return n + r } function A(e) { for (var t = [], i = 0, n = e.length; i < n;) { var r = e.charCodeAt(i++); if (r >= 55296 && r <= 56319 && i < n) { var s = e.charCodeAt(i++); 56320 == (64512 & s) ? t.push(((1023 & r) << 10) + (1023 & s) + 65536) : (t.push(r), i--) } else t.push(r) } return t } var v = function (e) { return e - 48 < 10 ? e - 22 : e - 65 < 26 ? e - 65 : e - 97 < 26 ? e - 97 : h }, b = function (e, t) { return e + 22 + 75 * (e < 26) - ((0 != t) << 5) }, y = function (e, t, i) { var n = 0; for (e = i ? m(e / 700) : e >> 1, e += m(e / t); e > 455; n += h)e = m(e / 35); return m(n + 36 * e / (e + 38)) }, w = function (e) { var t = [], i = e.length, n = 0, r = 128, s = 72, o = e.lastIndexOf("-"); o < 0 && (o = 0); for (var a = 0; a < o; ++a)e.charCodeAt(a) >= 128 && C("not-basic"), t.push(e.charCodeAt(a)); for (var l = o > 0 ? o + 1 : 0; l < i;) { for (var d = n, u = 1, g = h; ; g += h) { l >= i && C("invalid-input"); var p = v(e.charCodeAt(l++)); (p >= h || p > m((c - n) / u)) && C("overflow"), n += p * u; var f = g <= s ? 1 : g >= s + 26 ? 26 : g - s; if (p < f) break; var I = h - f; u > m(c / I) && C("overflow"), u *= I } var A = t.length + 1; s = y(n - d, A, 0 == d), m(n / A) > c - r && C("overflow"), r += m(n / A), n %= A, t.splice(n++, 0, r) } return String.fromCodePoint.apply(String, t) }, S = function le(e) { var t = [], i = (e = A(e)).length, n = 128, r = 0, s = 72, o = !0, a = !1, l = undefined; try { for (var d, u = e[Symbol.iterator](); !(o = (d = u.next()).done); o = !0) { var g = d.value; g < 128 && t.push(f(g)) } } catch (le) { a = !0, l = le } finally { try { !o && u["return"] && u["return"]() } finally { if (a) throw l } } var p = t.length, I = p; for (p && t.push("-"); I < i;) { var v = c, w = !0, S = !1, x = undefined; try { for (var k, R = e[Symbol.iterator](); !(w = (k = R.next()).done); w = !0) { var E = k.value; E >= n && E < v && (v = E) } } catch (le) { S = !0, x = le } finally { try { !w && R["return"] && R["return"]() } finally { if (S) throw x } } var B = I + 1; v - n > m((c - r) / B) && C("overflow"), r += (v - n) * B, n = v; var G = !0, T = !1, Z = undefined; try { for (var W, _ = e[Symbol.iterator](); !(G = (W = _.next()).done); G = !0) { var L = W.value; if (L < n && ++r > c && C("overflow"), L == n) { for (var H = r, $ = h; ; $ += h) { var V = $ <= s ? 1 : $ >= s + 26 ? 26 : $ - s; if (H < V) break; var N = H - V, O = h - V; t.push(f(b(V + N % O, 0))), H = m(N / O) } t.push(f(b(H, 0))), s = y(r, B, I == p), r = 0, ++I } } } catch (le) { T = !0, Z = le } finally { try { !G && _["return"] && _["return"]() } finally { if (T) throw Z } } ++r, ++n } return t.join("") }, x = { version: "2.1.0", ucs2: { decode: A, encode: function (e) { return String.fromCodePoint.apply(String, function (e) { if (Array.isArray(e)) { for (var t = 0, i = Array(e.length); t < e.length; t++)i[t] = e[t]; return i } return Array.from(e) }(e)) } }, decode: w, encode: S, toASCII: function (e) { return I(e, (function (e) { return u.test(e) ? "xn--" + S(e) : e })) }, toUnicode: function (e) { return I(e, (function (e) { return d.test(e) ? w(e.slice(4).toLowerCase()) : e })) } }, k = {}; function R(e) { var t = e.charCodeAt(0); return t < 16 ? "%0" + t.toString(16).toUpperCase() : t < 128 ? "%" + t.toString(16).toUpperCase() : t < 2048 ? "%" + (t >> 6 | 192).toString(16).toUpperCase() + "%" + (63 & t | 128).toString(16).toUpperCase() : "%" + (t >> 12 | 224).toString(16).toUpperCase() + "%" + (t >> 6 & 63 | 128).toString(16).toUpperCase() + "%" + (63 & t | 128).toString(16).toUpperCase() } function E(e) { for (var t = "", i = 0, n = e.length; i < n;) { var r = parseInt(e.substr(i + 1, 2), 16); if (r < 128) t += String.fromCharCode(r), i += 3; else if (r >= 194 && r < 224) { if (n - i >= 6) { var s = parseInt(e.substr(i + 4, 2), 16); t += String.fromCharCode((31 & r) << 6 | 63 & s) } else t += e.substr(i, 6); i += 6 } else if (r >= 224) { if (n - i >= 9) { var o = parseInt(e.substr(i + 4, 2), 16), a = parseInt(e.substr(i + 7, 2), 16); t += String.fromCharCode((15 & r) << 12 | (63 & o) << 6 | 63 & a) } else t += e.substr(i, 9); i += 9 } else t += e.substr(i, 3), i += 3 } return t } function B(e, t) { function i(e) { var i = E(e); return i.match(t.UNRESERVED) ? i : e } return e.scheme && (e.scheme = String(e.scheme).replace(t.PCT_ENCODED, i).toLowerCase().replace(t.NOT_SCHEME, "")), e.userinfo !== undefined && (e.userinfo = String(e.userinfo).replace(t.PCT_ENCODED, i).replace(t.NOT_USERINFO, R).replace(t.PCT_ENCODED, r)), e.host !== undefined && (e.host = String(e.host).replace(t.PCT_ENCODED, i).toLowerCase().replace(t.NOT_HOST, R).replace(t.PCT_ENCODED, r)), e.path !== undefined && (e.path = String(e.path).replace(t.PCT_ENCODED, i).replace(e.scheme ? t.NOT_PATH : t.NOT_PATH_NOSCHEME, R).replace(t.PCT_ENCODED, r)), e.query !== undefined && (e.query = String(e.query).replace(t.PCT_ENCODED, i).replace(t.NOT_QUERY, R).replace(t.PCT_ENCODED, r)), e.fragment !== undefined && (e.fragment = String(e.fragment).replace(t.PCT_ENCODED, i).replace(t.NOT_FRAGMENT, R).replace(t.PCT_ENCODED, r)), e } function G(e) { return e.replace(/^0*(.*)/, "$1") || "0" } function T(e, t) { var i = e.match(t.IPV4ADDRESS) || [], n = l(i, 2)[1]; return n ? n.split(".").map(G).join(".") : e } function Z(e, t) { var i = e.match(t.IPV6ADDRESS) || [], n = l(i, 3), r = n[1], s = n[2]; if (r) { for (var o = r.toLowerCase().split("::").reverse(), a = l(o, 2), c = a[0], h = a[1], d = h ? h.split(":").map(G) : [], u = c.split(":").map(G), g = t.IPV4ADDRESS.test(u[u.length - 1]), p = g ? 7 : 8, m = u.length - p, f = Array(p), C = 0; C < p; ++C)f[C] = d[C] || u[m + C] || ""; g && (f[p - 1] = T(f[p - 1], t)); var I = f.reduce((function (e, t, i) { if (!t || "0" === t) { var n = e[e.length - 1]; n && n.index + n.length === i ? n.length++ : e.push({ index: i, length: 1 }) } return e }), []).sort((function (e, t) { return t.length - e.length }))[0], A = void 0; if (I && I.length > 1) { var v = f.slice(0, I.index), b = f.slice(I.index + I.length); A = v.join(":") + "::" + b.join(":") } else A = f.join(":"); return s && (A += "%" + s), A } return e } var W = /^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i, _ = "".match(/(){0}/)[1] === undefined; function L(e) { var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {}, i = {}, n = !1 !== t.iri ? a : o; "suffix" === t.reference && (e = (t.scheme ? t.scheme + ":" : "") + "//" + e); var r = e.match(W); if (r) { _ ? (i.scheme = r[1], i.userinfo = r[3], i.host = r[4], i.port = parseInt(r[5], 10), i.path = r[6] || "", i.query = r[7], i.fragment = r[8], isNaN(i.port) && (i.port = r[5])) : (i.scheme = r[1] || undefined, i.userinfo = -1 !== e.indexOf("@") ? r[3] : undefined, i.host = -1 !== e.indexOf("//") ? r[4] : undefined, i.port = parseInt(r[5], 10), i.path = r[6] || "", i.query = -1 !== e.indexOf("?") ? r[7] : undefined, i.fragment = -1 !== e.indexOf("#") ? r[8] : undefined, isNaN(i.port) && (i.port = e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/) ? r[4] : undefined)), i.host && (i.host = Z(T(i.host, n), n)), i.scheme !== undefined || i.userinfo !== undefined || i.host !== undefined || i.port !== undefined || i.path || i.query !== undefined ? i.scheme === undefined ? i.reference = "relative" : i.fragment === undefined ? i.reference = "absolute" : i.reference = "uri" : i.reference = "same-document", t.reference && "suffix" !== t.reference && t.reference !== i.reference && (i.error = i.error || "URI is not a " + t.reference + " reference."); var s = k[(t.scheme || i.scheme || "").toLowerCase()]; if (t.unicodeSupport || s && s.unicodeSupport) B(i, n); else { if (i.host && (t.domainHost || s && s.domainHost)) try { i.host = x.toASCII(i.host.replace(n.PCT_ENCODED, E).toLowerCase()) } catch (e) { i.error = i.error || "Host's domain name can not be converted to ASCII via punycode: " + e } B(i, o) } s && s.parse && s.parse(i, t) } else i.error = i.error || "URI can not be parsed."; return i } var H = /^\.\.?\//, $ = /^\/\.(\/|$)/, V = /^\/\.\.(\/|$)/, N = /^\/?(?:.|\n)*?(?=\/|$)/; function O(e) { for (var t = []; e.length;)if (e.match(H)) e = e.replace(H, ""); else if (e.match($)) e = e.replace($, "/"); else if (e.match(V)) e = e.replace(V, "/"), t.pop(); else if ("." === e || ".." === e) e = ""; else { var i = e.match(N); if (!i) throw new Error("Unexpected dot segment condition"); var n = i[0]; e = e.slice(n.length), t.push(n) } return t.join("") } function F(e) { var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {}, i = t.iri ? a : o, n = [], r = k[(t.scheme || e.scheme || "").toLowerCase()]; if (r && r.serialize && r.serialize(e, t), e.host) if (i.IPV6ADDRESS.test(e.host)); else if (t.domainHost || r && r.domainHost) try { e.host = t.iri ? x.toUnicode(e.host) : x.toASCII(e.host.replace(i.PCT_ENCODED, E).toLowerCase()) } catch (i) { e.error = e.error || "Host's domain name can not be converted to " + (t.iri ? "Unicode" : "ASCII") + " via punycode: " + i } B(e, i), "suffix" !== t.reference && e.scheme && (n.push(e.scheme), n.push(":")); var s = function (e, t) { var i = !1 !== t.iri ? a : o, n = []; return e.userinfo !== undefined && (n.push(e.userinfo), n.push("@")), e.host !== undefined && n.push(Z(T(String(e.host), i), i).replace(i.IPV6ADDRESS, (function (e, t, i) { return "[" + t + (i ? "%25" + i : "") + "]" }))), "number" == typeof e.port && (n.push(":"), n.push(e.port.toString(10))), n.length ? n.join("") : undefined }(e, t); if (s !== undefined && ("suffix" !== t.reference && n.push("//"), n.push(s), e.path && "/" !== e.path.charAt(0) && n.push("/")), e.path !== undefined) { var l = e.path; t.absolutePath || r && r.absolutePath || (l = O(l)), s === undefined && (l = l.replace(/^\/\//, "/%2F")), n.push(l) } return e.query !== undefined && (n.push("?"), n.push(e.query)), e.fragment !== undefined && (n.push("#"), n.push(e.fragment)), n.join("") } function P(e, t) { var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {}, n = {}; return arguments[3] || (e = L(F(e, i), i), t = L(F(t, i), i)), !(i = i || {}).tolerant && t.scheme ? (n.scheme = t.scheme, n.userinfo = t.userinfo, n.host = t.host, n.port = t.port, n.path = O(t.path || ""), n.query = t.query) : (t.userinfo !== undefined || t.host !== undefined || t.port !== undefined ? (n.userinfo = t.userinfo, n.host = t.host, n.port = t.port, n.path = O(t.path || ""), n.query = t.query) : (t.path ? ("/" === t.path.charAt(0) ? n.path = O(t.path) : (e.userinfo === undefined && e.host === undefined && e.port === undefined || e.path ? e.path ? n.path = e.path.slice(0, e.path.lastIndexOf("/") + 1) + t.path : n.path = t.path : n.path = "/" + t.path, n.path = O(n.path)), n.query = t.query) : (n.path = e.path, t.query !== undefined ? n.query = t.query : n.query = e.query), n.userinfo = e.userinfo, n.host = e.host, n.port = e.port), n.scheme = e.scheme), n.fragment = t.fragment, n } function K(e, t) { return e && e.toString().replace(t && t.iri ? a.PCT_ENCODED : o.PCT_ENCODED, E) } var M = { scheme: "http", domainHost: !0, parse: function (e, t) { return e.host || (e.error = e.error || "HTTP URIs must have a host."), e }, serialize: function (e, t) { return e.port !== ("https" !== String(e.scheme).toLowerCase() ? 80 : 443) && "" !== e.port || (e.port = undefined), e.path || (e.path = "/"), e } }, D = { scheme: "https", domainHost: M.domainHost, parse: M.parse, serialize: M.serialize }, j = {}, X = "[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]", Y = "[0-9A-Fa-f]", J = i(i("%[EFef]" + Y + "%" + Y + Y + "%" + Y + Y) + "|" + i("%[89A-Fa-f]" + Y + "%" + Y + Y) + "|" + i("%" + Y + Y)), z = t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]", '[\\"\\\\]'), U = new RegExp(X, "g"), Q = new RegExp(J, "g"), q = new RegExp(t("[^]", "[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]", "[\\.]", '[\\"]', z), "g"), ee = new RegExp(t("[^]", X, "[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"), "g"), te = ee; function ie(e) { var t = E(e); return t.match(U) ? t : e } var ne = { scheme: "mailto", parse: function ce(e, t) { var i = e, n = i.to = i.path ? i.path.split(",") : []; if (i.path = undefined, i.query) { for (var r = !1, s = {}, o = i.query.split("&"), a = 0, l = o.length; a < l; ++a) { var c = o[a].split("="); switch (c[0]) { case "to": for (var h = c[1].split(","), d = 0, u = h.length; d < u; ++d)n.push(h[d]); break; case "subject": i.subject = K(c[1], t); break; case "body": i.body = K(c[1], t); break; default: r = !0, s[K(c[0], t)] = K(c[1], t) } } r && (i.headers = s) } i.query = undefined; for (var g = 0, p = n.length; g < p; ++g) { var m = n[g].split("@"); if (m[0] = K(m[0]), t.unicodeSupport) m[1] = K(m[1], t).toLowerCase(); else try { m[1] = x.toASCII(K(m[1], t).toLowerCase()) } catch (ce) { i.error = i.error || "Email address's domain name can not be converted to ASCII via punycode: " + ce } n[g] = m.join("@") } return i }, serialize: function he(e, t) { var i = e, n = function (e) { return e !== undefined && null !== e ? e instanceof Array ? e : "number" != typeof e.length || e.split || e.setInterval || e.call ? [e] : Array.prototype.slice.call(e) : [] }(e.to); if (n) { for (var s = 0, o = n.length; s < o; ++s) { var a = String(n[s]), l = a.lastIndexOf("@"), c = a.slice(0, l).replace(Q, ie).replace(Q, r).replace(q, R), h = a.slice(l + 1); try { h = t.iri ? x.toUnicode(h) : x.toASCII(K(h, t).toLowerCase()) } catch (he) { i.error = i.error || "Email address's domain name can not be converted to " + (t.iri ? "Unicode" : "ASCII") + " via punycode: " + he } n[s] = c + "@" + h } i.path = n.join(",") } var d = e.headers = e.headers || {}; e.subject && (d.subject = e.subject), e.body && (d.body = e.body); var u = []; for (var g in d) d[g] !== j[g] && u.push(g.replace(Q, ie).replace(Q, r).replace(ee, R) + "=" + d[g].replace(Q, ie).replace(Q, r).replace(te, R)); return u.length && (i.query = u.join("&")), i } }, re = /^([^\:]+)\:(.*)/, se = { scheme: "urn", parse: function (e, t) { var i = e.path && e.path.match(re), n = e; if (i) { var r = t.scheme || n.scheme || "urn", s = i[1].toLowerCase(), o = i[2], a = r + ":" + (t.nid || s), l = k[a]; n.nid = s, n.nss = o, n.path = undefined, l && (n = l.parse(n, t)) } else n.error = n.error || "URN can not be parsed."; return n }, serialize: function (e, t) { var i = t.scheme || e.scheme || "urn", n = e.nid, r = i + ":" + (t.nid || n), s = k[r]; s && (e = s.serialize(e, t)); var o = e, a = e.nss; return o.path = (n || t.nid) + ":" + a, o } }, oe = /^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/, ae = { scheme: "urn:uuid", parse: function (e, t) { var i = e; return i.uuid = i.nss, i.nss = undefined, t.tolerant || i.uuid && i.uuid.match(oe) || (i.error = i.error || "UUID is not valid."), i }, serialize: function (e, t) { var i = e; return i.nss = (e.uuid || "").toLowerCase(), i } }; k[M.scheme] = M, k[D.scheme] = D, k[ne.scheme] = ne, k[se.scheme] = se, k[ae.scheme] = ae, e.SCHEMES = k, e.pctEncChar = R, e.pctDecChars = E, e.parse = L, e.removeDotSegments = O, e.serialize = F, e.resolveComponents = P, e.resolve = function (e, t, i) { var n = function (e, t) { var i = e; if (t) for (var n in t) i[n] = t[n]; return i }({ scheme: "null" }, i); return F(P(L(e, n), L(t, n), n, !0), n) }, e.normalize = function (e, t) { return "string" == typeof e ? e = F(L(e, t), t) : "object" === n(e) && (e = L(F(e, t), t)), e }, e.equal = function (e, t, i) { return "string" == typeof e ? e = F(L(e, i), i) : "object" === n(e) && (e = F(e, i)), "string" == typeof t ? t = F(L(t, i), i) : "object" === n(t) && (t = F(t, i)), e === t }, e.escapeComponent = function (e, t) { return e && e.toString().replace(t && t.iri ? a.ESCAPE : o.ESCAPE, R) }, e.unescapeComponent = K, Object.defineProperty(e, "__esModule", { value: !0 }) }(t)
            }, function (e, t, i) { "use strict"; e.exports = function (e) { for (var t, i = 0, n = e.length, r = 0; r < n;)i++, 55296 <= (t = e.charCodeAt(r++)) && t <= 56319 && r < n && 56320 == (64512 & (t = e.charCodeAt(r))) && r++; return i } }, function (e, t, i) { "use strict"; var n = e.exports = function (e, t, i) { "function" == typeof t && (i = t, t = {}), function r(e, t, i, s, o, a, l, c, h, d) { if (s && "object" == typeof s && !Array.isArray(s)) { for (var u in t(s, o, a, l, c, h, d), s) { var g = s[u]; if (Array.isArray(g)) { if (u in n.arrayKeywords) for (var p = 0; p < g.length; p++)r(e, t, i, g[p], o + "/" + u + "/" + p, a, o, u, s, p) } else if (u in n.propsKeywords) { if (g && "object" == typeof g) for (var m in g) r(e, t, i, g[m], o + "/" + u + "/" + m.replace(/~/g, "~0").replace(/\//g, "~1"), a, o, u, s, m) } else (u in n.keywords || e.allKeys && !(u in n.skipKeywords)) && r(e, t, i, g, o + "/" + u, a, o, u, s) } i(s, o, a, l, c, h, d) } }(t, "function" == typeof (i = t.cb || i) ? i : i.pre || function () { }, i.post || function () { }, e, "", e) }; n.keywords = { additionalItems: !0, items: !0, contains: !0, additionalProperties: !0, propertyNames: !0, not: !0 }, n.arrayKeywords = { items: !0, allOf: !0, anyOf: !0, oneOf: !0 }, n.propsKeywords = { definitions: !0, properties: !0, patternProperties: !0, dependencies: !0 }, n.skipKeywords = { "default": !0, "enum": !0, "const": !0, required: !0, maximum: !0, minimum: !0, exclusiveMaximum: !0, exclusiveMinimum: !0, multipleOf: !0, maxLength: !0, minLength: !0, pattern: !0, format: !0, maxItems: !0, minItems: !0, uniqueItems: !0, maxProperties: !0, minProperties: !0 } }, function (e, t, i) { "use strict"; var n = e.exports = function () { this._cache = {} }; n.prototype.put = function (e, t) { this._cache[e] = t }, n.prototype.get = function (e) { return this._cache[e] }, n.prototype.del = function (e) { delete this._cache[e] }, n.prototype.clear = function () { this._cache = {} } }, function (e, t, i) { "use strict"; var n = i(7), r = /^(\d\d\d\d)-(\d\d)-(\d\d)$/, s = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], o = /^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i, a = /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i, l = /^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i, c = /^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i, h = /^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i, d = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i, u = /^(?:\/(?:[^~/]|~0|~1)*)*$/, g = /^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i, p = /^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/; function m(e) { return e = "full" == e ? "full" : "fast", n.copy(m[e]) } function f(e) { var t = e.match(r); if (!t) return !1; var i, n = +t[1], o = +t[2], a = +t[3]; return 1 <= o && o <= 12 && 1 <= a && a <= (2 != o || (i = n) % 4 != 0 || i % 100 == 0 && i % 400 != 0 ? s[o] : 29) } function C(e, t) { var i = e.match(o); if (!i) return !1; var n = i[1], r = i[2], s = i[3], a = i[5]; return (n <= 23 && r <= 59 && s <= 59 || 23 == n && 59 == r && 60 == s) && (!t || a) } (e.exports = m).fast = { date: /^\d\d\d\d-[0-1]\d-[0-3]\d$/, time: /^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i, "date-time": /^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i, uri: /^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i, "uri-reference": /^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i, "uri-template": c, url: h, email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i, hostname: a, ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/, ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i, regex: b, uuid: d, "json-pointer": u, "json-pointer-uri-fragment": g, "relative-json-pointer": p }, m.full = { date: f, time: C, "date-time": function (e) { var t = e.split(I); return 2 == t.length && f(t[0]) && C(t[1], !0) }, uri: function (e) { return A.test(e) && l.test(e) }, "uri-reference": /^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i, "uri-template": c, url: h, email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i, hostname: function (e) { return e.length <= 255 && a.test(e) }, ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/, ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i, regex: b, uuid: d, "json-pointer": u, "json-pointer-uri-fragment": g, "relative-json-pointer": p }; var I = /t|\s/i, A = /\/|:/, v = /[^\\]\\Z/; function b(e) { if (v.test(e)) return !1; try { return new RegExp(e), !0 } catch (e) { return !1 } } }, function (e, t, i) { "use strict"; var n = i(52), r = i(7).toHash; e.exports = function () { var e = [{ type: "number", rules: [{ maximum: ["exclusiveMaximum"] }, { minimum: ["exclusiveMinimum"] }, "multipleOf", "format"] }, { type: "string", rules: ["maxLength", "minLength", "pattern", "format"] }, { type: "array", rules: ["maxItems", "minItems", "items", "contains", "uniqueItems"] }, { type: "object", rules: ["maxProperties", "minProperties", "required", "dependencies", "propertyNames", { properties: ["additionalProperties", "patternProperties"] }] }, { rules: ["$ref", "const", "enum", "not", "anyOf", "oneOf", "allOf", "if"] }], t = ["type", "$comment"]; return e.all = r(t), e.types = r(["number", "integer", "string", "array", "object", "boolean", "null"]), e.forEach((function (i) { i.rules = i.rules.map((function (i) { var r; if ("object" == typeof i) { var s = Object.keys(i)[0]; r = i[s], i = s, r.forEach((function (i) { t.push(i), e.all[i] = !0 })) } return t.push(i), e.all[i] = { keyword: i, code: n[i], "implements": r } })), e.all.$comment = { keyword: "$comment", code: n.$comment }, i.type && (e.types[i.type] = i) })), e.keywords = r(t.concat(["$schema", "$id", "id", "$data", "$async", "title", "description", "default", "definitions", "examples", "readOnly", "writeOnly", "contentMediaType", "contentEncoding", "additionalItems", "then", "else"])), e.custom = {}, e } }, function (e, t, i) { "use strict"; e.exports = { $ref: i(53), allOf: i(54), anyOf: i(55), $comment: i(56), "const": i(57), contains: i(58), dependencies: i(59), "enum": i(60), format: i(61), "if": i(62), items: i(63), maximum: i(28), minimum: i(28), maxItems: i(29), minItems: i(29), maxLength: i(30), minLength: i(30), maxProperties: i(31), minProperties: i(31), multipleOf: i(64), not: i(65), oneOf: i(66), pattern: i(67), properties: i(68), propertyNames: i(69), required: i(70), uniqueItems: i(71), validate: i(27) } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i, n, r = " ", s = e.level, o = e.dataLevel, a = e.schema[t], l = e.errSchemaPath + "/" + t, c = !e.opts.allErrors, h = "data" + (o || ""), d = "valid" + s; if ("#" == a || "#/" == a) n = e.isRoot ? (i = e.async, "validate") : (i = !0 === e.root.schema.$async, "root.refVal[0]"); else { var u = e.resolveRef(e.baseId, a, e.isRoot); if (void 0 === u) { var g = e.MissingRefError.message(e.baseId, a); if ("fail" == e.opts.missingRefs) { e.logger.error(g), (C = C || []).push(r), r = "", !1 !== e.createErrors ? (r += " { keyword: '$ref' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { ref: '" + e.util.escapeQuotes(a) + "' } ", !1 !== e.opts.messages && (r += " , message: 'can\\'t resolve reference " + e.util.escapeQuotes(a) + "' "), e.opts.verbose && (r += " , schema: " + e.util.toQuotedString(a) + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "), r += " } ") : r += " {} "; var p = r; r = C.pop(), !e.compositeRule && c ? e.async ? r += " throw new ValidationError([" + p + "]); " : r += " validate.errors = [" + p + "]; return false; " : r += " var err = " + p + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", c && (r += " if (false) { ") } else { if ("ignore" != e.opts.missingRefs) throw new e.MissingRefError(e.baseId, a, g); e.logger.warn(g), c && (r += " if (true) { ") } } else if (u.inline) { var m = e.util.copy(e); m.level++; var f = "valid" + m.level; m.schema = u.schema, m.schemaPath = "", m.errSchemaPath = a, r += " " + e.validate(m).replace(/validate\.schema/g, u.code) + " ", c && (r += " if (" + f + ") { ") } else i = !0 === u.$async || e.async && !1 !== u.$async, n = u.code } if (n) { var C; (C = C || []).push(r), r = "", e.opts.passContext ? r += " " + n + ".call(this, " : r += " " + n + "( ", r += " " + h + ", (dataPath || '')", '""' != e.errorPath && (r += " + " + e.errorPath); var I = r += " , " + (o ? "data" + (o - 1 || "") : "parentData") + " , " + (o ? e.dataPathArr[o] : "parentDataProperty") + ", rootData)  "; if (r = C.pop(), i) { if (!e.async) throw new Error("async schema referenced by sync schema"); c && (r += " var " + d + "; "), r += " try { await " + I + "; ", c && (r += " " + d + " = true; "), r += " } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ", c && (r += " " + d + " = false; "), r += " } ", c && (r += " if (" + d + ") { ") } else r += " if (!" + I + ") { if (vErrors === null) vErrors = " + n + ".errors; else vErrors = vErrors.concat(" + n + ".errors); errors = vErrors.length; } ", c && (r += " else { ") } return r } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.schema[t], r = e.schemaPath + e.util.getProperty(t), s = e.errSchemaPath + "/" + t, o = !e.opts.allErrors, a = e.util.copy(e), l = ""; a.level++; var c = "valid" + a.level, h = a.baseId, d = !0, u = n; if (u) for (var g, p = -1, m = u.length - 1; p < m;)g = u[p += 1], (e.opts.strictKeywords ? "object" == typeof g && 0 < Object.keys(g).length : e.util.schemaHasRules(g, e.RULES.all)) && (d = !1, a.schema = g, a.schemaPath = r + "[" + p + "]", a.errSchemaPath = s + "/" + p, i += "  " + e.validate(a) + " ", a.baseId = h, o && (i += " if (" + c + ") { ", l += "}")); return o && (i += d ? " if (true) { " : " " + l.slice(0, -1) + " "), e.util.cleanUpCode(i) } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.level, r = e.dataLevel, s = e.schema[t], o = e.schemaPath + e.util.getProperty(t), a = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, c = "data" + (r || ""), h = "valid" + n, d = "errs__" + n, u = e.util.copy(e), g = ""; u.level++; var p = "valid" + u.level; if (s.every((function (t) { return e.opts.strictKeywords ? "object" == typeof t && 0 < Object.keys(t).length : e.util.schemaHasRules(t, e.RULES.all) }))) { var m = u.baseId; i += " var " + d + " = errors; var " + h + " = false;  "; var f = e.compositeRule; e.compositeRule = u.compositeRule = !0; var C = s; if (C) for (var I, A = -1, v = C.length - 1; A < v;)I = C[A += 1], u.schema = I, u.schemaPath = o + "[" + A + "]", u.errSchemaPath = a + "/" + A, i += "  " + e.validate(u) + " ", u.baseId = m, i += " " + h + " = " + h + " || " + p + "; if (!" + h + ") { ", g += "}"; e.compositeRule = u.compositeRule = f, i += " " + g + " if (!" + h + ") {   var err =   ", !1 !== e.createErrors ? (i += " { keyword: 'anyOf' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: {} ", !1 !== e.opts.messages && (i += " , message: 'should match some schema in anyOf' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", !e.compositeRule && l && (e.async ? i += " throw new ValidationError(vErrors); " : i += " validate.errors = vErrors; return false; "), i += " } else {  errors = " + d + "; if (vErrors !== null) { if (" + d + ") vErrors.length = " + d + "; else vErrors = null; } ", e.opts.allErrors && (i += " } "), i = e.util.cleanUpCode(i) } else l && (i += " if (true) { "); return i } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.schema[t], r = e.errSchemaPath + "/" + t, s = (e.opts.allErrors, e.util.toQuotedString(n)); return !0 === e.opts.$comment ? i += " console.log(" + s + ");" : "function" == typeof e.opts.$comment && (i += " self._opts.$comment(" + s + ", " + e.util.toQuotedString(r) + ", validate.root.schema);"), i } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.level, r = e.dataLevel, s = e.schema[t], o = e.schemaPath + e.util.getProperty(t), a = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, c = "data" + (r || ""), h = "valid" + n, d = e.opts.$data && s && s.$data; d && (i += " var schema" + n + " = " + e.util.getData(s.$data, r, e.dataPathArr) + "; "), d || (i += " var schema" + n + " = validate.schema" + o + ";"), i += "var " + h + " = equal(" + c + ", schema" + n + "); if (!" + h + ") {   "; var u = u || []; u.push(i), i = "", !1 !== e.createErrors ? (i += " { keyword: 'const' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { allowedValue: schema" + n + " } ", !1 !== e.opts.messages && (i += " , message: 'should be equal to constant' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} "; var g = i; return i = u.pop(), !e.compositeRule && l ? e.async ? i += " throw new ValidationError([" + g + "]); " : i += " validate.errors = [" + g + "]; return false; " : i += " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " }", l && (i += " else { "), i } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.level, r = e.dataLevel, s = e.schema[t], o = e.schemaPath + e.util.getProperty(t), a = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, c = "data" + (r || ""), h = "valid" + n, d = "errs__" + n, u = e.util.copy(e); u.level++; var g = "valid" + u.level, p = "i" + n, m = u.dataLevel = e.dataLevel + 1, f = "data" + m, C = e.baseId, I = e.opts.strictKeywords ? "object" == typeof s && 0 < Object.keys(s).length : e.util.schemaHasRules(s, e.RULES.all); if (i += "var " + d + " = errors;var " + h + ";", I) { var A = e.compositeRule; e.compositeRule = u.compositeRule = !0, u.schema = s, u.schemaPath = o, u.errSchemaPath = a, i += " var " + g + " = false; for (var " + p + " = 0; " + p + " < " + c + ".length; " + p + "++) { ", u.errorPath = e.util.getPathExpr(e.errorPath, p, e.opts.jsonPointers, !0); var v = c + "[" + p + "]"; u.dataPathArr[m] = p; var b = e.validate(u); u.baseId = C, e.util.varOccurences(b, f) < 2 ? i += " " + e.util.varReplace(b, f, v) + " " : i += " var " + f + " = " + v + "; " + b + " ", i += " if (" + g + ") break; }  ", e.compositeRule = u.compositeRule = A, i += "  if (!" + g + ") {" } else i += " if (" + c + ".length == 0) {"; var y = y || []; y.push(i), i = "", !1 !== e.createErrors ? (i += " { keyword: 'contains' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: {} ", !1 !== e.opts.messages && (i += " , message: 'should contain a valid item' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} "; var w = i; return i = y.pop(), !e.compositeRule && l ? e.async ? i += " throw new ValidationError([" + w + "]); " : i += " validate.errors = [" + w + "]; return false; " : i += " var err = " + w + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } else { ", I && (i += "  errors = " + d + "; if (vErrors !== null) { if (" + d + ") vErrors.length = " + d + "; else vErrors = null; } "), e.opts.allErrors && (i += " } "), e.util.cleanUpCode(i) } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.level, r = e.dataLevel, s = e.schema[t], o = e.schemaPath + e.util.getProperty(t), a = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, c = "data" + (r || ""), h = "errs__" + n, d = e.util.copy(e), u = ""; d.level++; var g = "valid" + d.level, p = {}, m = {}, f = e.opts.ownProperties; for (v in s) { var C = s[v], I = Array.isArray(C) ? m : p; I[v] = C } i += "var " + h + " = errors;"; var A = e.errorPath; for (var v in i += "var missing" + n + ";", m) if ((I = m[v]).length) { if (i += " if ( " + c + e.util.getProperty(v) + " !== undefined ", f && (i += " && Object.prototype.hasOwnProperty.call(" + c + ", '" + e.util.escapeQuotes(v) + "') "), l) { i += " && ( "; var b = I; if (b) for (var y = -1, w = b.length - 1; y < w;)B = b[y += 1], y && (i += " || "), i += " ( ( " + (W = c + (Z = e.util.getProperty(B))) + " === undefined ", f && (i += " || ! Object.prototype.hasOwnProperty.call(" + c + ", '" + e.util.escapeQuotes(B) + "') "), i += ") && (missing" + n + " = " + e.util.toQuotedString(e.opts.jsonPointers ? B : Z) + ") ) "; i += ")) {  "; var S = "missing" + n, x = "' + " + S + " + '"; e.opts._errorDataPathProperty && (e.errorPath = e.opts.jsonPointers ? e.util.getPathExpr(A, S, !0) : A + " + " + S); var k = k || []; k.push(i), i = "", !1 !== e.createErrors ? (i += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { property: '" + e.util.escapeQuotes(v) + "', missingProperty: '" + x + "', depsCount: " + I.length + ", deps: '" + e.util.escapeQuotes(1 == I.length ? I[0] : I.join(", ")) + "' } ", !1 !== e.opts.messages && (i += " , message: 'should have ", 1 == I.length ? i += "property " + e.util.escapeQuotes(I[0]) : i += "properties " + e.util.escapeQuotes(I.join(", ")), i += " when property " + e.util.escapeQuotes(v) + " is present' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} "; var R = i; i = k.pop(), !e.compositeRule && l ? e.async ? i += " throw new ValidationError([" + R + "]); " : i += " validate.errors = [" + R + "]; return false; " : i += " var err = " + R + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; " } else { i += " ) { "; var E = I; if (E) for (var B, G = -1, T = E.length - 1; G < T;) { B = E[G += 1]; var Z = e.util.getProperty(B), W = (x = e.util.escapeQuotes(B), c + Z); e.opts._errorDataPathProperty && (e.errorPath = e.util.getPath(A, B, e.opts.jsonPointers)), i += " if ( " + W + " === undefined ", f && (i += " || ! Object.prototype.hasOwnProperty.call(" + c + ", '" + e.util.escapeQuotes(B) + "') "), i += ") {  var err =   ", !1 !== e.createErrors ? (i += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { property: '" + e.util.escapeQuotes(v) + "', missingProperty: '" + x + "', depsCount: " + I.length + ", deps: '" + e.util.escapeQuotes(1 == I.length ? I[0] : I.join(", ")) + "' } ", !1 !== e.opts.messages && (i += " , message: 'should have ", 1 == I.length ? i += "property " + e.util.escapeQuotes(I[0]) : i += "properties " + e.util.escapeQuotes(I.join(", ")), i += " when property " + e.util.escapeQuotes(v) + " is present' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } " } } i += " }   ", l && (u += "}", i += " else { ") } e.errorPath = A; var _ = d.baseId; for (var v in p) C = p[v], (e.opts.strictKeywords ? "object" == typeof C && 0 < Object.keys(C).length : e.util.schemaHasRules(C, e.RULES.all)) && (i += " " + g + " = true; if ( " + c + e.util.getProperty(v) + " !== undefined ", f && (i += " && Object.prototype.hasOwnProperty.call(" + c + ", '" + e.util.escapeQuotes(v) + "') "), i += ") { ", d.schema = C, d.schemaPath = o + e.util.getProperty(v), d.errSchemaPath = a + "/" + e.util.escapeFragment(v), i += "  " + e.validate(d) + " ", d.baseId = _, i += " }  ", l && (i += " if (" + g + ") { ", u += "}")); return l && (i += "   " + u + " if (" + h + " == errors) {"), e.util.cleanUpCode(i) } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.level, r = e.dataLevel, s = e.schema[t], o = e.schemaPath + e.util.getProperty(t), a = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, c = "data" + (r || ""), h = "valid" + n, d = e.opts.$data && s && s.$data; d && (i += " var schema" + n + " = " + e.util.getData(s.$data, r, e.dataPathArr) + "; "); var u = "i" + n, g = "schema" + n; d || (i += " var " + g + " = validate.schema" + o + ";"), i += "var " + h + ";", d && (i += " if (schema" + n + " === undefined) " + h + " = true; else if (!Array.isArray(schema" + n + ")) " + h + " = false; else {"), i += h + " = false;for (var " + u + "=0; " + u + "<" + g + ".length; " + u + "++) if (equal(" + c + ", " + g + "[" + u + "])) { " + h + " = true; break; }", d && (i += "  }  "), i += " if (!" + h + ") {   "; var p = p || []; p.push(i), i = "", !1 !== e.createErrors ? (i += " { keyword: 'enum' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { allowedValues: schema" + n + " } ", !1 !== e.opts.messages && (i += " , message: 'should be equal to one of the allowed values' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} "; var m = i; return i = p.pop(), !e.compositeRule && l ? e.async ? i += " throw new ValidationError([" + m + "]); " : i += " validate.errors = [" + m + "]; return false; " : i += " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " }", l && (i += " else { "), i } }, function (e, t, i) { "use strict"; e.exports = function (e, t, i) { var n = " ", r = e.level, s = e.dataLevel, o = e.schema[t], a = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, c = !e.opts.allErrors, h = "data" + (s || ""); if (!1 === e.opts.format) return c && (n += " if (true) { "), n; var d, u = e.opts.$data && o && o.$data; d = u ? (n += " var schema" + r + " = " + e.util.getData(o.$data, s, e.dataPathArr) + "; ", "schema" + r) : o; var g = e.opts.unknownFormats, p = Array.isArray(g); if (u) n += " var " + (m = "format" + r) + " = formats[" + d + "]; var " + (f = "isObject" + r) + " = typeof " + m + " == 'object' && !(" + m + " instanceof RegExp) && " + m + ".validate; var " + (C = "formatType" + r) + " = " + f + " && " + m + ".type || 'string'; if (" + f + ") { ", e.async && (n += " var async" + r + " = " + m + ".async; "), n += " " + m + " = " + m + ".validate; } if (  ", u && (n += " (" + d + " !== undefined && typeof " + d + " != 'string') || "), n += " (", "ignore" != g && (n += " (" + d + " && !" + m + " ", p && (n += " && self._opts.unknownFormats.indexOf(" + d + ") == -1 "), n += ") || "), n += " (" + m + " && " + C + " == '" + i + "' && !(typeof " + m + " == 'function' ? ", e.async ? n += " (async" + r + " ? await " + m + "(" + h + ") : " + m + "(" + h + ")) " : n += " " + m + "(" + h + ") ", n += " : " + m + ".test(" + h + "))))) {"; else { var m; if (!(m = e.formats[o])) { if ("ignore" == g) return e.logger.warn('unknown format "' + o + '" ignored in schema at path "' + e.errSchemaPath + '"'), c && (n += " if (true) { "), n; if (p && 0 <= g.indexOf(o)) return c && (n += " if (true) { "), n; throw new Error('unknown format "' + o + '" is used in schema at path "' + e.errSchemaPath + '"') } var f, C = (f = "object" == typeof m && !(m instanceof RegExp) && m.validate) && m.type || "string"; if (f) { var I = !0 === m.async; m = m.validate } if (C != i) return c && (n += " if (true) { "), n; if (I) { if (!e.async) throw new Error("async format in sync schema"); n += " if (!(await " + (A = "formats" + e.util.getProperty(o) + ".validate") + "(" + h + "))) { " } else { n += " if (! "; var A = "formats" + e.util.getProperty(o); f && (A += ".validate"), n += "function" == typeof m ? " " + A + "(" + h + ") " : " " + A + ".test(" + h + ") ", n += ") { " } } var v = v || []; v.push(n), n = "", !1 !== e.createErrors ? (n += " { keyword: 'format' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { format:  ", n += u ? "" + d : "" + e.util.toQuotedString(o), n += "  } ", !1 !== e.opts.messages && (n += " , message: 'should match format \"", n += u ? "' + " + d + " + '" : "" + e.util.escapeQuotes(o), n += "\"' "), e.opts.verbose && (n += " , schema:  ", n += u ? "validate.schema" + a : "" + e.util.toQuotedString(o), n += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "), n += " } ") : n += " {} "; var b = n; return n = v.pop(), !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + b + "]); " : n += " validate.errors = [" + b + "]; return false; " : n += " var err = " + b + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", n += " } ", c && (n += " else { "), n } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.level, r = e.dataLevel, s = e.schema[t], o = e.schemaPath + e.util.getProperty(t), a = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, c = "data" + (r || ""), h = "valid" + n, d = "errs__" + n, u = e.util.copy(e); u.level++; var g = "valid" + u.level, p = e.schema.then, m = e.schema["else"], f = void 0 !== p && (e.opts.strictKeywords ? "object" == typeof p && 0 < Object.keys(p).length : e.util.schemaHasRules(p, e.RULES.all)), C = void 0 !== m && (e.opts.strictKeywords ? "object" == typeof m && 0 < Object.keys(m).length : e.util.schemaHasRules(m, e.RULES.all)), I = u.baseId; if (f || C) { var A; u.createErrors = !1, u.schema = s, u.schemaPath = o, u.errSchemaPath = a, i += " var " + d + " = errors; var " + h + " = true;  "; var v = e.compositeRule; e.compositeRule = u.compositeRule = !0, i += "  " + e.validate(u) + " ", u.baseId = I, u.createErrors = !0, i += "  errors = " + d + "; if (vErrors !== null) { if (" + d + ") vErrors.length = " + d + "; else vErrors = null; }  ", e.compositeRule = u.compositeRule = v, f ? (i += " if (" + g + ") {  ", u.schema = e.schema.then, u.schemaPath = e.schemaPath + ".then", u.errSchemaPath = e.errSchemaPath + "/then", i += "  " + e.validate(u) + " ", u.baseId = I, i += " " + h + " = " + g + "; ", f && C ? i += " var " + (A = "ifClause" + n) + " = 'then'; " : A = "'then'", i += " } ", C && (i += " else { ")) : i += " if (!" + g + ") { ", C && (u.schema = e.schema["else"], u.schemaPath = e.schemaPath + ".else", u.errSchemaPath = e.errSchemaPath + "/else", i += "  " + e.validate(u) + " ", u.baseId = I, i += " " + h + " = " + g + "; ", f && C ? i += " var " + (A = "ifClause" + n) + " = 'else'; " : A = "'else'", i += " } "), i += " if (!" + h + ") {   var err =   ", !1 !== e.createErrors ? (i += " { keyword: 'if' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { failingKeyword: " + A + " } ", !1 !== e.opts.messages && (i += " , message: 'should match \"' + " + A + " + '\" schema' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", !e.compositeRule && l && (e.async ? i += " throw new ValidationError(vErrors); " : i += " validate.errors = vErrors; return false; "), i += " }   ", l && (i += " else { "), i = e.util.cleanUpCode(i) } else l && (i += " if (true) { "); return i } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.level, r = e.dataLevel, s = e.schema[t], o = e.schemaPath + e.util.getProperty(t), a = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, c = "data" + (r || ""), h = "valid" + n, d = "errs__" + n, u = e.util.copy(e), g = ""; u.level++; var p = "valid" + u.level, m = "i" + n, f = u.dataLevel = e.dataLevel + 1, C = "data" + f, I = e.baseId; if (i += "var " + d + " = errors;var " + h + ";", Array.isArray(s)) { var A = e.schema.additionalItems; if (!1 === A) { i += " " + h + " = " + c + ".length <= " + s.length + "; "; var v = a; a = e.errSchemaPath + "/additionalItems", i += "  if (!" + h + ") {   "; var b = b || []; b.push(i), i = "", !1 !== e.createErrors ? (i += " { keyword: 'additionalItems' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { limit: " + s.length + " } ", !1 !== e.opts.messages && (i += " , message: 'should NOT have more than " + s.length + " items' "), e.opts.verbose && (i += " , schema: false , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} "; var y = i; i = b.pop(), !e.compositeRule && l ? e.async ? i += " throw new ValidationError([" + y + "]); " : i += " validate.errors = [" + y + "]; return false; " : i += " var err = " + y + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } ", a = v, l && (g += "}", i += " else { ") } var w = s; if (w) for (var S, x = -1, k = w.length - 1; x < k;)if (S = w[x += 1], e.opts.strictKeywords ? "object" == typeof S && 0 < Object.keys(S).length : e.util.schemaHasRules(S, e.RULES.all)) { i += " " + p + " = true; if (" + c + ".length > " + x + ") { "; var R = c + "[" + x + "]"; u.schema = S, u.schemaPath = o + "[" + x + "]", u.errSchemaPath = a + "/" + x, u.errorPath = e.util.getPathExpr(e.errorPath, x, e.opts.jsonPointers, !0), u.dataPathArr[f] = x; var E = e.validate(u); u.baseId = I, e.util.varOccurences(E, C) < 2 ? i += " " + e.util.varReplace(E, C, R) + " " : i += " var " + C + " = " + R + "; " + E + " ", i += " }  ", l && (i += " if (" + p + ") { ", g += "}") } "object" == typeof A && (e.opts.strictKeywords ? "object" == typeof A && 0 < Object.keys(A).length : e.util.schemaHasRules(A, e.RULES.all)) && (u.schema = A, u.schemaPath = e.schemaPath + ".additionalItems", u.errSchemaPath = e.errSchemaPath + "/additionalItems", i += " " + p + " = true; if (" + c + ".length > " + s.length + ") {  for (var " + m + " = " + s.length + "; " + m + " < " + c + ".length; " + m + "++) { ", u.errorPath = e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers, !0), R = c + "[" + m + "]", u.dataPathArr[f] = m, E = e.validate(u), u.baseId = I, e.util.varOccurences(E, C) < 2 ? i += " " + e.util.varReplace(E, C, R) + " " : i += " var " + C + " = " + R + "; " + E + " ", l && (i += " if (!" + p + ") break; "), i += " } }  ", l && (i += " if (" + p + ") { ", g += "}")) } else (e.opts.strictKeywords ? "object" == typeof s && 0 < Object.keys(s).length : e.util.schemaHasRules(s, e.RULES.all)) && (u.schema = s, u.schemaPath = o, u.errSchemaPath = a, i += "  for (var " + m + " = 0; " + m + " < " + c + ".length; " + m + "++) { ", u.errorPath = e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers, !0), R = c + "[" + m + "]", u.dataPathArr[f] = m, E = e.validate(u), u.baseId = I, e.util.varOccurences(E, C) < 2 ? i += " " + e.util.varReplace(E, C, R) + " " : i += " var " + C + " = " + R + "; " + E + " ", l && (i += " if (!" + p + ") break; "), i += " }"); return l && (i += " " + g + " if (" + d + " == errors) {"), e.util.cleanUpCode(i) } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i, n = " ", r = e.level, s = e.dataLevel, o = e.schema[t], a = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, c = !e.opts.allErrors, h = "data" + (s || ""), d = e.opts.$data && o && o.$data; i = d ? (n += " var schema" + r + " = " + e.util.getData(o.$data, s, e.dataPathArr) + "; ", "schema" + r) : o, n += "var division" + r + ";if (", d && (n += " " + i + " !== undefined && ( typeof " + i + " != 'number' || "), n += " (division" + r + " = " + h + " / " + i + ", ", e.opts.multipleOfPrecision ? n += " Math.abs(Math.round(division" + r + ") - division" + r + ") > 1e-" + e.opts.multipleOfPrecision + " " : n += " division" + r + " !== parseInt(division" + r + ") ", n += " ) ", d && (n += "  )  "), n += " ) {   "; var u = u || []; u.push(n), n = "", !1 !== e.createErrors ? (n += " { keyword: 'multipleOf' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { multipleOf: " + i + " } ", !1 !== e.opts.messages && (n += " , message: 'should be multiple of ", n += d ? "' + " + i : i + "'"), e.opts.verbose && (n += " , schema:  ", n += d ? "validate.schema" + a : "" + o, n += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "), n += " } ") : n += " {} "; var g = n; return n = u.pop(), !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + g + "]); " : n += " validate.errors = [" + g + "]; return false; " : n += " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", n += "} ", c && (n += " else { "), n } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.level, r = e.dataLevel, s = e.schema[t], o = e.schemaPath + e.util.getProperty(t), a = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, c = "data" + (r || ""), h = "errs__" + n, d = e.util.copy(e); d.level++; var u = "valid" + d.level; if (e.opts.strictKeywords ? "object" == typeof s && 0 < Object.keys(s).length : e.util.schemaHasRules(s, e.RULES.all)) { d.schema = s, d.schemaPath = o, d.errSchemaPath = a, i += " var " + h + " = errors;  "; var g, p = e.compositeRule; e.compositeRule = d.compositeRule = !0, d.createErrors = !1, d.opts.allErrors && (g = d.opts.allErrors, d.opts.allErrors = !1), i += " " + e.validate(d) + " ", d.createErrors = !0, g && (d.opts.allErrors = g), e.compositeRule = d.compositeRule = p, i += " if (" + u + ") {   "; var m = m || []; m.push(i), i = "", !1 !== e.createErrors ? (i += " { keyword: 'not' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: {} ", !1 !== e.opts.messages && (i += " , message: 'should NOT be valid' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} "; var f = i; i = m.pop(), !e.compositeRule && l ? e.async ? i += " throw new ValidationError([" + f + "]); " : i += " validate.errors = [" + f + "]; return false; " : i += " var err = " + f + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } else {  errors = " + h + "; if (vErrors !== null) { if (" + h + ") vErrors.length = " + h + "; else vErrors = null; } ", e.opts.allErrors && (i += " } ") } else i += "  var err =   ", !1 !== e.createErrors ? (i += " { keyword: 'not' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: {} ", !1 !== e.opts.messages && (i += " , message: 'should NOT be valid' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", l && (i += " if (false) { "); return i } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.level, r = e.dataLevel, s = e.schema[t], o = e.schemaPath + e.util.getProperty(t), a = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, c = "data" + (r || ""), h = "valid" + n, d = "errs__" + n, u = e.util.copy(e), g = ""; u.level++; var p = "valid" + u.level, m = u.baseId, f = "prevValid" + n, C = "passingSchemas" + n; i += "var " + d + " = errors , " + f + " = false , " + h + " = false , " + C + " = null; "; var I = e.compositeRule; e.compositeRule = u.compositeRule = !0; var A = s; if (A) for (var v, b = -1, y = A.length - 1; b < y;)v = A[b += 1], (e.opts.strictKeywords ? "object" == typeof v && 0 < Object.keys(v).length : e.util.schemaHasRules(v, e.RULES.all)) ? (u.schema = v, u.schemaPath = o + "[" + b + "]", u.errSchemaPath = a + "/" + b, i += "  " + e.validate(u) + " ", u.baseId = m) : i += " var " + p + " = true; ", b && (i += " if (" + p + " && " + f + ") { " + h + " = false; " + C + " = [" + C + ", " + b + "]; } else { ", g += "}"), i += " if (" + p + ") { " + h + " = " + f + " = true; " + C + " = " + b + "; }"; return e.compositeRule = u.compositeRule = I, i += g + "if (!" + h + ") {   var err =   ", !1 !== e.createErrors ? (i += " { keyword: 'oneOf' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { passingSchemas: " + C + " } ", !1 !== e.opts.messages && (i += " , message: 'should match exactly one schema in oneOf' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", !e.compositeRule && l && (e.async ? i += " throw new ValidationError(vErrors); " : i += " validate.errors = vErrors; return false; "), i += "} else {  errors = " + d + "; if (vErrors !== null) { if (" + d + ") vErrors.length = " + d + "; else vErrors = null; }", e.opts.allErrors && (i += " } "), i } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i, n = " ", r = e.level, s = e.dataLevel, o = e.schema[t], a = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, c = !e.opts.allErrors, h = "data" + (s || ""), d = e.opts.$data && o && o.$data; i = d ? (n += " var schema" + r + " = " + e.util.getData(o.$data, s, e.dataPathArr) + "; ", "schema" + r) : o, n += "if ( ", d && (n += " (" + i + " !== undefined && typeof " + i + " != 'string') || "), n += " !" + (d ? "(new RegExp(" + i + "))" : e.usePattern(o)) + ".test(" + h + ") ) {   "; var u = u || []; u.push(n), n = "", !1 !== e.createErrors ? (n += " { keyword: 'pattern' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { pattern:  ", n += d ? "" + i : "" + e.util.toQuotedString(o), n += "  } ", !1 !== e.opts.messages && (n += " , message: 'should match pattern \"", n += d ? "' + " + i + " + '" : "" + e.util.escapeQuotes(o), n += "\"' "), e.opts.verbose && (n += " , schema:  ", n += d ? "validate.schema" + a : "" + e.util.toQuotedString(o), n += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "), n += " } ") : n += " {} "; var g = n; return n = u.pop(), !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + g + "]); " : n += " validate.errors = [" + g + "]; return false; " : n += " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", n += "} ", c && (n += " else { "), n } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.level, r = e.dataLevel, s = e.schema[t], o = e.schemaPath + e.util.getProperty(t), a = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, c = "data" + (r || ""), h = "errs__" + n, d = e.util.copy(e), u = ""; d.level++; var g = "valid" + d.level, p = "key" + n, m = "idx" + n, f = d.dataLevel = e.dataLevel + 1, C = "data" + f, I = "dataProperties" + n, A = Object.keys(s || {}), v = e.schema.patternProperties || {}, b = Object.keys(v), y = e.schema.additionalProperties, w = A.length || b.length, S = !1 === y, x = "object" == typeof y && Object.keys(y).length, k = e.opts.removeAdditional, R = S || x || k, E = e.opts.ownProperties, B = e.baseId, G = e.schema.required; if (G && (!e.opts.$data || !G.$data) && G.length < e.opts.loopRequired) var T = e.util.toHash(G); if (i += "var " + h + " = errors;var " + g + " = true;", E && (i += " var " + I + " = undefined;"), R) { if (i += E ? " " + I + " = " + I + " || Object.keys(" + c + "); for (var " + m + "=0; " + m + "<" + I + ".length; " + m + "++) { var " + p + " = " + I + "[" + m + "]; " : " for (var " + p + " in " + c + ") { ", w) { if (i += " var isAdditional" + n + " = !(false ", A.length) if (8 < A.length) i += " || validate.schema" + o + ".hasOwnProperty(" + p + ") "; else { var Z = A; if (Z) for (var W = -1, _ = Z.length - 1; W < _;)X = Z[W += 1], i += " || " + p + " == " + e.util.toQuotedString(X) + " " } if (b.length) { var L = b; if (L) for (var H = -1, $ = L.length - 1; H < $;)ne = L[H += 1], i += " || " + e.usePattern(ne) + ".test(" + p + ") " } i += " ); if (isAdditional" + n + ") { " } if ("all" == k) i += " delete " + c + "[" + p + "]; "; else { var V = e.errorPath, N = "' + " + p + " + '"; if (e.opts._errorDataPathProperty && (e.errorPath = e.util.getPathExpr(e.errorPath, p, e.opts.jsonPointers)), S) if (k) i += " delete " + c + "[" + p + "]; "; else { i += " " + g + " = false; "; var O = a; a = e.errSchemaPath + "/additionalProperties", (ee = ee || []).push(i), i = "", !1 !== e.createErrors ? (i += " { keyword: 'additionalProperties' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { additionalProperty: '" + N + "' } ", !1 !== e.opts.messages && (i += " , message: '", e.opts._errorDataPathProperty ? i += "is an invalid additional property" : i += "should NOT have additional properties", i += "' "), e.opts.verbose && (i += " , schema: false , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} "; var F = i; i = ee.pop(), !e.compositeRule && l ? e.async ? i += " throw new ValidationError([" + F + "]); " : i += " validate.errors = [" + F + "]; return false; " : i += " var err = " + F + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", a = O, l && (i += " break; ") } else if (x) if ("failing" == k) { i += " var " + h + " = errors;  "; var P = e.compositeRule; e.compositeRule = d.compositeRule = !0, d.schema = y, d.schemaPath = e.schemaPath + ".additionalProperties", d.errSchemaPath = e.errSchemaPath + "/additionalProperties", d.errorPath = e.opts._errorDataPathProperty ? e.errorPath : e.util.getPathExpr(e.errorPath, p, e.opts.jsonPointers); var K = c + "[" + p + "]"; d.dataPathArr[f] = p; var M = e.validate(d); d.baseId = B, e.util.varOccurences(M, C) < 2 ? i += " " + e.util.varReplace(M, C, K) + " " : i += " var " + C + " = " + K + "; " + M + " ", i += " if (!" + g + ") { errors = " + h + "; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete " + c + "[" + p + "]; }  ", e.compositeRule = d.compositeRule = P } else d.schema = y, d.schemaPath = e.schemaPath + ".additionalProperties", d.errSchemaPath = e.errSchemaPath + "/additionalProperties", d.errorPath = e.opts._errorDataPathProperty ? e.errorPath : e.util.getPathExpr(e.errorPath, p, e.opts.jsonPointers), K = c + "[" + p + "]", d.dataPathArr[f] = p, M = e.validate(d), d.baseId = B, e.util.varOccurences(M, C) < 2 ? i += " " + e.util.varReplace(M, C, K) + " " : i += " var " + C + " = " + K + "; " + M + " ", l && (i += " if (!" + g + ") break; "); e.errorPath = V } w && (i += " } "), i += " }  ", l && (i += " if (" + g + ") { ", u += "}") } var D = e.opts.useDefaults && !e.compositeRule; if (A.length) { var j = A; if (j) for (var X, Y = -1, J = j.length - 1; Y < J;) { var z = s[X = j[Y += 1]]; if (e.opts.strictKeywords ? "object" == typeof z && 0 < Object.keys(z).length : e.util.schemaHasRules(z, e.RULES.all)) { var U = e.util.getProperty(X), Q = (K = c + U, D && void 0 !== z["default"]); if (d.schema = z, d.schemaPath = o + U, d.errSchemaPath = a + "/" + e.util.escapeFragment(X), d.errorPath = e.util.getPath(e.errorPath, X, e.opts.jsonPointers), d.dataPathArr[f] = e.util.toQuotedString(X), M = e.validate(d), d.baseId = B, e.util.varOccurences(M, C) < 2) { M = e.util.varReplace(M, C, K); var q = K } else q = C, i += " var " + C + " = " + K + "; "; if (Q) i += " " + M + " "; else { if (T && T[X]) { i += " if ( " + q + " === undefined ", E && (i += " || ! Object.prototype.hasOwnProperty.call(" + c + ", '" + e.util.escapeQuotes(X) + "') "), i += ") { " + g + " = false; ", V = e.errorPath, O = a; var ee, te = e.util.escapeQuotes(X); e.opts._errorDataPathProperty && (e.errorPath = e.util.getPath(V, X, e.opts.jsonPointers)), a = e.errSchemaPath + "/required", (ee = ee || []).push(i), i = "", !1 !== e.createErrors ? (i += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { missingProperty: '" + te + "' } ", !1 !== e.opts.messages && (i += " , message: '", e.opts._errorDataPathProperty ? i += "is a required property" : i += "should have required property \\'" + te + "\\'", i += "' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} ", F = i, i = ee.pop(), !e.compositeRule && l ? e.async ? i += " throw new ValidationError([" + F + "]); " : i += " validate.errors = [" + F + "]; return false; " : i += " var err = " + F + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", a = O, e.errorPath = V, i += " } else { " } else l ? (i += " if ( " + q + " === undefined ", E && (i += " || ! Object.prototype.hasOwnProperty.call(" + c + ", '" + e.util.escapeQuotes(X) + "') "), i += ") { " + g + " = true; } else { ") : (i += " if (" + q + " !== undefined ", E && (i += " &&   Object.prototype.hasOwnProperty.call(" + c + ", '" + e.util.escapeQuotes(X) + "') "), i += " ) { "); i += " " + M + " } " } } l && (i += " if (" + g + ") { ", u += "}") } } if (b.length) { var ie = b; if (ie) for (var ne, re = -1, se = ie.length - 1; re < se;)z = v[ne = ie[re += 1]], (e.opts.strictKeywords ? "object" == typeof z && 0 < Object.keys(z).length : e.util.schemaHasRules(z, e.RULES.all)) && (d.schema = z, d.schemaPath = e.schemaPath + ".patternProperties" + e.util.getProperty(ne), d.errSchemaPath = e.errSchemaPath + "/patternProperties/" + e.util.escapeFragment(ne), i += E ? " " + I + " = " + I + " || Object.keys(" + c + "); for (var " + m + "=0; " + m + "<" + I + ".length; " + m + "++) { var " + p + " = " + I + "[" + m + "]; " : " for (var " + p + " in " + c + ") { ", i += " if (" + e.usePattern(ne) + ".test(" + p + ")) { ", d.errorPath = e.util.getPathExpr(e.errorPath, p, e.opts.jsonPointers), K = c + "[" + p + "]", d.dataPathArr[f] = p, M = e.validate(d), d.baseId = B, e.util.varOccurences(M, C) < 2 ? i += " " + e.util.varReplace(M, C, K) + " " : i += " var " + C + " = " + K + "; " + M + " ", l && (i += " if (!" + g + ") break; "), i += " } ", l && (i += " else " + g + " = true; "), i += " }  ", l && (i += " if (" + g + ") { ", u += "}")) } return l && (i += " " + u + " if (" + h + " == errors) {"), e.util.cleanUpCode(i) } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.level, r = e.dataLevel, s = e.schema[t], o = e.schemaPath + e.util.getProperty(t), a = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, c = "data" + (r || ""), h = "errs__" + n, d = e.util.copy(e); d.level++; var u = "valid" + d.level; if (i += "var " + h + " = errors;", e.opts.strictKeywords ? "object" == typeof s && 0 < Object.keys(s).length : e.util.schemaHasRules(s, e.RULES.all)) { d.schema = s, d.schemaPath = o, d.errSchemaPath = a; var g = "key" + n, p = "idx" + n, m = "i" + n, f = "' + " + g + " + '", C = "data" + (d.dataLevel = e.dataLevel + 1), I = "dataProperties" + n, A = e.opts.ownProperties, v = e.baseId; A && (i += " var " + I + " = undefined; "), i += A ? " " + I + " = " + I + " || Object.keys(" + c + "); for (var " + p + "=0; " + p + "<" + I + ".length; " + p + "++) { var " + g + " = " + I + "[" + p + "]; " : " for (var " + g + " in " + c + ") { ", i += " var startErrs" + n + " = errors; "; var b = g, y = e.compositeRule; e.compositeRule = d.compositeRule = !0; var w = e.validate(d); d.baseId = v, e.util.varOccurences(w, C) < 2 ? i += " " + e.util.varReplace(w, C, b) + " " : i += " var " + C + " = " + b + "; " + w + " ", e.compositeRule = d.compositeRule = y, i += " if (!" + u + ") { for (var " + m + "=startErrs" + n + "; " + m + "<errors; " + m + "++) { vErrors[" + m + "].propertyName = " + g + "; }   var err =   ", !1 !== e.createErrors ? (i += " { keyword: 'propertyNames' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { propertyName: '" + f + "' } ", !1 !== e.opts.messages && (i += " , message: 'property name \\'" + f + "\\' is invalid' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", !e.compositeRule && l && (e.async ? i += " throw new ValidationError(vErrors); " : i += " validate.errors = vErrors; return false; "), l && (i += " break; "), i += " } }" } return l && (i += "  if (" + h + " == errors) {"), e.util.cleanUpCode(i) } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i = " ", n = e.level, r = e.dataLevel, s = e.schema[t], o = e.schemaPath + e.util.getProperty(t), a = e.errSchemaPath + "/" + t, l = !e.opts.allErrors, c = "data" + (r || ""), h = "valid" + n, d = e.opts.$data && s && s.$data; d && (i += " var schema" + n + " = " + e.util.getData(s.$data, r, e.dataPathArr) + "; "); var u = "schema" + n; if (!d) if (s.length < e.opts.loopRequired && e.schema.properties && Object.keys(e.schema.properties).length) { var g = [], p = s; if (p) for (var m, f = -1, C = p.length - 1; f < C;) { m = p[f += 1]; var I = e.schema.properties[m]; I && (e.opts.strictKeywords ? "object" == typeof I && 0 < Object.keys(I).length : e.util.schemaHasRules(I, e.RULES.all)) || (g[g.length] = m) } } else g = s; if (d || g.length) { var A = e.errorPath, v = d || g.length >= e.opts.loopRequired, b = e.opts.ownProperties; if (l) if (i += " var missing" + n + "; ", v) { d || (i += " var " + u + " = validate.schema" + o + "; "); var y = "' + " + (E = "schema" + n + "[" + (k = "i" + n) + "]") + " + '"; e.opts._errorDataPathProperty && (e.errorPath = e.util.getPathExpr(A, E, e.opts.jsonPointers)), i += " var " + h + " = true; ", d && (i += " if (schema" + n + " === undefined) " + h + " = true; else if (!Array.isArray(schema" + n + ")) " + h + " = false; else {"), i += " for (var " + k + " = 0; " + k + " < " + u + ".length; " + k + "++) { " + h + " = " + c + "[" + u + "[" + k + "]] !== undefined ", b && (i += " &&   Object.prototype.hasOwnProperty.call(" + c + ", " + u + "[" + k + "]) "), i += "; if (!" + h + ") break; } ", d && (i += "  }  "), (S = S || []).push(i += "  if (!" + h + ") {   "), i = "", !1 !== e.createErrors ? (i += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { missingProperty: '" + y + "' } ", !1 !== e.opts.messages && (i += " , message: '", e.opts._errorDataPathProperty ? i += "is a required property" : i += "should have required property \\'" + y + "\\'", i += "' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} "; var w = i; i = S.pop(), !e.compositeRule && l ? e.async ? i += " throw new ValidationError([" + w + "]); " : i += " validate.errors = [" + w + "]; return false; " : i += " var err = " + w + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } else { " } else { i += " if ( "; var S, x = g; if (x) for (var k = -1, R = x.length - 1; k < R;)G = x[k += 1], k && (i += " || "), i += " ( ( " + (_ = c + (W = e.util.getProperty(G))) + " === undefined ", b && (i += " || ! Object.prototype.hasOwnProperty.call(" + c + ", '" + e.util.escapeQuotes(G) + "') "), i += ") && (missing" + n + " = " + e.util.toQuotedString(e.opts.jsonPointers ? G : W) + ") ) "; i += ") {  ", y = "' + " + (E = "missing" + n) + " + '", e.opts._errorDataPathProperty && (e.errorPath = e.opts.jsonPointers ? e.util.getPathExpr(A, E, !0) : A + " + " + E), (S = S || []).push(i), i = "", !1 !== e.createErrors ? (i += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { missingProperty: '" + y + "' } ", !1 !== e.opts.messages && (i += " , message: '", e.opts._errorDataPathProperty ? i += "is a required property" : i += "should have required property \\'" + y + "\\'", i += "' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} ", w = i, i = S.pop(), !e.compositeRule && l ? e.async ? i += " throw new ValidationError([" + w + "]); " : i += " validate.errors = [" + w + "]; return false; " : i += " var err = " + w + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } else { " } else if (v) { var E; d || (i += " var " + u + " = validate.schema" + o + "; "), y = "' + " + (E = "schema" + n + "[" + (k = "i" + n) + "]") + " + '", e.opts._errorDataPathProperty && (e.errorPath = e.util.getPathExpr(A, E, e.opts.jsonPointers)), d && (i += " if (" + u + " && !Array.isArray(" + u + ")) {  var err =   ", !1 !== e.createErrors ? (i += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { missingProperty: '" + y + "' } ", !1 !== e.opts.messages && (i += " , message: '", e.opts._errorDataPathProperty ? i += "is a required property" : i += "should have required property \\'" + y + "\\'", i += "' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (" + u + " !== undefined) { "), i += " for (var " + k + " = 0; " + k + " < " + u + ".length; " + k + "++) { if (" + c + "[" + u + "[" + k + "]] === undefined ", b && (i += " || ! Object.prototype.hasOwnProperty.call(" + c + ", " + u + "[" + k + "]) "), i += ") {  var err =   ", !1 !== e.createErrors ? (i += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { missingProperty: '" + y + "' } ", !1 !== e.opts.messages && (i += " , message: '", e.opts._errorDataPathProperty ? i += "is a required property" : i += "should have required property \\'" + y + "\\'", i += "' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ", d && (i += "  }  ") } else { var B = g; if (B) for (var G, T = -1, Z = B.length - 1; T < Z;) { G = B[T += 1]; var W = e.util.getProperty(G), _ = (y = e.util.escapeQuotes(G), c + W); e.opts._errorDataPathProperty && (e.errorPath = e.util.getPath(A, G, e.opts.jsonPointers)), i += " if ( " + _ + " === undefined ", b && (i += " || ! Object.prototype.hasOwnProperty.call(" + c + ", '" + e.util.escapeQuotes(G) + "') "), i += ") {  var err =   ", !1 !== e.createErrors ? (i += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(a) + " , params: { missingProperty: '" + y + "' } ", !1 !== e.opts.messages && (i += " , message: '", e.opts._errorDataPathProperty ? i += "is a required property" : i += "should have required property \\'" + y + "\\'", i += "' "), e.opts.verbose && (i += " , schema: validate.schema" + o + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } " } } e.errorPath = A } else l && (i += " if (true) {"); return i } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i, n = " ", r = e.level, s = e.dataLevel, o = e.schema[t], a = e.schemaPath + e.util.getProperty(t), l = e.errSchemaPath + "/" + t, c = !e.opts.allErrors, h = "data" + (s || ""), d = "valid" + r, u = e.opts.$data && o && o.$data; if (i = u ? (n += " var schema" + r + " = " + e.util.getData(o.$data, s, e.dataPathArr) + "; ", "schema" + r) : o, (o || u) && !1 !== e.opts.uniqueItems) { u && (n += " var " + d + "; if (" + i + " === false || " + i + " === undefined) " + d + " = true; else if (typeof " + i + " != 'boolean') " + d + " = false; else { "), n += " var i = " + h + ".length , " + d + " = true , j; if (i > 1) { "; var g = e.schema.items && e.schema.items.type, p = Array.isArray(g); if (!g || "object" == g || "array" == g || p && (0 <= g.indexOf("object") || 0 <= g.indexOf("array"))) n += " outer: for (;i--;) { for (j = i; j--;) { if (equal(" + h + "[i], " + h + "[j])) { " + d + " = false; break outer; } } } "; else { n += " var itemIndices = {}, item; for (;i--;) { var item = " + h + "[i]; "; var m = "checkDataType" + (p ? "s" : ""); n += " if (" + e.util[m](g, "item", !0) + ") continue; ", p && (n += " if (typeof item == 'string') item = '\"' + item; "), n += " if (typeof itemIndices[item] == 'number') { " + d + " = false; j = itemIndices[item]; break; } itemIndices[item] = i; } " } n += " } ", u && (n += "  }  "), n += " if (!" + d + ") {   "; var f = f || []; f.push(n), n = "", !1 !== e.createErrors ? (n += " { keyword: 'uniqueItems' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { i: i, j: j } ", !1 !== e.opts.messages && (n += " , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "), e.opts.verbose && (n += " , schema:  ", n += u ? "validate.schema" + a : "" + o, n += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + h + " "), n += " } ") : n += " {} "; var C = n; n = f.pop(), !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + C + "]); " : n += " validate.errors = [" + C + "]; return false; " : n += " var err = " + C + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", n += " } ", c && (n += " else { ") } else c && (n += " if (true) { "); return n } }, function (e, t, i) { "use strict"; var n = ["multipleOf", "maximum", "exclusiveMaximum", "minimum", "exclusiveMinimum", "maxLength", "minLength", "pattern", "additionalItems", "maxItems", "minItems", "uniqueItems", "maxProperties", "minProperties", "required", "additionalProperties", "enum", "format", "const"]; e.exports = function (e, t) { for (var i = 0; i < t.length; i++) { e = JSON.parse(JSON.stringify(e)); var r, s = t[i].split("/"), o = e; for (r = 1; r < s.length; r++)o = o[s[r]]; for (r = 0; r < n.length; r++) { var a = n[r], l = o[a]; l && (o[a] = { anyOf: [l, { $ref: "https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#" }] }) } } return e } }, function (e, t, i) { "use strict"; var n = i(19).MissingRef; e.exports = function r(e, t, i) { var s = this; if ("function" != typeof this._opts.loadSchema) throw new Error("options.loadSchema should be a function"); "function" == typeof t && (i = t, t = void 0); var o = a(e).then((function () { var i = s._addSchema(e, void 0, t); return i.validate || l(i) })); return i && o.then((function (e) { i(null, e) }), i), o; function a(e) { var t = e.$schema; return t && !s.getSchema(t) ? r.call(s, { $ref: t }, !0) : Promise.resolve() } function l(e) { try { return s._compile(e) } catch (o) { if (o instanceof n) return function (i) { var n = i.missingSchema; if (c(n)) throw new Error("Schema " + n + " is loaded but " + i.missingRef + " cannot be resolved"); var r = s._loadingSchemas[n]; return r || (r = s._loadingSchemas[n] = s._opts.loadSchema(n)).then(o, o), r.then((function (e) { if (!c(n)) return a(e).then((function () { c(n) || s.addSchema(e, n, void 0, t) })) })).then((function () { return l(e) })); function o() { delete s._loadingSchemas[n] } function c(e) { return s._refs[e] || s._schemas[e] } }(o); throw o } } } }, function (e, t, i) { "use strict"; var n = /^[a-z_$][a-z0-9_$-]*$/i, r = i(75), s = i(76); e.exports = { add: function (e, t) { var i = this.RULES; if (i.keywords[e]) throw new Error("Keyword " + e + " is already defined"); if (!n.test(e)) throw new Error("Keyword " + e + " is not a valid identifier"); if (t) { this.validateKeyword(t, !0); var s = t.type; if (Array.isArray(s)) for (var o = 0; o < s.length; o++)l(e, s[o], t); else l(e, s, t); var a = t.metaSchema; a && (t.$data && this._opts.$data && (a = { anyOf: [a, { $ref: "https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#" }] }), t.validateSchema = this.compile(a, !0)) } function l(e, t, n) { for (var s, o = 0; o < i.length; o++) { var a = i[o]; if (a.type == t) { s = a; break } } s || (s = { type: t, rules: [] }, i.push(s)); var l = { keyword: e, definition: n, custom: !0, code: r, "implements": n["implements"] }; s.rules.push(l), i.custom[e] = l } return i.keywords[e] = i.all[e] = !0, this }, get: function (e) { var t = this.RULES.custom[e]; return t ? t.definition : this.RULES.keywords[e] || !1 }, remove: function (e) { var t = this.RULES; delete t.keywords[e], delete t.all[e], delete t.custom[e]; for (var i = 0; i < t.length; i++)for (var n = t[i].rules, r = 0; r < n.length; r++)if (n[r].keyword == e) { n.splice(r, 1); break } return this }, validate: function o(e, t) { o.errors = null; var i = this._validateKeyword = this._validateKeyword || this.compile(s, !0); if (i(e)) return !0; if (o.errors = i.errors, t) throw new Error("custom keyword definition is invalid: " + this.errorsText(i.errors)); return !1 } } }, function (e, t, i) { "use strict"; e.exports = function (e, t) { var i, n, r = " ", s = e.level, o = e.dataLevel, a = e.schema[t], l = e.schemaPath + e.util.getProperty(t), c = e.errSchemaPath + "/" + t, h = !e.opts.allErrors, d = "data" + (o || ""), u = "valid" + s, g = "errs__" + s, p = e.opts.$data && a && a.$data; n = p ? (r += " var schema" + s + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; ", "schema" + s) : a; var m, f, C, I, A, v = "definition" + s, b = this.definition, y = ""; if (p && b.$data) { A = "keywordValidate" + s; var w = b.validateSchema; r += " var " + v + " = RULES.custom['" + t + "'].definition; var " + A + " = " + v + ".validate;" } else { if (!(I = e.useCustomRule(this, a, e.schema, e))) return; n = "validate.schema" + l, A = I.code, m = b.compile, f = b.inline, C = b.macro } var S = A + ".errors", x = "i" + s, k = "ruleErr" + s, R = b.async; if (R && !e.async) throw new Error("async keyword in sync schema"); if (f || C || (r += S + " = null;"), r += "var " + g + " = errors;var " + u + ";", p && b.$data && (y += "}", r += " if (" + n + " === undefined) { " + u + " = true; } else { ", w && (y += "}", r += " " + u + " = " + v + ".validateSchema(" + n + "); if (" + u + ") { ")), f) b.statements ? r += " " + I.validate + " " : r += " " + u + " = " + I.validate + "; "; else if (C) { var E = e.util.copy(e); y = "", E.level++; var B = "valid" + E.level; E.schema = I.validate, E.schemaPath = ""; var G = e.compositeRule; e.compositeRule = E.compositeRule = !0; var T = e.validate(E).replace(/validate\.schema/g, A); e.compositeRule = E.compositeRule = G, r += " " + T } else { (L = L || []).push(r), r = "", r += "  " + A + ".call( ", e.opts.passContext ? r += "this" : r += "self", m || !1 === b.schema ? r += " , " + d + " " : r += " , " + n + " , " + d + " , validate.schema" + e.schemaPath + " ", r += " , (dataPath || '')", '""' != e.errorPath && (r += " + " + e.errorPath); var Z = o ? "data" + (o - 1 || "") : "parentData", W = o ? e.dataPathArr[o] : "parentDataProperty", _ = r += " , " + Z + " , " + W + " , rootData )  "; r = L.pop(), !1 === b.errors ? (r += " " + u + " = ", R && (r += "await "), r += _ + "; ") : r += R ? " var " + (S = "customErrors" + s) + " = null; try { " + u + " = await " + _ + "; } catch (e) { " + u + " = false; if (e instanceof ValidationError) " + S + " = e.errors; else throw e; } " : " " + S + " = null; " + u + " = " + _ + "; " } if (b.modifying && (r += " if (" + Z + ") " + d + " = " + Z + "[" + W + "];"), r += "" + y, b.valid) h && (r += " if (true) { "); else { var L; r += " if ( ", void 0 === b.valid ? (r += " !", r += C ? "" + B : u) : r += " " + !b.valid + " ", r += ") { ", i = this.keyword, (L = L || []).push(r), (L = L || []).push(r = ""), r = "", !1 !== e.createErrors ? (r += " { keyword: '" + (i || "custom") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { keyword: '" + this.keyword + "' } ", !1 !== e.opts.messages && (r += " , message: 'should pass \"" + this.keyword + "\" keyword validation' "), e.opts.verbose && (r += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "), r += " } ") : r += " {} "; var H = r; r = L.pop(), !e.compositeRule && h ? e.async ? r += " throw new ValidationError([" + H + "]); " : r += " validate.errors = [" + H + "]; return false; " : r += " var err = " + H + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "; var $ = r; r = L.pop(), f ? b.errors ? "full" != b.errors && (r += "  for (var " + x + "=" + g + "; " + x + "<errors; " + x + "++) { var " + k + " = vErrors[" + x + "]; if (" + k + ".dataPath === undefined) " + k + ".dataPath = (dataPath || '') + " + e.errorPath + "; if (" + k + ".schemaPath === undefined) { " + k + '.schemaPath = "' + c + '"; } ', e.opts.verbose && (r += " " + k + ".schema = " + n + "; " + k + ".data = " + d + "; "), r += " } ") : !1 === b.errors ? r += " " + $ + " " : (r += " if (" + g + " == errors) { " + $ + " } else {  for (var " + x + "=" + g + "; " + x + "<errors; " + x + "++) { var " + k + " = vErrors[" + x + "]; if (" + k + ".dataPath === undefined) " + k + ".dataPath = (dataPath || '') + " + e.errorPath + "; if (" + k + ".schemaPath === undefined) { " + k + '.schemaPath = "' + c + '"; } ', e.opts.verbose && (r += " " + k + ".schema = " + n + "; " + k + ".data = " + d + "; "), r += " } } ") : C ? (r += "   var err =   ", !1 !== e.createErrors ? (r += " { keyword: '" + (i || "custom") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { keyword: '" + this.keyword + "' } ", !1 !== e.opts.messages && (r += " , message: 'should pass \"" + this.keyword + "\" keyword validation' "), e.opts.verbose && (r += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "), r += " } ") : r += " {} ", r += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", !e.compositeRule && h && (e.async ? r += " throw new ValidationError(vErrors); " : r += " validate.errors = vErrors; return false; ")) : !1 === b.errors ? r += " " + $ + " " : (r += " if (Array.isArray(" + S + ")) { if (vErrors === null) vErrors = " + S + "; else vErrors = vErrors.concat(" + S + "); errors = vErrors.length;  for (var " + x + "=" + g + "; " + x + "<errors; " + x + "++) { var " + k + " = vErrors[" + x + "]; if (" + k + ".dataPath === undefined) " + k + ".dataPath = (dataPath || '') + " + e.errorPath + ";  " + k + '.schemaPath = "' + c + '";  ', e.opts.verbose && (r += " " + k + ".schema = " + n + "; " + k + ".data = " + d + "; "), r += " } } else { " + $ + " } "), r += " } ", h && (r += " else { ") } return r } }, function (e, t, i) { "use strict"; var n = i(32); e.exports = { $id: "https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js", definitions: { simpleTypes: n.definitions.simpleTypes }, type: "object", dependencies: { schema: ["validate"], $data: ["validate"], statements: ["inline"], valid: { not: { required: ["macro"] } } }, properties: { type: n.properties.type, schema: { type: "boolean" }, statements: { type: "boolean" }, dependencies: { type: "array", items: { type: "string" } }, metaSchema: { type: "object" }, modifying: { type: "boolean" }, valid: { type: "boolean" }, $data: { type: "boolean" }, async: { type: "boolean" }, errors: { anyOf: [{ type: "boolean" }, { "const": "full" }] } } } }, function (e) { e.exports = JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}') }, function (e) { e.exports = JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string"},"$schema":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}') }, function (e) { e.exports = JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}') }, function (e, t, i) { "use strict"; i.r(t); var n = i(13), r = i.n(n); function s(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var o = function () { function e() { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.locked = !1 } var t, i; return t = e, (i = [{ key: "highlight", value: function (e) { this.locked || (this.node !== e && (this.node && this.node.setHighlight(!1), this.node = e, this.node.setHighlight(!0)), this._cancelUnhighlight()) } }, { key: "unhighlight", value: function () { if (!this.locked) { var e = this; this.node && (this._cancelUnhighlight(), this.unhighlightTimer = setTimeout((function () { e.node.setHighlight(!1), e.node = void 0, e.unhighlightTimer = void 0 }), 0)) } } }, { key: "_cancelUnhighlight", value: function () { this.unhighlightTimer && (clearTimeout(this.unhighlightTimer), this.unhighlightTimer = void 0) } }, { key: "lock", value: function () { this.locked = !0 } }, { key: "unlock", value: function () { this.locked = !1 } }]) && s(t.prototype, i), e }(), a = i(0); function l(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var c = function () { function e(t) { function i(e) { return t.node.findNodeByInternalPath(e) } !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.editor = t, this.history = [], this.index = -1, this.clear(), this.actions = { editField: { undo: function (e) { i(e.parentPath).childs[e.index].updateField(e.oldValue) }, redo: function (e) { i(e.parentPath).childs[e.index].updateField(e.newValue) } }, editValue: { undo: function (e) { i(e.path).updateValue(e.oldValue) }, redo: function (e) { i(e.path).updateValue(e.newValue) } }, changeType: { undo: function (e) { i(e.path).changeType(e.oldType) }, redo: function (e) { i(e.path).changeType(e.newType) } }, appendNodes: { undo: function (e) { var t = i(e.parentPath); e.paths.map(i).forEach((function (e) { t.removeChild(e) })) }, redo: function (e) { var t = i(e.parentPath); e.nodes.forEach((function (e) { t.appendChild(e) })) } }, insertBeforeNodes: { undo: function (e) { var t = i(e.parentPath); e.paths.map(i).forEach((function (e) { t.removeChild(e) })) }, redo: function (e) { var t = i(e.parentPath), n = i(e.beforePath); e.nodes.forEach((function (e) { t.insertBefore(e, n) })) } }, insertAfterNodes: { undo: function (e) { var t = i(e.parentPath); e.paths.map(i).forEach((function (e) { t.removeChild(e) })) }, redo: function (e) { var t = i(e.parentPath), n = i(e.afterPath); e.nodes.forEach((function (e) { t.insertAfter(e, n), n = e })) } }, removeNodes: { undo: function (e) { var t = i(e.parentPath), n = t.childs[e.index] || t.append; e.nodes.forEach((function (e) { t.insertBefore(e, n) })) }, redo: function (e) { var t = i(e.parentPath); e.paths.map(i).forEach((function (e) { t.removeChild(e) })) } }, duplicateNodes: { undo: function (e) { var t = i(e.parentPath); e.clonePaths.map(i).forEach((function (e) { t.removeChild(e) })) }, redo: function (e) { var t = i(e.parentPath), n = i(e.afterPath); e.paths.map(i).forEach((function (e) { var i = e.clone(); if ("object" === t.type) { var r = t.getFieldNames(); i.field = Object(a.findUniqueName)(e.field, r) } t.insertAfter(i, n), n = i })) } }, moveNodes: { undo: function (e) { var t = i(e.oldParentPath), n = i(e.newParentPath), r = t.childs[e.oldIndex] || t.append; n.childs.slice(e.newIndex, e.newIndex + e.count).forEach((function (i, n) { i.field = e.fieldNames[n], t.moveBefore(i, r) })), null === e.newParentPathRedo && (e.newParentPathRedo = n.getInternalPath()) }, redo: function (e) { var t = i(e.oldParentPathRedo), n = i(e.newParentPathRedo), r = n.childs[e.newIndexRedo] || n.append; t.childs.slice(e.oldIndexRedo, e.oldIndexRedo + e.count).forEach((function (t, i) { t.field = e.fieldNames[i], n.moveBefore(t, r) })) } }, sort: { undo: function (e) { var t = i(e.path); t.hideChilds(), t.childs = e.oldChilds, t.updateDom({ updateIndexes: !0 }), t.showChilds() }, redo: function (e) { var t = i(e.path); t.hideChilds(), t.childs = e.newChilds, t.updateDom({ updateIndexes: !0 }), t.showChilds() } }, transform: { undo: function (e) { i(e.path).setInternalValue(e.oldValue) }, redo: function (e) { i(e.path).setInternalValue(e.newValue) } } } } var t, i; return t = e, (i = [{ key: "onChange", value: function () { } }, { key: "add", value: function (e, t) { this.index++, this.history[this.index] = { action: e, params: t, timestamp: new Date }, this.index < this.history.length - 1 && this.history.splice(this.index + 1, this.history.length - this.index - 1), this.onChange() } }, { key: "clear", value: function () { this.history = [], this.index = -1, this.onChange() } }, { key: "canUndo", value: function () { return 0 <= this.index } }, { key: "canRedo", value: function () { return this.index < this.history.length - 1 } }, { key: "undo", value: function () { if (this.canUndo()) { var e = this.history[this.index]; if (e) { var t = this.actions[e.action]; if (t && t.undo) { if (t.undo(e.params), e.params.oldSelection) try { this.editor.setDomSelection(e.params.oldSelection) } catch (e) { console.error(e) } } else console.error(new Error('unknown action "' + e.action + '"')) } this.index--, this.onChange() } } }, { key: "redo", value: function () { if (this.canRedo()) { this.index++; var e = this.history[this.index]; if (e) { var t = this.actions[e.action]; if (t && t.redo) { if (t.redo(e.params), e.params.newSelection) try { this.editor.setDomSelection(e.params.newSelection) } catch (e) { console.error(e) } } else console.error(new Error('unknown action "' + e.action + '"')) } this.onChange() } } }, { key: "destroy", value: function () { this.editor = null, this.history = [], this.index = -1 } }]) && l(t.prototype, i), e }(), h = i(1); function d(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var u = function () { function e(t, i) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e); var n = this; this.editor = t, this.timeout = void 0, this.delay = 200, this.lastText = void 0, this.results = null, this.dom = {}, this.dom.container = i; var r = document.createElement("div"); (this.dom.wrapper = r).className = "jsoneditor-search", i.appendChild(r); var s = document.createElement("div"); (this.dom.results = s).className = "jsoneditor-results", r.appendChild(s); var o = document.createElement("div"); (this.dom.input = o).className = "jsoneditor-frame", o.title = Object(h.c)("searchTitle"), r.appendChild(o); var a = document.createElement("button"); a.type = "button", a.className = "jsoneditor-refresh", o.appendChild(a); var l = document.createElement("input"); l.type = "text", (this.dom.search = l).oninput = function (e) { n._onDelayedSearch(e) }, l.onchange = function (e) { n._onSearch() }, l.onkeydown = function (e) { n._onKeyDown(e) }, l.onkeyup = function (e) { n._onKeyUp(e) }, a.onclick = function (e) { l.select() }, o.appendChild(l); var c = document.createElement("button"); c.type = "button", c.title = Object(h.c)("searchNextResultTitle"), c.className = "jsoneditor-next", c.onclick = function () { n.next() }, o.appendChild(c); var d = document.createElement("button"); d.type = "button", d.title = Object(h.c)("searchPreviousResultTitle"), d.className = "jsoneditor-previous", d.onclick = function () { n.previous() }, o.appendChild(d) } var t, i; return t = e, (i = [{ key: "next", value: function (e) { if (this.results) { var t = null !== this.resultIndex ? this.resultIndex + 1 : 0; t > this.results.length - 1 && (t = 0), this._setActiveResult(t, e) } } }, { key: "previous", value: function (e) { if (this.results) { var t = this.results.length - 1, i = null !== this.resultIndex ? this.resultIndex - 1 : t; i < 0 && (i = t), this._setActiveResult(i, e) } } }, { key: "_setActiveResult", value: function (e, t) { if (this.activeResult) { var i = this.activeResult.node; "field" === this.activeResult.elem ? delete i.searchFieldActive : delete i.searchValueActive, i.updateDom() } if (!this.results || !this.results[e]) return this.resultIndex = void 0, void (this.activeResult = void 0); this.resultIndex = e; var n = this.results[this.resultIndex].node, r = this.results[this.resultIndex].elem; "field" === r ? n.searchFieldActive = !0 : n.searchValueActive = !0, this.activeResult = this.results[this.resultIndex], n.updateDom(), n.scrollTo((function () { t && n.focus(r) })) } }, { key: "_clearDelay", value: function () { void 0 !== this.timeout && (clearTimeout(this.timeout), delete this.timeout) } }, { key: "_onDelayedSearch", value: function () { this._clearDelay(); var e = this; this.timeout = setTimeout((function (t) { e._onSearch() }), this.delay) } }, { key: "_onSearch", value: function (e) { this._clearDelay(); var t = this.dom.search.value, i = 0 < t.length ? t : void 0; if (i !== this.lastText || e) { this.lastText = i, this.results = this.editor.search(i); var n = this.results[0] ? this.results[0].node.MAX_SEARCH_RESULTS : 1 / 0, r = 0; if (this.activeResult) for (var s = 0; s < this.results.length; s++)if (this.results[s].node === this.activeResult.node) { r = s; break } if (this._setActiveResult(r, !1), void 0 !== i) { var o = this.results.length; this.dom.results.innerHTML = 0 === o ? "no&nbsp;results" : 1 === o ? "1&nbsp;result" : n < o ? n + "+&nbsp;results" : o + "&nbsp;results" } else this.dom.results.innerHTML = "" } } }, { key: "_onKeyDown", value: function (e) { var t = e.which; 27 === t ? (this.dom.search.value = "", this._onSearch(), e.preventDefault(), e.stopPropagation()) : 13 === t && (e.ctrlKey ? this._onSearch(!0) : e.shiftKey ? this.previous() : this.next(), e.preventDefault(), e.stopPropagation()) } }, { key: "_onKeyUp", value: function (e) { var t = e.keyCode; 27 !== t && 13 !== t && this._onDelayedSearch(e) } }, { key: "clear", value: function () { this.dom.search.value = "", this._onSearch() } }, { key: "forceSearch", value: function () { this._onSearch(!0) } }, { key: "isEmpty", value: function () { return "" === this.dom.search.value } }, { key: "destroy", value: function () { this.editor = null, this.dom.container.removeChild(this.dom.wrapper), this.dom = null, this.results = null, this.activeResult = null, this._clearDelay() } }]) && d(t.prototype, i), e }(), g = i(3); function p(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var m = function () { function e(t, i) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), t && (this.root = i, this.path = document.createElement("div"), this.path.className = "jsoneditor-treepath", this.path.setAttribute("tabindex", 0), this.contentMenuClicked = !1, t.appendChild(this.path), this.reset()) } var t, i; return t = e, (i = [{ key: "reset", value: function () { this.path.innerHTML = Object(h.c)("selectNode") } }, { key: "setPath", value: function (e) { var t = this; this.path.innerHTML = "", e && e.length && e.forEach((function (i, n) { var r, s = document.createElement("span"); if (s.className = "jsoneditor-treepath-element", s.innerText = i.name, s.onclick = function (e) { this.selectionCallback && this.selectionCallback(e) }.bind(t, i), t.path.appendChild(s), i.children.length && ((r = document.createElement("span")).className = "jsoneditor-treepath-seperator", r.innerHTML = "&#9658;", r.onclick = function () { t.contentMenuClicked = !0; var s = []; i.children.forEach((function (r) { s.push({ text: r.name, className: "jsoneditor-type-modes" + (e[n + 1] + 1 && e[n + 1].name === r.name ? " jsoneditor-selected" : ""), click: function (e, t) { this.contextMenuCallback && this.contextMenuCallback(e, t) }.bind(t, i, r.name) }) })), new g.a(s).show(r, t.root, !0) }, t.path.appendChild(r)), n === e.length - 1) { var o = (r || s).getBoundingClientRect().right; if (t.path.offsetWidth < o && (t.path.scrollLeft = o), t.path.scrollLeft) { var l = document.createElement("span"); l.className = "jsoneditor-treepath-show-all-btn", l.title = "show all path", l.innerHTML = "...", l.onclick = function (e) { t.contentMenuClicked = !1, Object(a.addClassName)(t.path, "show-all"), t.path.style.width = t.path.parentNode.getBoundingClientRect().width - 10 + "px", t.path.onblur = function () { if (t.contentMenuClicked) return t.contentMenuClicked = !1, void t.path.focus(); Object(a.removeClassName)(t.path, "show-all"), t.path.onblur = void 0, t.path.style.width = "", t.setPath(e) } }.bind(t, e), t.path.insertBefore(l, t.path.firstChild) } } })) } }, { key: "onSectionSelected", value: function (e) { "function" == typeof e && (this.selectionCallback = e) } }, { key: "onContextMenuItemSelected", value: function (e) { "function" == typeof e && (this.contextMenuCallback = e) } }]) && p(t.prototype, i), e }(), f = i(11), C = i.n(f), I = i(12), A = i(5), v = i(6), b = i(2); function y(e) { return (y = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function w(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var S = function () { function e(t, i) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.editor = t, this.dom = {}, this.expanded = !1, i && i instanceof Object ? (this.setField(i.field, i.fieldEditable), "value" in i && this.setValue(i.value, i.type), "internalValue" in i && this.setInternalValue(i.internalValue)) : (this.setField(""), this.setValue(null)), this._debouncedOnChangeValue = Object(a.debounce)(this._onChangeValue.bind(this), e.prototype.DEBOUNCE_INTERVAL), this._debouncedOnChangeField = Object(a.debounce)(this._onChangeField.bind(this), e.prototype.DEBOUNCE_INTERVAL), this.visibleChilds = this.getMaxVisibleChilds() } var t, i; return t = e, (i = [{ key: "getMaxVisibleChilds", value: function () { return this.editor && this.editor.options && this.editor.options.maxVisibleChilds ? this.editor.options.maxVisibleChilds : x } }, { key: "_updateEditability", value: function () { if (this.editable = { field: !0, value: !0 }, this.editor && (this.editable.field = "tree" === this.editor.options.mode, this.editable.value = "view" !== this.editor.options.mode, ("tree" === this.editor.options.mode || "form" === this.editor.options.mode) && "function" == typeof this.editor.options.onEditable)) { var e = this.editor.options.onEditable({ field: this.field, value: this.value, path: this.getPath() }); "boolean" == typeof e ? (this.editable.field = e, this.editable.value = e) : ("boolean" == typeof e.field && (this.editable.field = e.field), "boolean" == typeof e.value && (this.editable.value = e.value)) } } }, { key: "getPath", value: function () { for (var e = this, t = []; e;) { var i = e.getName(); void 0 !== i && t.unshift(i), e = e.parent } return t } }, { key: "getInternalPath", value: function () { for (var e = this, t = []; e;)e.parent && t.unshift(e.getIndex()), e = e.parent; return t } }, { key: "getName", value: function () { return this.parent ? "array" !== this.parent.type ? this.field : this.index : void 0 } }, { key: "findNodeByPath", value: function (e) { if (e) { if (0 === e.length) return this; if (e.length && this.childs && this.childs.length) for (var t = 0; t < this.childs.length; ++t)if ("" + e[0] == "" + this.childs[t].getName()) return this.childs[t].findNodeByPath(e.slice(1)) } } }, { key: "findNodeByInternalPath", value: function (e) { if (e) { for (var t = this, i = 0; i < e.length && t; i++) { var n = e[i]; t = t.childs[n] } return t } } }, { key: "serialize", value: function () { return { value: this.getValue(), path: this.getPath() } } }, { key: "findNode", value: function (e) { for (var t = Object(a.parsePath)(e), i = this, n = function () { var e = t.shift(); if ("number" == typeof e) { if ("array" !== i.type) throw new Error("Cannot get child node at index " + e + ": node is no array"); i = i.childs[e] } else { if ("object" !== i.type) throw new Error("Cannot get child node " + e + ": node is no object"); i = i.childs.filter((function (t) { return t.field === e }))[0] } }; i && 0 < t.length;)n(); return i } }, { key: "findParents", value: function () { for (var e = [], t = this.parent; t;)e.unshift(t), t = t.parent; return e } }, { key: "setError", value: function (e, t) { this.error = e, this.errorChild = t, this.dom && this.dom.tr && this.updateError() } }, { key: "updateError", value: function () { var e = this, t = this.fieldError || this.valueError || this.error, i = this.dom.tdError; if (t && this.dom && this.dom.tr) { Object(a.addClassName)(this.dom.tr, "jsoneditor-validation-error"), i || (i = document.createElement("td"), this.dom.tdError = i, this.dom.tdValue.parentNode.appendChild(i)); var n = document.createElement("button"); n.type = "button", n.className = "jsoneditor-button jsoneditor-schema-error"; var r = function () { e.dom.popupAnchor && e.dom.popupAnchor.destroy() }, s = function () { delete e.dom.popupAnchor }, o = function (i) { var r = e.editor.frame; e.dom.popupAnchor = Object(I.a)(n, e.editor.getPopupAnchor(), s, i); var o = n.getBoundingClientRect(), a = 120 < r.getBoundingClientRect().width - o.x ? "jsoneditor-above" : "jsoneditor-left", l = document.createElement("div"); l.className = "jsoneditor-popover " + a, l.appendChild(document.createTextNode(t.message)), e.dom.popupAnchor.appendChild(l) }; n.onmouseover = function () { e.dom.popupAnchor || o(!0) }, n.onfocus = function () { r(), o(!1) }, n.onblur = function () { r() }; var l = this.errorChild; for (l && (n.onclick = function () { l.findParents().forEach((function (e) { e.expand(!1) })), l.scrollTo((function () { l.focus() })) }); i.firstChild;)i.removeChild(i.firstChild); i.appendChild(n) } else this.dom.tr && Object(a.removeClassName)(this.dom.tr, "jsoneditor-validation-error"), i && (this.dom.tdError.parentNode.removeChild(this.dom.tdError), delete this.dom.tdError) } }, { key: "getIndex", value: function () { if (this.parent) { var e = this.parent.childs.indexOf(this); return -1 !== e ? e : null } return -1 } }, { key: "setParent", value: function (e) { this.parent = e } }, { key: "setField", value: function (e, t) { this.field = e, this.previousField = e, this.fieldEditable = !0 === t } }, { key: "getField", value: function () { return void 0 === this.field && this._getDomField(), this.field } }, { key: "setValue", value: function (t, i) { var n, r, s, o, a, l = this.childs; if (this.type = this._getType(t), i && i !== this.type) { if ("string" !== i || "auto" !== this.type) throw new Error('Type mismatch: cannot cast value of type "' + this.type + ' to the specified type "' + i + '"'); this.type = i } if ("array" === this.type) { for (this.childs || (this.childs = []), o = 0; o < t.length; o++)void 0 === (n = t[o]) || n instanceof Function || (o < this.childs.length ? ((r = this.childs[o]).fieldEditable = !1, r.index = o, r.setValue(n)) : (r = new e(this.editor, { value: n }), s = o < this.getMaxVisibleChilds(), this.appendChild(r, s, !1))); for (a = this.childs.length; a >= t.length; a--)this.removeChild(this.childs[a], !1) } else if ("object" === this.type) { for (this.childs || (this.childs = []), a = this.childs.length - 1; 0 <= a; a--)E(t, this.childs[a].field) || this.removeChild(this.childs[a], !1); for (var c in o = 0, t) E(t, c) && (void 0 === (n = t[c]) || n instanceof Function || ((r = this.findChildByProperty(c)) ? (r.setField(c, !0), r.setValue(n)) : (r = new e(this.editor, { field: c, value: n }), s = o < this.getMaxVisibleChilds(), this.appendChild(r, s, !1))), o++); !(this.value = "") === this.editor.options.sortObjectKeys && this.sort([], "asc") } else this.hideChilds(), delete this.append, delete this.showMore, delete this.expanded, delete this.childs, this.value = t; Array.isArray(l) !== Array.isArray(this.childs) && this.recreateDom(), this.updateDom({ updateIndexes: !0 }), this.previousValue = this.value } }, { key: "setInternalValue", value: function (t) { var i, n, r, s, o, a = this.childs; if (this.type = t.type, "array" === t.type) { for (this.childs || (this.childs = []), s = 0; s < t.childs.length; s++)void 0 === (i = t.childs[s]) || i instanceof Function || (s < this.childs.length ? ((n = this.childs[s]).fieldEditable = !1, n.index = s, n.setInternalValue(i)) : (n = new e(this.editor, { internalValue: i }), r = s < this.getMaxVisibleChilds(), this.appendChild(n, r, !1))); for (o = this.childs.length; o >= t.childs.length; o--)this.removeChild(this.childs[o], !1) } else if ("object" === t.type) { for (this.childs || (this.childs = []), s = 0; s < t.childs.length; s++)void 0 === (i = t.childs[s]) || i instanceof Function || (s < this.childs.length ? (delete (n = this.childs[s]).index, n.setField(i.field, !0), n.setInternalValue(i.value)) : (n = new e(this.editor, { field: i.field, internalValue: i.value }), r = s < this.getMaxVisibleChilds(), this.appendChild(n, r, !1))); for (o = this.childs.length; o >= t.childs.length; o--)this.removeChild(this.childs[o], !1) } else this.hideChilds(), delete this.append, delete this.showMore, delete this.expanded, delete this.childs, this.value = t.value; Array.isArray(a) !== Array.isArray(this.childs) && this.recreateDom(), this.updateDom({ updateIndexes: !0 }), this.previousValue = this.value } }, { key: "recreateDom", value: function () { if (this.dom && this.dom.tr && this.dom.tr.parentNode) { var e = this._detachFromDom(); this.clearDom(), this._attachToDom(e) } else this.clearDom() } }, { key: "getValue", value: function () { if ("array" === this.type) { var e = []; return this.childs.forEach((function (t) { e.push(t.getValue()) })), e } if ("object" !== this.type) return void 0 === this.value && this._getDomValue(), this.value; var t = {}; return this.childs.forEach((function (e) { t[e.getField()] = e.getValue() })), t } }, { key: "getInternalValue", value: function () { return "array" === this.type ? { type: this.type, childs: this.childs.map((function (e) { return e.getInternalValue() })) } : "object" === this.type ? { type: this.type, childs: this.childs.map((function (e) { return { field: e.getField(), value: e.getInternalValue() } })) } : (void 0 === this.value && this._getDomValue(), { type: this.type, value: this.value }) } }, { key: "getLevel", value: function () { return this.parent ? this.parent.getLevel() + 1 : 0 } }, { key: "getNodePath", value: function () { var e = this.parent ? this.parent.getNodePath() : []; return e.push(this), e } }, { key: "clone", value: function () { var t = new e(this.editor); if (t.type = this.type, t.field = this.field, t.fieldInnerText = this.fieldInnerText, t.fieldEditable = this.fieldEditable, t.previousField = this.previousField, t.value = this.value, t.valueInnerText = this.valueInnerText, t.previousValue = this.previousValue, t.expanded = this.expanded, t.visibleChilds = this.visibleChilds, this.childs) { var i = []; this.childs.forEach((function (e) { var n = e.clone(); n.setParent(t), i.push(n) })), t.childs = i } else t.childs = void 0; return t } }, { key: "expand", value: function (e) { this.childs && (this.expanded = !0, this.dom.expand && (this.dom.expand.className = "jsoneditor-button jsoneditor-expanded"), this.showChilds(), !1 !== e && this.childs.forEach((function (t) { t.expand(e) })), this.updateDom({ recurse: !1 })) } }, { key: "collapse", value: function (e) { this.childs && (this.hideChilds(), !1 !== e && this.childs.forEach((function (t) { t.collapse(e) })), this.dom.expand && (this.dom.expand.className = "jsoneditor-button jsoneditor-collapsed"), this.expanded = !1, this.updateDom({ recurse: !1 })) } }, { key: "showChilds", value: function () { if (this.childs && this.expanded) { var e, t = this.dom.tr, i = t ? t.parentNode : void 0; if (i) { var n = this.getAppendDom(); n.parentNode || ((e = t.nextSibling) ? i.insertBefore(n, e) : i.appendChild(n)); var r = Math.min(this.childs.length, this.visibleChilds); e = this._getNextTr(); for (var s = 0; s < r; s++) { var o = this.childs[s]; o.getDom().parentNode || i.insertBefore(o.getDom(), e), o.showChilds() } var a = this.getShowMoreDom(); e = this._getNextTr(), a.parentNode || i.insertBefore(a, e), this.showMore.updateDom() } } } }, { key: "_getNextTr", value: function () { return this.showMore && this.showMore.getDom().parentNode ? this.showMore.getDom() : this.append && this.append.getDom().parentNode ? this.append.getDom() : void 0 } }, { key: "hide", value: function (e) { var t = this.dom.tr, i = t ? t.parentNode : void 0; i && i.removeChild(t), this.dom.popupAnchor && this.dom.popupAnchor.destroy(), this.hideChilds(e) } }, { key: "hideChilds", value: function (e) { if (this.childs && this.expanded) { var t = this.getAppendDom(); t.parentNode && t.parentNode.removeChild(t), this.childs.forEach((function (e) { e.hide() })); var i = this.getShowMoreDom(); i.parentNode && i.parentNode.removeChild(i), e && !e.resetVisibleChilds || (this.visibleChilds = this.getMaxVisibleChilds()) } } }, { key: "_updateCssClassName", value: function () { if (this.dom.field && this.editor && this.editor.options && "function" == typeof this.editor.options.onClassName && this.dom.tree) { Object(a.removeAllClassNames)(this.dom.tree); var e = this.editor.options.onClassName({ path: this.getPath(), field: this.field, value: this.value }) || ""; Object(a.addClassName)(this.dom.tree, "jsoneditor-values " + e) } } }, { key: "recursivelyUpdateCssClassesOnNodes", value: function () { if (this._updateCssClassName(), Array.isArray(this.childs)) for (var e = 0; e < this.childs.length; e++)this.childs[e].recursivelyUpdateCssClassesOnNodes() } }, { key: "expandTo", value: function () { for (var e = this.parent; e;)e.expanded || e.expand(), e = e.parent } }, { key: "appendChild", value: function (e, t, i) { if (this._hasChilds()) { if (e.setParent(this), e.fieldEditable = "object" === this.type, "array" === this.type && (e.index = this.childs.length), "object" === this.type && void 0 === e.field && e.setField(""), this.childs.push(e), this.expanded && !1 !== t) { var n = e.getDom(), r = this._getNextTr(), s = r ? r.parentNode : void 0; r && s && s.insertBefore(n, r), e.showChilds(), this.visibleChilds++ } !1 !== i && (this.updateDom({ updateIndexes: !0 }), e.updateDom({ recurse: !0 })) } } }, { key: "moveBefore", value: function (e, t) { if (this._hasChilds()) { var i = this.dom.tr ? this.dom.tr.parentNode : void 0; if (i) { var n = document.createElement("tr"); n.style.height = i.clientHeight + "px", i.appendChild(n) } if (e.parent && e.parent.removeChild(e), t instanceof G || !t) if (this.childs.length + 1 > this.visibleChilds) { var r = this.childs[this.visibleChilds - 1]; this.insertBefore(e, r) } else this.appendChild(e); else this.insertBefore(e, t); i && i.removeChild(n) } } }, { key: "insertBefore", value: function (e, t) { if (this._hasChilds()) { if (this.visibleChilds++, "object" === this.type && void 0 === e.field && e.setField(""), t === this.append) e.setParent(this), e.fieldEditable = "object" === this.type, this.childs.push(e); else { var i = this.childs.indexOf(t); if (-1 === i) throw new Error("Node not found"); e.setParent(this), e.fieldEditable = "object" === this.type, this.childs.splice(i, 0, e) } if (this.expanded) { var n = e.getDom(), r = t.getDom(), s = r ? r.parentNode : void 0; r && s && s.insertBefore(n, r), e.showChilds(), this.showChilds() } this.updateDom({ updateIndexes: !0 }), e.updateDom({ recurse: !0 }) } } }, { key: "insertAfter", value: function (e, t) { if (this._hasChilds()) { var i = this.childs.indexOf(t), n = this.childs[i + 1]; n ? this.insertBefore(e, n) : this.appendChild(e) } } }, { key: "search", value: function (e, t) { Array.isArray(t) || (t = []); var i = e ? e.toLowerCase() : void 0; return delete this.searchField, delete this.searchValue, void 0 !== this.field && t.length <= this.MAX_SEARCH_RESULTS && (-1 !== String(this.field).toLowerCase().indexOf(i) && (this.searchField = !0, t.push({ node: this, elem: "field" })), this._updateDomField()), this._hasChilds() ? this.childs && this.childs.forEach((function (i) { i.search(e, t) })) : void 0 !== this.value && t.length <= this.MAX_SEARCH_RESULTS && (-1 !== String(this.value).toLowerCase().indexOf(i) && (this.searchValue = !0, t.push({ node: this, elem: "value" })), this._updateDomValue()), t } }, { key: "scrollTo", value: function (e) { this.expandPathToNode(), this.dom.tr && this.dom.tr.parentNode && this.editor.scrollTo(this.dom.tr.offsetTop, e) } }, { key: "expandPathToNode", value: function () { for (var e = this; e && e.parent;) { for (var t = "array" === e.parent.type ? e.index : e.parent.childs.indexOf(e); e.parent.visibleChilds < t + 1;)e.parent.visibleChilds += this.getMaxVisibleChilds(); e.parent.expand(!1), e = e.parent } } }, { key: "focus", value: function (t) { if (e.focusElement = t, this.dom.tr && this.dom.tr.parentNode) { var i = this.dom; switch (t) { case "drag": i.drag ? i.drag.focus() : i.menu.focus(); break; case "menu": i.menu.focus(); break; case "expand": this._hasChilds() ? i.expand.focus() : i.field && this.fieldEditable ? (i.field.focus(), Object(a.selectContentEditable)(i.field)) : i.value && !this._hasChilds() ? (i.value.focus(), Object(a.selectContentEditable)(i.value)) : i.menu.focus(); break; case "field": i.field && this.fieldEditable ? (i.field.focus(), Object(a.selectContentEditable)(i.field)) : i.value && !this._hasChilds() ? (i.value.focus(), Object(a.selectContentEditable)(i.value)) : this._hasChilds() ? i.expand.focus() : i.menu.focus(); break; case "value": default: i.select ? i.select.focus() : i.value && !this._hasChilds() ? (i.value.focus(), Object(a.selectContentEditable)(i.value)) : i.field && this.fieldEditable ? (i.field.focus(), Object(a.selectContentEditable)(i.field)) : this._hasChilds() ? i.expand.focus() : i.menu.focus() } } } }, { key: "containsNode", value: function (e) { if (this === e) return !0; var t = this.childs; if (t) for (var i = 0, n = t.length; i < n; i++)if (t[i].containsNode(e)) return !0; return !1 } }, { key: "removeChild", value: function (e, t) { if (this.childs) { var i = this.childs.indexOf(e); if (-1 !== i) { i < this.visibleChilds && this.expanded && this.visibleChilds--, e.hide(), delete e.searchField, delete e.searchValue; var n = this.childs.splice(i, 1)[0]; return n.parent = null, !1 !== t && this.updateDom({ updateIndexes: !0 }), n } } } }, { key: "_remove", value: function (e) { this.removeChild(e) } }, { key: "changeType", value: function (e) { var t = this.type; if (t !== e) { if ("string" !== e && "auto" !== e || "string" !== t && "auto" !== t) { var i = this._detachFromDom(); this.clearDom(), "object" === (this.type = e) ? (this.childs || (this.childs = []), this.childs.forEach((function (e) { e.clearDom(), delete e.index, e.fieldEditable = !0, void 0 === e.field && (e.field = "") })), "string" !== t && "auto" !== t || (this.expanded = !0)) : "array" === e ? (this.childs || (this.childs = []), this.childs.forEach((function (e, t) { e.clearDom(), e.fieldEditable = !1, e.index = t })), "string" !== t && "auto" !== t || (this.expanded = !0)) : this.expanded = !1, this._attachToDom(i) } else this.type = e; "auto" !== e && "string" !== e || (this.value = "string" === e ? String(this.value) : Object(a.parseString)(String(this.value)), this.focus()), this.updateDom({ updateIndexes: !0 }) } } }, { key: "deepEqual", value: function (e) { var t; if ("array" === this.type) { if (!Array.isArray(e)) return !1; if (this.childs.length !== e.length) return !1; for (t = 0; t < this.childs.length; t++)if (!this.childs[t].deepEqual(e[t])) return !1 } else if ("object" === this.type) { if ("object" !== y(e) || !e) return !1; var i = {}, n = 0; for (t = 0; t < this.childs.length; t++) { var r = this.childs[t]; if (!i[r.field]) { if (i[r.field] = !0, n++, !(r.field in e)) return !1; if (!r.deepEqual(e[r.field])) return !1 } } if (n !== Object.keys(e).length) return !1 } else if (this.value !== e) return !1; return !0 } }, { key: "_getDomValue", value: function () { if (this._clearValueError(), this.dom.value && "array" !== this.type && "object" !== this.type && (this.valueInnerText = Object(a.getInnerText)(this.dom.value)), void 0 !== this.valueInnerText) try { var e; if ("string" === this.type) e = this._unescapeHTML(this.valueInnerText); else { var t = this._unescapeHTML(this.valueInnerText); e = Object(a.parseString)(t) } e !== this.value && (this.value = e, this._debouncedOnChangeValue()) } catch (e) { this._setValueError(Object(h.c)("cannotParseValueError")) } } }, { key: "_setValueError", value: function (e) { this.valueError = { message: e }, this.updateError() } }, { key: "_clearValueError", value: function () { this.valueError && (this.valueError = null, this.updateError()) } }, { key: "_setFieldError", value: function (e) { this.fieldError = { message: e }, this.updateError() } }, { key: "_clearFieldError", value: function () { this.fieldError && (this.fieldError = null, this.updateError()) } }, { key: "_onChangeValue", value: function () { var e = this.editor.getDomSelection(); if (e.range) { var t = Object(a.textDiff)(String(this.value), String(this.previousValue)); e.range.startOffset = t.start, e.range.endOffset = t.end } var i = this.editor.getDomSelection(); if (i.range) { var n = Object(a.textDiff)(String(this.previousValue), String(this.value)); i.range.startOffset = n.start, i.range.endOffset = n.end } this.editor._onAction("editValue", { path: this.getInternalPath(), oldValue: this.previousValue, newValue: this.value, oldSelection: e, newSelection: i }), this.previousValue = this.value } }, { key: "_onChangeField", value: function () { var e = this.editor.getDomSelection(), t = this.previousField || ""; if (e.range) { var i = Object(a.textDiff)(this.field, t); e.range.startOffset = i.start, e.range.endOffset = i.end } var n = this.editor.getDomSelection(); if (n.range) { var r = Object(a.textDiff)(t, this.field); n.range.startOffset = r.start, n.range.endOffset = r.end } this.editor._onAction("editField", { parentPath: this.parent.getInternalPath(), index: this.getIndex(), oldValue: this.previousField, newValue: this.field, oldSelection: e, newSelection: n }), this.previousField = this.field } }, { key: "_updateDomValue", value: function () { var e = this.dom.value; if (e) { var t = ["jsoneditor-value"], i = this.value, n = "auto" === this.type ? Object(a.getType)(i) : this.type, r = "string" === n && Object(a.isUrl)(i); if (t.push("jsoneditor-" + n), r && t.push("jsoneditor-url"), "" === String(this.value) && "array" !== this.type && "object" !== this.type && t.push("jsoneditor-empty"), this.searchValueActive && t.push("jsoneditor-highlight-active"), this.searchValue && t.push("jsoneditor-highlight"), e.className = t.join(" "), "array" === n || "object" === n) { var s = this.childs ? this.childs.length : 0; e.title = this.type + " containing " + s + " items" } else r && this.editable.value ? e.title = Object(h.c)("openUrl") : e.title = ""; if ("boolean" === n && this.editable.value ? (this.dom.checkbox || (this.dom.checkbox = document.createElement("input"), this.dom.checkbox.type = "checkbox", this.dom.tdCheckbox = document.createElement("td"), this.dom.tdCheckbox.className = "jsoneditor-tree", this.dom.tdCheckbox.appendChild(this.dom.checkbox), this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox, this.dom.tdValue)), this.dom.checkbox.checked = this.value) : this.dom.tdCheckbox && (this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox), delete this.dom.tdCheckbox, delete this.dom.checkbox), this["enum"] && this.editable.value) { if (!this.dom.select) { this.dom.select = document.createElement("select"), this.id = this.field + "_" + (new Date).getUTCMilliseconds(), this.dom.select.id = this.id, this.dom.select.name = this.dom.select.id, this.dom.select.option = document.createElement("option"), this.dom.select.option.value = "", this.dom.select.option.innerHTML = "--", this.dom.select.appendChild(this.dom.select.option); for (var o = 0; o < this["enum"].length; o++)this.dom.select.option = document.createElement("option"), this.dom.select.option.value = this["enum"][o], this.dom.select.option.innerHTML = this["enum"][o], this.dom.select.option.value === this.value && (this.dom.select.option.selected = !0), this.dom.select.appendChild(this.dom.select.option); this.dom.tdSelect = document.createElement("td"), this.dom.tdSelect.className = "jsoneditor-tree", this.dom.tdSelect.appendChild(this.dom.select), this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect, this.dom.tdValue) } !this.schema || E(this.schema, "oneOf") || E(this.schema, "anyOf") || E(this.schema, "allOf") ? delete this.valueFieldHTML : (this.valueFieldHTML = this.dom.tdValue.innerHTML, this.dom.tdValue.style.visibility = "hidden", this.dom.tdValue.innerHTML = "") } else this.dom.tdSelect && (this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect), delete this.dom.tdSelect, delete this.dom.select, this.dom.tdValue.innerHTML = this.valueFieldHTML, this.dom.tdValue.style.visibility = "", delete this.valueFieldHTML); if (this.editable.value && this.editor.options.colorPicker && "string" == typeof i && Object(a.isValidColor)(i) ? (this.dom.color || (this.dom.color = document.createElement("div"), this.dom.color.className = "jsoneditor-color", this.dom.tdColor = document.createElement("td"), this.dom.tdColor.className = "jsoneditor-tree", this.dom.tdColor.appendChild(this.dom.color), this.dom.tdValue.parentNode.insertBefore(this.dom.tdColor, this.dom.tdValue), this.dom.value.style.color = "#1A1A1A"), this.dom.color.style.backgroundColor = i) : this._deleteDomColor(), this._showTimestampTag()) { this.dom.date || (this.dom.date = document.createElement("div"), this.dom.date.className = "jsoneditor-date", this.dom.value.parentNode.appendChild(this.dom.date)); var l = null; if ("function" == typeof this.editor.options.timestampFormat && (l = this.editor.options.timestampFormat({ field: this.field, value: this.value, path: this.getPath() })), l) { for (; this.dom.date.firstChild;)this.dom.date.removeChild(this.dom.date.firstChild); this.dom.date.appendChild(document.createTextNode(l)) } else this.dom.date.innerHTML = new Date(i).toISOString(); this.dom.date.title = new Date(i).toString() } else this.dom.date && (this.dom.date.parentNode.removeChild(this.dom.date), delete this.dom.date); Object(a.stripFormatting)(e), this._updateDomDefault() } } }, { key: "_deleteDomColor", value: function () { this.dom.color && (this.dom.tdColor.parentNode.removeChild(this.dom.tdColor), delete this.dom.tdColor, delete this.dom.color, this.dom.value.style.color = "") } }, { key: "_updateDomField", value: function () { var e = this.dom.field; if (e) { var t = Object(a.makeFieldTooltip)(this.schema, this.editor.options.language); t && (e.title = t), ("" === String(this.field) && "array" !== this.parent.type ? Object(a.addClassName) : Object(a.removeClassName))(e, "jsoneditor-empty"), (this.searchFieldActive ? Object(a.addClassName) : Object(a.removeClassName))(e, "jsoneditor-highlight-active"), (this.searchField ? Object(a.addClassName) : Object(a.removeClassName))(e, "jsoneditor-highlight"), Object(a.stripFormatting)(e) } } }, { key: "_getDomField", value: function (e) { if (this._clearFieldError(), this.dom.field && this.fieldEditable && (this.fieldInnerText = Object(a.getInnerText)(this.dom.field)), void 0 !== this.fieldInnerText) try { var t = this._unescapeHTML(this.fieldInnerText), i = this.parent.getFieldNames(this); -1 !== i.indexOf(t) ? e ? (t = Object(a.findUniqueName)(t, i)) !== this.field && (this.field = t, this._debouncedOnChangeField()) : this._setFieldError(Object(h.c)("duplicateFieldError")) : t !== this.field && (this.field = t, this._debouncedOnChangeField()) } catch (e) { this._setFieldError(Object(h.c)("cannotParseFieldError")) } } }, { key: "_updateDomDefault", value: function () { if (this.schema && void 0 !== this.schema["default"] && !this._hasChilds()) { var e = this.dom.select ? this.dom.select : this.dom.value; e && (this.value === this.schema["default"] ? (e.title = Object(h.c)("default"), Object(a.addClassName)(e, "jsoneditor-is-default"), Object(a.removeClassName)(e, "jsoneditor-is-not-default")) : (e.removeAttribute("title"), Object(a.removeClassName)(e, "jsoneditor-is-default"), Object(a.addClassName)(e, "jsoneditor-is-not-default"))) } } }, { key: "_showTimestampTag", value: function () { if ("number" != typeof this.value) return !1; var e = this.editor.options.timestampTag; if ("function" != typeof e) return !0 === e && Object(a.isTimestamp)(this.field, this.value); var t = e({ field: this.field, value: this.value, path: this.getPath() }); return "boolean" == typeof t ? t : Object(a.isTimestamp)(this.field, this.value) } }, { key: "clearDom", value: function () { this.dom = {} } }, { key: "getDom", value: function () { var e = this.dom; if (e.tr) return e.tr; if (this._updateEditability(), e.tr = document.createElement("tr"), "tree" === (e.tr.node = this).editor.options.mode) { var t = document.createElement("td"); if (this.editable.field && this.parent) { var i = document.createElement("button"); i.type = "button", (e.drag = i).className = "jsoneditor-button jsoneditor-dragarea", i.title = Object(h.c)("drag"), t.appendChild(i) } e.tr.appendChild(t); var n = document.createElement("td"), r = document.createElement("button"); r.type = "button", (e.menu = r).className = "jsoneditor-button jsoneditor-contextmenu-button", r.title = Object(h.c)("actionsMenu"), n.appendChild(e.menu), e.tr.appendChild(n) } var s = document.createElement("td"); return e.tr.appendChild(s), e.tree = this._createDomTree(), s.appendChild(e.tree), this.updateDom({ updateIndexes: !0 }), e.tr } }, { key: "isVisible", value: function () { return this.dom && this.dom.tr && this.dom.tr.parentNode || !1 } }, { key: "isDescendantOf", value: function (e) { for (var t = this.parent; t;) { if (t === e) return !0; t = t.parent } return !1 } }, { key: "_createDomField", value: function () { return document.createElement("div") } }, { key: "setHighlight", value: function (e) { this.dom.tr && (Object(e ? a.addClassName : a.removeClassName)(this.dom.tr, "jsoneditor-highlight"), this.append && this.append.setHighlight(e), this.childs && this.childs.forEach((function (t) { t.setHighlight(e) }))) } }, { key: "setSelected", value: function (e, t) { this.selected = e, this.dom.tr && (Object(e ? a.addClassName : a.removeClassName)(this.dom.tr, "jsoneditor-selected"), Object(t ? a.addClassName : a.removeClassName)(this.dom.tr, "jsoneditor-first"), this.append && this.append.setSelected(e), this.showMore && this.showMore.setSelected(e), this.childs && this.childs.forEach((function (t) { t.setSelected(e) }))) } }, { key: "updateValue", value: function (e) { this.value = e, this.previousValue = e, this.valueError = void 0, this.updateDom() } }, { key: "updateField", value: function (e) { this.field = e, this.previousField = e, this.fieldError = void 0, this.updateDom() } }, { key: "updateDom", value: function (t) { var i = this.dom.tree; i && (i.style.marginLeft = 24 * this.getLevel() + "px"); var n = this.dom.field; if (n) { var r; if (this.fieldEditable ? (n.contentEditable = this.editable.field, n.spellcheck = !1, n.className = "jsoneditor-field") : (n.contentEditable = !1, n.className = "jsoneditor-readonly"), void 0 !== this.index) r = this.index; else if (void 0 !== this.field) r = this.field; else { var s = this.editor.options.schema ? e._findSchema(this.editor.options.schema, this.editor.options.schemaRefs || {}, this.getPath()) : void 0; r = s && s.title ? s.title : this._hasChilds() ? this.type : "" } n.innerHTML = this._escapeHTML(r), this._updateSchema() } var o = this.dom.value; o && ("array" === this.type || "object" === this.type ? this.updateNodeName() : o.innerHTML = this._escapeHTML(this.value)); var l = this.dom.tr; l && ("array" === this.type || "object" === this.type ? (Object(a.addClassName)(l, "jsoneditor-expandable"), this.expanded ? (Object(a.addClassName)(l, "jsoneditor-expanded"), Object(a.removeClassName)(l, "jsoneditor-collapsed")) : (Object(a.addClassName)(l, "jsoneditor-collapsed"), Object(a.removeClassName)(l, "jsoneditor-expanded"))) : (Object(a.removeClassName)(l, "jsoneditor-expandable"), Object(a.removeClassName)(l, "jsoneditor-expanded"), Object(a.removeClassName)(l, "jsoneditor-collapsed"))), this._updateDomField(), this._updateDomValue(), t && !0 === t.updateIndexes && this._updateDomIndexes(), t && !0 === t.recurse && this.childs && this.childs.forEach((function (e) { e.updateDom(t) })), this.error && this.updateError(), this.append && this.append.updateDom(), this.showMore && this.showMore.updateDom(), this._updateCssClassName() } }, { key: "_updateSchema", value: function () { this.editor && this.editor.options && (this.schema = this.editor.options.schema ? e._findSchema(this.editor.options.schema, this.editor.options.schemaRefs || {}, this.getPath()) : null, this.schema ? this["enum"] = e._findEnum(this.schema) : delete this["enum"]) } }, { key: "_updateDomIndexes", value: function () { var e = this.dom.value, t = this.childs; e && t && ("array" === this.type ? t.forEach((function (e, t) { e.index = t; var i = e.dom.field; i && (i.innerHTML = t) })) : "object" === this.type && t.forEach((function (e) { void 0 !== e.index && (delete e.index, void 0 === e.field && (e.field = "")) }))) } }, { key: "_createDomValue", value: function () { var e; return "array" === this.type ? (e = document.createElement("div")).innerHTML = "[...]" : "object" === this.type ? (e = document.createElement("div")).innerHTML = "{...}" : (!this.editable.value && Object(a.isUrl)(this.value) ? (e = document.createElement("a")).href = this.value : ((e = document.createElement("div")).contentEditable = this.editable.value, e.spellcheck = !1), e.innerHTML = this._escapeHTML(this.value)), e } }, { key: "_createDomExpandButton", value: function () { var e = document.createElement("button"); return e.type = "button", this._hasChilds() ? (e.className = this.expanded ? "jsoneditor-button jsoneditor-expanded" : "jsoneditor-button jsoneditor-collapsed", e.title = Object(h.c)("expandTitle")) : (e.className = "jsoneditor-button jsoneditor-invisible", e.title = ""), e } }, { key: "_createDomTree", value: function () { var e = this.dom, t = document.createElement("table"), i = document.createElement("tbody"); t.style.borderCollapse = "collapse", t.className = "jsoneditor-values", t.appendChild(i); var n = document.createElement("tr"); i.appendChild(n); var r = document.createElement("td"); r.className = "jsoneditor-tree", n.appendChild(r), e.expand = this._createDomExpandButton(), r.appendChild(e.expand), e.tdExpand = r; var s = document.createElement("td"); s.className = "jsoneditor-tree", n.appendChild(s), e.field = this._createDomField(), s.appendChild(e.field), e.tdField = s; var o = document.createElement("td"); o.className = "jsoneditor-tree", n.appendChild(o), "object" !== this.type && "array" !== this.type && (o.appendChild(document.createTextNode(":")), o.className = "jsoneditor-separator"), e.tdSeparator = o; var a = document.createElement("td"); return a.className = "jsoneditor-tree", n.appendChild(a), e.value = this._createDomValue(), a.appendChild(e.value), e.tdValue = a, t } }, { key: "onEvent", value: function (e) { var t = e.type, i = e.target || e.srcElement, n = this.dom, r = this, s = this._hasChilds(); if ("function" == typeof this.editor.options.onEvent && this._onEvent(e), i !== n.drag && i !== n.menu || ("mouseover" === t ? this.editor.highlighter.highlight(this) : "mouseout" === t && this.editor.highlighter.unhighlight()), "click" === t && i === n.menu) { var o = r.editor.highlighter; o.highlight(r), o.lock(), Object(a.addClassName)(n.menu, "jsoneditor-selected"), this.showContextMenu(n.menu, (function () { Object(a.removeClassName)(n.menu, "jsoneditor-selected"), o.unlock(), o.unhighlight() })) } if ("click" === t && i === n.expand && s) { var l = e.ctrlKey; this._onExpand(l) } "click" !== t || e.target !== r.dom.tdColor && e.target !== r.dom.color || this._showColorPicker(), "change" === t && i === n.checkbox && (this.dom.value.innerHTML = !this.value, this._getDomValue(), this._updateDomDefault()), "change" === t && i === n.select && (this.dom.value.innerHTML = n.select.value, this._getDomValue(), this._updateDomValue()); var c = n.value; if (i === c) switch (t) { case "blur": case "change": this._getDomValue(), this._clearValueError(), this._updateDomValue(); var h = this._escapeHTML(this.value); c.innerHTML !== h && (c.innerHTML = h); break; case "input": this._getDomValue(), this._updateDomValue(); break; case "keydown": case "mousedown": this.editor.selection = this.editor.getDomSelection(); break; case "click": e.ctrlKey && this.editable.value && Object(a.isUrl)(this.value) && (e.preventDefault(), window.open(this.value, "_blank")); break; case "keyup": this._getDomValue(), this._updateDomValue(); break; case "cut": case "paste": setTimeout((function () { r._getDomValue(), r._updateDomValue() }), 1) }var d = n.field; if (i === d) switch (t) { case "blur": this._getDomField(!0), this._updateDomField(); var u = this._escapeHTML(this.field); d.innerHTML !== u && (d.innerHTML = u); break; case "input": this._getDomField(), this._updateSchema(), this._updateDomField(), this._updateDomValue(); break; case "keydown": case "mousedown": this.editor.selection = this.editor.getDomSelection(); break; case "keyup": this._getDomField(), this._updateDomField(); break; case "cut": case "paste": setTimeout((function () { r._getDomField(), r._updateDomField() }), 1) }var g = n.tree; g && i === g.parentNode && "click" === t && !e.hasMoved && ((void 0 !== e.offsetX ? e.offsetX < 24 * (this.getLevel() + 1) : e.pageX < Object(a.getAbsoluteLeft)(n.tdSeparator)) || s ? d && (Object(a.setEndOfContentEditable)(d), d.focus()) : c && !this["enum"] && (Object(a.setEndOfContentEditable)(c), c.focus())), (i !== n.tdExpand || s) && i !== n.tdField && i !== n.tdSeparator || "click" !== t || e.hasMoved || d && (Object(a.setEndOfContentEditable)(d), d.focus()), "keydown" === t && this.onKeyDown(e) } }, { key: "_onEvent", value: function (e) { var t = e.target; if (t === this.dom.field || t === this.dom.value) { var i = { field: this.getField(), path: this.getPath() }; this._hasChilds() || t !== this.dom.value || (i.value = this.getValue()), this.editor.options.onEvent(i, e) } } }, { key: "onKeyDown", value: function (t) { var i, n, r, s, o, l, c, h, d, u, g, p, m, f = t.which || t.keyCode, C = t.target || t.srcElement, I = t.ctrlKey, A = t.shiftKey, v = t.altKey, b = !1, y = "tree" === this.editor.options.mode, w = 0 < this.editor.multiselection.nodes.length ? this.editor.multiselection.nodes : [this], S = w[0], x = w[w.length - 1]; if (13 === f) { if (C === this.dom.value) this.editable.value && !t.ctrlKey || Object(a.isUrl)(this.value) && (window.open(this.value, "_blank"), b = !0); else if (C === this.dom.expand && this._hasChilds()) { var k = t.ctrlKey; this._onExpand(k), C.focus(), b = !0 } } else if (68 === f) I && y && (e.onDuplicate(w), b = !0); else if (69 === f) I && (this._onExpand(A), C.focus(), b = !0); else if (77 === f && y) I && (this.showContextMenu(C), b = !0); else if (46 === f && y) I && (e.onRemove(w), b = !0); else if (45 === f && y) I && !A ? (this._onInsertBefore(), b = !0) : I && A && (this._onInsertAfter(), b = !0); else if (35 === f) { if (v) { var E = this._lastNode(); E && E.focus(e.focusElement || this._getElementName(C)), b = !0 } } else if (36 === f) { if (v) { var B = this._firstNode(); B && B.focus(e.focusElement || this._getElementName(C)), b = !0 } } else if (37 === f) { if (v && !A) { var T = this._previousElement(C); T && this.focus(this._getElementName(T)), b = !0 } else if (v && A && y) { if (x.expanded) { var Z = x.getAppendDom(); r = Z ? Z.nextSibling : void 0 } else { var W = x.getDom(); r = W.nextSibling } if (r) { n = e.getNodeFromTarget(r), s = r.nextSibling; var _ = e.getNodeFromTarget(s); n && n instanceof G && 1 !== x.parent.childs.length && _ && _.parent && (o = this.editor.getDomSelection(), l = (c = S.parent).childs[x.getIndex() + 1] || c.append, h = S.getIndex(), d = _.getIndex(), u = c.getInternalPath(), g = _.parent.getInternalPath(), w.forEach((function (e) { _.parent.moveBefore(e, _) })), this.focus(e.focusElement || this._getElementName(C)), this.editor._onAction("moveNodes", { count: w.length, fieldNames: w.map(R), oldParentPath: c.getInternalPath(), newParentPath: S.parent.getInternalPath(), oldIndex: l.getIndex(), newIndex: S.getIndex(), oldIndexRedo: h, newIndexRedo: d, oldParentPathRedo: u, newParentPathRedo: g, oldSelection: o, newSelection: this.editor.getDomSelection() })) } } } else if (38 === f) v && !A ? ((i = this._previousNode()) && (this.editor.deselect(!0), i.focus(e.focusElement || this._getElementName(C))), b = !0) : !v && I && A && y ? ((i = this._previousNode()) && ((m = this.editor.multiselection).start = m.start || this, m.end = i, p = this.editor._findTopLevelNodes(m.start, m.end), this.editor.select(p), i.focus("field")), b = !0) : v && A && y && ((i = S._previousNode()) && i.parent && (o = this.editor.getDomSelection(), l = (c = S.parent).childs[x.getIndex() + 1] || c.append, h = S.getIndex(), d = i.getIndex(), u = c.getInternalPath(), g = i.parent.getInternalPath(), w.forEach((function (e) { i.parent.moveBefore(e, i) })), this.focus(e.focusElement || this._getElementName(C)), this.editor._onAction("moveNodes", { count: w.length, fieldNames: w.map(R), oldParentPath: c.getInternalPath(), newParentPath: S.parent.getInternalPath(), oldIndex: l.getIndex(), newIndex: S.getIndex(), oldIndexRedo: h, newIndexRedo: d, oldParentPathRedo: u, newParentPathRedo: g, oldSelection: o, newSelection: this.editor.getDomSelection() })), b = !0); else if (39 === f) { if (v && !A) { var L = this._nextElement(C); L && this.focus(this._getElementName(L)), b = !0 } else if (v && A && y) { var H = (W = S.getDom()).previousSibling; H && (i = e.getNodeFromTarget(H)) && i.parent && !i.isVisible() && (o = this.editor.getDomSelection(), l = (c = S.parent).childs[x.getIndex() + 1] || c.append, h = S.getIndex(), d = i.getIndex(), u = c.getInternalPath(), g = i.parent.getInternalPath(), w.forEach((function (e) { i.parent.moveBefore(e, i) })), this.focus(e.focusElement || this._getElementName(C)), this.editor._onAction("moveNodes", { count: w.length, fieldNames: w.map(R), oldParentPath: c.getInternalPath(), newParentPath: S.parent.getInternalPath(), oldIndex: l.getIndex(), newIndex: S.getIndex(), oldIndexRedo: h, newIndexRedo: d, oldParentPathRedo: u, newParentPathRedo: g, oldSelection: o, newSelection: this.editor.getDomSelection() })) } } else if (40 === f) if (v && !A) (n = this._nextNode()) && (this.editor.deselect(!0), n.focus(e.focusElement || this._getElementName(C))), b = !0; else if (!v && I && A && y) (n = this._nextNode()) && ((m = this.editor.multiselection).start = m.start || this, m.end = n, p = this.editor._findTopLevelNodes(m.start, m.end), this.editor.select(p), n.focus("field")), b = !0; else if (v && A && y) { (n = x.expanded ? x.append ? x.append._nextNode() : void 0 : x._nextNode()) && !n.isVisible() && (n = n.parent.showMore), n && n instanceof G && (n = x); var $ = n && (n._nextNode() || n.parent.append); $ && $.parent && (o = this.editor.getDomSelection(), l = (c = S.parent).childs[x.getIndex() + 1] || c.append, h = S.getIndex(), d = $.getIndex(), u = c.getInternalPath(), g = $.parent.getInternalPath(), w.forEach((function (e) { $.parent.moveBefore(e, $) })), this.focus(e.focusElement || this._getElementName(C)), this.editor._onAction("moveNodes", { count: w.length, fieldNames: w.map(R), oldParentPath: c.getInternalPath(), newParentPath: S.parent.getInternalPath(), oldParentPathRedo: u, newParentPathRedo: g, oldIndexRedo: h, newIndexRedo: d, oldIndex: l.getIndex(), newIndex: S.getIndex(), oldSelection: o, newSelection: this.editor.getDomSelection() })), b = !0 } b && (t.preventDefault(), t.stopPropagation()) } }, { key: "_onExpand", value: function (e) { if (e) { var t = this.dom.tr.parentNode, i = t.parentNode, n = i.scrollTop; i.removeChild(t) } this.expanded ? this.collapse(e) : this.expand(e), e && (i.appendChild(t), i.scrollTop = n) } }, { key: "_showColorPicker", value: function () { if ("function" == typeof this.editor.options.onColorPicker && this.dom.color) { var e = this; e._deleteDomColor(), e.updateDom(); var t = Object(I.a)(this.dom.color, this.editor.getPopupAnchor()); this.editor.options.onColorPicker(t, this.value, (function (t) { "string" == typeof t && t !== e.value && (e._deleteDomColor(), e.value = t, e.updateDom(), e._debouncedOnChangeValue()) })) } } }, { key: "getFieldNames", value: function (e) { return "object" === this.type ? this.childs.filter((function (t) { return t !== e })).map((function (e) { return e.field })) : [] } }, { key: "_onInsertBefore", value: function (t, i, n) { var r = this.editor.getDomSelection(), s = new e(this.editor, { field: void 0 !== t ? t : "", value: void 0 !== i ? i : "", type: n }); s.expand(!0); var o = this.getInternalPath(); this.parent.insertBefore(s, this), this.editor.highlighter.unhighlight(), s.focus("field"); var a = this.editor.getDomSelection(); this.editor._onAction("insertBeforeNodes", { nodes: [s], paths: [s.getInternalPath()], beforePath: o, parentPath: this.parent.getInternalPath(), oldSelection: r, newSelection: a }) } }, { key: "_onInsertAfter", value: function (t, i, n) { var r = this.editor.getDomSelection(), s = new e(this.editor, { field: void 0 !== t ? t : "", value: void 0 !== i ? i : "", type: n }); s.expand(!0), this.parent.insertAfter(s, this), this.editor.highlighter.unhighlight(), s.focus("field"); var o = this.editor.getDomSelection(); this.editor._onAction("insertAfterNodes", { nodes: [s], paths: [s.getInternalPath()], afterPath: this.getInternalPath(), parentPath: this.parent.getInternalPath(), oldSelection: r, newSelection: o }) } }, { key: "_onAppend", value: function (t, i, n) { var r = this.editor.getDomSelection(), s = new e(this.editor, { field: void 0 !== t ? t : "", value: void 0 !== i ? i : "", type: n }); s.expand(!0), this.parent.appendChild(s), this.editor.highlighter.unhighlight(), s.focus("field"); var o = this.editor.getDomSelection(); this.editor._onAction("appendNodes", { nodes: [s], paths: [s.getInternalPath()], parentPath: this.parent.getInternalPath(), oldSelection: r, newSelection: o }) } }, { key: "_onChangeType", value: function (e) { var t = this.type; if (e !== t) { var i = this.editor.getDomSelection(); this.changeType(e); var n = this.editor.getDomSelection(); this.editor._onAction("changeType", { path: this.getInternalPath(), oldType: t, newType: e, oldSelection: i, newSelection: n }) } } }, { key: "sort", value: function (e, t) { if ("string" == typeof e && (e = Object(a.parsePath)(e)), this._hasChilds()) { this.hideChilds(); var i = this.childs; this.childs = this.childs.concat(); var n = "desc" === t ? -1 : 1; "object" === this.type ? this.childs.sort((function (e, t) { return n * C()(e.field, t.field) })) : this.childs.sort((function (t, i) { var r = t.getNestedChild(e), s = i.getNestedChild(e); if (!r) return n; if (!s) return -n; var o = r.value, a = s.value; return "string" != typeof o && "string" != typeof a ? a < o ? n : o < a ? -n : 0 : n * C()(o, a) })), this._updateDomIndexes(), this.editor._onAction("sort", { path: this.getInternalPath(), oldChilds: i, newChilds: this.childs }), this.showChilds() } } }, { key: "update", value: function (e) { var t = this.getInternalValue(); this.setValue(e), this.editor._onAction("transform", { path: this.getInternalPath(), oldValue: t, newValue: this.getInternalValue() }) } }, { key: "_detachFromDom", value: function () { var e, t = this.dom.tr ? this.dom.tr.parentNode : void 0, i = (e = this.expanded ? this.getAppendDom() : this.getDom()) && e.parentNode ? e.nextSibling : void 0; return this.hide({ resetVisibleChilds: !1 }), { table: t, nextTr: i } } }, { key: "_attachToDom", value: function (e) { e.table && (e.nextTr ? e.table.insertBefore(this.getDom(), e.nextTr) : e.table.appendChild(this.getDom())), this.expanded && this.showChilds() } }, { key: "transform", value: function (e) { if (this._hasChilds()) { this.hideChilds(); try { var t = this.getInternalValue(), i = this.getValue(), n = this.editor.options.executeQuery(i, e); this.setValue(n); var r = this.getInternalValue(); this.editor._onAction("transform", { path: this.getInternalPath(), oldValue: t, newValue: r }), this.showChilds() } catch (e) { this.showChilds(), this.editor._onError(e) } } } }, { key: "extract", value: function () { this.editor.node.hideChilds(), this.hideChilds(); try { var e = this.editor.node.getInternalValue(); this.editor._setRoot(this); var t = this.editor.node.getInternalValue(); this.editor._onAction("transform", { path: this.editor.node.getInternalPath(), oldValue: e, newValue: t }) } catch (e) { this.editor._onError(e) } finally { this.updateDom({ recurse: !0 }), this.showChilds() } } }, { key: "getNestedChild", value: function (e) { for (var t = 0, i = this; i && t < e.length;)i = i.findChildByProperty(e[t]), t++; return i } }, { key: "findChildByProperty", value: function (e) { if ("object" === this.type) return this.childs.find((function (t) { return t.field === e })) } }, { key: "getAppendDom", value: function () { return this.append || (this.append = new G(this.editor), this.append.setParent(this)), this.append.getDom() } }, { key: "getShowMoreDom", value: function () { return this.showMore || (this.showMore = new Z(this.editor, this)), this.showMore.getDom() } }, { key: "nextSibling", value: function () { var e = this.parent.childs.indexOf(this); return this.parent.childs[e + 1] || this.parent.append } }, { key: "_previousNode", value: function () { var t = null, i = this.getDom(); if (i && i.parentNode) for (var n = i; n = n.previousSibling, t = e.getNodeFromTarget(n), n && t && t instanceof G && !t.isVisible();); return t } }, { key: "_nextNode", value: function () { var t = null, i = this.getDom(); if (i && i.parentNode) for (var n = i; n = n.nextSibling, t = e.getNodeFromTarget(n), n && t && t instanceof G && !t.isVisible();); return t } }, { key: "_firstNode", value: function () { var t = null, i = this.getDom(); if (i && i.parentNode) { var n = i.parentNode.firstChild; t = e.getNodeFromTarget(n) } return t } }, { key: "_lastNode", value: function () { var t = null, i = this.getDom(); if (i && i.parentNode) { var n = i.parentNode.lastChild; for (t = e.getNodeFromTarget(n); n && t && !t.isVisible();)n = n.previousSibling, t = e.getNodeFromTarget(n) } return t } }, { key: "_previousElement", value: function (e) { var t = this.dom; switch (e) { case t.value: if (this.fieldEditable) return t.field; case t.field: if (this._hasChilds()) return t.expand; case t.expand: return t.menu; case t.menu: if (t.drag) return t.drag; default: return null } } }, { key: "_nextElement", value: function (e) { var t = this.dom; switch (e) { case t.drag: return t.menu; case t.menu: if (this._hasChilds()) return t.expand; case t.expand: if (this.fieldEditable) return t.field; case t.field: if (!this._hasChilds()) return t.value; default: return null } } }, { key: "_getElementName", value: function (e) { var t = this; return Object.keys(this.dom).find((function (i) { return t.dom[i] === e })) } }, { key: "_hasChilds", value: function () { return "array" === this.type || "object" === this.type } }, { key: "addTemplates", value: function (e, t) { var i = this, n = i.editor.options.templates; null != n && (n.length && e.push({ type: "separator" }), n.forEach((function (n) { e.push({ text: n.text, className: n.className || "jsoneditor-type-object", title: n.title, click: t ? function (e, t) { i._onAppend(e, t) }.bind(this, n.field, n.value) : function (e, t) { i._onInsertBefore(e, t) }.bind(this, n.field, n.value) }) }))) } }, { key: "showContextMenu", value: function (t, i) { var n = this, r = e.TYPE_TITLES, s = []; if (this.editable.value && s.push({ text: Object(h.c)("type"), title: Object(h.c)("typeTitle"), className: "jsoneditor-type-" + this.type, submenu: [{ text: Object(h.c)("auto"), className: "jsoneditor-type-auto" + ("auto" === this.type ? " jsoneditor-selected" : ""), title: r.auto, click: function () { n._onChangeType("auto") } }, { text: Object(h.c)("array"), className: "jsoneditor-type-array" + ("array" === this.type ? " jsoneditor-selected" : ""), title: r.array, click: function () { n._onChangeType("array") } }, { text: Object(h.c)("object"), className: "jsoneditor-type-object" + ("object" === this.type ? " jsoneditor-selected" : ""), title: r.object, click: function () { n._onChangeType("object") } }, { text: Object(h.c)("string"), className: "jsoneditor-type-string" + ("string" === this.type ? " jsoneditor-selected" : ""), title: r.string, click: function () { n._onChangeType("string") } }] }), this._hasChilds() && (this.editor.options.enableSort && s.push({ text: Object(h.c)("sort"), title: Object(h.c)("sortTitle", { type: this.type }), className: "jsoneditor-sort-asc", click: function () { n.showSortModal() } }), this.editor.options.enableTransform && s.push({ text: Object(h.c)("transform"), title: Object(h.c)("transformTitle", { type: this.type }), className: "jsoneditor-transform", click: function () { n.showTransformModal() } }), this.parent && s.push({ text: Object(h.c)("extract"), title: Object(h.c)("extractTitle", { type: this.type }), className: "jsoneditor-extract", click: function () { n.extract() } })), this.parent && this.parent._hasChilds()) { s.length && s.push({ type: "separator" }); var o = n.parent.childs; if (n === o[o.length - 1]) { var a = [{ text: Object(h.c)("auto"), className: "jsoneditor-type-auto", title: r.auto, click: function () { n._onAppend("", "", "auto") } }, { text: Object(h.c)("array"), className: "jsoneditor-type-array", title: r.array, click: function () { n._onAppend("", []) } }, { text: Object(h.c)("object"), className: "jsoneditor-type-object", title: r.object, click: function () { n._onAppend("", {}) } }, { text: Object(h.c)("string"), className: "jsoneditor-type-string", title: r.string, click: function () { n._onAppend("", "", "string") } }]; n.addTemplates(a, !0), s.push({ text: Object(h.c)("appendText"), title: Object(h.c)("appendTitle"), submenuTitle: Object(h.c)("appendSubmenuTitle"), className: "jsoneditor-append", click: function () { n._onAppend("", "", "auto") }, submenu: a }) } var l = [{ text: Object(h.c)("auto"), className: "jsoneditor-type-auto", title: r.auto, click: function () { n._onInsertBefore("", "", "auto") } }, { text: Object(h.c)("array"), className: "jsoneditor-type-array", title: r.array, click: function () { n._onInsertBefore("", []) } }, { text: Object(h.c)("object"), className: "jsoneditor-type-object", title: r.object, click: function () { n._onInsertBefore("", {}) } }, { text: Object(h.c)("string"), className: "jsoneditor-type-string", title: r.string, click: function () { n._onInsertBefore("", "", "string") } }]; n.addTemplates(l, !1), s.push({ text: Object(h.c)("insert"), title: Object(h.c)("insertTitle"), submenuTitle: Object(h.c)("insertSub"), className: "jsoneditor-insert", click: function () { n._onInsertBefore("", "", "auto") }, submenu: l }), this.editable.field && (s.push({ text: Object(h.c)("duplicateText"), title: Object(h.c)("duplicateField"), className: "jsoneditor-duplicate", click: function () { e.onDuplicate(n) } }), s.push({ text: Object(h.c)("removeText"), title: Object(h.c)("removeField"), className: "jsoneditor-remove", click: function () { e.onRemove(n) } })) } if (this.editor.options.onCreateMenu) { var c = n.getPath(); s = this.editor.options.onCreateMenu(s, { type: "single", path: c, paths: [c] }) } new g.a(s, { close: i }).show(t, this.editor.getPopupAnchor()) } }, { key: "showSortModal", value: function () { var e = this, t = this.editor.options.modalAnchor || b.a, i = this.getValue(); Object(A.showSortModal)(t, i, (function (t) { var i = t.path, n = Object(a.parsePath)(i); e.sortedBy = t, e.sort(n, t.direction) }), e.sortedBy) } }, { key: "showTransformModal", value: function () { var e = this, t = this.editor.options, i = t.modalAnchor, n = t.createQuery, r = t.executeQuery, s = t.queryDescription, o = this.getValue(); Object(v.showTransformModal)({ anchor: i || b.a, json: o, queryDescription: s, createQuery: n, executeQuery: r, onTransform: function (t) { e.transform(t) } }) } }, { key: "_getType", value: function (e) { return e instanceof Array ? "array" : e instanceof Object ? "object" : "string" == typeof e && "string" != typeof Object(a.parseString)(e) ? "string" : "auto" } }, { key: "_escapeHTML", value: function (e) { if ("string" != typeof e) return String(e); var t = String(e).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/ {2}/g, " &nbsp;").replace(/^ /, "&nbsp;").replace(/ $/, "&nbsp;"), i = JSON.stringify(t), n = i.substring(1, i.length - 1); return !0 === this.editor.options.escapeUnicode && (n = Object(a.escapeUnicodeChars)(n)), n } }, { key: "_unescapeHTML", value: function (e) { var t = '"' + this._escapeJSON(e) + '"'; return Object(a.parse)(t).replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&nbsp;|\u00A0/g, " ").replace(/&amp;/g, "&") } }, { key: "_escapeJSON", value: function (e) { for (var t = "", i = 0; i < e.length;) { var n = e.charAt(i); "\n" === n ? t += "\\n" : "\\" === n ? (t += n, i++, "" !== (n = e.charAt(i)) && -1 !== '"\\/bfnrtu'.indexOf(n) || (t += "\\"), t += n) : t += '"' === n ? '\\"' : n, i++ } return t } }, { key: "updateNodeName", value: function () { var e, t = this.childs ? this.childs.length : 0; if ("object" === this.type || "array" === this.type) { if (this.editor.options.onNodeName) try { e = this.editor.options.onNodeName({ path: this.getPath(), size: t, type: this.type }) } catch (e) { console.error("Error in onNodeName callback: ", e) } this.dom.value.innerHTML = "object" === this.type ? "{" + (e || t) + "}" : "[" + (e || t) + "]" } } }, { key: "recursivelyUpdateNodeName", value: function () { var e; if (this.expanded && (this.updateNodeName(), "undefined" !== this.childs)) for (e in this.childs) this.childs[e].recursivelyUpdateNodeName() } }]) && w(t.prototype, i), e }(); S.prototype.DEBOUNCE_INTERVAL = 150, S.prototype.MAX_SEARCH_RESULTS = 999; var x = 100; function k(e) { return e.getInternalPath() } function R(e) { return e.getField() } function E(e, t) { return Object.prototype.hasOwnProperty.call(e, t) } S.focusElement = void 0, S.select = function (e) { setTimeout((function () { Object(a.selectContentEditable)(e) }), 0) }, S.onDragStart = function (e, t) { if (!Array.isArray(e)) return S.onDragStart([e], t); if (0 !== e.length) { var i = e[0], n = e[e.length - 1], r = i.parent, s = S.getNodeFromTarget(t.target), o = i.editor, l = Object(a.getAbsoluteTop)(s.dom.tr) - Object(a.getAbsoluteTop)(i.dom.tr); o.mousemove || (o.mousemove = Object(a.addEventListener)(window, "mousemove", (function (t) { S.onDrag(e, t) }))), o.mouseup || (o.mouseup = Object(a.addEventListener)(window, "mouseup", (function (t) { S.onDragEnd(e, t) }))), o.highlighter.lock(), o.drag = { oldCursor: document.body.style.cursor, oldSelection: o.getDomSelection(), oldPaths: e.map(k), oldParent: r, oldNextNode: r.childs[n.getIndex() + 1] || r.append, oldParentPathRedo: r.getInternalPath(), oldIndexRedo: i.getIndex(), mouseX: t.pageX, offsetY: l, level: i.getLevel() }, document.body.style.cursor = "move", t.preventDefault() } }, S.onDrag = function (e, t) { if (!Array.isArray(e)) return S.onDrag([e], t); if (0 !== e.length) { var i, n, r, s, o, l, c, h, d, u, g, p = e[0].editor, m = t.pageY - p.drag.offsetY, f = t.pageX, C = !1, I = e[0], A = I.dom.tr, v = Object(a.getAbsoluteTop)(A), b = A.offsetHeight; if (m < v) { for (i = A; i = i.previousSibling, l = S.getNodeFromTarget(i), h = i ? Object(a.getAbsoluteTop)(i) : 0, i && m < h;); l && !l.parent && (l = void 0), l || (i = (o = A.parentNode.firstChild) ? o.nextSibling : void 0, (l = S.getNodeFromTarget(i)) === I && (l = void 0)), l && l.isVisible() && (h = (i = l.dom.tr) ? Object(a.getAbsoluteTop)(i) : 0) + b < m && (l = void 0), l && (e.forEach((function (e) { l.parent.moveBefore(e, l) })), C = !0) } else { var y = e[e.length - 1]; if (r = (s = y.expanded && y.append ? y.append.getDom() : y.dom.tr) ? s.nextSibling : void 0) { for (d = Object(a.getAbsoluteTop)(r), n = r; c = S.getNodeFromTarget(n), n && (u = n.nextSibling ? Object(a.getAbsoluteTop)(n.nextSibling) : 0, g = n ? u - d : 0, c && c.parent.childs.length === e.length && c.parent.childs[e.length - 1] === y && (v += 27), n = n.nextSibling), n && v + g < m;); if (c && c.parent) { var w = f - p.drag.mouseX, x = Math.round(w / 24 / 2), k = p.drag.level + x, R = c.getLevel(); for (i = c.dom.tr && c.dom.tr.previousSibling; R < k && i;) { if (l = S.getNodeFromTarget(i), !e.some((function (e) { return e === l || l.isDescendantOf(e) }))) { if (!(l instanceof G)) break; var E = l.parent.childs; if (E.length === e.length && E[e.length - 1] === y) break; R = (c = S.getNodeFromTarget(i)).getLevel() } i = i.previousSibling } c instanceof G && !c.isVisible() && c.parent.showMore.isVisible() && (c = c._nextNode()), c && c.dom.tr && s.nextSibling !== c.dom.tr && (e.forEach((function (e) { c.parent.moveBefore(e, c) })), C = !0) } } } C && (p.drag.mouseX = f, p.drag.level = I.getLevel()), p.startAutoScroll(m), t.preventDefault() } }, S.onDragEnd = function (e, t) { if (!Array.isArray(e)) return S.onDrag([e], t); if (0 !== e.length) { var i = e[0], n = i.editor; e[0] && e[0].dom.menu.focus(); var r = n.drag.oldParent.getInternalPath(), s = i.parent.getInternalPath(), o = n.drag.oldParent === i.parent, l = n.drag.oldNextNode.getIndex(), c = i.getIndex(), h = n.drag.oldParentPathRedo, d = n.drag.oldIndexRedo, u = o && d < c ? c + e.length : c; o && d === c || n._onAction("moveNodes", { count: e.length, fieldNames: e.map(R), oldParentPath: r, newParentPath: s, oldIndex: l, newIndex: c, oldIndexRedo: d, newIndexRedo: u, oldParentPathRedo: h, newParentPathRedo: null, oldSelection: n.drag.oldSelection, newSelection: n.getDomSelection() }), document.body.style.cursor = n.drag.oldCursor, n.highlighter.unlock(), e.forEach((function (e) { e.updateDom(), t.target !== e.dom.drag && t.target !== e.dom.menu && n.highlighter.unhighlight() })), delete n.drag, n.mousemove && (Object(a.removeEventListener)(window, "mousemove", n.mousemove), delete n.mousemove), n.mouseup && (Object(a.removeEventListener)(window, "mouseup", n.mouseup), delete n.mouseup), n.stopAutoScroll(), t.preventDefault() } }, S._findEnum = function (e) { if (e["enum"]) return e["enum"]; var t = e.oneOf || e.anyOf || e.allOf; if (t) { var i = t.filter((function (e) { return e["enum"] })); if (0 < i.length) return i[0]["enum"] } return null }, S._findSchema = function (e, t, i) { var n = e, r = n, s = e.oneOf || e.anyOf || e.allOf; s = s || [e]; for (var o = 0; o < s.length; o++) { "$ref" in (n = s[o]) && "string" == typeof n.$ref && (n = t[n.$ref]) && (r = S._findSchema(n, t, i)); for (var a = 0; a < i.length && n; a++) { var l = i.slice(a + 1, i.length), c = i[a]; if ("string" != typeof c || !n.patternProperties || n.properties && c in n.properties) "string" == typeof c && n.properties ? c in n.properties ? (n = n.properties[c]) && (r = S._findSchema(n, t, l)) : r = null : "number" == typeof c && n.items && (n = n.items) && (r = S._findSchema(n, t, l)); else for (var h in n.patternProperties) c.match(h) && (r = S._findSchema(n.patternProperties[h], t, l)) } } return r === e && 0 < i.length ? null : r }, S.onRemove = function (e) { if (!Array.isArray(e)) return S.onRemove([e]); if (e && 0 < e.length) { var t = e[0], i = t.parent, n = t.editor, r = t.getIndex(); n.highlighter.unhighlight(); var s = n.getDomSelection(); S.blurNodes(e); var o = n.getDomSelection(), a = e.map(k); e.forEach((function (e) { e.parent._remove(e) })), n._onAction("removeNodes", { nodes: e, paths: a, parentPath: i.getInternalPath(), index: r, oldSelection: s, newSelection: o }) } }, S.onDuplicate = function (e) { if (!Array.isArray(e)) return S.onDuplicate([e]); if (e && 0 < e.length) { var t = e[e.length - 1], i = t.parent, n = t.editor; n.deselect(n.multiselection.nodes); var r = n.getDomSelection(), s = t, o = e.map((function (e) { var t = e.clone(); if ("object" === e.parent.type) { var n = e.parent.getFieldNames(); t.field = Object(a.findUniqueName)(e.field, n) } return i.insertAfter(t, s), s = t })); 1 === e.length ? "object" === o[0].parent.type ? (o[0].dom.field.innerHTML = e[0].field, o[0].focus("field")) : o[0].focus() : n.select(o); var l = n.getDomSelection(); n._onAction("duplicateNodes", { paths: e.map(k), clonePaths: o.map(k), afterPath: t.getInternalPath(), parentPath: i.getInternalPath(), oldSelection: r, newSelection: l }) } }, S.getNodeFromTarget = function (e) { for (; e;) { if (e.node) return e.node; e = e.parentNode } }, S.targetIsColorPicker = function (e) { var t = S.getNodeFromTarget(e); if (t) for (var i = e && e.parentNode; i;) { if (i === t.dom.color) return !0; i = i.parentNode } return !1 }, S.blurNodes = function (e) { if (Array.isArray(e)) { var t = e[0], i = t.parent, n = t.getIndex(); i.childs[n + e.length] ? i.childs[n + e.length].focus() : i.childs[n - 1] ? i.childs[n - 1].focus() : i.focus() } else S.blurNodes([e]) }, S.TYPE_TITLES = { auto: Object(h.c)("autoType"), object: Object(h.c)("objectType"), array: Object(h.c)("arrayType"), string: Object(h.c)("stringType") }; var B, G = ((T.prototype = new (B = S)).getDom = function () { var e = this.dom; if (e.tr) return e.tr; this._updateEditability(); var t = document.createElement("tr"); if (t.className = "jsoneditor-append", t.node = this, e.tr = t, "tree" === this.editor.options.mode) { e.tdDrag = document.createElement("td"); var i = document.createElement("td"); e.tdMenu = i; var n = document.createElement("button"); n.type = "button", n.className = "jsoneditor-button jsoneditor-contextmenu-button", n.title = "Click to open the actions menu (Ctrl+M)", e.menu = n, i.appendChild(e.menu) } var r = document.createElement("td"), s = document.createElement("div"); return s.innerHTML = "(" + Object(h.c)("empty") + ")", s.className = "jsoneditor-readonly", r.appendChild(s), e.td = r, e.text = s, this.updateDom(), t }, T.prototype.getPath = function () { return null }, T.prototype.getIndex = function () { return null }, T.prototype.updateDom = function (e) { var t = this.dom, i = t.td; i && (i.style.paddingLeft = 24 * this.getLevel() + 26 + "px"); var n = t.text; n && (n.innerHTML = "(" + Object(h.c)("empty") + " " + this.parent.type + ")"); var r = t.tr; this.isVisible() ? t.tr.firstChild || (t.tdDrag && r.appendChild(t.tdDrag), t.tdMenu && r.appendChild(t.tdMenu), r.appendChild(i)) : t.tr.firstChild && (t.tdDrag && r.removeChild(t.tdDrag), t.tdMenu && r.removeChild(t.tdMenu), r.removeChild(i)) }, T.prototype.isVisible = function () { return 0 === this.parent.childs.length }, T.prototype.showContextMenu = function (e, t) { var i = this, n = B.TYPE_TITLES, r = [{ text: Object(h.c)("auto"), className: "jsoneditor-type-auto", title: n.auto, click: function () { i._onAppend("", "", "auto") } }, { text: Object(h.c)("array"), className: "jsoneditor-type-array", title: n.array, click: function () { i._onAppend("", []) } }, { text: Object(h.c)("object"), className: "jsoneditor-type-object", title: n.object, click: function () { i._onAppend("", {}) } }, { text: Object(h.c)("string"), className: "jsoneditor-type-string", title: n.string, click: function () { i._onAppend("", "", "string") } }]; i.addTemplates(r, !0); var s = [{ text: Object(h.c)("appendText"), title: Object(h.c)("appendTitleAuto"), submenuTitle: Object(h.c)("appendSubmenuTitle"), className: "jsoneditor-insert", click: function () { i._onAppend("", "", "auto") }, submenu: r }]; if (this.editor.options.onCreateMenu) { var o = i.parent.getPath(); s = this.editor.options.onCreateMenu(s, { type: "append", path: o, paths: [o] }) } new g.a(s, { close: t }).show(e, this.editor.getPopupAnchor()) }, T.prototype.onEvent = function (e) { var t = e.type, i = e.target || e.srcElement, n = this.dom; if (i === n.menu && ("mouseover" === t ? this.editor.highlighter.highlight(this.parent) : "mouseout" === t && this.editor.highlighter.unhighlight()), "click" === t && i === n.menu) { var r = this.editor.highlighter; r.highlight(this.parent), r.lock(), Object(a.addClassName)(n.menu, "jsoneditor-selected"), this.showContextMenu(n.menu, (function () { Object(a.removeClassName)(n.menu, "jsoneditor-selected"), r.unlock(), r.unhighlight() })) } "keydown" === t && this.onKeyDown(e) }, T); function T(e) { this.editor = e, this.dom = {} } var Z = ((W.prototype = new S).getDom = function () { if (this.dom.tr) return this.dom.tr; if (this._updateEditability(), !this.dom.tr) { var e = this, t = this.parent, i = document.createElement("a"); i.appendChild(document.createTextNode(Object(h.c)("showMore"))), i.href = "#", i.onclick = function (i) { return t.visibleChilds = Math.floor(t.visibleChilds / t.getMaxVisibleChilds() + 1) * t.getMaxVisibleChilds(), e.updateDom(), t.showChilds(), i.preventDefault(), !1 }; var n = document.createElement("a"); n.appendChild(document.createTextNode(Object(h.c)("showAll"))), n.href = "#", n.onclick = function (i) { return t.visibleChilds = 1 / 0, e.updateDom(), t.showChilds(), i.preventDefault(), !1 }; var r = document.createElement("div"), s = document.createTextNode(this._getShowMoreText()); r.className = "jsoneditor-show-more", r.appendChild(s), r.appendChild(i), r.appendChild(document.createTextNode(". ")), r.appendChild(n), r.appendChild(document.createTextNode(". ")); var o = document.createElement("td"); o.appendChild(r); var a = document.createElement("tr"); "tree" === this.editor.options.mode && (a.appendChild(document.createElement("td")), a.appendChild(document.createElement("td"))), a.appendChild(o), a.className = "jsoneditor-show-more", this.dom.tr = a, this.dom.moreContents = r, this.dom.moreText = s } return this.updateDom(), this.dom.tr }, W.prototype.updateDom = function (e) { if (this.isVisible()) { if (this.dom.tr.node = this.parent.childs[this.parent.visibleChilds], !this.dom.tr.parentNode) { var t = this.parent._getNextTr(); t && t.parentNode.insertBefore(this.dom.tr, t) } this.dom.moreText.nodeValue = this._getShowMoreText(), this.dom.moreContents.style.marginLeft = 24 * (this.getLevel() + 1) + "px" } else this.dom.tr && this.dom.tr.parentNode && this.dom.tr.parentNode.removeChild(this.dom.tr) }, W.prototype._getShowMoreText = function () { return Object(h.c)("showMoreStatus", { visibleChilds: this.parent.visibleChilds, totalChilds: this.parent.childs.length }) + " " }, W.prototype.isVisible = function () { return this.parent.expanded && this.parent.childs.length > this.parent.visibleChilds }, W.prototype.onEvent = function (e) { "keydown" === e.type && this.onKeyDown(e) }, W); function W(e, t) { this.editor = e, this.parent = t, this.dom = {} } var _ = i(8), L = i(9), H = { start: function (e, t) { return 0 === t.indexOf(e) }, contain: function (e, t) { return -1 < t.indexOf(e) } }, $ = i(4); i.d(t, "treeModeMixins", (function () { return N })); var V = { create: function (e, t) { if (!e) throw new Error("No container element provided."); this.container = e, this.dom = {}, this.highlighter = new o, this.selection = void 0, this.multiselection = { nodes: [] }, this.validateSchema = null, this.validationSequence = 0, this.errorNodes = [], this.lastSchemaErrors = void 0, this.node = null, this.focusTarget = null, this._setOptions(t), t.autocomplete && (this.autocomplete = function (e) { (e = e || {}).filter = e.filter || "start", e.trigger = e.trigger || "keydown", e.confirmKeys = e.confirmKeys || [39, 35, 9], e.caseSensitive = e.caseSensitive || !1; var t = "", i = "", n = document.createElement("div"); n.style.position = "relative", n.style.outline = "0", n.style.border = "0", n.style.margin = "0", n.style.padding = "0"; var r, s, o = document.createElement("div"); function a(e) { var t, i; document.createRange ? ((t = document.createRange()).selectNodeContents(e), t.collapse(!1), (i = window.getSelection()).removeAllRanges(), i.addRange(t)) : document.selection && ((t = document.body.createTextRange()).moveToElementText(e), t.collapse(!1), t.select()) } function l(e) { return void 0 === r && ((r = document.createElement("span")).style.visibility = "hidden", r.style.position = "fixed", r.style.outline = "0", r.style.margin = "0", r.style.padding = "0", r.style.border = "0", r.style.left = "0", r.style.whiteSpace = "pre", r.style.fontSize = t, r.style.fontFamily = i, r.style.fontWeight = "normal", document.body.appendChild(r)), r.innerHTML = String(e).replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;"), r.getBoundingClientRect().right } o.className = "autocomplete dropdown", o.style.position = "absolute", o.style.visibility = "hidden"; var c, h, d, u, g, p = { onArrowDown: function () { }, onArrowUp: function () { }, onEnter: function () { }, onTab: function () { }, startFrom: 0, options: [], element: null, elementHint: null, elementStyle: null, wrapper: n, show: function (e, r, s) { var a = this; this.startFrom = r, this.wrapper.remove(), this.elementHint && (this.elementHint.remove(), this.elementHint = null), "" === t && (t = window.getComputedStyle(e).getPropertyValue("font-size")), "" === i && (i = window.getComputedStyle(e).getPropertyValue("font-family")), o.style.marginLeft = "0", o.style.marginTop = e.getBoundingClientRect().height + "px", this.options = s.map(String), this.element !== e && (this.element = e, this.elementStyle = { zIndex: this.element.style.zIndex, position: this.element.style.position, backgroundColor: this.element.style.backgroundColor, borderColor: this.element.style.borderColor }), this.element.style.zIndex = 3, this.element.style.position = "relative", this.element.style.backgroundColor = "transparent", this.element.style.borderColor = "transparent", this.elementHint = e.cloneNode(), this.elementHint.className = "autocomplete hint", this.elementHint.style.zIndex = 2, this.elementHint.style.position = "absolute", this.elementHint.onfocus = function () { a.element.focus() }, this.element.addEventListener && (this.element.removeEventListener("keydown", A), this.element.addEventListener("keydown", A, !1), this.element.removeEventListener("blur", v), this.element.addEventListener("blur", v, !1)), n.appendChild(this.elementHint), n.appendChild(o), e.parentElement.appendChild(n), this.repaint(e) }, setText: function (e) { this.element.innerText = e }, getText: function () { return this.element.innerText }, hideDropDown: function () { this.wrapper.remove(), this.elementHint && (this.elementHint.remove(), this.elementHint = null, m.hide(), this.element.style.zIndex = this.elementStyle.zIndex, this.element.style.position = this.elementStyle.position, this.element.style.backgroundColor = this.elementStyle.backgroundColor, this.element.style.borderColor = this.elementStyle.borderColor) }, repaint: function (t) { var i = t.innerText; i = i.replace("\n", ""); var n = this.options.length, r = i.substring(this.startFrom); s = i.substring(0, this.startFrom); for (var a = 0; a < n; a++) { var c = this.options[a]; if (!e.caseSensitive && 0 === c.toLowerCase().indexOf(r.toLowerCase()) || e.caseSensitive && 0 === c.indexOf(r)) { this.elementHint.innerText = s + r + c.substring(r.length), this.elementHint.realInnerText = s + c; break } } o.style.left = l(s) + "px", m.refresh(r, this.options), this.elementHint.style.width = l(this.elementHint.innerText) + 10 + "px", "hidden" === o.style.visibility || (this.elementHint.style.width = l(this.elementHint.innerText) + o.clientWidth + "px") } }, m = (c = o, h = [], d = 0, u = -1, g = { rs: p, hide: function () { c.style.visibility = "hidden" }, refresh: function (t, i) { c.style.visibility = "hidden", d = 0, c.innerHTML = ""; var n = window.innerHeight || document.documentElement.clientHeight, r = c.parentNode.getBoundingClientRect(), s = r.top - 6, o = n - r.bottom - 6; h = []; var a = "function" == typeof e.filter ? e.filter : H[e.filter], l = a ? i.filter((function (i) { return a(e.caseSensitive ? t : t.toLowerCase(), e.caseSensitive ? i : i.toLowerCase(), e) })) : []; 0 !== (h = l.map((function (e) { var i = document.createElement("div"); return i.className = "item", i.onmouseover = f, i.onmouseout = C, i.onmousedown = I, i.__hint = e, i.innerHTML = e.substring(0, t.length) + "<b>" + e.substring(t.length) + "</b>", c.appendChild(i), i }))).length && (1 === h.length && (t.toLowerCase() === h[0].__hint.toLowerCase() && !e.caseSensitive || t === h[0].__hint && e.caseSensitive) || h.length < 2 || (g.highlight(0), 3 * o < s ? (c.style.maxHeight = s + "px", c.style.top = "", c.style.bottom = "100%") : (c.style.top = "100%", c.style.bottom = "", c.style.maxHeight = o + "px"), c.style.visibility = "visible")) }, highlight: function (e) { -1 !== u && h[u] && (h[u].className = "item"), h[e].className = "item hover", u = e }, move: function (e) { return "hidden" === c.style.visibility ? "" : (d + e === -1 || d + e === h.length || (d += e, g.highlight(d)), h[d].__hint) }, onmouseselection: function () { } }); function f() { this.style.backgroundColor = "#ddd" } function C() { this.style.backgroundColor = "" } function I() { g.hide(), g.onmouseselection(this.__hint, g.rs) } var A = function (t) { var i = (t = t || window.event).keyCode; if (null != this.elementHint && 33 !== i && 34 !== i) { if (27 === i) return p.hideDropDown(), p.element.focus(), t.preventDefault(), void t.stopPropagation(); var n = this.element.innerText; if (n = n.replace("\n", ""), 0 <= e.confirmKeys.indexOf(i)) return 9 === i && 0 === this.elementHint.innerText.length && p.onTab(), void (0 < this.elementHint.innerText.length && this.element.innerText !== this.elementHint.realInnerText && (this.element.innerText = this.elementHint.realInnerText, p.hideDropDown(), a(this.element), 9 === i && (p.element.focus(), t.preventDefault(), t.stopPropagation()))); if (13 !== i) { if (40 === i) { var r = n.substring(this.startFrom), l = m.move(1); return "" === l && p.onArrowDown(), this.elementHint.innerText = s + r + l.substring(r.length), this.elementHint.realInnerText = s + l, t.preventDefault(), void t.stopPropagation() } if (38 === i) { var c = n.substring(this.startFrom), h = m.move(-1); "" === h && p.onArrowUp(), this.elementHint.innerText = s + c + h.substring(c.length), this.elementHint.realInnerText = s + h, t.preventDefault(), t.stopPropagation() } } else if (0 === this.elementHint.innerText.length) p.onEnter(); else { var d = "hidden" === o.style.visibility; if (m.hide(), d) return p.hideDropDown(), p.element.focus(), void p.onEnter(); this.element.innerText = this.elementHint.realInnerText, p.hideDropDown(), a(this.element), t.preventDefault(), t.stopPropagation() } } }.bind(p), v = function () { p.hideDropDown() }; return m.onmouseselection = function (e, t) { t.element.innerText = t.elementHint.innerText = s + e, t.hideDropDown(), window.setTimeout((function () { t.element.focus(), a(t.element) }), 1) }, p }(t.autocomplete)), this.options.history && "view" !== this.options.mode && (this.history = new c(this)), this._createFrame(), this._createTable() }, destroy: function () { this.frame && this.container && this.frame.parentNode === this.container && (this.container.removeChild(this.frame), this.frame = null), this.container = null, this.dom = null, this.clear(), this.node = null, this.focusTarget = null, this.selection = null, this.multiselection = null, this.errorNodes = null, this.validateSchema = null, this._debouncedValidate = null, this.history && (this.history.destroy(), this.history = null), this.searchBox && (this.searchBox.destroy(), this.searchBox = null), this.modeSwitcher && (this.modeSwitcher.destroy(), this.modeSwitcher = null), this.frameFocusTracker.destroy() }, _setOptions: function (e) { var t = this; this.options = { search: !0, history: !0, mode: "tree", name: void 0, schema: null, schemaRefs: null, autocomplete: null, navigationBar: !0, mainMenuBar: !0, onSelectionChange: null, colorPicker: !0, onColorPicker: function (e, t, i) { if (r.a) { var n = e.getBoundingClientRect().top, s = window.innerHeight - n < 300 && 300 < n; new r.a({ parent: e, color: t, popup: s ? "top" : "bottom", onDone: function (e) { var t = 1 === e.rgba[3] ? e.hex.substr(0, 7) : e.hex; i(t) } }).show() } else console.warn("Cannot open color picker: the `vanilla-picker` library is not included in the bundle. Either use the full bundle or implement your own color picker using `onColorPicker`.") }, timestampTag: !0, timestampFormat: null, createQuery: $.a, executeQuery: $.b, onEvent: null, enableSort: !0, enableTransform: !0 }, e && Object.keys(e).forEach((function (i) { t.options[i] = e[i] })), this.setSchema(this.options.schema, this.options.schemaRefs), this._debouncedValidate = Object(a.debounce)(this.validate.bind(this), this.DEBOUNCE_INTERVAL), e.onSelectionChange && this.onSelectionChange(e.onSelectionChange), Object(h.b)(this.options.languages), Object(h.a)(this.options.language) }, set: function (e) { if (e instanceof Function || void 0 === e) this.clear(); else { this.content.removeChild(this.table); var t = { field: this.options.name, value: e }, i = new S(this, t); this._setRoot(i), this.validate(), this.node.expand(!1), this.content.appendChild(this.table) } this.history && this.history.clear(), this.searchBox && this.searchBox.clear() }, update: function (e) { if (!this.node.deepEqual(e)) { var t = this.getSelection(); if (this.onChangeDisabled = !0, this.node.update(e), this.onChangeDisabled = !1, this.validate(), this.searchBox && !this.searchBox.isEmpty() && this.searchBox.forceSearch(), t && t.start && t.end) { var i = this.node.findNodeByPath(t.start.path), n = this.node.findNodeByPath(t.end.path); i && n ? this.setSelection(t.start, t.end) : this.setSelection({}, {}) } else this.setSelection({}, {}) } }, get: function () { return this.node ? this.node.getValue() : void 0 }, getText: function () { return JSON.stringify(this.get()) }, setText: function (t) { try { this.set(Object(a.parse)(t)) } catch (e) { var i = Object(a.repair)(t); this.set(Object(a.parse)(i)) } }, updateText: function (t) { try { this.update(Object(a.parse)(t)) } catch (e) { var i = Object(a.repair)(t); this.update(Object(a.parse)(i)) } }, setName: function (e) { this.options.name = e, this.node && this.node.updateField(this.options.name) }, getName: function () { return this.options.name }, focus: function () { var e = this.scrollableContent.querySelector("[contenteditable=true]"); e ? e.focus() : this.node.dom.expand ? this.node.dom.expand.focus() : this.node.dom.menu ? this.node.dom.menu.focus() : (e = this.frame.querySelector("button")) && e.focus() }, clear: function () { this.node && (this.node.hide(), delete this.node), this.treePath && this.treePath.reset() }, _setRoot: function (e) { this.clear(), (this.node = e).setParent(null), e.setField(this.getName(), !1), delete e.index, this.tbody.appendChild(e.getDom()) }, search: function (e) { var t; return this.node ? (this.content.removeChild(this.table), t = this.node.search(e), this.content.appendChild(this.table)) : t = [], t }, expandAll: function () { this.node && (this.content.removeChild(this.table), this.node.expand(), this.content.appendChild(this.table)) }, collapseAll: function () { this.node && (this.content.removeChild(this.table), this.node.collapse(), this.content.appendChild(this.table)) }, _onAction: function (e, t) { this.history && this.history.add(e, t), this._onChange() }, _onChange: function () { if (!this.onChangeDisabled) { if (this.selection = this.getDomSelection(), this._debouncedValidate(), this.treePath) { var e = this.node && this.selection ? this.node.findNodeByInternalPath(this.selection.path) : this.multiselection ? this.multiselection.nodes[0] : void 0; e ? this._updateTreePath(e.getNodePath()) : this.treePath.reset() } if (this.options.onChange) try { this.options.onChange() } catch (e) { console.error("Error in onChange callback: ", e) } if (this.options.onChangeJSON) try { this.options.onChangeJSON(this.get()) } catch (e) { console.error("Error in onChangeJSON callback: ", e) } if (this.options.onChangeText) try { this.options.onChangeText(this.getText()) } catch (e) { console.error("Error in onChangeText callback: ", e) } if (this.options.onClassName && this.node.recursivelyUpdateCssClassesOnNodes(), this.options.onNodeName && this.node.childs) try { this.node.recursivelyUpdateNodeName() } catch (e) { console.error("Error in onNodeName callback: ", e) } } }, validate: function () { var e = this, t = this.node; if (t) { var i = t.getValue(), n = []; this.validateSchema && (this.validateSchema(i) || (n = this.validateSchema.errors.map((function (e) { return Object(a.improveSchemaError)(e) })).map((function (e) { return { node: t.findNode(e.dataPath), error: e, type: "validation" } })).filter((function (e) { return null != e.node })))); try { this.validationSequence++; var r = this, s = this.validationSequence; this._validateCustom(i).then((function (t) { if (s === r.validationSequence) { var i = [].concat(n, t || []); r._renderValidationErrors(i), "function" == typeof e.options.onValidationError && (Object(a.isValidationErrorChanged)(i, e.lastSchemaErrors) && e.options.onValidationError.call(e, i), e.lastSchemaErrors = i) } }))["catch"]((function (e) { console.error(e) })) } catch (i) { console.error(i) } } }, _renderValidationErrors: function (e) { this.errorNodes && this.errorNodes.forEach((function (e) { e.setError(null) })); var t = e.reduce((function (e, t) { return t.node.findParents().filter((function (t) { return !e.some((function (e) { return e[0] === t })) })).map((function (e) { return [e, t.node] })).concat(e) }), []); this.errorNodes = t.map((function (e) { return { node: e[0], child: e[1], error: { message: "object" === e[0].type ? "Contains invalid properties" : "Contains invalid items" } } })).concat(e).map((function (e) { return e.node.setError(e.error, e.child), e.node })) }, _validateCustom: function (e) { try { if (this.options.onValidate) { var t = this.node, i = this.options.onValidate(e); return (Object(a.isPromise)(i) ? i : Promise.resolve(i)).then((function (e) { return Array.isArray(e) ? e.filter((function (e) { var t = Object(a.isValidValidationError)(e); return t || console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:', e), t })).map((function (e) { var i; try { i = e && e.path ? t.findNodeByPath(e.path) : null } catch (e) { } return i || console.warn("Ignoring validation error: node not found. Path:", e.path, "Error:", e), { node: i, error: e, type: "customValidation" } })).filter((function (e) { return e && e.node && e.error && e.error.message })) : null })) } } catch (e) { return Promise.reject(e) } return Promise.resolve(null) }, refresh: function () { this.node && this.node.updateDom({ recurse: !0 }) }, startAutoScroll: function (e) { var t = this, i = this.scrollableContent, n = Object(a.getAbsoluteTop)(i), r = i.clientHeight, s = n + r; e < n + 24 && 0 < i.scrollTop ? this.autoScrollStep = (n + 24 - e) / 3 : s - 24 < e && r + i.scrollTop < i.scrollHeight ? this.autoScrollStep = (s - 24 - e) / 3 : this.autoScrollStep = void 0, this.autoScrollStep ? this.autoScrollTimer || (this.autoScrollTimer = setInterval((function () { t.autoScrollStep ? i.scrollTop -= t.autoScrollStep : t.stopAutoScroll() }), 50)) : this.stopAutoScroll() }, stopAutoScroll: function () { this.autoScrollTimer && (clearTimeout(this.autoScrollTimer), delete this.autoScrollTimer), this.autoScrollStep && delete this.autoScrollStep }, setDomSelection: function (e) { if (e) if ("scrollTop" in e && this.scrollableContent && (this.scrollableContent.scrollTop = e.scrollTop), e.paths) { var t = this, i = e.paths.map((function (e) { return t.node.findNodeByInternalPath(e) })); this.select(i) } else { var n = e.path ? this.node.findNodeByInternalPath(e.path) : null, r = n && e.domName ? n.dom[e.domName] : null; if (e.range && r) { var s = Object.assign({}, e.range, { container: r }); Object(a.setSelectionOffset)(s) } else n && n.focus() } }, getDomSelection: function () { var e = S.getNodeFromTarget(this.focusTarget), t = this.focusTarget, i = e ? Object.keys(e.dom).find((function (i) { return e.dom[i] === t })) : null, n = Object(a.getSelectionOffset)(); return n && "DIV" !== n.container.nodeName && (n = null), n && n.container !== t && (n = null), n && delete n.container, { path: e ? e.getInternalPath() : null, domName: i, range: n, paths: 0 < this.multiselection.length ? this.multiselection.nodes.map((function (e) { return e.getInternalPath() })) : null, scrollTop: this.scrollableContent ? this.scrollableContent.scrollTop : 0 } }, scrollTo: function (e, t) { var i = this.scrollableContent; if (i) { var n = this; n.animateTimeout && (clearTimeout(n.animateTimeout), delete n.animateTimeout), n.animateCallback && (n.animateCallback(!1), delete n.animateCallback); var r = i.clientHeight, s = i.scrollHeight - r, o = Math.min(Math.max(e - r / 4, 0), s); !function a() { var e = i.scrollTop, r = o - e; 3 < Math.abs(r) ? (i.scrollTop += r / 3, n.animateCallback = t, n.animateTimeout = setTimeout(a, 50)) : (t && t(!0), i.scrollTop = o, delete n.animateTimeout, delete n.animateCallback) }() } else t && t(!1) }, _createFrame: function () { this.frame = document.createElement("div"), this.frame.className = "jsoneditor jsoneditor-mode-" + this.options.mode, this.container.appendChild(this.frame), this.contentOuter = document.createElement("div"), this.contentOuter.className = "jsoneditor-outer"; var e = this; function t(t) { e._onEvent && e._onEvent(t) } var i = { target: this.frame, onFocus: this.options.onFocus || null, onBlur: this.options.onBlur || null }; if (this.frameFocusTracker = new L.a(i), this.frame.onclick = function (e) { var i = e.target; t(e), "BUTTON" === i.nodeName && e.preventDefault() }, this.frame.oninput = t, this.frame.onchange = t, this.frame.onkeydown = t, this.frame.onkeyup = t, this.frame.oncut = t, this.frame.onpaste = t, this.frame.onmousedown = t, this.frame.onmouseup = t, this.frame.onmouseover = t, this.frame.onmouseout = t, Object(a.addEventListener)(this.frame, "focus", t, !0), Object(a.addEventListener)(this.frame, "blur", t, !0), this.frame.onfocusin = t, this.frame.onfocusout = t, this.options.mainMenuBar) { Object(a.addClassName)(this.contentOuter, "has-main-menu-bar"), this.menu = document.createElement("div"), this.menu.className = "jsoneditor-menu", this.frame.appendChild(this.menu); var n = document.createElement("button"); n.type = "button", n.className = "jsoneditor-expand-all", n.title = Object(h.c)("expandAll"), n.onclick = function () { e.expandAll() }, this.menu.appendChild(n); var r = document.createElement("button"); if (r.type = "button", r.title = Object(h.c)("collapseAll"), r.className = "jsoneditor-collapse-all", r.onclick = function () { e.collapseAll() }, this.menu.appendChild(r), this.options.enableSort) { var s = document.createElement("button"); s.type = "button", s.className = "jsoneditor-sort", s.title = Object(h.c)("sortTitleShort"), s.onclick = function () { e.node.showSortModal() }, this.menu.appendChild(s) } if (this.options.enableTransform) { var o = document.createElement("button"); o.type = "button", o.title = Object(h.c)("transformTitleShort"), o.className = "jsoneditor-transform", o.onclick = function () { e.node.showTransformModal() }, this.menu.appendChild(o) } if (this.history) { var l = document.createElement("button"); l.type = "button", l.className = "jsoneditor-undo jsoneditor-separator", l.title = Object(h.c)("undo"), l.onclick = function () { e._onUndo() }, this.menu.appendChild(l), this.dom.undo = l; var c = document.createElement("button"); c.type = "button", c.className = "jsoneditor-redo", c.title = Object(h.c)("redo"), c.onclick = function () { e._onRedo() }, this.menu.appendChild(c), this.dom.redo = c, this.history.onChange = function () { l.disabled = !e.history.canUndo(), c.disabled = !e.history.canRedo() }, this.history.onChange() } if (this.options && this.options.modes && this.options.modes.length) { var d = this; this.modeSwitcher = new _.a(this.menu, this.options.modes, this.options.mode, (function (e) { d.setMode(e), d.modeSwitcher.focus() })) } this.options.search && (this.searchBox = new u(this, this.menu)) } this.options.navigationBar && (this.navBar = document.createElement("div"), this.navBar.className = "jsoneditor-navigation-bar nav-bar-empty", this.frame.appendChild(this.navBar), this.treePath = new m(this.navBar, this.getPopupAnchor()), this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)), this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this))) }, _onUndo: function () { this.history && (this.history.undo(), this._onChange()) }, _onRedo: function () { this.history && (this.history.redo(), this._onChange()) }, _onEvent: function (e) { if (!S.targetIsColorPicker(e.target)) { var t = S.getNodeFromTarget(e.target); if ("keydown" === e.type && this._onKeyDown(e), t && "focus" === e.type && (this.focusTarget = e.target, this.options.autocomplete && "focus" === this.options.autocomplete.trigger && this._showAutoComplete(e.target)), "mousedown" === e.type && this._startDragDistance(e), "mousemove" !== e.type && "mouseup" !== e.type && "click" !== e.type || this._updateDragDistance(e), t && this.options && this.options.navigationBar && t && ("keydown" === e.type || "mousedown" === e.type)) { var i = this; setTimeout((function () { i._updateTreePath(t.getNodePath()) })) } if (t && t.selected) { if ("click" === e.type) { if (e.target === t.dom.menu) return void this.showContextMenu(e.target); e.hasMoved || this.deselect() } "mousedown" === e.type && S.onDragStart(this.multiselection.nodes, e) } else "mousedown" === e.type && Object(a.hasParentNode)(e.target, this.content) && (this.deselect(), t && e.target === t.dom.drag ? S.onDragStart(t, e) : t && (e.target === t.dom.field || e.target === t.dom.value || e.target === t.dom.select) || this._onMultiSelectStart(e)); t && t.onEvent(e) } }, _updateTreePath: function (e) { if (e && e.length) { Object(a.removeClassName)(this.navBar, "nav-bar-empty"); var t = []; e.forEach((function (e) { var n = { name: i(e), node: e, children: [] }; e.childs && e.childs.length && e.childs.forEach((function (e) { n.children.push({ name: i(e), node: e }) })), t.push(n) })), this.treePath.setPath(t) } else Object(a.addClassName)(this.navBar, "nav-bar-empty"); function i(e) { return e.parent ? "array" === e.parent.type ? e.index : e.field : e.type } }, _onTreePathSectionSelected: function (e) { e && e.node && (e.node.expandTo(), e.node.focus()) }, _onTreePathMenuItemSelected: function (e, t) { if (e && e.children.length) { var i = e.children.find((function (e) { return e.name === t })); i && i.node && (this._updateTreePath(i.node.getNodePath()), i.node.expandTo(), i.node.focus()) } }, _startDragDistance: function (e) { this.dragDistanceEvent = { initialTarget: e.target, initialPageX: e.pageX, initialPageY: e.pageY, dragDistance: 0, hasMoved: !1 } }, _updateDragDistance: function (e) { this.dragDistanceEvent || this._startDragDistance(e); var t = e.pageX - this.dragDistanceEvent.initialPageX, i = e.pageY - this.dragDistanceEvent.initialPageY; return this.dragDistanceEvent.dragDistance = Math.sqrt(t * t + i * i), this.dragDistanceEvent.hasMoved = this.dragDistanceEvent.hasMoved || 10 < this.dragDistanceEvent.dragDistance, e.dragDistance = this.dragDistanceEvent.dragDistance, e.hasMoved = this.dragDistanceEvent.hasMoved, e.dragDistance }, _onMultiSelectStart: function (e) { var t = S.getNodeFromTarget(e.target); if ("tree" === this.options.mode && void 0 === this.options.onEditable) { this.multiselection = { start: t || null, end: null, nodes: [] }, this._startDragDistance(e); var i = this; this.mousemove || (this.mousemove = Object(a.addEventListener)(window, "mousemove", (function (e) { i._onMultiSelect(e) }))), this.mouseup || (this.mouseup = Object(a.addEventListener)(window, "mouseup", (function (e) { i._onMultiSelectEnd(e) }))), e.preventDefault() } }, _onMultiSelect: function (e) { if (e.preventDefault(), this._updateDragDistance(e), e.hasMoved) { var t = S.getNodeFromTarget(e.target); t && (null == this.multiselection.start && (this.multiselection.start = t), this.multiselection.end = t), this.deselect(); var i = this.multiselection.start, n = this.multiselection.end || this.multiselection.start; if (i && n) { if (this.multiselection.nodes = this._findTopLevelNodes(i, n), this.multiselection.nodes && this.multiselection.nodes.length) { var r = this.multiselection.nodes[0]; this.multiselection.start === r || this.multiselection.start.isDescendantOf(r) ? this.multiselection.direction = "down" : this.multiselection.direction = "up" } this.select(this.multiselection.nodes) } } }, _onMultiSelectEnd: function () { this.multiselection.nodes[0] && this.multiselection.nodes[0].dom.menu.focus(), this.multiselection.start = null, this.multiselection.end = null, this.mousemove && (Object(a.removeEventListener)(window, "mousemove", this.mousemove), delete this.mousemove), this.mouseup && (Object(a.removeEventListener)(window, "mouseup", this.mouseup), delete this.mouseup) }, deselect: function (e) { var t = !!this.multiselection.nodes.length; this.multiselection.nodes.forEach((function (e) { e.setSelected(!1) })), this.multiselection.nodes = [], e && (this.multiselection.start = null, this.multiselection.end = null), t && this._selectionChangedHandler && this._selectionChangedHandler() }, select: function (e) { if (!Array.isArray(e)) return this.select([e]); if (e) { this.deselect(), this.multiselection.nodes = e.slice(0); var t = e[0]; if (e.forEach((function (e) { e.expandPathToNode(), e.setSelected(!0, e === t) })), this._selectionChangedHandler) { var i = this.getSelection(); this._selectionChangedHandler(i.start, i.end) } } }, _findTopLevelNodes: function (e, t) { for (var i = e.getNodePath(), n = t.getNodePath(), r = 0; r < i.length && i[r] === n[r];)r++; var s = i[r - 1], o = i[r], a = n[r]; if (o && a || (s.parent ? s = (a = o = s).parent : (o = s.childs[0], a = s.childs[s.childs.length - 1])), s && o && a) { var l = s.childs.indexOf(o), c = s.childs.indexOf(a), h = Math.min(l, c), d = Math.max(l, c); return s.childs.slice(h, d + 1) } return [] }, _showAutoComplete: function (e) { var t = S.getNodeFromTarget(e), i = ""; 0 <= e.className.indexOf("jsoneditor-value") && (i = "value"), 0 <= e.className.indexOf("jsoneditor-field") && (i = "field"); var n = this; setTimeout((function () { if (t && ("focus" === n.options.autocomplete.trigger || 0 < e.innerText.length)) { var r = n.options.autocomplete.getOptions(e.innerText, t.getPath(), i, t.editor); null === r ? n.autocomplete.hideDropDown() : "function" == typeof r.then ? r.then((function (t) { null === t ? n.autocomplete.hideDropDown() : t.options ? n.autocomplete.show(e, t.startFrom, t.options) : n.autocomplete.show(e, 0, t) }))["catch"]((function (e) { console.error(e) })) : r.options ? n.autocomplete.show(e, r.startFrom, r.options) : n.autocomplete.show(e, 0, r) } else n.autocomplete.hideDropDown() }), 50) }, _onKeyDown: function (e) { var t = e.which || e.keyCode, i = e.altKey, n = e.ctrlKey, r = e.metaKey, s = e.shiftKey, o = !1, l = this.focusTarget; if (9 === t) { var c = this; setTimeout((function () { c.focusTarget !== l && Object(a.selectContentEditable)(c.focusTarget) }), 0) } this.searchBox && (n && 70 === t ? (this.searchBox.dom.search.focus(), this.searchBox.dom.search.select(), o = !0) : (114 === t || n && 71 === t) && (s ? this.searchBox.previous(!0) : this.searchBox.next(!0), o = !0)), this.history && (n && !s && 90 === t ? (this._onUndo(), o = !0) : n && s && 90 === t && (this._onRedo(), o = !0)), this.options.autocomplete && !o && (n || i || r || 1 !== e.key.length && 8 !== t && 46 !== t || (o = !1, this._showAutoComplete(e.target))), o && (e.preventDefault(), e.stopPropagation()) }, _createTable: function () { var e; this.options.navigationBar && Object(a.addClassName)(this.contentOuter, "has-nav-bar"), this.scrollableContent = document.createElement("div"), this.scrollableContent.className = "jsoneditor-tree", this.contentOuter.appendChild(this.scrollableContent), this.content = document.createElement("div"), this.content.className = "jsoneditor-tree-inner", this.scrollableContent.appendChild(this.content), this.table = document.createElement("table"), this.table.className = "jsoneditor-tree", this.content.appendChild(this.table), this.colgroupContent = document.createElement("colgroup"), "tree" === this.options.mode && ((e = document.createElement("col")).width = "24px", this.colgroupContent.appendChild(e)), (e = document.createElement("col")).width = "24px", this.colgroupContent.appendChild(e), e = document.createElement("col"), this.colgroupContent.appendChild(e), this.table.appendChild(this.colgroupContent), this.tbody = document.createElement("tbody"), this.table.appendChild(this.tbody), this.frame.appendChild(this.contentOuter) }, showContextMenu: function (e, t) { var i = [], n = this.multiselection.nodes.slice(); if (i.push({ text: Object(h.c)("duplicateText"), title: Object(h.c)("duplicateTitle"), className: "jsoneditor-duplicate", click: function () { S.onDuplicate(n) } }), i.push({ text: Object(h.c)("remove"), title: Object(h.c)("removeTitle"), className: "jsoneditor-remove", click: function () { S.onRemove(n) } }), this.options.onCreateMenu) { var r = n.map((function (e) { return e.getPath() })); i = this.options.onCreateMenu(i, { type: "multiple", path: r[0], paths: r }) } new g.a(i, { close: t }).show(e, this.getPopupAnchor()) }, getPopupAnchor: function () { return this.options.popupAnchor || this.frame }, getSelection: function () { var e = { start: null, end: null }; if (this.multiselection.nodes && this.multiselection.nodes.length && this.multiselection.nodes.length) { var t = this.multiselection.nodes[0], i = this.multiselection.nodes[this.multiselection.nodes.length - 1]; "down" === this.multiselection.direction ? (e.start = t.serialize(), e.end = i.serialize()) : (e.start = i.serialize(), e.end = t.serialize()) } return e }, onSelectionChange: function (e) { "function" == typeof e && (this._selectionChangedHandler = Object(a.debounce)(e, this.DEBOUNCE_INTERVAL)) }, setSelection: function (e, t) { e && e.dom && e.range && (console.warn("setSelection/getSelection usage for text selection is deprecated and should not be used, see documentation for supported selection options"), this.setDomSelection(e)); var i = this._getNodeInstancesByRange(e, t); i.forEach((function (e) { e.expandTo() })), this.select(i) }, _getNodeInstancesByRange: function (e, t) { var i, n; e && e.path && (i = this.node.findNodeByPath(e.path), t && t.path && (n = this.node.findNodeByPath(t.path))); var r = []; if (i instanceof S) if (n instanceof S && n !== i) if (i.parent === n.parent) { t = i.getIndex() < n.getIndex() ? (e = i, n) : (e = n, i); var s = e; for (r.push(s); s = s.nextSibling(), r.push(s), s && s !== t;); } else r = this._findTopLevelNodes(i, n); else r.push(i); return r }, getNodesByRange: function (e, t) { var i = this._getNodeInstancesByRange(e, t), n = []; return i.forEach((function (e) { n.push(e.serialize()) })), n } }, N = [{ mode: "tree", mixin: V, data: "json" }, { mode: "view", mixin: V, data: "json" }, { mode: "form", mixin: V, data: "json" }] }, function (e, t, i) { "use strict"; i.r(t); var n = i(1), r = i(8), s = i(15), o = i(5), a = i(6), l = i(21), c = i(2), h = i(9), d = i(0); function u(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } var g = function () { function e(t, i, n) { !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.onChange = t, this.calculateItemSize = i || function () { return 1 }, this.limit = n, this.items = [], this.index = -1 } var t, i; return t = e, (i = [{ key: "add", value: function (e) { for (; this._calculateHistorySize() > this.limit && 1 < this.items.length;)this.items.shift(), this.index--; this.items = this.items.slice(0, this.index + 1), this.items.push(e), this.index++, this.onChange() } }, { key: "_calculateHistorySize", value: function () { var e = this.calculateItemSize, t = 0; return this.items.forEach((function (i) { t += e(i) })), t } }, { key: "undo", value: function () { if (this.canUndo()) return this.index--, this.onChange(), this.items[this.index] } }, { key: "redo", value: function () { if (this.canRedo()) return this.index++, this.onChange(), this.items[this.index] } }, { key: "canUndo", value: function () { return 0 < this.index } }, { key: "canRedo", value: function () { return this.index < this.items.length - 1 } }, { key: "clear", value: function () { this.items = [], this.index = -1, this.onChange() } }]) && u(t.prototype, i), e }(), p = i(4); i.d(t, "previewModeMixins", (function () { return C })); var m = l.textModeMixins[0].mixin, f = { create: function (e) { var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}; void 0 === t.statusBar && (t.statusBar = !0), t.mainMenuBar = !1 !== t.mainMenuBar, t.enableSort = !1 !== t.enableSort, t.enableTransform = !1 !== t.enableTransform, t.createQuery = t.createQuery || p.a, t.executeQuery = t.executeQuery || p.b, "number" == typeof (this.options = t).indentation ? this.indentation = Number(t.indentation) : this.indentation = 2, this.mode = "preview"; var i = this; this.container = e, this.dom = {}, this.json = void 0, this.text = "", this._debouncedValidate = Object(d.debounce)(this.validate.bind(this), this.DEBOUNCE_INTERVAL), this.width = e.clientWidth, this.height = e.clientHeight, this.frame = document.createElement("div"), this.frame.className = "jsoneditor jsoneditor-mode-preview", this.frame.onclick = function (e) { e.preventDefault() }; var o = { target: this.frame, onFocus: this.options.onFocus || null, onBlur: this.options.onBlur || null }; if (this.frameFocusTracker = new h.a(o), this.content = document.createElement("div"), this.content.className = "jsoneditor-outer", this.dom.busy = document.createElement("div"), this.dom.busy.className = "jsoneditor-busy", this.dom.busyContent = document.createElement("span"), this.dom.busyContent.innerHTML = "busy...", this.dom.busy.appendChild(this.dom.busyContent), this.content.appendChild(this.dom.busy), this.dom.previewContent = document.createElement("pre"), this.dom.previewContent.className = "jsoneditor-preview", this.dom.previewText = document.createTextNode(""), this.dom.previewContent.appendChild(this.dom.previewText), this.content.appendChild(this.dom.previewContent), this.options.mainMenuBar) { Object(d.addClassName)(this.content, "has-main-menu-bar"), this.menu = document.createElement("div"), this.menu.className = "jsoneditor-menu", this.frame.appendChild(this.menu); var a = document.createElement("button"); a.type = "button", a.className = "jsoneditor-format", a.title = Object(n.c)("formatTitle"), this.menu.appendChild(a), a.onclick = function () { i.executeWithBusyMessage((function () { try { i.format() } catch (e) { i._onError(e) } }), "formatting...") }; var l = document.createElement("button"); if (l.type = "button", l.className = "jsoneditor-compact", l.title = Object(n.c)("compactTitle"), this.menu.appendChild(l), l.onclick = function () { i.executeWithBusyMessage((function () { try { i.compact() } catch (e) { i._onError(e) } }), "compacting...") }, this.options.enableSort) { var u = document.createElement("button"); u.type = "button", u.className = "jsoneditor-sort", u.title = Object(n.c)("sortTitleShort"), u.onclick = function () { i._showSortModal() }, this.menu.appendChild(u) } if (this.options.enableTransform) { var m = document.createElement("button"); m.type = "button", m.title = Object(n.c)("transformTitleShort"), m.className = "jsoneditor-transform", m.onclick = function () { i._showTransformModal() }, this.dom.transform = m, this.menu.appendChild(m) } var f = document.createElement("button"); if (f.type = "button", f.className = "jsoneditor-repair", f.title = Object(n.c)("repairTitle"), this.menu.appendChild(f), !(f.onclick = function () { void 0 === i.json && i.executeWithBusyMessage((function () { try { i.repair() } catch (e) { i._onError(e) } }), "repairing...") }) !== this.options.history) { this.history = new g((function () { i.dom.undo.disabled = !i.history.canUndo(), i.dom.redo.disabled = !i.history.canRedo() }), (function (e) { return 2 * e.text.length }), c.c); var C = document.createElement("button"); C.type = "button", C.className = "jsoneditor-undo jsoneditor-separator", C.title = Object(n.c)("undo"), C.onclick = function () { var e = i.history.undo(); e && i._applyHistory(e) }, this.menu.appendChild(C), this.dom.undo = C; var I = document.createElement("button"); I.type = "button", I.className = "jsoneditor-redo", I.title = Object(n.c)("redo"), I.onclick = function () { var e = i.history.redo(); e && i._applyHistory(e) }, this.menu.appendChild(I), this.dom.redo = I, this.history.onChange() } this.options && this.options.modes && this.options.modes.length && (this.modeSwitcher = new r.a(this.menu, this.options.modes, this.options.mode, (function (e) { i.setMode(e), i.modeSwitcher.focus() }))) } if (this.errorTable = new s.a({ errorTableVisible: !0, onToggleVisibility: function () { i.validate() }, onFocusLine: null, onChangeHeight: function (e) { var t = e + (i.dom.statusBar ? i.dom.statusBar.clientHeight : 0) + 1; i.content.style.marginBottom = -t + "px", i.content.style.paddingBottom = t + "px" } }), this.frame.appendChild(this.content), this.frame.appendChild(this.errorTable.getErrorTable()), this.container.appendChild(this.frame), t.statusBar) { Object(d.addClassName)(this.content, "has-status-bar"); var A = document.createElement("div"); (this.dom.statusBar = A).className = "jsoneditor-statusbar", this.frame.appendChild(A), this.dom.fileSizeInfo = document.createElement("span"), this.dom.fileSizeInfo.className = "jsoneditor-size-info", this.dom.fileSizeInfo.innerText = "", A.appendChild(this.dom.fileSizeInfo), this.dom.arrayInfo = document.createElement("span"), this.dom.arrayInfo.className = "jsoneditor-size-info", this.dom.arrayInfo.innerText = "", A.appendChild(this.dom.arrayInfo), A.appendChild(this.errorTable.getErrorCounter()), A.appendChild(this.errorTable.getWarningIcon()), A.appendChild(this.errorTable.getErrorIcon()) } this._renderPreview(), this.setSchema(this.options.schema, this.options.schemaRefs) }, _renderPreview: function () { var e = this.getText(); this.dom.previewText.nodeValue = Object(d.limitCharacters)(e, c.b), this.dom.fileSizeInfo && (this.dom.fileSizeInfo.innerText = "Size: " + Object(d.formatSize)(e.length)), this.dom.arrayInfo && (Array.isArray(this.json) ? this.dom.arrayInfo.innerText = "Array: " + this.json.length + " items" : this.dom.arrayInfo.innerText = "") }, _onChange: function () { if (this._debouncedValidate(), this.options.onChange) try { this.options.onChange() } catch (e) { console.error("Error in onChange callback: ", e) } if (this.options.onChangeJSON) try { this.options.onChangeJSON(this.get()) } catch (e) { console.error("Error in onChangeJSON callback: ", e) } if (this.options.onChangeText) try { this.options.onChangeText(this.getText()) } catch (e) { console.error("Error in onChangeText callback: ", e) } }, _showSortModal: function () { var e = this; this.executeWithBusyMessage((function () { var t = e.options.modalAnchor || c.a, i = e.get(); e._renderPreview(), Object(o.showSortModal)(t, i, (function (t) { e.executeWithBusyMessage((function () { !function (t, i) { if (Array.isArray(t)) { var n = Object(d.sort)(t, i.path, i.direction); e.sortedBy = i, e._setAndFireOnChange(n) } if (Object(d.isObject)(t)) { var r = Object(d.sortObjectKeys)(t, i.direction); e.sortedBy = i, e._setAndFireOnChange(r) } }(i, t) }), "sorting...") }), e.sortedBy) }), "parsing...") }, _showTransformModal: function () { var e = this; this.executeWithBusyMessage((function () { var t = e.options, i = t.createQuery, n = t.executeQuery, r = t.modalAnchor, s = t.queryDescription, o = e.get(); e._renderPreview(), Object(a.showTransformModal)({ anchor: r || c.a, json: o, queryDescription: s, createQuery: i, executeQuery: n, onTransform: function (t) { e.executeWithBusyMessage((function () { var i = n(o, t); e._setAndFireOnChange(i) }), "transforming...") } }) }), "parsing...") }, destroy: function () { this.frame && this.container && this.frame.parentNode === this.container && this.container.removeChild(this.frame), this.modeSwitcher && (this.modeSwitcher.destroy(), this.modeSwitcher = null), this._debouncedValidate = null, this.history && (this.history.clear(), this.history = null), this.frameFocusTracker.destroy() }, compact: function () { var e = this.get(), t = JSON.stringify(e); this._setTextAndFireOnChange(t, e) }, format: function () { var e = this.get(), t = JSON.stringify(e, null, this.indentation); this._setTextAndFireOnChange(t, e) }, repair: function () { var e = this.getText(), t = Object(d.repair)(e); this._setTextAndFireOnChange(t) }, focus: function () { this.dom.transform.focus() }, set: function (e) { this.history && this.history.clear(), this._set(e) }, update: function (e) { this._set(e) }, _set: function (e) { this.text = void 0, this.json = e, this._renderPreview(), this._pushHistory(), this._debouncedValidate() }, _setAndFireOnChange: function (e) { this._set(e), this._onChange() }, get: function () { if (void 0 === this.json) { var e = this.getText(); this.json = Object(d.parse)(e) } return this.json }, getText: function () { return void 0 === this.text && (this.text = JSON.stringify(this.json, null, this.indentation), !0 === this.options.escapeUnicode && (this.text = Object(d.escapeUnicodeChars)(this.text))), this.text }, setText: function (e) { this.history && this.history.clear(), this._setText(e) }, updateText: function (e) { this.getText() !== e && this._setText(e) }, _setText: function (e, t) { if (!0 === this.options.escapeUnicode ? this.text = Object(d.escapeUnicodeChars)(e) : this.text = e, this.json = t, this._renderPreview(), void 0 === this.json) { var i = this; this.executeWithBusyMessage((function () { try { i.json = i.get(), i._renderPreview(), i._pushHistory() } catch (e) { } }), "parsing...") } else this._pushHistory(); this._debouncedValidate() }, _setTextAndFireOnChange: function (e, t) { this._setText(e, t), this._onChange() }, _applyHistory: function (e) { this.json = e.json, this.text = e.text, this._renderPreview(), this._debouncedValidate() }, _pushHistory: function () { if (this.history) { var e = { text: this.text, json: this.json }; this.history.add(e) } }, executeWithBusyMessage: function (e, t) { if (this.getText().length > c.d) { var i = this; Object(d.addClassName)(i.frame, "busy"), i.dom.busyContent.innerText = t, setTimeout((function () { e(), Object(d.removeClassName)(i.frame, "busy"), i.dom.busyContent.innerText = "" }), 100) } else e() } }; f.validate = m.validate, f._renderErrors = m._renderErrors; var C = [{ mode: "preview", mixin: f, data: "json" }] }], e.c = i, e.d = function (t, i, n) { e.o(t, i) || Object.defineProperty(t, i, { enumerable: !0, get: n }) }, e.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, e.t = function (t, i) { if (1 & i && (t = e(t)), 8 & i) return t; if (4 & i && "object" == typeof t && t && t.__esModule) return t; var n = Object.create(null); if (e.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: t }), 2 & i && "string" != typeof t) for (var r in t) e.d(n, r, function (e) { return t[e] }.bind(null, r)); return n }, e.n = function (t) { var i = t && t.__esModule ? function () { return t["default"] } : function () { return t }; return e.d(i, "a", i), i }, e.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, e.p = "", e(e.s = 36); function e(n) { if (i[n]) return i[n].exports; var r = i[n] = { i: n, l: !1, exports: {} }; return t[n].call(r.exports, r, r.exports, e), r.l = !0, r.exports } var t, i
        })); var jsonlint = function () { var e = { trace: function () { }, yy: {}, symbols_: { error: 2, JSONString: 3, STRING: 4, JSONNumber: 5, NUMBER: 6, JSONNullLiteral: 7, NULL: 8, JSONBooleanLiteral: 9, TRUE: 10, FALSE: 11, JSONText: 12, JSONValue: 13, EOF: 14, JSONObject: 15, JSONArray: 16, "{": 17, "}": 18, JSONMemberList: 19, JSONMember: 20, ":": 21, ",": 22, "[": 23, "]": 24, JSONElementList: 25, $accept: 0, $end: 1 }, terminals_: { 2: "error", 4: "STRING", 6: "NUMBER", 8: "NULL", 10: "TRUE", 11: "FALSE", 14: "EOF", 17: "{", 18: "}", 21: ":", 22: ",", 23: "[", 24: "]" }, productions_: [0, [3, 1], [5, 1], [7, 1], [9, 1], [9, 1], [12, 2], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [15, 2], [15, 3], [20, 3], [19, 1], [19, 3], [16, 2], [16, 3], [25, 1], [25, 3]], performAction: function (e, t, i, n, r, s) { var o = s.length - 1; switch (r) { case 1: this.$ = e.replace(/\\(\\|")/g, "$1").replace(/\\n/g, "\n").replace(/\\r/g, "\r").replace(/\\t/g, "\t").replace(/\\v/g, "\x0B").replace(/\\f/g, "\f").replace(/\\b/g, "\b"); break; case 2: this.$ = Number(e); break; case 3: this.$ = null; break; case 4: this.$ = !0; break; case 5: this.$ = !1; break; case 6: return this.$ = s[o - 1]; case 13: this.$ = {}; break; case 14: this.$ = s[o - 1]; break; case 15: this.$ = [s[o - 2], s[o]]; break; case 16: this.$ = {}, this.$[s[o][0]] = s[o][1]; break; case 17: this.$ = s[o - 2], s[o - 2][s[o][0]] = s[o][1]; break; case 18: this.$ = []; break; case 19: this.$ = s[o - 1]; break; case 20: this.$ = [s[o]]; break; case 21: this.$ = s[o - 2], s[o - 2].push(s[o]) } }, table: [{ 3: 5, 4: [1, 12], 5: 6, 6: [1, 13], 7: 3, 8: [1, 9], 9: 4, 10: [1, 10], 11: [1, 11], 12: 1, 13: 2, 15: 7, 16: 8, 17: [1, 14], 23: [1, 15] }, { 1: [3] }, { 14: [1, 16] }, { 14: [2, 7], 18: [2, 7], 22: [2, 7], 24: [2, 7] }, { 14: [2, 8], 18: [2, 8], 22: [2, 8], 24: [2, 8] }, { 14: [2, 9], 18: [2, 9], 22: [2, 9], 24: [2, 9] }, { 14: [2, 10], 18: [2, 10], 22: [2, 10], 24: [2, 10] }, { 14: [2, 11], 18: [2, 11], 22: [2, 11], 24: [2, 11] }, { 14: [2, 12], 18: [2, 12], 22: [2, 12], 24: [2, 12] }, { 14: [2, 3], 18: [2, 3], 22: [2, 3], 24: [2, 3] }, { 14: [2, 4], 18: [2, 4], 22: [2, 4], 24: [2, 4] }, { 14: [2, 5], 18: [2, 5], 22: [2, 5], 24: [2, 5] }, { 14: [2, 1], 18: [2, 1], 21: [2, 1], 22: [2, 1], 24: [2, 1] }, { 14: [2, 2], 18: [2, 2], 22: [2, 2], 24: [2, 2] }, { 3: 20, 4: [1, 12], 18: [1, 17], 19: 18, 20: 19 }, { 3: 5, 4: [1, 12], 5: 6, 6: [1, 13], 7: 3, 8: [1, 9], 9: 4, 10: [1, 10], 11: [1, 11], 13: 23, 15: 7, 16: 8, 17: [1, 14], 23: [1, 15], 24: [1, 21], 25: 22 }, { 1: [2, 6] }, { 14: [2, 13], 18: [2, 13], 22: [2, 13], 24: [2, 13] }, { 18: [1, 24], 22: [1, 25] }, { 18: [2, 16], 22: [2, 16] }, { 21: [1, 26] }, { 14: [2, 18], 18: [2, 18], 22: [2, 18], 24: [2, 18] }, { 22: [1, 28], 24: [1, 27] }, { 22: [2, 20], 24: [2, 20] }, { 14: [2, 14], 18: [2, 14], 22: [2, 14], 24: [2, 14] }, { 3: 20, 4: [1, 12], 20: 29 }, { 3: 5, 4: [1, 12], 5: 6, 6: [1, 13], 7: 3, 8: [1, 9], 9: 4, 10: [1, 10], 11: [1, 11], 13: 30, 15: 7, 16: 8, 17: [1, 14], 23: [1, 15] }, { 14: [2, 19], 18: [2, 19], 22: [2, 19], 24: [2, 19] }, { 3: 5, 4: [1, 12], 5: 6, 6: [1, 13], 7: 3, 8: [1, 9], 9: 4, 10: [1, 10], 11: [1, 11], 13: 31, 15: 7, 16: 8, 17: [1, 14], 23: [1, 15] }, { 18: [2, 17], 22: [2, 17] }, { 18: [2, 15], 22: [2, 15] }, { 22: [2, 21], 24: [2, 21] }], defaultActions: { 16: [2, 6] }, parseError: function (e) { throw new Error(e) }, parse: function (e) { function t(e) { r.length = r.length - 2 * e, s.length = s.length - e, o.length = o.length - e } function i() { var e; return "number" != typeof (e = n.lexer.lex() || 1) && (e = n.symbols_[e] || e), e } var n = this, r = [0], s = [null], o = [], a = this.table, l = "", c = 0, h = 0, d = 0; this.lexer.setInput(e), this.lexer.yy = this.yy, this.yy.lexer = this.lexer, "undefined" == typeof this.lexer.yylloc && (this.lexer.yylloc = {}); var u = this.lexer.yylloc; o.push(u), "function" == typeof this.yy.parseError && (this.parseError = this.yy.parseError); for (var g, p, m, f, C, I, A, v, b, y = {}; ;) { if (m = r[r.length - 1], this.defaultActions[m] ? f = this.defaultActions[m] : (null == g && (g = i()), f = a[m] && a[m][g]), void 0 === f || !f.length || !f[0]) { if (!d) { for (I in b = [], a[m]) this.terminals_[I] && I > 2 && b.push("'" + this.terminals_[I] + "'"); var w = ""; w = this.lexer.showPosition ? "Parse error on line " + (c + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + b.join(", ") + ", got '" + this.terminals_[g] + "'" : "Parse error on line " + (c + 1) + ": Unexpected " + (1 == g ? "end of input" : "'" + (this.terminals_[g] || g) + "'"), this.parseError(w, { text: this.lexer.match, token: this.terminals_[g] || g, line: this.lexer.yylineno, loc: u, expected: b }) } if (3 == d) { if (1 == g) throw new Error(w || "Parsing halted."); h = this.lexer.yyleng, l = this.lexer.yytext, c = this.lexer.yylineno, u = this.lexer.yylloc, g = i() } for (; !(2..toString() in a[m]);) { if (0 == m) throw new Error(w || "Parsing halted."); t(1), m = r[r.length - 1] } p = g, g = 2, f = a[m = r[r.length - 1]] && a[m][2], d = 3 } if (f[0] instanceof Array && f.length > 1) throw new Error("Parse Error: multiple actions possible at state: " + m + ", token: " + g); switch (f[0]) { case 1: r.push(g), s.push(this.lexer.yytext), o.push(this.lexer.yylloc), r.push(f[1]), g = null, p ? (g = p, p = null) : (h = this.lexer.yyleng, l = this.lexer.yytext, c = this.lexer.yylineno, u = this.lexer.yylloc, d > 0 && d--); break; case 2: if (A = this.productions_[f[1]][1], y.$ = s[s.length - A], y._$ = { first_line: o[o.length - (A || 1)].first_line, last_line: o[o.length - 1].last_line, first_column: o[o.length - (A || 1)].first_column, last_column: o[o.length - 1].last_column }, void 0 !== (C = this.performAction.call(y, l, h, c, this.yy, f[1], s, o))) return C; A && (r = r.slice(0, -1 * A * 2), s = s.slice(0, -1 * A), o = o.slice(0, -1 * A)), r.push(this.productions_[f[1]][0]), s.push(y.$), o.push(y._$), v = a[r[r.length - 2]][r[r.length - 1]], r.push(v); break; case 3: return !0 } } return !0 } }, t = function () { var e = { EOF: 1, parseError: function (e, t) { if (!this.yy.parseError) throw new Error(e); this.yy.parseError(e, t) }, setInput: function (e) { return this._input = e, this._more = this._less = this.done = !1, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this }, input: function () { var e = this._input[0]; return this.yytext += e, this.yyleng++, this.match += e, this.matched += e, e.match(/\n/) && this.yylineno++, this._input = this._input.slice(1), e }, unput: function (e) { return this._input = e + this._input, this }, more: function () { return this._more = !0, this }, less: function (e) { this._input = this.match.slice(e) + this._input }, pastInput: function () { var e = this.matched.substr(0, this.matched.length - this.match.length); return (e.length > 20 ? "..." : "") + e.substr(-20).replace(/\n/g, "") }, upcomingInput: function () { var e = this.match; return e.length < 20 && (e += this._input.substr(0, 20 - e.length)), (e.substr(0, 20) + (e.length > 20 ? "..." : "")).replace(/\n/g, "") }, showPosition: function () { var e = this.pastInput(), t = new Array(e.length + 1).join("-"); return e + this.upcomingInput() + "\n" + t + "^" }, next: function () { if (this.done) return this.EOF; var e, t, i, n, r; this._input || (this.done = !0), this._more || (this.yytext = "", this.match = ""); for (var s = this._currentRules(), o = 0; o < s.length && (!(i = this._input.match(this.rules[s[o]])) || t && !(i[0].length > t[0].length) || (t = i, n = o, this.options.flex)); o++); return t ? ((r = t[0].match(/\n.*/g)) && (this.yylineno += r.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: r ? r[r.length - 1].length - 1 : this.yylloc.last_column + t[0].length }, this.yytext += t[0], this.match += t[0], this.yyleng = this.yytext.length, this._more = !1, this._input = this._input.slice(t[0].length), this.matched += t[0], e = this.performAction.call(this, this.yy, this, s[n], this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = !1), e || void 0) : "" === this._input ? this.EOF : void this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno }) }, lex: function () { var e = this.next(); return void 0 !== e ? e : this.lex() }, begin: function (e) { this.conditionStack.push(e) }, popState: function () { return this.conditionStack.pop() }, _currentRules: function () { return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules }, topState: function () { return this.conditionStack[this.conditionStack.length - 2] }, pushState: function (e) { this.begin(e) }, options: {}, performAction: function (e, t, i, n) { switch (i) { case 0: break; case 1: return 6; case 2: return t.yytext = t.yytext.substr(1, t.yyleng - 2), 4; case 3: return 17; case 4: return 18; case 5: return 23; case 6: return 24; case 7: return 22; case 8: return 21; case 9: return 10; case 10: return 11; case 11: return 8; case 12: return 14; case 13: return "INVALID" } }, rules: [/^(?:\s+)/, /^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/, /^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/, /^(?:\{)/, /^(?:\})/, /^(?:\[)/, /^(?:\])/, /^(?:,)/, /^(?::)/, /^(?:true\b)/, /^(?:false\b)/, /^(?:null\b)/, /^(?:$)/, /^(?:.)/], conditions: { INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13], inclusive: !0 } } }; return e }(); return e.lexer = t, e }(); "undefined" != typeof require && "undefined" != typeof exports && (exports.parser = jsonlint, exports.parse = function () { return jsonlint.parse.apply(jsonlint, arguments) }, exports.main = function (e) { if (!e[1]) throw new Error("Usage: " + e[0] + " FILE"); if ("undefined" != typeof process) var t = require("fs").readFileSync(require("path").join(process.cwd(), e[1]), "utf8"); else t = require("file").path(require("file").cwd()).join(e[1]).read({ charset: "utf-8" }); return exports.parser.parse(t) }, "undefined" != typeof module && require.main === module && exports.main("undefined" != typeof process ? process.argv.slice(1) : require("system").args)), function (e) { var t = document.getElementById("jsoneditor"), i = __je = new JSONEditor(t, { mode: "code", modes: ["form", "code"], error: function (e) { alert(e.toString()) } }, text), n = e("#main_form"); n.find("button[type=submit]").on("click", (function (t) { t.preventDefault(); var r = e(this).val(), s = i.getText(); e.post(n.data("url"), { operate: r, code: s }, (function (t) { e.facebox(e("<pre/>").css({ "max-height": 400, "max-width": 960 }).text(t.text)) }), "json") })), e("#js-webfullscreen").on("click", (function (t) { t.preventDefault(), e(document.body).toggleClass("is-webfullscreen"), e(window).trigger("resize"), i.refresh() })) }(jQuery);
    </script>
</body>
</html>